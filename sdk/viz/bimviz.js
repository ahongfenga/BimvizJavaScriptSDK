Array.prototype.remove = function (dx) {
    if (isNaN(dx) || dx > this.length) { return false; }
    for (var i = 0, n = 0; i < this.length; i++) {
        if (this[i] != this[dx]) {
            this[n++] = this[i]
        }
    }
    this.length -= 1
}
String.prototype.format = function (args) {
    var result = this;
    if (arguments.length > 0) {
        if (arguments.length == 1 && typeof (args) == "object") {
            for (var key in args) {
                if (args[key] != undefined) {
                    var reg = new RegExp("({" + key + "})", "g");
                    result = result.replace(reg, args[key]);
                }
            }
        }
        else {
            for (var i = 0; i < arguments.length; i++) {
                if (arguments[i] != undefined) {
                    var reg = new RegExp("({)" + i + "(})", "g");
                    result = result.replace(reg, arguments[i]);
                }
            }
        }
    }
    return result;
}

Date.FromMSJsonString = function (value) {
    var d = eval('new ' + (value.replace(/\//g, '')));
    return d;
}

Date.prototype.Format = function (fmt) { //author: meizz
    var o = {
        "M+": this.getMonth() + 1, //月份
        "d+": this.getDate(), //日
        "h+": this.getHours(), //小时
        "m+": this.getMinutes(), //分
        "s+": this.getSeconds(), //秒
        "q+": Math.floor((this.getMonth() + 3) / 3), //季度
        "S": this.getMilliseconds() //毫秒
    };
    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
    for (var k in o)
        if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
    return fmt;
}

function getQueryString(name) {
    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
    var r = window.location.search.substr(1).match(reg);
    if (r != null) return unescape(r[2]); return null;
}


var m2r={'e5':false,'U1':'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.','q3':'color','m3':"1f",'w5':255,'h5':100,'H4':'number','y3':"t",'q4':'WEBGL_compressed_texture_s3tc','e3':'normal_vert','w4':'CylinderGeometry','U2':'meshlambert_frag','s5':'aomap','c4':"- just use .toArray instead.",'C3':'uniform mat4 modelViewMatrix;','X3':'LatheBufferGeometry','l3':'meshlambert_vert','T3':'CircleGeometry','b5':'meshphysical_vert','f2':'dispose','h3':'lightmap','j1':'OES_texture_half_float','j5':'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.','C1':' float;','L1':'EXT_texture_filter_anisotropic','W3':'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.','o3':'string','R4':'WEBGL_compressed_texture_pvrtc','o2':'meshphysical_frag','F3':'THREE.WebGLRenderTarget: .format is now .texture.format.','M3':'encodings_pars_fragment','D4':'MeshPhongMaterial','G4':'WEBGL_depth_texture','K3':'round','O2':'linedashed_frag','O4':'THREE.WebGLRenderTarget: .offset is now .texture.offset.','A1':'physical','n5':'PlaneGeometry','B3':'OctahedronGeometry','J2':'THREE.Object3D: .eulerOrder is now .rotation.order.','k1':'THREE.WebGLRenderer: ','z4':"toneMapping",'G2':'PlaneBufferGeometry','T2':'attribute vec2 uv;','F1':"varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vWorldPosition = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n}\n",'c5':'THREE.BufferAttribute: .length has been deprecated. Please use .count.','Y2':'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.','U4':'SphereBufferGeometry','W4':'MeshBasicMaterial','L4':'EXT_frag_depth','d5':1.0,'C4':'MeshStandardMaterial','M1':'CircleBufferGeometry','Y1':'meshbasic_frag','k5':'THREE.Audio: this Audio has no playback control.','K2':0.5,'j3':'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.','I1':0.25,'x4':'projectionMatrix','d3':'WEBGL_compressed_texture_etc1','I4':'TorusKnotGeometry','E3':'DirectionalLight','n3':0.99999,'S1':'Geometry','e2':'CylinderBufferGeometry','u2':': .wrapAround has been removed.','j4':'MeshPhysicalMaterial','V2':'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.','I3':'modelViewMatrix','S4':'equirect_vert','V4':'RingGeometry','P4':65535,'S2':'meshbasic_vert','N3':'BoxGeometry','r2':'fog','Z4':'meshphong_vert','l5':'TorusGeometry','u1':'linedashed_vert','t4':true,'q2':'id','Y3':'normal','e1':'IcosahedronGeometry','M2':'TorusKnotBufferGeometry','X2':'THREE.','B4':'common','j2':'PointLight','R2':'TetrahedronGeometry','a5':'moveTo','Z2':'LatheGeometry','U3':'SphereGeometry','L2':0.0,'e4':'ANGLE_instanced_arrays','X1':'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.','u3':'uniform mat4 projectionMatrix;','q5':'EXT_blend_minmax','g4':'equirect_frag','Q1':'displacementmap','B1':'OES_texture_float','Z1':"THREE.Matrix3: .flattenToArrayOffset is deprecated ",'u4':'meshphong_frag','Z0':'OrthographicCamera','J1':'quadraticCurveTo','J3':'tonemapping_pars_fragment','g5':'OES_element_index_uint','D2':'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.','g3':'undefined','y4':'BoxBufferGeometry','O3':'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.','A3':'\n','m2':"c",'n4':'SpotLight','J4':'OES_standard_derivatives','A4':'arraybuffer','N1':'DodecahedronGeometry','Q3':'AmbientLight','Y4':'precision ','r1':'distanceRGBA_vert','r3':'HemisphereLight','A2':'bezierCurveTo','r5':'points_vert','O1':'MeshLambertMaterial','F2':'PerspectiveCamera','f1':'emissivemap','H1':'distanceRGBA_frag','M4':'uv','R3':'RingBufferGeometry','d4':'lights','b4':'index is out of range: ','T4':'not supported, using','H3':'THREE.WebGLRenderTarget: .type is now .texture.type.','H2':'position','R1':'points_frag','r4':null,'a4':'BufferGeometry','W2':'XYZ','k2':'normal_frag','h1':'canvas','D1':'TorusBufferGeometry'};var THREE={REVISION:'76'};if(typeof define==='function'&&define.amd){define('three',THREE);}else if(m2r.g3!==typeof exports&&m2r.g3!==typeof module){module.exports=THREE;}if(Number.EPSILON===undefined){Number.EPSILON=Math.pow(2,-52);}if(Math.sign===undefined){Math.sign=function(d){return (d<0)?-1:(d>0)?1:+d;};}if(Function.prototype.name===undefined&&Object.defineProperty!==undefined){Object.defineProperty(Function.prototype,'name',{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];}});}if(Object.assign===undefined){Object.defineProperty(Object,'assign',{writable:m2r.t4,configurable:m2r.t4,value:function(d){'use strict';if(d===undefined||d===m2r.r4){throw  new TypeError("Cannot convert first argument to object");}var e=Object(d);for(var f=1,i=arguments.length;f!==i;++f){var j=arguments[f];if(j===undefined||j===m2r.r4)continue;j=Object(j);var k=Object.keys(j);for(var m=0,n=k.length;m!==n;++m){var u=k[m],v=Object.getOwnPropertyDescriptor(j,u);if(v!==undefined&&v.enumerable){e[u]=j[u];}}}return e;}});}THREE.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};THREE.CullFaceNone=0;THREE.CullFaceBack=1;THREE.CullFaceFront=2;THREE.CullFaceFrontBack=3;THREE.FrontFaceDirectionCW=0;THREE.FrontFaceDirectionCCW=1;THREE.BasicShadowMap=0;THREE.PCFShadowMap=1;THREE.PCFSoftShadowMap=2;THREE.PCSSShadowMap=3;THREE.FrontSide=0;THREE.BackSide=1;THREE.DoubleSide=2;THREE.FlatShading=1;THREE.SmoothShading=2;THREE.NoColors=0;THREE.FaceColors=1;THREE.VertexColors=2;THREE.NoBlending=0;THREE.NormalBlending=1;THREE.AdditiveBlending=2;THREE.SubtractiveBlending=3;THREE.MultiplyBlending=4;THREE.CustomBlending=5;THREE.AddEquation=m2r.h5;THREE.SubtractEquation=101;THREE.ReverseSubtractEquation=102;THREE.MinEquation=103;THREE.MaxEquation=104;THREE.ZeroFactor=200;THREE.OneFactor=201;THREE.SrcColorFactor=202;THREE.OneMinusSrcColorFactor=203;THREE.SrcAlphaFactor=204;THREE.OneMinusSrcAlphaFactor=205;THREE.DstAlphaFactor=206;THREE.OneMinusDstAlphaFactor=207;THREE.DstColorFactor=208;THREE.OneMinusDstColorFactor=209;THREE.SrcAlphaSaturateFactor=210;THREE.NeverDepth=0;THREE.AlwaysDepth=1;THREE.LessDepth=2;THREE.LessEqualDepth=3;THREE.EqualDepth=4;THREE.GreaterEqualDepth=5;THREE.GreaterDepth=6;THREE.NotEqualDepth=7;THREE.MultiplyOperation=0;THREE.MixOperation=1;THREE.AddOperation=2;THREE.NoToneMapping=0;THREE.LinearToneMapping=1;THREE.ReinhardToneMapping=2;THREE.Uncharted2ToneMapping=3;THREE.CineonToneMapping=4;THREE.UVMapping=300;THREE.CubeReflectionMapping=301;THREE.CubeRefractionMapping=302;THREE.EquirectangularReflectionMapping=303;THREE.EquirectangularRefractionMapping=304;THREE.SphericalReflectionMapping=305;THREE.CubeUVReflectionMapping=306;THREE.CubeUVRefractionMapping=307;THREE.RepeatWrapping=1000;THREE.ClampToEdgeWrapping=1001;THREE.MirroredRepeatWrapping=1002;THREE.NearestFilter=1003;THREE.NearestMipMapNearestFilter=1004;THREE.NearestMipMapLinearFilter=1005;THREE.LinearFilter=1006;THREE.LinearMipMapNearestFilter=1007;THREE.LinearMipMapLinearFilter=1008;THREE.UnsignedByteType=1009;THREE.ByteType=1010;THREE.ShortType=1011;THREE.UnsignedShortType=1012;THREE.IntType=1013;THREE.UnsignedIntType=1014;THREE.FloatType=1015;THREE.HalfFloatType=1025;THREE.UnsignedShort4444Type=1016;THREE.UnsignedShort5551Type=1017;THREE.UnsignedShort565Type=1018;THREE.AlphaFormat=1019;THREE.RGBFormat=1020;THREE.RGBAFormat=1021;THREE.LuminanceFormat=1022;THREE.LuminanceAlphaFormat=1023;THREE.RGBEFormat=THREE.RGBAFormat;THREE.DepthFormat=1026;THREE.RGB_S3TC_DXT1_Format=2001;THREE.RGBA_S3TC_DXT1_Format=2002;THREE.RGBA_S3TC_DXT3_Format=2003;THREE.RGBA_S3TC_DXT5_Format=2004;THREE.RGB_PVRTC_4BPPV1_Format=2100;THREE.RGB_PVRTC_2BPPV1_Format=2101;THREE.RGBA_PVRTC_4BPPV1_Format=2102;THREE.RGBA_PVRTC_2BPPV1_Format=2103;THREE.RGB_ETC1_Format=2151;THREE.LoopOnce=2200;THREE.LoopRepeat=2201;THREE.LoopPingPong=2202;THREE.InterpolateDiscrete=2300;THREE.InterpolateLinear=2301;THREE.InterpolateSmooth=2302;THREE.ZeroCurvatureEnding=2400;THREE.ZeroSlopeEnding=2401;THREE.WrapAroundEnding=2402;THREE.TrianglesDrawMode=0;THREE.TriangleStripDrawMode=1;THREE.TriangleFanDrawMode=2;THREE.LinearEncoding=3000;THREE.sRGBEncoding=3001;THREE.GammaEncoding=3007;THREE.RGBEEncoding=3002;THREE.LogLuvEncoding=3003;THREE.RGBM7Encoding=3004;THREE.RGBM16Encoding=3005;THREE.RGBDEncoding=3006;THREE.BasicDepthPacking=3200;THREE.RGBADepthPacking=3201;THREE.Color=function(d){if(arguments.length===3){return this.fromArray(arguments);}return this.set(d);};THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(d){if(d instanceof THREE.Color){this.copy(d);}else if(typeof d===m2r.H4){this.setHex(d);}else if(typeof d===m2r.o3){this.setStyle(d);}return this;},setScalar:function(d){this.r=d;this.g=d;this.b=d;},setHex:function(d){d=Math.floor(d);this.r=(d>>16&m2r.w5)/m2r.w5;this.g=(d>>8&m2r.w5)/m2r.w5;this.b=(d&m2r.w5)/m2r.w5;return this;},setRGB:function(d,e,f){this.r=d;this.g=e;this.b=f;return this;},setHSL:function(){function k(d,e,f){if(f<0)f+=1;if(f>1)f-=1;if(f<1/6)return d+(e-d)*6*f;if(f<1/2)return e;if(f<2/3)return d+(e-d)*6*(2/3-f);return d;}return function(d,e,f){d=THREE.Math.euclideanModulo(d,1);e=THREE.Math.clamp(e,0,1);f=THREE.Math.clamp(f,0,1);if(e===0){this.r=this.g=this.b=f;}else{var i=f<=m2r.K2?f*(1+e):f+e-(f*e),j=(2*f)-i;this.r=k(j,i,d+1/3);this.g=k(j,i,d);this.b=k(j,i,d-1/3);}return this;};}(),setStyle:function(e){function f(d){if(d===undefined)return ;if(parseFloat(d)<1){console.warn('THREE.Color: Alpha component of '+e+' will be ignored.');}}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var j,k=i[1],m=i[2];switch(k){case 'rgb':case 'rgba':if(j=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(m)){this.r=Math.min(m2r.w5,parseInt(j[1],10))/m2r.w5;this.g=Math.min(m2r.w5,parseInt(j[2],10))/m2r.w5;this.b=Math.min(m2r.w5,parseInt(j[3],10))/m2r.w5;f(j[5]);return this;}if(j=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(m)){this.r=Math.min(m2r.h5,parseInt(j[1],10))/m2r.h5;this.g=Math.min(m2r.h5,parseInt(j[2],10))/m2r.h5;this.b=Math.min(m2r.h5,parseInt(j[3],10))/m2r.h5;f(j[5]);return this;}break;case 'hsl':case 'hsla':if(j=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(m)){var n=parseFloat(j[1])/360,u=parseInt(j[2],10)/m2r.h5,v=parseInt(j[3],10)/m2r.h5;f(j[5]);return this.setHSL(n,u,v);}break;}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){var A=i[1],B=A.length;if(B===3){this.r=parseInt(A.charAt(0)+A.charAt(0),16)/m2r.w5;this.g=parseInt(A.charAt(1)+A.charAt(1),16)/m2r.w5;this.b=parseInt(A.charAt(2)+A.charAt(2),16)/m2r.w5;return this;}else if(B===6){this.r=parseInt(A.charAt(0)+A.charAt(1),16)/m2r.w5;this.g=parseInt(A.charAt(2)+A.charAt(3),16)/m2r.w5;this.b=parseInt(A.charAt(4)+A.charAt(5),16)/m2r.w5;return this;}}if(e&&e.length>0){var A=THREE.ColorKeywords[e];if(A!==undefined){this.setHex(A);}else{console.warn('THREE.Color: Unknown color '+e);}}return this;},clone:function(){return new this.constructor(this.r,this.g,this.b);},copy:function(d){this.r=d.r;this.g=d.g;this.b=d.b;return this;},copyGammaToLinear:function(d,e){if(e===undefined)e=2.0;this.r=Math.pow(d.r,e);this.g=Math.pow(d.g,e);this.b=Math.pow(d.b,e);return this;},copyLinearToGamma:function(d,e){if(e===undefined)e=2.0;var f=(e>0)?(m2r.d5/e):m2r.d5;this.r=Math.pow(d.r,f);this.g=Math.pow(d.g,f);this.b=Math.pow(d.b,f);return this;},convertGammaToLinear:function(){var d=this.r,e=this.g,f=this.b;this.r=d*d;this.g=e*e;this.b=f*f;return this;},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this;},getHex:function(){return (this.r*m2r.w5)<<16^(this.g*m2r.w5)<<8^(this.b*m2r.w5)<<0;},getHexString:function(){return ('000000'+this.getHex().toString(16)).slice(-6);},getHSL:function(d){var e=d||{h:0,s:0,l:0},f=this.r,i=this.g,j=this.b,k=Math.max(f,i,j),m=Math.min(f,i,j),n,u,v=(m+k)/2.0;if(m===k){n=0;u=0;}else{var A=k-m;u=v<=m2r.K2?A/(k+m):A/(2-k-m);switch(k){case f:n=(i-j)/A+(i<j?6:0);break;case i:n=(j-f)/A+2;break;case j:n=(f-i)/A+4;break;}n/=6;}e.h=n;e.s=u;e.l=v;return e;},getStyle:function(){return 'rgb('+((this.r*m2r.w5)|0)+','+((this.g*m2r.w5)|0)+','+((this.b*m2r.w5)|0)+')';},offsetHSL:function(d,e,f){var i=this.getHSL();i.h+=d;i.s+=e;i.l+=f;this.setHSL(i.h,i.s,i.l);return this;},add:function(d){this.r+=d.r;this.g+=d.g;this.b+=d.b;return this;},addColors:function(d,e){this.r=d.r+e.r;this.g=d.g+e.g;this.b=d.b+e.b;return this;},addScalar:function(d){this.r+=d;this.g+=d;this.b+=d;return this;},multiply:function(d){this.r*=d.r;this.g*=d.g;this.b*=d.b;return this;},multiplyScalar:function(d){this.r*=d;this.g*=d;this.b*=d;return this;},lerp:function(d,e){this.r+=(d.r-this.r)*e;this.g+=(d.g-this.g)*e;this.b+=(d.b-this.b)*e;return this;},equals:function(d){return (d.r===this.r)&&(d.g===this.g)&&(d.b===this.b);},fromArray:function(d,e){if(e===undefined)e=0;this.r=d[e];this.g=d[e+1];this.b=d[e+2];return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;d[e]=this.r;d[e+1]=this.g;d[e+2]=this.b;return d;}};THREE.ColorKeywords={'aliceblue':0xF0F8FF,'antiquewhite':0xFAEBD7,'aqua':0x00FFFF,'aquamarine':0x7FFFD4,'azure':0xF0FFFF,'beige':0xF5F5DC,'bisque':0xFFE4C4,'black':0x000000,'blanchedalmond':0xFFEBCD,'blue':0x0000FF,'blueviolet':0x8A2BE2,'brown':0xA52A2A,'burlywood':0xDEB887,'cadetblue':0x5F9EA0,'chartreuse':0x7FFF00,'chocolate':0xD2691E,'coral':0xFF7F50,'cornflowerblue':0x6495ED,'cornsilk':0xFFF8DC,'crimson':0xDC143C,'cyan':0x00FFFF,'darkblue':0x00008B,'darkcyan':0x008B8B,'darkgoldenrod':0xB8860B,'darkgray':0xA9A9A9,'darkgreen':0x006400,'darkgrey':0xA9A9A9,'darkkhaki':0xBDB76B,'darkmagenta':0x8B008B,'darkolivegreen':0x556B2F,'darkorange':0xFF8C00,'darkorchid':0x9932CC,'darkred':0x8B0000,'darksalmon':0xE9967A,'darkseagreen':0x8FBC8F,'darkslateblue':0x483D8B,'darkslategray':0x2F4F4F,'darkslategrey':0x2F4F4F,'darkturquoise':0x00CED1,'darkviolet':0x9400D3,'deeppink':0xFF1493,'deepskyblue':0x00BFFF,'dimgray':0x696969,'dimgrey':0x696969,'dodgerblue':0x1E90FF,'firebrick':0xB22222,'floralwhite':0xFFFAF0,'forestgreen':0x228B22,'fuchsia':0xFF00FF,'gainsboro':0xDCDCDC,'ghostwhite':0xF8F8FF,'gold':0xFFD700,'goldenrod':0xDAA520,'gray':0x808080,'green':0x008000,'greenyellow':0xADFF2F,'grey':0x808080,'honeydew':0xF0FFF0,'hotpink':0xFF69B4,'indianred':0xCD5C5C,'indigo':0x4B0082,'ivory':0xFFFFF0,'khaki':0xF0E68C,'lavender':0xE6E6FA,'lavenderblush':0xFFF0F5,'lawngreen':0x7CFC00,'lemonchiffon':0xFFFACD,'lightblue':0xADD8E6,'lightcoral':0xF08080,'lightcyan':0xE0FFFF,'lightgoldenrodyellow':0xFAFAD2,'lightgray':0xD3D3D3,'lightgreen':0x90EE90,'lightgrey':0xD3D3D3,'lightpink':0xFFB6C1,'lightsalmon':0xFFA07A,'lightseagreen':0x20B2AA,'lightskyblue':0x87CEFA,'lightslategray':0x778899,'lightslategrey':0x778899,'lightsteelblue':0xB0C4DE,'lightyellow':0xFFFFE0,'lime':0x00FF00,'limegreen':0x32CD32,'linen':0xFAF0E6,'magenta':0xFF00FF,'maroon':0x800000,'mediumaquamarine':0x66CDAA,'mediumblue':0x0000CD,'mediumorchid':0xBA55D3,'mediumpurple':0x9370DB,'mediumseagreen':0x3CB371,'mediumslateblue':0x7B68EE,'mediumspringgreen':0x00FA9A,'mediumturquoise':0x48D1CC,'mediumvioletred':0xC71585,'midnightblue':0x191970,'mintcream':0xF5FFFA,'mistyrose':0xFFE4E1,'moccasin':0xFFE4B5,'navajowhite':0xFFDEAD,'navy':0x000080,'oldlace':0xFDF5E6,'olive':0x808000,'olivedrab':0x6B8E23,'orange':0xFFA500,'orangered':0xFF4500,'orchid':0xDA70D6,'palegoldenrod':0xEEE8AA,'palegreen':0x98FB98,'paleturquoise':0xAFEEEE,'palevioletred':0xDB7093,'papayawhip':0xFFEFD5,'peachpuff':0xFFDAB9,'peru':0xCD853F,'pink':0xFFC0CB,'plum':0xDDA0DD,'powderblue':0xB0E0E6,'purple':0x800080,'red':0xFF0000,'rosybrown':0xBC8F8F,'royalblue':0x4169E1,'saddlebrown':0x8B4513,'salmon':0xFA8072,'sandybrown':0xF4A460,'seagreen':0x2E8B57,'seashell':0xFFF5EE,'sienna':0xA0522D,'silver':0xC0C0C0,'skyblue':0x87CEEB,'slateblue':0x6A5ACD,'slategray':0x708090,'slategrey':0x708090,'snow':0xFFFAFA,'springgreen':0x00FF7F,'steelblue':0x4682B4,'tan':0xD2B48C,'teal':0x008080,'thistle':0xD8BFD8,'tomato':0xFF6347,'turquoise':0x40E0D0,'violet':0xEE82EE,'wheat':0xF5DEB3,'white':0xFFFFFF,'whitesmoke':0xF5F5F5,'yellow':0xFFFF00,'yellowgreen':0x9ACD32};THREE.Quaternion=function(d,e,f,i){this._x=d||0;this._y=e||0;this._z=f||0;this._w=(i!==undefined)?i:1;};THREE.Quaternion.prototype={constructor:THREE.Quaternion,get x(){return this._x;},set x(value){this._x=value;this.onChangeCallback();},get y(){return this._y;},set y(value){this._y=value;this.onChangeCallback();},get z(){return this._z;},set z(value){this._z=value;this.onChangeCallback();},get w(){return this._w;},set w(value){this._w=value;this.onChangeCallback();},set:function(d,e,f,i){this._x=d;this._y=e;this._z=f;this._w=i;this.onChangeCallback();return this;},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w);},copy:function(d){this._x=d.x;this._y=d.y;this._z=d.z;this._w=d.w;this.onChangeCallback();return this;},setFromEuler:function(d,e){if(d instanceof THREE.Euler===m2r.e5){throw  new Error('THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.');}var f=Math.cos(d._x/2),i=Math.cos(d._y/2),j=Math.cos(d._z/2),k=Math.sin(d._x/2),m=Math.sin(d._y/2),n=Math.sin(d._z/2),u=d.order;if(u===m2r.W2){this._x=k*i*j+f*m*n;this._y=f*m*j-k*i*n;this._z=f*i*n+k*m*j;this._w=f*i*j-k*m*n;}else if(u==='YXZ'){this._x=k*i*j+f*m*n;this._y=f*m*j-k*i*n;this._z=f*i*n-k*m*j;this._w=f*i*j+k*m*n;}else if(u==='ZXY'){this._x=k*i*j-f*m*n;this._y=f*m*j+k*i*n;this._z=f*i*n+k*m*j;this._w=f*i*j-k*m*n;}else if(u==='ZYX'){this._x=k*i*j-f*m*n;this._y=f*m*j+k*i*n;this._z=f*i*n-k*m*j;this._w=f*i*j+k*m*n;}else if(u==='YZX'){this._x=k*i*j+f*m*n;this._y=f*m*j+k*i*n;this._z=f*i*n-k*m*j;this._w=f*i*j-k*m*n;}else if(u==='XZY'){this._x=k*i*j-f*m*n;this._y=f*m*j-k*i*n;this._z=f*i*n+k*m*j;this._w=f*i*j+k*m*n;}if(e!==m2r.e5)this.onChangeCallback();return this;},setFromAxisAngle:function(d,e){var f=e/2,i=Math.sin(f);this._x=d.x*i;this._y=d.y*i;this._z=d.z*i;this._w=Math.cos(f);this.onChangeCallback();return this;},setFromRotationMatrix:function(d){var e=d.elements,f=e[0],i=e[4],j=e[8],k=e[1],m=e[5],n=e[9],u=e[2],v=e[6],A=e[10],B=f+m+A,F;if(B>0){F=m2r.K2/Math.sqrt(B+m2r.d5);this._w=m2r.I1/F;this._x=(v-n)*F;this._y=(j-u)*F;this._z=(k-i)*F;}else if(f>m&&f>A){F=2.0*Math.sqrt(m2r.d5+f-m-A);this._w=(v-n)/F;this._x=m2r.I1*F;this._y=(i+k)/F;this._z=(j+u)/F;}else if(m>A){F=2.0*Math.sqrt(m2r.d5+m-f-A);this._w=(j-u)/F;this._x=(i+k)/F;this._y=m2r.I1*F;this._z=(n+v)/F;}else{F=2.0*Math.sqrt(m2r.d5+A-f-m);this._w=(k-i)/F;this._x=(j+u)/F;this._y=(n+v)/F;this._z=m2r.I1*F;}this.onChangeCallback();return this;},setFromUnitVectors:function(){var f,i,j=0.000001;return function(d,e){if(f===undefined)f=new THREE.Vector3();i=d.dot(e)+1;if(i<j){i=0;if(Math.abs(d.x)>Math.abs(d.z)){f.set(-d.y,d.x,0);}else{f.set(0,-d.z,d.y);}}else{f.crossVectors(d,e);}this._x=f.x;this._y=f.y;this._z=f.z;this._w=i;this.normalize();return this;};}(),inverse:function(){this.conjugate().normalize();return this;},conjugate:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this;},dot:function(d){return this._x*d._x+this._y*d._y+this._z*d._z+this._w*d._w;},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w;},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w);},normalize:function(){var d=this.length();if(d===0){this._x=0;this._y=0;this._z=0;this._w=1;}else{d=1/d;this._x=this._x*d;this._y=this._y*d;this._z=this._z*d;this._w=this._w*d;}this.onChangeCallback();return this;},multiply:function(d,e){if(e!==undefined){console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');return this.multiplyQuaternions(d,e);}return this.multiplyQuaternions(this,d);},multiplyQuaternions:function(d,e){var f=d._x,i=d._y,j=d._z,k=d._w,m=e._x,n=e._y,u=e._z,v=e._w;this._x=f*v+k*m+i*u-j*n;this._y=i*v+k*n+j*m-f*u;this._z=j*v+k*u+f*n-i*m;this._w=k*v-f*m-i*n-j*u;this.onChangeCallback();return this;},slerp:function(d,e){if(e===0)return this;if(e===1)return this.copy(d);var f=this._x,i=this._y,j=this._z,k=this._w,m=k*d._w+f*d._x+i*d._y+j*d._z;if(m<0){this._w=-d._w;this._x=-d._x;this._y=-d._y;this._z=-d._z;m=-m;}else{this.copy(d);}if(m>=m2r.d5){this._w=k;this._x=f;this._y=i;this._z=j;return this;}var n=Math.sqrt(m2r.d5-m*m);if(Math.abs(n)<0.001){this._w=m2r.K2*(k+this._w);this._x=m2r.K2*(f+this._x);this._y=m2r.K2*(i+this._y);this._z=m2r.K2*(j+this._z);return this;}var u=Math.atan2(n,m),v=Math.sin((1-e)*u)/n,A=Math.sin(e*u)/n;this._w=(k*v+this._w*A);this._x=(f*v+this._x*A);this._y=(i*v+this._y*A);this._z=(j*v+this._z*A);this.onChangeCallback();return this;},equals:function(d){return (d._x===this._x)&&(d._y===this._y)&&(d._z===this._z)&&(d._w===this._w);},fromArray:function(d,e){if(e===undefined)e=0;this._x=d[e];this._y=d[e+1];this._z=d[e+2];this._w=d[e+3];this.onChangeCallback();return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;d[e]=this._x;d[e+1]=this._y;d[e+2]=this._z;d[e+3]=this._w;return d;},onChange:function(d){this.onChangeCallback=d;return this;},onChangeCallback:function(){}};Object.assign(THREE.Quaternion,{slerp:function(d,e,f,i){return f.copy(d).slerp(e,i);},slerpFlat:function(d,e,f,i,j,k,m){var n=f[i+0],u=f[i+1],v=f[i+2],A=f[i+3],B=j[k+0],F=j[k+1],G=j[k+2],L=j[k+3];if(A!==L||n!==B||u!==F||v!==G){var H=1-m,J=n*B+u*F+v*G+A*L,T=(J>=0?1:-1),i0=1-J*J;if(i0>Number.EPSILON){var b0=Math.sqrt(i0),N=Math.atan2(b0,J*T);H=Math.sin(H*N)/b0;m=Math.sin(m*N)/b0;}var l0=m*T;n=n*H+B*l0;u=u*H+F*l0;v=v*H+G*l0;A=A*H+L*l0;if(H===1-m){var m0=1/Math.sqrt(n*n+u*u+v*v+A*A);n*=m0;u*=m0;v*=m0;A*=m0;}}d[e]=n;d[e+1]=u;d[e+2]=v;d[e+3]=A;}});THREE.Vector2=function(d,e){this.x=d||0;this.y=e||0;};THREE.Vector2.prototype={constructor:THREE.Vector2,get width(){return this.x;},set width(value){this.x=value;},get height(){return this.y;},set height(value){this.y=value;},set:function(d,e){this.x=d;this.y=e;return this;},setScalar:function(d){this.x=d;this.y=d;return this;},setX:function(d){this.x=d;return this;},setY:function(d){this.y=d;return this;},setComponent:function(d,e){switch(d){case 0:this.x=e;break;case 1:this.y=e;break;default:throw  new Error(m2r.b4+d);}},getComponent:function(d){switch(d){case 0:return this.x;case 1:return this.y;default:throw  new Error(m2r.b4+d);}},clone:function(){return new this.constructor(this.x,this.y);},copy:function(d){this.x=d.x;this.y=d.y;return this;},add:function(d,e){if(e!==undefined){console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');return this.addVectors(d,e);}this.x+=d.x;this.y+=d.y;return this;},addScalar:function(d){this.x+=d;this.y+=d;return this;},addVectors:function(d,e){this.x=d.x+e.x;this.y=d.y+e.y;return this;},addScaledVector:function(d,e){this.x+=d.x*e;this.y+=d.y*e;return this;},sub:function(d,e){if(e!==undefined){console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');return this.subVectors(d,e);}this.x-=d.x;this.y-=d.y;return this;},subScalar:function(d){this.x-=d;this.y-=d;return this;},subVectors:function(d,e){this.x=d.x-e.x;this.y=d.y-e.y;return this;},multiply:function(d){this.x*=d.x;this.y*=d.y;return this;},multiplyScalar:function(d){if(isFinite(d)){this.x*=d;this.y*=d;}else{this.x=0;this.y=0;}return this;},divide:function(d){this.x/=d.x;this.y/=d.y;return this;},divideScalar:function(d){return this.multiplyScalar(1/d);},min:function(d){this.x=Math.min(this.x,d.x);this.y=Math.min(this.y,d.y);return this;},max:function(d){this.x=Math.max(this.x,d.x);this.y=Math.max(this.y,d.y);return this;},clamp:function(d,e){this.x=Math.max(d.x,Math.min(e.x,this.x));this.y=Math.max(d.y,Math.min(e.y,this.y));return this;},clampScalar:function(){var f,i;return function j(d,e){if(f===undefined){f=new THREE.Vector2();i=new THREE.Vector2();}f.set(d,d);i.set(e,e);return this.clamp(f,i);};}(),clampLength:function(d,e){var f=this.length();this.multiplyScalar(Math.max(d,Math.min(e,f))/f);return this;},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this;},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this;},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this;},roundToZero:function(){this.x=(this.x<0)?Math.ceil(this.x):Math.floor(this.x);this.y=(this.y<0)?Math.ceil(this.y):Math.floor(this.y);return this;},negate:function(){this.x=-this.x;this.y=-this.y;return this;},dot:function(d){return this.x*d.x+this.y*d.y;},lengthSq:function(){return this.x*this.x+this.y*this.y;},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y);},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y);},normalize:function(){return this.divideScalar(this.length());},angle:function(){var d=Math.atan2(this.y,this.x);if(d<0)d+=2*Math.PI;return d;},distanceTo:function(d){return Math.sqrt(this.distanceToSquared(d));},distanceToSquared:function(d){var e=this.x-d.x,f=this.y-d.y;return e*e+f*f;},setLength:function(d){return this.multiplyScalar(d/this.length());},lerp:function(d,e){this.x+=(d.x-this.x)*e;this.y+=(d.y-this.y)*e;return this;},lerpVectors:function(d,e,f){this.subVectors(e,d).multiplyScalar(f).add(d);return this;},equals:function(d){return ((d.x===this.x)&&(d.y===this.y));},fromArray:function(d,e){if(e===undefined)e=0;this.x=d[e];this.y=d[e+1];return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;d[e]=this.x;d[e+1]=this.y;return d;},fromAttribute:function(d,e,f){if(f===undefined)f=0;e=e*d.itemSize+f;this.x=d.array[e];this.y=d.array[e+1];return this;},rotateAround:function(d,e){var f=Math.cos(e),i=Math.sin(e),j=this.x-d.x,k=this.y-d.y;this.x=j*f-k*i+d.x;this.y=j*i+k*f+d.y;return this;}};THREE.Vector3=function(d,e,f){this.x=d||0;this.y=e||0;this.z=f||0;};THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(d,e,f){this.x=d;this.y=e;this.z=f;return this;},setScalar:function(d){this.x=d;this.y=d;this.z=d;return this;},setX:function(d){this.x=d;return this;},setY:function(d){this.y=d;return this;},setZ:function(d){this.z=d;return this;},setComponent:function(d,e){switch(d){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw  new Error(m2r.b4+d);}},getComponent:function(d){switch(d){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw  new Error(m2r.b4+d);}},clone:function(){return new this.constructor(this.x,this.y,this.z);},copy:function(d){this.x=d.x;this.y=d.y;this.z=d.z;return this;},add:function(d,e){if(e!==undefined){console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');return this.addVectors(d,e);}this.x+=d.x;this.y+=d.y;this.z+=d.z;return this;},addScalar:function(d){this.x+=d;this.y+=d;this.z+=d;return this;},addVectors:function(d,e){this.x=d.x+e.x;this.y=d.y+e.y;this.z=d.z+e.z;return this;},addScaledVector:function(d,e){this.x+=d.x*e;this.y+=d.y*e;this.z+=d.z*e;return this;},sub:function(d,e){if(e!==undefined){console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');return this.subVectors(d,e);}this.x-=d.x;this.y-=d.y;this.z-=d.z;return this;},subScalar:function(d){this.x-=d;this.y-=d;this.z-=d;return this;},subVectors:function(d,e){this.x=d.x-e.x;this.y=d.y-e.y;this.z=d.z-e.z;return this;},multiply:function(d,e){if(e!==undefined){console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');return this.multiplyVectors(d,e);}this.x*=d.x;this.y*=d.y;this.z*=d.z;return this;},multiplyScalar:function(d){if(isFinite(d)){this.x*=d;this.y*=d;this.z*=d;}else{this.x=0;this.y=0;this.z=0;}return this;},multiplyVectors:function(d,e){this.x=d.x*e.x;this.y=d.y*e.y;this.z=d.z*e.z;return this;},applyEuler:function(){var e;return function f(d){if(d instanceof THREE.Euler===m2r.e5){console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');}if(e===undefined)e=new THREE.Quaternion();this.applyQuaternion(e.setFromEuler(d));return this;};}(),applyAxisAngle:function(){var f;return function i(d,e){if(f===undefined)f=new THREE.Quaternion();this.applyQuaternion(f.setFromAxisAngle(d,e));return this;};}(),applyMatrix3:function(d){var e=this.x,f=this.y,i=this.z,j=d.elements;this.x=j[0]*e+j[3]*f+j[6]*i;this.y=j[1]*e+j[4]*f+j[7]*i;this.z=j[2]*e+j[5]*f+j[8]*i;return this;},applyMatrix4:function(d){var e=this.x,f=this.y,i=this.z,j=d.elements;this.x=j[0]*e+j[4]*f+j[8]*i+j[12];this.y=j[1]*e+j[5]*f+j[9]*i+j[13];this.z=j[2]*e+j[6]*f+j[10]*i+j[14];return this;},applyProjection:function(d){var e=this.x,f=this.y,i=this.z,j=d.elements,k=1/(j[3]*e+j[7]*f+j[11]*i+j[15]);this.x=(j[0]*e+j[4]*f+j[8]*i+j[12])*k;this.y=(j[1]*e+j[5]*f+j[9]*i+j[13])*k;this.z=(j[2]*e+j[6]*f+j[10]*i+j[14])*k;return this;},applyQuaternion:function(d){var e=this.x,f=this.y,i=this.z,j=d.x,k=d.y,m=d.z,n=d.w,u=n*e+k*i-m*f,v=n*f+m*e-j*i,A=n*i+j*f-k*e,B=-j*e-k*f-m*i;this.x=u*n+B*-j+v*-m-A*-k;this.y=v*n+B*-k+A*-j-u*-m;this.z=A*n+B*-m+u*-k-v*-j;return this;},project:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.multiplyMatrices(d.projectionMatrix,e.getInverse(d.matrixWorld));return this.applyProjection(e);};}(),unproject:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.multiplyMatrices(d.matrixWorld,e.getInverse(d.projectionMatrix));return this.applyProjection(e);};}(),transformDirection:function(d){var e=this.x,f=this.y,i=this.z,j=d.elements;this.x=j[0]*e+j[4]*f+j[8]*i;this.y=j[1]*e+j[5]*f+j[9]*i;this.z=j[2]*e+j[6]*f+j[10]*i;this.normalize();return this;},divide:function(d){this.x/=d.x;this.y/=d.y;this.z/=d.z;return this;},divideScalar:function(d){return this.multiplyScalar(1/d);},min:function(d){this.x=Math.min(this.x,d.x);this.y=Math.min(this.y,d.y);this.z=Math.min(this.z,d.z);return this;},max:function(d){this.x=Math.max(this.x,d.x);this.y=Math.max(this.y,d.y);this.z=Math.max(this.z,d.z);return this;},clamp:function(d,e){this.x=Math.max(d.x,Math.min(e.x,this.x));this.y=Math.max(d.y,Math.min(e.y,this.y));this.z=Math.max(d.z,Math.min(e.z,this.z));return this;},clampScalar:function(){var f,i;return function j(d,e){if(f===undefined){f=new THREE.Vector3();i=new THREE.Vector3();}f.set(d,d,d);i.set(e,e,e);return this.clamp(f,i);};}(),clampLength:function(d,e){var f=this.length();this.multiplyScalar(Math.max(d,Math.min(e,f))/f);return this;},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this;},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this;},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this;},roundToZero:function(){this.x=(this.x<0)?Math.ceil(this.x):Math.floor(this.x);this.y=(this.y<0)?Math.ceil(this.y):Math.floor(this.y);this.z=(this.z<0)?Math.ceil(this.z):Math.floor(this.z);return this;},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this;},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z;},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z;},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z);},normalize:function(){return this.divideScalar(this.length());},setLength:function(d){return this.multiplyScalar(d/this.length());},lerp:function(d,e){this.x+=(d.x-this.x)*e;this.y+=(d.y-this.y)*e;this.z+=(d.z-this.z)*e;return this;},lerpVectors:function(d,e,f){this.subVectors(e,d).multiplyScalar(f).add(d);return this;},cross:function(d,e){if(e!==undefined){console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');return this.crossVectors(d,e);}var f=this.x,i=this.y,j=this.z;this.x=i*d.z-j*d.y;this.y=j*d.x-f*d.z;this.z=f*d.y-i*d.x;return this;},crossVectors:function(d,e){var f=d.x,i=d.y,j=d.z,k=e.x,m=e.y,n=e.z;this.x=i*n-j*m;this.y=j*k-f*n;this.z=f*m-i*k;return this;},projectOnVector:function(){var e,f;return function i(d){if(e===undefined)e=new THREE.Vector3();e.copy(d).normalize();f=this.dot(e);return this.copy(e).multiplyScalar(f);};}(),projectOnPlane:function(){var e;return function f(d){if(e===undefined)e=new THREE.Vector3();e.copy(this).projectOnVector(d);return this.sub(e);};}(),reflect:function(){var e;return function f(d){if(e===undefined)e=new THREE.Vector3();return this.sub(e.copy(d).multiplyScalar(2*this.dot(d)));};}(),angleTo:function(d){var e=this.dot(d)/(Math.sqrt(this.lengthSq()*d.lengthSq()));return Math.acos(THREE.Math.clamp(e,-1,1));},distanceTo:function(d){return Math.sqrt(this.distanceToSquared(d));},distanceToSquared:function(d){var e=this.x-d.x,f=this.y-d.y,i=this.z-d.z;return e*e+f*f+i*i;},setFromSpherical:function(d){var e=Math.sin(d.phi)*d.radius;this.x=e*Math.sin(d.theta);this.y=Math.cos(d.phi)*d.radius;this.z=e*Math.cos(d.theta);return this;},setFromMatrixPosition:function(d){return this.setFromMatrixColumn(d,3);},setFromMatrixScale:function(d){var e=this.setFromMatrixColumn(d,0).length(),f=this.setFromMatrixColumn(d,1).length(),i=this.setFromMatrixColumn(d,2).length();this.x=e;this.y=f;this.z=i;return this;},setFromMatrixColumn:function(d,e){if(typeof d===m2r.H4){console.warn('THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).');d=arguments[1];e=arguments[0];}return this.fromArray(d.elements,e*4);},equals:function(d){return ((d.x===this.x)&&(d.y===this.y)&&(d.z===this.z));},fromArray:function(d,e){if(e===undefined)e=0;this.x=d[e];this.y=d[e+1];this.z=d[e+2];return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;d[e]=this.x;d[e+1]=this.y;d[e+2]=this.z;return d;},fromAttribute:function(d,e,f){if(f===undefined)f=0;e=e*d.itemSize+f;this.x=d.array[e];this.y=d.array[e+1];this.z=d.array[e+2];return this;}};THREE.Vector4=function(d,e,f,i){this.x=d||0;this.y=e||0;this.z=f||0;this.w=(i!==undefined)?i:1;};THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(d,e,f,i){this.x=d;this.y=e;this.z=f;this.w=i;return this;},setScalar:function(d){this.x=d;this.y=d;this.z=d;this.w=d;return this;},setX:function(d){this.x=d;return this;},setY:function(d){this.y=d;return this;},setZ:function(d){this.z=d;return this;},setW:function(d){this.w=d;return this;},setComponent:function(d,e){switch(d){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw  new Error(m2r.b4+d);}},getComponent:function(d){switch(d){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw  new Error(m2r.b4+d);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w);},copy:function(d){this.x=d.x;this.y=d.y;this.z=d.z;this.w=(d.w!==undefined)?d.w:1;return this;},add:function(d,e){if(e!==undefined){console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');return this.addVectors(d,e);}this.x+=d.x;this.y+=d.y;this.z+=d.z;this.w+=d.w;return this;},addScalar:function(d){this.x+=d;this.y+=d;this.z+=d;this.w+=d;return this;},addVectors:function(d,e){this.x=d.x+e.x;this.y=d.y+e.y;this.z=d.z+e.z;this.w=d.w+e.w;return this;},addScaledVector:function(d,e){this.x+=d.x*e;this.y+=d.y*e;this.z+=d.z*e;this.w+=d.w*e;return this;},sub:function(d,e){if(e!==undefined){console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');return this.subVectors(d,e);}this.x-=d.x;this.y-=d.y;this.z-=d.z;this.w-=d.w;return this;},subScalar:function(d){this.x-=d;this.y-=d;this.z-=d;this.w-=d;return this;},subVectors:function(d,e){this.x=d.x-e.x;this.y=d.y-e.y;this.z=d.z-e.z;this.w=d.w-e.w;return this;},multiplyScalar:function(d){if(isFinite(d)){this.x*=d;this.y*=d;this.z*=d;this.w*=d;}else{this.x=0;this.y=0;this.z=0;this.w=0;}return this;},applyMatrix4:function(d){var e=this.x,f=this.y,i=this.z,j=this.w,k=d.elements;this.x=k[0]*e+k[4]*f+k[8]*i+k[12]*j;this.y=k[1]*e+k[5]*f+k[9]*i+k[13]*j;this.z=k[2]*e+k[6]*f+k[10]*i+k[14]*j;this.w=k[3]*e+k[7]*f+k[11]*i+k[15]*j;return this;},divideScalar:function(d){return this.multiplyScalar(1/d);},setAxisAngleFromQuaternion:function(d){this.w=2*Math.acos(d.w);var e=Math.sqrt(1-d.w*d.w);if(e<0.0001){this.x=1;this.y=0;this.z=0;}else{this.x=d.x/e;this.y=d.y/e;this.z=d.z/e;}return this;},setAxisAngleFromRotationMatrix:function(d){var e=0.707106781,f,i,j,k,m=0.01,n=0.1,u=d.elements,v=u[0],A=u[4],B=u[8],F=u[1],G=u[5],L=u[9],H=u[2],J=u[6],T=u[10];if((Math.abs(A-F)<m)&&(Math.abs(B-H)<m)&&(Math.abs(L-J)<m)){if((Math.abs(A+F)<n)&&(Math.abs(B+H)<n)&&(Math.abs(L+J)<n)&&(Math.abs(v+G+T-3)<n)){this.set(1,0,0,0);return this;}f=Math.PI;var i0=(v+1)/2,b0=(G+1)/2,N=(T+1)/2,l0=(A+F)/4,m0=(B+H)/4,o0=(L+J)/4;if((i0>b0)&&(i0>N)){if(i0<m){i=0;j=e;k=e;}else{i=Math.sqrt(i0);j=l0/i;k=m0/i;}}else if(b0>N){if(b0<m){i=e;j=0;k=e;}else{j=Math.sqrt(b0);i=l0/j;k=o0/j;}}else{if(N<m){i=e;j=e;k=0;}else{k=Math.sqrt(N);i=m0/k;j=o0/k;}}this.set(i,j,k,f);return this;}var n0=Math.sqrt((J-L)*(J-L)+(B-H)*(B-H)+(F-A)*(F-A));if(Math.abs(n0)<0.001)n0=1;this.x=(J-L)/n0;this.y=(B-H)/n0;this.z=(F-A)/n0;this.w=Math.acos((v+G+T-1)/2);return this;},min:function(d){this.x=Math.min(this.x,d.x);this.y=Math.min(this.y,d.y);this.z=Math.min(this.z,d.z);this.w=Math.min(this.w,d.w);return this;},max:function(d){this.x=Math.max(this.x,d.x);this.y=Math.max(this.y,d.y);this.z=Math.max(this.z,d.z);this.w=Math.max(this.w,d.w);return this;},clamp:function(d,e){this.x=Math.max(d.x,Math.min(e.x,this.x));this.y=Math.max(d.y,Math.min(e.y,this.y));this.z=Math.max(d.z,Math.min(e.z,this.z));this.w=Math.max(d.w,Math.min(e.w,this.w));return this;},clampScalar:function(){var f,i;return function j(d,e){if(f===undefined){f=new THREE.Vector4();i=new THREE.Vector4();}f.set(d,d,d,d);i.set(e,e,e,e);return this.clamp(f,i);};}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this;},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this;},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this;},roundToZero:function(){this.x=(this.x<0)?Math.ceil(this.x):Math.floor(this.x);this.y=(this.y<0)?Math.ceil(this.y):Math.floor(this.y);this.z=(this.z<0)?Math.ceil(this.z):Math.floor(this.z);this.w=(this.w<0)?Math.ceil(this.w):Math.floor(this.w);return this;},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this;},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w;},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w);},normalize:function(){return this.divideScalar(this.length());},setLength:function(d){return this.multiplyScalar(d/this.length());},lerp:function(d,e){this.x+=(d.x-this.x)*e;this.y+=(d.y-this.y)*e;this.z+=(d.z-this.z)*e;this.w+=(d.w-this.w)*e;return this;},lerpVectors:function(d,e,f){this.subVectors(e,d).multiplyScalar(f).add(d);return this;},equals:function(d){return ((d.x===this.x)&&(d.y===this.y)&&(d.z===this.z)&&(d.w===this.w));},fromArray:function(d,e){if(e===undefined)e=0;this.x=d[e];this.y=d[e+1];this.z=d[e+2];this.w=d[e+3];return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;d[e]=this.x;d[e+1]=this.y;d[e+2]=this.z;d[e+3]=this.w;return d;},fromAttribute:function(d,e,f){if(f===undefined)f=0;e=e*d.itemSize+f;this.x=d.array[e];this.y=d.array[e+1];this.z=d.array[e+2];this.w=d.array[e+3];return this;}};THREE.Euler=function(d,e,f,i){this._x=d||0;this._y=e||0;this._z=f||0;this._order=i||THREE.Euler.DefaultOrder;};THREE.Euler.RotationOrders=[m2r.W2,'YZX','ZXY','XZY','YXZ','ZYX'];THREE.Euler.DefaultOrder=m2r.W2;THREE.Euler.prototype={constructor:THREE.Euler,get x(){return this._x;},set x(value){this._x=value;this.onChangeCallback();},get y(){return this._y;},set y(value){this._y=value;this.onChangeCallback();},get z(){return this._z;},set z(value){this._z=value;this.onChangeCallback();},get order(){return this._order;},set order(value){this._order=value;this.onChangeCallback();},set:function(d,e,f,i){this._x=d;this._y=e;this._z=f;this._order=i||this._order;this.onChangeCallback();return this;},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order);},copy:function(d){this._x=d._x;this._y=d._y;this._z=d._z;this._order=d._order;this.onChangeCallback();return this;},setFromRotationMatrix:function(d,e,f){var i=THREE.Math.clamp,j=d.elements,k=j[0],m=j[4],n=j[8],u=j[1],v=j[5],A=j[9],B=j[2],F=j[6],G=j[10];e=e||this._order;if(e===m2r.W2){this._y=Math.asin(i(n,-1,1));if(Math.abs(n)<m2r.n3){this._x=Math.atan2(-A,G);this._z=Math.atan2(-m,k);}else{this._x=Math.atan2(F,v);this._z=0;}}else if(e==='YXZ'){this._x=Math.asin(-i(A,-1,1));if(Math.abs(A)<m2r.n3){this._y=Math.atan2(n,G);this._z=Math.atan2(u,v);}else{this._y=Math.atan2(-B,k);this._z=0;}}else if(e==='ZXY'){this._x=Math.asin(i(F,-1,1));if(Math.abs(F)<m2r.n3){this._y=Math.atan2(-B,G);this._z=Math.atan2(-m,v);}else{this._y=0;this._z=Math.atan2(u,k);}}else if(e==='ZYX'){this._y=Math.asin(-i(B,-1,1));if(Math.abs(B)<m2r.n3){this._x=Math.atan2(F,G);this._z=Math.atan2(u,k);}else{this._x=0;this._z=Math.atan2(-m,v);}}else if(e==='YZX'){this._z=Math.asin(i(u,-1,1));if(Math.abs(u)<m2r.n3){this._x=Math.atan2(-A,v);this._y=Math.atan2(-B,k);}else{this._x=0;this._y=Math.atan2(n,G);}}else if(e==='XZY'){this._z=Math.asin(-i(m,-1,1));if(Math.abs(m)<m2r.n3){this._x=Math.atan2(F,v);this._y=Math.atan2(n,k);}else{this._x=Math.atan2(-A,G);this._y=0;}}else{console.warn('THREE.Euler: .setFromRotationMatrix() given unsupported order: '+e);}this._order=e;if(f!==m2r.e5)this.onChangeCallback();return this;},setFromQuaternion:function(){var i;return function(d,e,f){if(i===undefined)i=new THREE.Matrix4();i.makeRotationFromQuaternion(d);this.setFromRotationMatrix(i,e,f);return this;};}(),setFromVector3:function(d,e){return this.set(d.x,d.y,d.z,e||this._order);},reorder:function(){var e=new THREE.Quaternion();return function(d){e.setFromEuler(this);this.setFromQuaternion(e,d);};}(),equals:function(d){return (d._x===this._x)&&(d._y===this._y)&&(d._z===this._z)&&(d._order===this._order);},fromArray:function(d){this._x=d[0];this._y=d[1];this._z=d[2];if(d[3]!==undefined)this._order=d[3];this.onChangeCallback();return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;d[e]=this._x;d[e+1]=this._y;d[e+2]=this._z;d[e+3]=this._order;return d;},toVector3:function(d){if(d){return d.set(this._x,this._y,this._z);}else{return new THREE.Vector3(this._x,this._y,this._z);}},onChange:function(d){this.onChangeCallback=d;return this;},onChangeCallback:function(){}};THREE.Line3=function(d,e){this.start=(d!==undefined)?d:new THREE.Vector3();this.end=(e!==undefined)?e:new THREE.Vector3();};THREE.Line3.prototype={constructor:THREE.Line3,set:function(d,e){this.start.copy(d);this.end.copy(e);return this;},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.start.copy(d.start);this.end.copy(d.end);return this;},center:function(d){var e=d||new THREE.Vector3();return e.addVectors(this.start,this.end).multiplyScalar(m2r.K2);},delta:function(d){var e=d||new THREE.Vector3();return e.subVectors(this.end,this.start);},distanceSq:function(){return this.start.distanceToSquared(this.end);},distance:function(){return this.start.distanceTo(this.end);},at:function(d,e){var f=e||new THREE.Vector3();return this.delta(f).multiplyScalar(d).add(this.start);},closestPointToPointParameter:function(){var k=new THREE.Vector3(),m=new THREE.Vector3();return function(d,e){k.subVectors(d,this.start);m.subVectors(this.end,this.start);var f=m.dot(m),i=m.dot(k),j=i/f;if(e){j=THREE.Math.clamp(j,0,1);}return j;};}(),closestPointToPoint:function(d,e,f){var i=this.closestPointToPointParameter(d,e),j=f||new THREE.Vector3();return this.delta(j).multiplyScalar(i).add(this.start);},applyMatrix4:function(d){this.start.applyMatrix4(d);this.end.applyMatrix4(d);return this;},equals:function(d){return d.start.equals(this.start)&&d.end.equals(this.end);}};THREE.Box2=function(d,e){this.min=(d!==undefined)?d:new THREE.Vector2(+Infinity,+Infinity);this.max=(e!==undefined)?e:new THREE.Vector2(-Infinity,-Infinity);};THREE.Box2.prototype={constructor:THREE.Box2,set:function(d,e){this.min.copy(d);this.max.copy(e);return this;},setFromPoints:function(d){this.makeEmpty();for(var e=0,f=d.length;e<f;e++){this.expandByPoint(d[e]);}return this;},setFromCenterAndSize:function(){var i=new THREE.Vector2();return function(d,e){var f=i.copy(e).multiplyScalar(m2r.K2);this.min.copy(d).sub(f);this.max.copy(d).add(f);return this;};}(),clone:function(){return new this.constructor().copy(this);},copy:function(d){this.min.copy(d.min);this.max.copy(d.max);return this;},makeEmpty:function(){this.min.x=this.min.y=+Infinity;this.max.x=this.max.y=-Infinity;return this;},isEmpty:function(){return (this.max.x<this.min.x)||(this.max.y<this.min.y);},center:function(d){var e=d||new THREE.Vector2();return e.addVectors(this.min,this.max).multiplyScalar(m2r.K2);},size:function(d){var e=d||new THREE.Vector2();return e.subVectors(this.max,this.min);},expandByPoint:function(d){this.min.min(d);this.max.max(d);return this;},expandByVector:function(d){this.min.sub(d);this.max.add(d);return this;},expandByScalar:function(d){this.min.addScalar(-d);this.max.addScalar(d);return this;},containsPoint:function(d){if(d.x<this.min.x||d.x>this.max.x||d.y<this.min.y||d.y>this.max.y){return m2r.e5;}return m2r.t4;},containsBox:function(d){if((this.min.x<=d.min.x)&&(d.max.x<=this.max.x)&&(this.min.y<=d.min.y)&&(d.max.y<=this.max.y)){return m2r.t4;}return m2r.e5;},getParameter:function(d,e){var f=e||new THREE.Vector2();return f.set((d.x-this.min.x)/(this.max.x-this.min.x),(d.y-this.min.y)/(this.max.y-this.min.y));},intersectsBox:function(d){if(d.max.x<this.min.x||d.min.x>this.max.x||d.max.y<this.min.y||d.min.y>this.max.y){return m2r.e5;}return m2r.t4;},clampPoint:function(d,e){var f=e||new THREE.Vector2();return f.copy(d).clamp(this.min,this.max);},distanceToPoint:function(){var f=new THREE.Vector2();return function(d){var e=f.copy(d).clamp(this.min,this.max);return e.sub(d).length();};}(),intersect:function(d){this.min.max(d.min);this.max.min(d.max);return this;},union:function(d){this.min.min(d.min);this.max.max(d.max);return this;},translate:function(d){this.min.add(d);this.max.add(d);return this;},equals:function(d){return d.min.equals(this.min)&&d.max.equals(this.max);}};THREE.Box3=function(d,e){this.min=(d!==undefined)?d:new THREE.Vector3(+Infinity,+Infinity,+Infinity);this.max=(e!==undefined)?e:new THREE.Vector3(-Infinity,-Infinity,-Infinity);};THREE.Box3.prototype={constructor:THREE.Box3,set:function(d,e){this.min.copy(d);this.max.copy(e);return this;},setFromArray:function(d){var e=+Infinity,f=+Infinity,i=+Infinity,j=-Infinity,k=-Infinity,m=-Infinity;for(var n=0,u=d.length;n<u;n+=3){var v=d[n],A=d[n+1],B=d[n+2];if(v<e)e=v;if(A<f)f=A;if(B<i)i=B;if(v>j)j=v;if(A>k)k=A;if(B>m)m=B;}this.min.set(e,f,i);this.max.set(j,k,m);},setFromPoints:function(d){this.makeEmpty();for(var e=0,f=d.length;e<f;e++){this.expandByPoint(d[e]);}return this;},setFromCenterAndSize:function(){var i=new THREE.Vector3();return function(d,e){var f=i.copy(e).multiplyScalar(m2r.K2);this.min.copy(d).sub(f);this.max.copy(d).add(f);return this;};}(),setFromObject:function(){var u=new THREE.Vector3();return function(m){var n=this;m.updateMatrixWorld(m2r.t4);this.makeEmpty();m.traverse(function(d){var e=d.geometry;if(e!==undefined){if(e instanceof THREE.Geometry){var f=e.vertices;for(var i=0,j=f.length;i<j;i++){u.copy(f[i]);u.applyMatrix4(d.matrixWorld);n.expandByPoint(u);}}else if(e instanceof THREE.BufferGeometry&&e.attributes[m2r.H2]!==undefined){var k=e.attributes[m2r.H2].array;for(var i=0,j=k.length;i<j;i+=3){u.fromArray(k,i);u.applyMatrix4(d.matrixWorld);n.expandByPoint(u);}}}});return this;};}(),clone:function(){return new this.constructor().copy(this);},copy:function(d){this.min.copy(d.min);this.max.copy(d.max);return this;},makeEmpty:function(){this.min.x=this.min.y=this.min.z=+Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this;},isEmpty:function(){return (this.max.x<this.min.x)||(this.max.y<this.min.y)||(this.max.z<this.min.z);},center:function(d){var e=d||new THREE.Vector3();return e.addVectors(this.min,this.max).multiplyScalar(m2r.K2);},size:function(d){var e=d||new THREE.Vector3();return e.subVectors(this.max,this.min);},expandByPoint:function(d){this.min.min(d);this.max.max(d);return this;},expandByVector:function(d){this.min.sub(d);this.max.add(d);return this;},expandByScalar:function(d){this.min.addScalar(-d);this.max.addScalar(d);return this;},containsPoint:function(d){if(d.x<this.min.x||d.x>this.max.x||d.y<this.min.y||d.y>this.max.y||d.z<this.min.z||d.z>this.max.z){return m2r.e5;}return m2r.t4;},containsBox:function(d){if((this.min.x<=d.min.x)&&(d.max.x<=this.max.x)&&(this.min.y<=d.min.y)&&(d.max.y<=this.max.y)&&(this.min.z<=d.min.z)&&(d.max.z<=this.max.z)){return m2r.t4;}return m2r.e5;},getParameter:function(d,e){var f=e||new THREE.Vector3();return f.set((d.x-this.min.x)/(this.max.x-this.min.x),(d.y-this.min.y)/(this.max.y-this.min.y),(d.z-this.min.z)/(this.max.z-this.min.z));},intersectsBox:function(d){if(d.max.x<this.min.x||d.min.x>this.max.x||d.max.y<this.min.y||d.min.y>this.max.y||d.max.z<this.min.z||d.min.z>this.max.z){return m2r.e5;}return m2r.t4;},intersectsSphere:(function(){var e;return function f(d){if(e===undefined)e=new THREE.Vector3();this.clampPoint(d.center,e);return e.distanceToSquared(d.center)<=(d.radius*d.radius);};})(),intersectsPlane:function(d){var e,f;if(d.normal.x>0){e=d.normal.x*this.min.x;f=d.normal.x*this.max.x;}else{e=d.normal.x*this.max.x;f=d.normal.x*this.min.x;}if(d.normal.y>0){e+=d.normal.y*this.min.y;f+=d.normal.y*this.max.y;}else{e+=d.normal.y*this.max.y;f+=d.normal.y*this.min.y;}if(d.normal.z>0){e+=d.normal.z*this.min.z;f+=d.normal.z*this.max.z;}else{e+=d.normal.z*this.max.z;f+=d.normal.z*this.min.z;}return (e<=d.constant&&f>=d.constant);},clampPoint:function(d,e){var f=e||new THREE.Vector3();return f.copy(d).clamp(this.min,this.max);},distanceToPoint:function(){var f=new THREE.Vector3();return function(d){var e=f.copy(d).clamp(this.min,this.max);return e.sub(d).length();};}(),getBoundingSphere:function(){var f=new THREE.Vector3();return function(d){var e=d||new THREE.Sphere();e.center=this.center();e.radius=this.size(f).length()*m2r.K2;return e;};}(),intersect:function(d){this.min.max(d.min);this.max.min(d.max);if(this.isEmpty())this.makeEmpty();return this;},union:function(d){this.min.min(d.min);this.max.max(d.max);return this;},applyMatrix4:function(){var e=[new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3()];return function(d){if(this.isEmpty())return this;e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(d);e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(d);e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(d);e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(d);e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(d);e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(d);e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(d);e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(d);this.setFromPoints(e);return this;};}(),translate:function(d){this.min.add(d);this.max.add(d);return this;},equals:function(d){return d.min.equals(this.min)&&d.max.equals(this.max);}};THREE.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);if(arguments.length>0){console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');}};THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(d,e,f,i,j,k,m,n,u){var v=this.elements;v[0]=d;v[1]=i;v[2]=m;v[3]=e;v[4]=j;v[5]=n;v[6]=f;v[7]=k;v[8]=u;return this;},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this;},clone:function(){return new this.constructor().fromArray(this.elements);},copy:function(d){var e=d.elements;this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]);return this;},setFromMatrix4:function(d){var e=d.elements;this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]);return this;},applyToVector3Array:function(){var k;return function(d,e,f){if(k===undefined)k=new THREE.Vector3();if(e===undefined)e=0;if(f===undefined)f=d.length;for(var i=0,j=e;i<f;i+=3,j+=3){k.fromArray(d,j);k.applyMatrix3(this);k.toArray(d,j);}return d;};}(),applyToBuffer:function(){var k;return function m(d,e,f){if(k===undefined)k=new THREE.Vector3();if(e===undefined)e=0;if(f===undefined)f=d.length/d.itemSize;for(var i=0,j=e;i<f;i++,j++){k.x=d.getX(j);k.y=d.getY(j);k.z=d.getZ(j);k.applyMatrix3(this);d.setXYZ(k.x,k.y,k.z);}return d;};}(),multiplyScalar:function(d){var e=this.elements;e[0]*=d;e[3]*=d;e[6]*=d;e[1]*=d;e[4]*=d;e[7]*=d;e[2]*=d;e[5]*=d;e[8]*=d;return this;},determinant:function(){var d=this.elements,e=d[0],f=d[1],i=d[2],j=d[3],k=d[4],m=d[5],n=d[6],u=d[7],v=d[8];return e*k*v-e*m*u-f*j*v+f*m*n+i*j*u-i*k*n;},getInverse:function(d,e){if(d instanceof THREE.Matrix4){console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");}var f=d.elements,i=this.elements,j=f[0],k=f[1],m=f[2],n=f[3],u=f[4],v=f[5],A=f[6],B=f[7],F=f[8],G=F*u-v*B,L=v*A-F*n,H=B*n-u*A,J=j*G+k*L+m*H;if(J===0){var T="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(e||m2r.e5){throw  new Error(T);}else{console.warn(T);}return this.identity();}i[0]=G;i[1]=m*B-F*k;i[2]=v*k-m*u;i[3]=L;i[4]=F*j-m*A;i[5]=m*n-v*j;i[6]=H;i[7]=k*A-B*j;i[8]=u*j-k*n;return this.multiplyScalar(1/J);},transpose:function(){var d,e=this.elements;d=e[1];e[1]=e[3];e[3]=d;d=e[2];e[2]=e[6];e[6]=d;d=e[5];e[5]=e[7];e[7]=d;return this;},flattenToArrayOffset:function(d,e){console.warn(m2r.Z1+m2r.c4);return this.toArray(d,e);},getNormalMatrix:function(d){return this.setFromMatrix4(d).getInverse(this).transpose();},transposeIntoArray:function(d){var e=this.elements;d[0]=e[0];d[1]=e[3];d[2]=e[6];d[3]=e[1];d[4]=e[4];d[5]=e[7];d[6]=e[2];d[7]=e[5];d[8]=e[8];return this;},fromArray:function(d){this.elements.set(d);return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;var f=this.elements;d[e]=f[0];d[e+1]=f[1];d[e+2]=f[2];d[e+3]=f[3];d[e+4]=f[4];d[e+5]=f[5];d[e+6]=f[6];d[e+7]=f[7];d[e+8]=f[8];return d;}};THREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);if(arguments.length>0){console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');}};THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(d,e,f,i,j,k,m,n,u,v,A,B,F,G,L,H){var J=this.elements;J[0]=d;J[4]=e;J[8]=f;J[12]=i;J[1]=j;J[5]=k;J[9]=m;J[13]=n;J[2]=u;J[6]=v;J[10]=A;J[14]=B;J[3]=F;J[7]=G;J[11]=L;J[15]=H;return this;},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this;},clone:function(){return new THREE.Matrix4().fromArray(this.elements);},copy:function(d){this.elements.set(d.elements);return this;},copyPosition:function(d){var e=this.elements,f=d.elements;e[12]=f[12];e[13]=f[13];e[14]=f[14];return this;},extractBasis:function(d,e,f){d.setFromMatrixColumn(this,0);e.setFromMatrixColumn(this,1);f.setFromMatrixColumn(this,2);return this;},makeBasis:function(d,e,f){this.set(d.x,e.x,f.x,0,d.y,e.y,f.y,0,d.z,e.z,f.z,0,0,0,0,1);return this;},extractRotation:function(){var m;return function(d){if(m===undefined)m=new THREE.Vector3();var e=this.elements,f=d.elements,i=1/m.setFromMatrixColumn(d,0).length(),j=1/m.setFromMatrixColumn(d,1).length(),k=1/m.setFromMatrixColumn(d,2).length();e[0]=f[0]*i;e[1]=f[1]*i;e[2]=f[2]*i;e[4]=f[4]*j;e[5]=f[5]*j;e[6]=f[6]*j;e[8]=f[8]*k;e[9]=f[9]*k;e[10]=f[10]*k;return this;};}(),makeRotationFromEuler:function(d){if(d instanceof THREE.Euler===m2r.e5){console.error('THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');}var e=this.elements,f=d.x,i=d.y,j=d.z,k=Math.cos(f),m=Math.sin(f),n=Math.cos(i),u=Math.sin(i),v=Math.cos(j),A=Math.sin(j);if(d.order===m2r.W2){var B=k*v,F=k*A,G=m*v,L=m*A;e[0]=n*v;e[4]=-n*A;e[8]=u;e[1]=F+G*u;e[5]=B-L*u;e[9]=-m*n;e[2]=L-B*u;e[6]=G+F*u;e[10]=k*n;}else if(d.order==='YXZ'){var H=n*v,J=n*A,T=u*v,i0=u*A;e[0]=H+i0*m;e[4]=T*m-J;e[8]=k*u;e[1]=k*A;e[5]=k*v;e[9]=-m;e[2]=J*m-T;e[6]=i0+H*m;e[10]=k*n;}else if(d.order==='ZXY'){var H=n*v,J=n*A,T=u*v,i0=u*A;e[0]=H-i0*m;e[4]=-k*A;e[8]=T+J*m;e[1]=J+T*m;e[5]=k*v;e[9]=i0-H*m;e[2]=-k*u;e[6]=m;e[10]=k*n;}else if(d.order==='ZYX'){var B=k*v,F=k*A,G=m*v,L=m*A;e[0]=n*v;e[4]=G*u-F;e[8]=B*u+L;e[1]=n*A;e[5]=L*u+B;e[9]=F*u-G;e[2]=-u;e[6]=m*n;e[10]=k*n;}else if(d.order==='YZX'){var b0=k*n,N=k*u,l0=m*n,m0=m*u;e[0]=n*v;e[4]=m0-b0*A;e[8]=l0*A+N;e[1]=A;e[5]=k*v;e[9]=-m*v;e[2]=-u*v;e[6]=N*A+l0;e[10]=b0-m0*A;}else if(d.order==='XZY'){var b0=k*n,N=k*u,l0=m*n,m0=m*u;e[0]=n*v;e[4]=-A;e[8]=u*v;e[1]=b0*A+m0;e[5]=k*v;e[9]=N*A-l0;e[2]=l0*A-N;e[6]=m*v;e[10]=m0*A+b0;}e[3]=0;e[7]=0;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return this;},makeRotationFromQuaternion:function(d){var e=this.elements,f=d.x,i=d.y,j=d.z,k=d.w,m=f+f,n=i+i,u=j+j,v=f*m,A=f*n,B=f*u,F=i*n,G=i*u,L=j*u,H=k*m,J=k*n,T=k*u;e[0]=1-(F+L);e[4]=A-T;e[8]=B+J;e[1]=A+T;e[5]=1-(v+L);e[9]=G-H;e[2]=B-J;e[6]=G+H;e[10]=1-(v+F);e[3]=0;e[7]=0;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return this;},lookAt:function(){var j,k,m;return function(d,e,f){if(j===undefined)j=new THREE.Vector3();if(k===undefined)k=new THREE.Vector3();if(m===undefined)m=new THREE.Vector3();var i=this.elements;m.subVectors(d,e).normalize();if(m.lengthSq()===0){m.z=1;}j.crossVectors(f,m).normalize();if(j.lengthSq()===0){m.x+=0.0001;j.crossVectors(f,m).normalize();}k.crossVectors(m,j);i[0]=j.x;i[4]=k.x;i[8]=m.x;i[1]=j.y;i[5]=k.y;i[9]=m.y;i[2]=j.z;i[6]=k.z;i[10]=m.z;return this;};}(),multiply:function(d,e){if(e!==undefined){console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');return this.multiplyMatrices(d,e);}return this.multiplyMatrices(this,d);},premultiply:function(d){return this.multiplyMatrices(d,this);},multiplyMatrices:function(d,e){var f=d.elements,i=e.elements,j=this.elements,k=f[0],m=f[4],n=f[8],u=f[12],v=f[1],A=f[5],B=f[9],F=f[13],G=f[2],L=f[6],H=f[10],J=f[14],T=f[3],i0=f[7],b0=f[11],N=f[15],l0=i[0],m0=i[4],o0=i[8],n0=i[12],s0=i[1],z0=i[5],B0=i[9],y0=i[13],x0=i[2],w0=i[6],J0=i[10],O0=i[14],A0=i[3],M0=i[7],H0=i[11],E0=i[15];j[0]=k*l0+m*s0+n*x0+u*A0;j[4]=k*m0+m*z0+n*w0+u*M0;j[8]=k*o0+m*B0+n*J0+u*H0;j[12]=k*n0+m*y0+n*O0+u*E0;j[1]=v*l0+A*s0+B*x0+F*A0;j[5]=v*m0+A*z0+B*w0+F*M0;j[9]=v*o0+A*B0+B*J0+F*H0;j[13]=v*n0+A*y0+B*O0+F*E0;j[2]=G*l0+L*s0+H*x0+J*A0;j[6]=G*m0+L*z0+H*w0+J*M0;j[10]=G*o0+L*B0+H*J0+J*H0;j[14]=G*n0+L*y0+H*O0+J*E0;j[3]=T*l0+i0*s0+b0*x0+N*A0;j[7]=T*m0+i0*z0+b0*w0+N*M0;j[11]=T*o0+i0*B0+b0*J0+N*H0;j[15]=T*n0+i0*y0+b0*O0+N*E0;return this;},multiplyToArray:function(d,e,f){var i=this.elements;this.multiplyMatrices(d,e);f[0]=i[0];f[1]=i[1];f[2]=i[2];f[3]=i[3];f[4]=i[4];f[5]=i[5];f[6]=i[6];f[7]=i[7];f[8]=i[8];f[9]=i[9];f[10]=i[10];f[11]=i[11];f[12]=i[12];f[13]=i[13];f[14]=i[14];f[15]=i[15];return this;},multiplyScalar:function(d){var e=this.elements;e[0]*=d;e[4]*=d;e[8]*=d;e[12]*=d;e[1]*=d;e[5]*=d;e[9]*=d;e[13]*=d;e[2]*=d;e[6]*=d;e[10]*=d;e[14]*=d;e[3]*=d;e[7]*=d;e[11]*=d;e[15]*=d;return this;},applyToVector3Array:function(){var k;return function(d,e,f){if(k===undefined)k=new THREE.Vector3();if(e===undefined)e=0;if(f===undefined)f=d.length;for(var i=0,j=e;i<f;i+=3,j+=3){k.fromArray(d,j);k.applyMatrix4(this);k.toArray(d,j);}return d;};}(),applyToBuffer:function(){var k;return function m(d,e,f){if(k===undefined)k=new THREE.Vector3();if(e===undefined)e=0;if(f===undefined)f=d.length/d.itemSize;for(var i=0,j=e;i<f;i++,j++){k.x=d.getX(j);k.y=d.getY(j);k.z=d.getZ(j);k.applyMatrix4(this);d.setXYZ(k.x,k.y,k.z);}return d;};}(),determinant:function(){var d=this.elements,e=d[0],f=d[4],i=d[8],j=d[12],k=d[1],m=d[5],n=d[9],u=d[13],v=d[2],A=d[6],B=d[10],F=d[14],G=d[3],L=d[7],H=d[11],J=d[15];return (G*(+j*n*A-i*u*A-j*m*B+f*u*B+i*m*F-f*n*F)+L*(+e*n*F-e*u*B+j*k*B-i*k*F+i*u*v-j*n*v)+H*(+e*u*A-e*m*F-j*k*A+f*k*F+j*m*v-f*u*v)+J*(-i*m*v-e*n*A+e*m*B+i*k*A-f*k*B+f*n*v));},transpose:function(){var d=this.elements,e;e=d[1];d[1]=d[4];d[4]=e;e=d[2];d[2]=d[8];d[8]=e;e=d[6];d[6]=d[9];d[9]=e;e=d[3];d[3]=d[12];d[12]=e;e=d[7];d[7]=d[13];d[13]=e;e=d[11];d[11]=d[14];d[14]=e;return this;},flattenToArrayOffset:function(d,e){console.warn(m2r.Z1+m2r.c4);return this.toArray(d,e);},getPosition:function(){var d;return function(){if(d===undefined)d=new THREE.Vector3();console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');return d.setFromMatrixColumn(this,3);};}(),setPosition:function(d){var e=this.elements;e[12]=d.x;e[13]=d.y;e[14]=d.z;return this;},getInverse:function(d,e){var f=this.elements,i=d.elements,j=i[0],k=i[1],m=i[2],n=i[3],u=i[4],v=i[5],A=i[6],B=i[7],F=i[8],G=i[9],L=i[10],H=i[11],J=i[12],T=i[13],i0=i[14],b0=i[15],N=G*i0*B-T*L*B+T*A*H-v*i0*H-G*A*b0+v*L*b0,l0=J*L*B-F*i0*B-J*A*H+u*i0*H+F*A*b0-u*L*b0,m0=F*T*B-J*G*B+J*v*H-u*T*H-F*v*b0+u*G*b0,o0=J*G*A-F*T*A-J*v*L+u*T*L+F*v*i0-u*G*i0,n0=j*N+k*l0+m*m0+n*o0;if(n0===0){var s0="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(e||m2r.e5){throw  new Error(s0);}else{console.warn(s0);}return this.identity();}f[0]=N;f[1]=T*L*n-G*i0*n-T*m*H+k*i0*H+G*m*b0-k*L*b0;f[2]=v*i0*n-T*A*n+T*m*B-k*i0*B-v*m*b0+k*A*b0;f[3]=G*A*n-v*L*n-G*m*B+k*L*B+v*m*H-k*A*H;f[4]=l0;f[5]=F*i0*n-J*L*n+J*m*H-j*i0*H-F*m*b0+j*L*b0;f[6]=J*A*n-u*i0*n-J*m*B+j*i0*B+u*m*b0-j*A*b0;f[7]=u*L*n-F*A*n+F*m*B-j*L*B-u*m*H+j*A*H;f[8]=m0;f[9]=J*G*n-F*T*n-J*k*H+j*T*H+F*k*b0-j*G*b0;f[10]=u*T*n-J*v*n+J*k*B-j*T*B-u*k*b0+j*v*b0;f[11]=F*v*n-u*G*n-F*k*B+j*G*B+u*k*H-j*v*H;f[12]=o0;f[13]=F*T*m-J*G*m+J*k*L-j*T*L-F*k*i0+j*G*i0;f[14]=J*v*m-u*T*m-J*k*A+j*T*A+u*k*i0-j*v*i0;f[15]=u*G*m-F*v*m+F*k*A-j*G*A-u*k*L+j*v*L;return this.multiplyScalar(1/n0);},scale:function(d){var e=this.elements,f=d.x,i=d.y,j=d.z;e[0]*=f;e[4]*=i;e[8]*=j;e[1]*=f;e[5]*=i;e[9]*=j;e[2]*=f;e[6]*=i;e[10]*=j;e[3]*=f;e[7]*=i;e[11]*=j;return this;},getMaxScaleOnAxis:function(){var d=this.elements,e=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],f=d[4]*d[4]+d[5]*d[5]+d[6]*d[6],i=d[8]*d[8]+d[9]*d[9]+d[10]*d[10];return Math.sqrt(Math.max(e,f,i));},makeTranslation:function(d,e,f){this.set(1,0,0,d,0,1,0,e,0,0,1,f,0,0,0,1);return this;},makeRotationX:function(d){var e=Math.cos(d),f=Math.sin(d);this.set(1,0,0,0,0,e,-f,0,0,f,e,0,0,0,0,1);return this;},makeRotationY:function(d){var e=Math.cos(d),f=Math.sin(d);this.set(e,0,f,0,0,1,0,0,-f,0,e,0,0,0,0,1);return this;},makeRotationZ:function(d){var e=Math.cos(d),f=Math.sin(d);this.set(e,-f,0,0,f,e,0,0,0,0,1,0,0,0,0,1);return this;},makeRotationAxis:function(d,e){var f=Math.cos(e),i=Math.sin(e),j=1-f,k=d.x,m=d.y,n=d.z,u=j*k,v=j*m;this.set(u*k+f,u*m-i*n,u*n+i*m,0,u*m+i*n,v*m+f,v*n-i*k,0,u*n-i*m,v*n+i*k,j*n*n+f,0,0,0,0,1);return this;},makeScale:function(d,e,f){this.set(d,0,0,0,0,e,0,0,0,0,f,0,0,0,0,1);return this;},compose:function(d,e,f){this.makeRotationFromQuaternion(e);this.scale(f);this.setPosition(d);return this;},decompose:function(){var B,F;return function(d,e,f){if(B===undefined)B=new THREE.Vector3();if(F===undefined)F=new THREE.Matrix4();var i=this.elements,j=B.set(i[0],i[1],i[2]).length(),k=B.set(i[4],i[5],i[6]).length(),m=B.set(i[8],i[9],i[10]).length(),n=this.determinant();if(n<0){j=-j;}d.x=i[12];d.y=i[13];d.z=i[14];F.elements.set(this.elements);var u=1/j,v=1/k,A=1/m;F.elements[0]*=u;F.elements[1]*=u;F.elements[2]*=u;F.elements[4]*=v;F.elements[5]*=v;F.elements[6]*=v;F.elements[8]*=A;F.elements[9]*=A;F.elements[10]*=A;e.setFromRotationMatrix(F);f.x=j;f.y=k;f.z=m;return this;};}(),makeFrustum:function(d,e,f,i,j,k){var m=this.elements,n=2*j/(e-d),u=2*j/(i-f),v=(e+d)/(e-d),A=(i+f)/(i-f),B=-(k+j)/(k-j),F=-2*k*j/(k-j);m[0]=n;m[4]=0;m[8]=v;m[12]=0;m[1]=0;m[5]=u;m[9]=A;m[13]=0;m[2]=0;m[6]=0;m[10]=B;m[14]=F;m[3]=0;m[7]=0;m[11]=-1;m[15]=0;return this;},makePerspective:function(d,e,f,i){var j=f*Math.tan(THREE.Math.DEG2RAD*d*m2r.K2),k=-j,m=k*e,n=j*e;return this.makeFrustum(m,n,k,j,f,i);},makeOrthographic:function(d,e,f,i,j,k){var m=this.elements,n=m2r.d5/(e-d),u=m2r.d5/(f-i),v=m2r.d5/(k-j),A=(e+d)*n,B=(f+i)*u,F=(k+j)*v;m[0]=2*n;m[4]=0;m[8]=0;m[12]=-A;m[1]=0;m[5]=2*u;m[9]=0;m[13]=-B;m[2]=0;m[6]=0;m[10]=-2*v;m[14]=-F;m[3]=0;m[7]=0;m[11]=0;m[15]=1;return this;},equals:function(d){var e=this.elements,f=d.elements;for(var i=0;i<16;i++){if(e[i]!==f[i])return m2r.e5;}return m2r.t4;},fromArray:function(d){this.elements.set(d);return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;var f=this.elements;d[e]=f[0];d[e+1]=f[1];d[e+2]=f[2];d[e+3]=f[3];d[e+4]=f[4];d[e+5]=f[5];d[e+6]=f[6];d[e+7]=f[7];d[e+8]=f[8];d[e+9]=f[9];d[e+10]=f[10];d[e+11]=f[11];d[e+12]=f[12];d[e+13]=f[13];d[e+14]=f[14];d[e+15]=f[15];return d;}};THREE.Ray=function(d,e){this.origin=(d!==undefined)?d:new THREE.Vector3();this.direction=(e!==undefined)?e:new THREE.Vector3();};THREE.Ray.prototype={constructor:THREE.Ray,set:function(d,e){this.origin.copy(d);this.direction.copy(e);return this;},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.origin.copy(d.origin);this.direction.copy(d.direction);return this;},at:function(d,e){var f=e||new THREE.Vector3();return f.copy(this.direction).multiplyScalar(d).add(this.origin);},lookAt:function(d){this.direction.copy(d).sub(this.origin).normalize();},recast:function(){var e=new THREE.Vector3();return function(d){this.origin.copy(this.at(d,e));return this;};}(),closestPointToPoint:function(d,e){var f=e||new THREE.Vector3();f.subVectors(d,this.origin);var i=f.dot(this.direction);if(i<0){return f.copy(this.origin);}return f.copy(this.direction).multiplyScalar(i).add(this.origin);},distanceToPoint:function(d){return Math.sqrt(this.distanceSqToPoint(d));},distanceSqToPoint:function(){var f=new THREE.Vector3();return function(d){var e=f.subVectors(d,this.origin).dot(this.direction);if(e<0){return this.origin.distanceToSquared(d);}f.copy(this.direction).multiplyScalar(e).add(this.origin);return f.distanceToSquared(d);};}(),distanceSqToSegment:function(){var H=new THREE.Vector3(),J=new THREE.Vector3(),T=new THREE.Vector3();return function(d,e,f,i){H.copy(d).add(e).multiplyScalar(m2r.K2);J.copy(e).sub(d).normalize();T.copy(this.origin).sub(H);var j=d.distanceTo(e)*m2r.K2,k=-this.direction.dot(J),m=T.dot(this.direction),n=-T.dot(J),u=T.lengthSq(),v=Math.abs(1-k*k),A,B,F,G;if(v>0){A=k*n-m;B=k*m-n;G=j*v;if(A>=0){if(B>=-G){if(B<=G){var L=1/v;A*=L;B*=L;F=A*(A+k*B+2*m)+B*(k*A+B+2*n)+u;}else{B=j;A=Math.max(0,-(k*B+m));F=-A*A+B*(B+2*n)+u;}}else{B=-j;A=Math.max(0,-(k*B+m));F=-A*A+B*(B+2*n)+u;}}else{if(B<=-G){A=Math.max(0,-(-k*j+m));B=(A>0)?-j:Math.min(Math.max(-j,-n),j);F=-A*A+B*(B+2*n)+u;}else if(B<=G){A=0;B=Math.min(Math.max(-j,-n),j);F=B*(B+2*n)+u;}else{A=Math.max(0,-(k*j+m));B=(A>0)?j:Math.min(Math.max(-j,-n),j);F=-A*A+B*(B+2*n)+u;}}}else{B=(k>0)?-j:j;A=Math.max(0,-(k*B+m));F=-A*A+B*(B+2*n)+u;}if(f){f.copy(this.direction).multiplyScalar(A).add(this.origin);}if(i){i.copy(J).multiplyScalar(B).add(H);}return F;};}(),intersectSphere:function(){var u=new THREE.Vector3();return function(d,e){u.subVectors(d.center,this.origin);var f=u.dot(this.direction),i=u.dot(u)-f*f,j=d.radius*d.radius;if(i>j)return m2r.r4;var k=Math.sqrt(j-i),m=f-k,n=f+k;if(m<0&&n<0)return m2r.r4;if(m<0)return this.at(n,e);return this.at(m,e);};}(),intersectsSphere:function(d){return this.distanceToPoint(d.center)<=d.radius;},distanceToPlane:function(d){var e=d.normal.dot(this.direction);if(e===0){if(d.distanceToPoint(this.origin)===0){return 0;}return m2r.r4;}var f=-(this.origin.dot(d.normal)+d.constant)/e;return f>=0?f:m2r.r4;},intersectPlane:function(d,e){var f=this.distanceToPlane(d);if(f===m2r.r4){return m2r.r4;}return this.at(f,e);},intersectsPlane:function(d){var e=d.distanceToPoint(this.origin);if(e===0){return m2r.t4;}var f=d.normal.dot(this.direction);if(f*e<0){return m2r.t4;}return m2r.e5;},intersectBox:function(d,e){var f,i,j,k,m,n,u=1/this.direction.x,v=1/this.direction.y,A=1/this.direction.z,B=this.origin;if(u>=0){f=(d.min.x-B.x)*u;i=(d.max.x-B.x)*u;}else{f=(d.max.x-B.x)*u;i=(d.min.x-B.x)*u;}if(v>=0){j=(d.min.y-B.y)*v;k=(d.max.y-B.y)*v;}else{j=(d.max.y-B.y)*v;k=(d.min.y-B.y)*v;}if((f>k)||(j>i))return m2r.r4;if(j>f||f!==f)f=j;if(k<i||i!==i)i=k;if(A>=0){m=(d.min.z-B.z)*A;n=(d.max.z-B.z)*A;}else{m=(d.max.z-B.z)*A;n=(d.min.z-B.z)*A;}if((f>n)||(m>i))return m2r.r4;if(m>f||f!==f)f=m;if(n<i||i!==i)i=n;if(i<0)return m2r.r4;return this.at(f>=0?f:i,e);},intersectsBox:(function(){var e=new THREE.Vector3();return function(d){return this.intersectBox(d,e)!==m2r.r4;};})(),intersectTriangle:function(){var A=new THREE.Vector3(),B=new THREE.Vector3(),F=new THREE.Vector3(),G=new THREE.Vector3();return function(d,e,f,i,j){B.subVectors(e,d);F.subVectors(f,d);G.crossVectors(B,F);var k=this.direction.dot(G),m;if(k>0){if(i)return m2r.r4;m=1;}else if(k<0){m=-1;k=-k;}else{return m2r.r4;}A.subVectors(this.origin,d);var n=m*this.direction.dot(F.crossVectors(A,F));if(n<0){return m2r.r4;}var u=m*this.direction.dot(B.cross(A));if(u<0){return m2r.r4;}if(n+u>k){return m2r.r4;}var v=-m*A.dot(G);if(v<0){return m2r.r4;}return this.at(v/k,j);};}(),applyMatrix4:function(d){this.direction.add(this.origin).applyMatrix4(d);this.origin.applyMatrix4(d);this.direction.sub(this.origin);this.direction.normalize();return this;},equals:function(d){return d.origin.equals(this.origin)&&d.direction.equals(this.direction);}};THREE.Sphere=function(d,e){this.center=(d!==undefined)?d:new THREE.Vector3();this.radius=(e!==undefined)?e:0;};THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(d,e){this.center.copy(d);this.radius=e;return this;},setFromPoints:function(){var m=new THREE.Box3();return function(d,e){var f=this.center;if(e!==undefined){f.copy(e);}else{m.setFromPoints(d).center(f);}var i=0;for(var j=0,k=d.length;j<k;j++){i=Math.max(i,f.distanceToSquared(d[j]));}this.radius=Math.sqrt(i);return this;};}(),clone:function(){return new this.constructor().copy(this);},copy:function(d){this.center.copy(d.center);this.radius=d.radius;return this;},empty:function(){return (this.radius<=0);},containsPoint:function(d){return (d.distanceToSquared(this.center)<=(this.radius*this.radius));},distanceToPoint:function(d){return (d.distanceTo(this.center)-this.radius);},intersectsSphere:function(d){var e=this.radius+d.radius;return d.center.distanceToSquared(this.center)<=(e*e);},intersectsBox:function(d){return d.intersectsSphere(this);},intersectsPlane:function(d){return Math.abs(this.center.dot(d.normal)-d.constant)<=this.radius;},clampPoint:function(d,e){var f=this.center.distanceToSquared(d),i=e||new THREE.Vector3();i.copy(d);if(f>(this.radius*this.radius)){i.sub(this.center).normalize();i.multiplyScalar(this.radius).add(this.center);}return i;},getBoundingBox:function(d){var e=d||new THREE.Box3();e.set(this.center,this.center);e.expandByScalar(this.radius);return e;},applyMatrix4:function(d){this.center.applyMatrix4(d);this.radius=this.radius*d.getMaxScaleOnAxis();return this;},translate:function(d){this.center.add(d);return this;},equals:function(d){return d.center.equals(this.center)&&(d.radius===this.radius);}};THREE.Frustum=function(d,e,f,i,j,k){this.planes=[(d!==undefined)?d:new THREE.Plane(),(e!==undefined)?e:new THREE.Plane(),(f!==undefined)?f:new THREE.Plane(),(i!==undefined)?i:new THREE.Plane(),(j!==undefined)?j:new THREE.Plane(),(k!==undefined)?k:new THREE.Plane()];};THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(d,e,f,i,j,k){var m=this.planes;m[0].copy(d);m[1].copy(e);m[2].copy(f);m[3].copy(i);m[4].copy(j);m[5].copy(k);return this;},clone:function(){return new this.constructor().copy(this);},copy:function(d){var e=this.planes;for(var f=0;f<6;f++){e[f].copy(d.planes[f]);}return this;},setFromMatrix:function(d){var e=this.planes,f=d.elements,i=f[0],j=f[1],k=f[2],m=f[3],n=f[4],u=f[5],v=f[6],A=f[7],B=f[8],F=f[9],G=f[10],L=f[11],H=f[12],J=f[13],T=f[14],i0=f[15];e[0].setComponents(m-i,A-n,L-B,i0-H).normalize();e[1].setComponents(m+i,A+n,L+B,i0+H).normalize();e[2].setComponents(m+j,A+u,L+F,i0+J).normalize();e[3].setComponents(m-j,A-u,L-F,i0-J).normalize();e[4].setComponents(m-k,A-v,L-G,i0-T).normalize();e[5].setComponents(m+k,A+v,L+G,i0+T).normalize();return this;},intersectsObject:function(){var f=new THREE.Sphere();return function(d){var e=d.geometry;if(e.boundingSphere===m2r.r4)e.computeBoundingSphere();f.copy(e.boundingSphere);f.applyMatrix4(d.matrixWorld);return this.intersectsSphere(f);};}(),intersectsSphere:function(d){var e=this.planes,f=d.center,i=-d.radius;for(var j=0;j<6;j++){var k=e[j].distanceToPoint(f);if(k<i){return m2r.e5;}}return m2r.t4;},intersectsBox:function(){var m=new THREE.Vector3(),n=new THREE.Vector3();return function(d){var e=this.planes;for(var f=0;f<6;f++){var i=e[f];m.x=i.normal.x>0?d.min.x:d.max.x;n.x=i.normal.x>0?d.max.x:d.min.x;m.y=i.normal.y>0?d.min.y:d.max.y;n.y=i.normal.y>0?d.max.y:d.min.y;m.z=i.normal.z>0?d.min.z:d.max.z;n.z=i.normal.z>0?d.max.z:d.min.z;var j=i.distanceToPoint(m),k=i.distanceToPoint(n);if(j<0&&k<0){return m2r.e5;}}return m2r.t4;};}(),containsPoint:function(d){var e=this.planes;for(var f=0;f<6;f++){if(e[f].distanceToPoint(d)<0){return m2r.e5;}}return m2r.t4;}};THREE.Plane=function(d,e){this.normal=(d!==undefined)?d:new THREE.Vector3(1,0,0);this.constant=(e!==undefined)?e:0;};THREE.Plane.prototype={constructor:THREE.Plane,set:function(d,e){this.normal.copy(d);this.constant=e;return this;},setComponents:function(d,e,f,i){this.normal.set(d,e,f);this.constant=i;return this;},setFromNormalAndCoplanarPoint:function(d,e){this.normal.copy(d);this.constant=-e.dot(this.normal);return this;},setFromCoplanarPoints:function(){var j=new THREE.Vector3(),k=new THREE.Vector3();return function(d,e,f){var i=j.subVectors(f,e).cross(k.subVectors(d,e)).normalize();this.setFromNormalAndCoplanarPoint(i,d);return this;};}(),clone:function(){return new this.constructor().copy(this);},copy:function(d){this.normal.copy(d.normal);this.constant=d.constant;return this;},normalize:function(){var d=m2r.d5/this.normal.length();this.normal.multiplyScalar(d);this.constant*=d;return this;},negate:function(){this.constant*=-1;this.normal.negate();return this;},distanceToPoint:function(d){return this.normal.dot(d)+this.constant;},distanceToSphere:function(d){return this.distanceToPoint(d.center)-d.radius;},projectPoint:function(d,e){return this.orthoPoint(d,e).sub(d).negate();},orthoPoint:function(d,e){var f=this.distanceToPoint(d),i=e||new THREE.Vector3();return i.copy(this.normal).multiplyScalar(f);},intersectLine:function(){var m=new THREE.Vector3();return function(d,e){var f=e||new THREE.Vector3(),i=d.delta(m),j=this.normal.dot(i);if(j===0){if(this.distanceToPoint(d.start)===0){return f.copy(d.start);}return undefined;}var k=-(d.start.dot(this.normal)+this.constant)/j;if(k<0||k>1){return undefined;}return f.copy(i).multiplyScalar(k).add(d.start);};}(),intersectsLine:function(d){var e=this.distanceToPoint(d.start),f=this.distanceToPoint(d.end);return (e<0&&f>0)||(f<0&&e>0);},intersectsBox:function(d){return d.intersectsPlane(this);},intersectsSphere:function(d){return d.intersectsPlane(this);},coplanarPoint:function(d){var e=d||new THREE.Vector3();return e.copy(this.normal).multiplyScalar(-this.constant);},applyMatrix4:function(){var k=new THREE.Vector3(),m=new THREE.Matrix3();return function(d,e){var f=this.coplanarPoint(k).applyMatrix4(d),i=e||m.getNormalMatrix(d),j=this.normal.applyMatrix3(i).normalize();this.constant=-f.dot(j);return this;};}(),translate:function(d){this.constant=this.constant-d.dot(this.normal);return this;},equals:function(d){return d.normal.equals(this.normal)&&(d.constant===this.constant);}};THREE.Spherical=function(d,e,f){this.radius=(d!==undefined)?d:m2r.d5;this.phi=(e!==undefined)?e:0;this.theta=(f!==undefined)?f:0;return this;};THREE.Spherical.prototype={constructor:THREE.Spherical,set:function(d,e,f){this.radius=d;this.phi=e;this.theta=f;},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.radius.copy(d.radius);this.phi.copy(d.phi);this.theta.copy(d.theta);return this;},makeSafe:function(){var d=0.000001;this.phi=Math.max(d,Math.min(Math.PI-d,this.phi));},setFromVector3:function(d){this.radius=d.length();if(this.radius===0){this.theta=0;this.phi=0;}else{this.theta=Math.atan2(d.x,d.z);this.phi=Math.acos(THREE.Math.clamp(d.y/this.radius,-1,1));}return this;},};THREE.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split(''),f=new Array(36),i=0,j;return function(){for(var d=0;d<36;d++){if(d===8||d===13||d===18||d===23){f[d]='-';}else if(d===14){f[d]='4';}else{if(i<=0x02)i=0x2000000+(Math.random()*0x1000000)|0;j=i&0xf;i=i>>4;f[d]=e[(d===19)?(j&0x3)|0x8:j];}}return f.join('');};}(),clamp:function(d,e,f){return Math.max(e,Math.min(f,d));},euclideanModulo:function(d,e){return ((d%e)+e)%e;},mapLinear:function(d,e,f,i,j){return i+(d-e)*(j-i)/(f-e);},smoothstep:function(d,e,f){if(d<=e)return 0;if(d>=f)return 1;d=(d-e)/(f-e);return d*d*(3-2*d);},smootherstep:function(d,e,f){if(d<=e)return 0;if(d>=f)return 1;d=(d-e)/(f-e);return d*d*d*(d*(d*6-15)+10);},random16:function(){console.warn('THREE.Math.random16() has been deprecated. Use Math.random() instead.');return Math.random();},randInt:function(d,e){return d+Math.floor(Math.random()*(e-d+1));},randFloat:function(d,e){return d+Math.random()*(e-d);},randFloatSpread:function(d){return d*(m2r.K2-Math.random());},degToRad:function(d){return d*THREE.Math.DEG2RAD;},radToDeg:function(d){return d*THREE.Math.RAD2DEG;},isPowerOfTwo:function(d){return (d&(d-1))===0&&d!==0;},nearestPowerOfTwo:function(d){return Math.pow(2,Math.round(Math.log(d)/Math.LN2));},nextPowerOfTwo:function(d){d--;d|=d>>1;d|=d>>2;d|=d>>4;d|=d>>8;d|=d>>16;d++;return d;}};THREE.Spline=function(F){this.points=F;var G=[],L={x:0,y:0,z:0},H,J,T,i0,b0,N,l0,m0,o0;this.initFromArray=function(d){this.points=[];for(var e=0;e<d.length;e++){this.points[e]={x:d[e][0],y:d[e][1],z:d[e][2]};}};this.getPoint=function(d){H=(this.points.length-1)*d;J=Math.floor(H);T=H-J;G[0]=J===0?J:J-1;G[1]=J;G[2]=J>this.points.length-2?this.points.length-1:J+1;G[3]=J>this.points.length-3?this.points.length-1:J+2;N=this.points[G[0]];l0=this.points[G[1]];m0=this.points[G[2]];o0=this.points[G[3]];i0=T*T;b0=T*i0;L.x=n0(N.x,l0.x,m0.x,o0.x,T,i0,b0);L.y=n0(N.y,l0.y,m0.y,o0.y,T,i0,b0);L.z=n0(N.z,l0.z,m0.z,o0.z,T,i0,b0);return L;};this.getControlPointsArray=function(){var d,e,f=this.points.length,i=[];for(d=0;d<f;d++){e=this.points[d];i[d]=[e.x,e.y,e.z];}return i;};this.getLength=function(d){var e,f,i,j,k=0,m=0,n=0,u=new THREE.Vector3(),v=new THREE.Vector3(),A=[],B=0;A[0]=0;if(!d)d=m2r.h5;i=this.points.length*d;u.copy(this.points[0]);for(e=1;e<i;e++){f=e/i;j=this.getPoint(f);v.copy(j);B+=v.distanceTo(u);u.copy(j);k=(this.points.length-1)*f;m=Math.floor(k);if(m!==n){A[m]=B;n=m;}}A[A.length]=B;return {chunks:A,total:B};};this.reparametrizeByArcLength=function(d){var e,f,i,j,k,m,n,u,v=[],A=new THREE.Vector3(),B=this.getLength();v.push(A.copy(this.points[0]).clone());for(e=1;e<this.points.length;e++){m=B.chunks[e]-B.chunks[e-1];n=Math.ceil(d*m/B.total);j=(e-1)/(this.points.length-1);k=e/(this.points.length-1);for(f=1;f<n-1;f++){i=j+f*(1/n)*(k-j);u=this.getPoint(i);v.push(A.copy(u).clone());}v.push(A.copy(this.points[e]).clone());}this.points=v;};function n0(d,e,f,i,j,k,m){var n=(f-d)*m2r.K2,u=(i-e)*m2r.K2;return (2*(e-f)+n+u)*m+(-3*(e-f)-2*n-u)*k+n*j+e;}};THREE.Triangle=function(d,e,f){this.a=(d!==undefined)?d:new THREE.Vector3();this.b=(e!==undefined)?e:new THREE.Vector3();this.c=(f!==undefined)?f:new THREE.Vector3();};THREE.Triangle.normal=function(){var m=new THREE.Vector3();return function(d,e,f,i){var j=i||new THREE.Vector3();j.subVectors(f,e);m.subVectors(d,e);j.cross(m);var k=j.lengthSq();if(k>0){return j.multiplyScalar(1/Math.sqrt(k));}return j.set(0,0,0);};}();THREE.Triangle.barycoordFromPoint=function(){var H=new THREE.Vector3(),J=new THREE.Vector3(),T=new THREE.Vector3();return function(d,e,f,i,j){H.subVectors(i,e);J.subVectors(f,e);T.subVectors(d,e);var k=H.dot(H),m=H.dot(J),n=H.dot(T),u=J.dot(J),v=J.dot(T),A=(k*u-m*m),B=j||new THREE.Vector3();if(A===0){return B.set(-2,-1,-1);}var F=1/A,G=(u*n-m*v)*F,L=(k*v-m*n)*F;return B.set(1-G-L,L,G);};}();THREE.Triangle.containsPoint=function(){var k=new THREE.Vector3();return function(d,e,f,i){var j=THREE.Triangle.barycoordFromPoint(d,e,f,i,k);return (j.x>=0)&&(j.y>=0)&&((j.x+j.y)<=1);};}();THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(d,e,f){this.a.copy(d);this.b.copy(e);this.c.copy(f);return this;},setFromPointsAndIndices:function(d,e,f,i){this.a.copy(d[e]);this.b.copy(d[f]);this.c.copy(d[i]);return this;},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.a.copy(d.a);this.b.copy(d.b);this.c.copy(d.c);return this;},area:function(){var d=new THREE.Vector3(),e=new THREE.Vector3();return function(){d.subVectors(this.c,this.b);e.subVectors(this.a,this.b);return d.cross(e).length()*m2r.K2;};}(),midpoint:function(d){var e=d||new THREE.Vector3();return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3);},normal:function(d){return THREE.Triangle.normal(this.a,this.b,this.c,d);},plane:function(d){var e=d||new THREE.Plane();return e.setFromCoplanarPoints(this.a,this.b,this.c);},barycoordFromPoint:function(d,e){return THREE.Triangle.barycoordFromPoint(d,this.a,this.b,this.c,e);},containsPoint:function(d){return THREE.Triangle.containsPoint(d,this.a,this.b,this.c);},closestPointToPoint:function(){var m,n,u,v;return function A(d,e){if(m===undefined){m=new THREE.Plane();n=[new THREE.Line3(),new THREE.Line3(),new THREE.Line3()];u=new THREE.Vector3();v=new THREE.Vector3();}var f=e||new THREE.Vector3(),i=Infinity;m.setFromCoplanarPoints(this.a,this.b,this.c);m.projectPoint(d,u);if(this.containsPoint(u)===m2r.t4){f.copy(u);}else{n[0].set(this.a,this.b);n[1].set(this.b,this.c);n[2].set(this.c,this.a);for(var j=0;j<n.length;j++){n[j].closestPointToPoint(u,m2r.t4,v);var k=u.distanceToSquared(v);if(k<i){i=k;f.copy(v);}}}return f;};}(),equals:function(d){return d.a.equals(this.a)&&d.b.equals(this.b)&&d.c.equals(this.c);}};THREE.Interpolant=function(d,e,f,i){this.parameterPositions=d;this._cachedIndex=0;this.resultBuffer=i!==undefined?i:new e.constructor(f);this.sampleValues=e;this.valueSize=f;};THREE.Interpolant.prototype={constructor:THREE.Interpolant,evaluate:function(d){var e=this.parameterPositions,f=this._cachedIndex,i=e[f],j=e[f-1];validate_interval:{seek:{var k;linear_scan:{forward_scan:if(!(d<i)){for(var m=f+2;;){if(i===undefined){if(d<j)break forward_scan;f=e.length;this._cachedIndex=f;return this.afterEnd_(f-1,d,j);}if(f===m)break;j=i;i=e[++f];if(d<i){break seek;}}k=e.length;break linear_scan;}if(!(d>=j)){var n=e[1];if(d<n){f=2;j=n;}for(var m=f-2;;){if(j===undefined){this._cachedIndex=0;return this.beforeStart_(0,d,i);}if(f===m)break;i=j;j=e[--f-1];if(d>=j){break seek;}}k=f;f=0;break linear_scan;}break validate_interval;}while(f<k){var u=(f+k)>>>1;if(d<e[u]){k=u;}else{f=u+1;}}i=e[f];j=e[f-1];if(j===undefined){this._cachedIndex=0;return this.beforeStart_(0,d,i);}if(i===undefined){f=e.length;this._cachedIndex=f;return this.afterEnd_(f-1,j,d);}}this._cachedIndex=f;this.intervalChanged_(f,j,i);}return this.interpolate_(f,j,d,i);},settings:m2r.r4,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_;},copySampleValue_:function(d){var e=this.resultBuffer,f=this.sampleValues,i=this.valueSize,j=d*i;for(var k=0;k!==i;++k){e[k]=f[j+k];}return e;},interpolate_:function(d,e,f,i){throw  new Error("call to abstract method");},intervalChanged_:function(d,e,f){}};Object.assign(THREE.Interpolant.prototype,{beforeStart_:THREE.Interpolant.prototype.copySampleValue_,afterEnd_:THREE.Interpolant.prototype.copySampleValue_});THREE.CubicInterpolant=function(d,e,f,i){THREE.Interpolant.call(this,d,e,f,i);this._weightPrev=-0;this._offsetPrev=-0;this._weightNext=-0;this._offsetNext=-0;};THREE.CubicInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.CubicInterpolant,DefaultSettings_:{endingStart:THREE.ZeroCurvatureEnding,endingEnd:THREE.ZeroCurvatureEnding},intervalChanged_:function(d,e,f){var i=this.parameterPositions,j=d-2,k=d+1,m=i[j],n=i[k];if(m===undefined){switch(this.getSettings_().endingStart){case THREE.ZeroSlopeEnding:j=d;m=2*e-f;break;case THREE.WrapAroundEnding:j=i.length-2;m=e+i[j]-i[j+1];break;default:j=d;m=f;}}if(n===undefined){switch(this.getSettings_().endingEnd){case THREE.ZeroSlopeEnding:k=d;n=2*f-e;break;case THREE.WrapAroundEnding:k=1;n=f+i[1]-i[0];break;default:k=d-1;n=e;}}var u=(f-e)*m2r.K2,v=this.valueSize;this._weightPrev=u/(e-m);this._weightNext=u/(n-f);this._offsetPrev=j*v;this._offsetNext=k*v;},interpolate_:function(d,e,f,i){var j=this.resultBuffer,k=this.sampleValues,m=this.valueSize,n=d*m,u=n-m,v=this._offsetPrev,A=this._offsetNext,B=this._weightPrev,F=this._weightNext,G=(f-e)/(i-e),L=G*G,H=L*G,J=-B*H+2*B*L-B*G,T=(1+B)*H+(-1.5-2*B)*L+(-m2r.K2+B)*G+1,i0=(-1-F)*H+(1.5+F)*L+m2r.K2*G,b0=F*H-F*L;for(var N=0;N!==m;++N){j[N]=J*k[v+N]+T*k[u+N]+i0*k[n+N]+b0*k[A+N];}return j;}});THREE.DiscreteInterpolant=function(d,e,f,i){THREE.Interpolant.call(this,d,e,f,i);};THREE.DiscreteInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.DiscreteInterpolant,interpolate_:function(d,e,f,i){return this.copySampleValue_(d-1);}});THREE.LinearInterpolant=function(d,e,f,i){THREE.Interpolant.call(this,d,e,f,i);};THREE.LinearInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.LinearInterpolant,interpolate_:function(d,e,f,i){var j=this.resultBuffer,k=this.sampleValues,m=this.valueSize,n=d*m,u=n-m,v=(f-e)/(i-e),A=1-v;for(var B=0;B!==m;++B){j[B]=k[u+B]*A+k[n+B]*v;}return j;}});THREE.QuaternionLinearInterpolant=function(d,e,f,i){THREE.Interpolant.call(this,d,e,f,i);};THREE.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.QuaternionLinearInterpolant,interpolate_:function(d,e,f,i){var j=this.resultBuffer,k=this.sampleValues,m=this.valueSize,n=d*m,u=(f-e)/(i-e);for(var v=n+m;n!==v;n+=4){THREE.Quaternion.slerpFlat(j,0,k,n-m,k,n,u);}return j;}});THREE.Clock=function(d){this.autoStart=(d!==undefined)?d:m2r.t4;this.startTime=0;this.oldTime=0;this.elapsedTime=0;this.running=m2r.e5;};THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.startTime=(performance||Date).now();this.oldTime=this.startTime;this.running=m2r.t4;},stop:function(){this.getElapsedTime();this.running=m2r.e5;},getElapsedTime:function(){this.getDelta();return this.elapsedTime;},getDelta:function(){var d=0;if(this.autoStart&&!this.running){this.start();}if(this.running){var e=(performance||Date).now();d=(e-this.oldTime)/1000;this.oldTime=e;this.elapsedTime+=d;}return d;}};THREE.EventDispatcher=function(){};THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(d){d.addEventListener=THREE.EventDispatcher.prototype.addEventListener;d.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener;d.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener;d.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent;},addEventListener:function(d,e){if(this._listeners===undefined)this._listeners={};var f=this._listeners;if(f[d]===undefined){f[d]=[];}if(f[d].indexOf(e)===-1){f[d].push(e);}},hasEventListener:function(d,e){if(this._listeners===undefined)return m2r.e5;var f=this._listeners;if(f[d]!==undefined&&f[d].indexOf(e)!==-1){return m2r.t4;}return m2r.e5;},removeEventListener:function(d,e){if(this._listeners===undefined)return ;var f=this._listeners,i=f[d];if(i!==undefined){var j=i.indexOf(e);if(j!==-1){i.splice(j,1);}}},dispatchEvent:function(d){if(this._listeners===undefined)return ;var e=this._listeners,f=e[d.type];if(f!==undefined){d.target=this;var i=[],j=f.length;for(var k=0;k<j;k++){i[k]=f[k];}for(var k=0;k<j;k++){i[k].call(this,d);}}}};THREE.Layers=function(){this.mask=1;};THREE.Layers.prototype={constructor:THREE.Layers,set:function(d){this.mask=1<<d;},enable:function(d){this.mask|=1<<d;},toggle:function(d){this.mask^=1<<d;},disable:function(d){this.mask&=~(1<<d);},test:function(d){return (this.mask&d.mask)!==0;}};(function(n){n.Raycaster=function(d,e,f,i){this.ray=new n.Ray(d,e);this.near=f||0;this.far=i||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.');return this.Points;}}});};function u(d,e){return d.distance-e.distance;}function v(d,e,f,i){if(d.visible===m2r.e5)return ;d.raycast(e,f);if(i===m2r.t4){var j=d.children;for(var k=0,m=j.length;k<m;k++){v(j[k],e,f,m2r.t4);}}}n.Raycaster.prototype={constructor:n.Raycaster,linePrecision:1,set:function(d,e){this.ray.set(d,e);},setFromCamera:function(d,e){if(e instanceof n.PerspectiveCamera){this.ray.origin.setFromMatrixPosition(e.matrixWorld);this.ray.direction.set(d.x,d.y,m2r.K2).unproject(e).sub(this.ray.origin).normalize();}else if(e instanceof n.OrthographicCamera){this.ray.origin.set(d.x,d.y,-1).unproject(e);this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld);}else{console.error('THREE.Raycaster: Unsupported camera type.');}},intersectObject:function(d,e){var f=[];v(d,this,f,e);f.sort(u);return f;},intersectObjects:function(d,e){var f=[];if(Array.isArray(d)===m2r.e5){console.warn('THREE.Raycaster.intersectObjects: objects is not an Array.');return f;}for(var i=0,j=d.length;i<j;i++){v(d[i],this,f,e);}f.sort(u);return f;}};}(THREE));THREE.Object3D=function(){Object.defineProperty(this,m2r.q2,{value:THREE.Object3DIdCount++});this.uuid=THREE.Math.generateUUID();this.name='';this.type='Object3D';this.parent=m2r.r4;this.children=[];this.up=THREE.Object3D.DefaultUp.clone();var d=new THREE.Vector3(),e=new THREE.Euler(),f=new THREE.Quaternion(),i=new THREE.Vector3(1,1,1);function j(){f.setFromEuler(e,m2r.e5);}function k(){e.setFromQuaternion(f,undefined,m2r.e5);}e.onChange(j);f.onChange(k);Object.defineProperties(this,{position:{enumerable:m2r.t4,value:d},rotation:{enumerable:m2r.t4,value:e},quaternion:{enumerable:m2r.t4,value:f},scale:{enumerable:m2r.t4,value:i},modelViewMatrix:{value:new THREE.Matrix4()},normalMatrix:{value:new THREE.Matrix3()}});this.rotationAutoUpdate=m2r.t4;this.matrix=new THREE.Matrix4();this.matrixWorld=new THREE.Matrix4();this.matrixAutoUpdate=THREE.Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=m2r.e5;this.layers=new THREE.Layers();this.visible=m2r.t4;this.castShadow=m2r.e5;this.receiveShadow=m2r.e5;this.frustumCulled=m2r.t4;this.renderOrder=0;this.userData={};};THREE.Object3D.DefaultUp=new THREE.Vector3(0,1,0);THREE.Object3D.DefaultMatrixAutoUpdate=m2r.t4;THREE.Object3D.prototype={constructor:THREE.Object3D,applyMatrix:function(d){this.matrix.multiplyMatrices(d,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale);},setMatrix:function(d){this.matrix.copy(d);this.matrix.decompose(this.position,this.quaternion,this.scale);},setRotationFromAxisAngle:function(d,e){this.quaternion.setFromAxisAngle(d,e);},setRotationFromEuler:function(d){this.quaternion.setFromEuler(d,m2r.t4);},setRotationFromMatrix:function(d){this.quaternion.setFromRotationMatrix(d);},setRotationFromQuaternion:function(d){this.quaternion.copy(d);},rotateOnAxis:function(){var f=new THREE.Quaternion();return function(d,e){f.setFromAxisAngle(d,e);this.quaternion.multiply(f);return this;};}(),rotateX:function(){var e=new THREE.Vector3(1,0,0);return function(d){return this.rotateOnAxis(e,d);};}(),rotateY:function(){var e=new THREE.Vector3(0,1,0);return function(d){return this.rotateOnAxis(e,d);};}(),rotateZ:function(){var e=new THREE.Vector3(0,0,1);return function(d){return this.rotateOnAxis(e,d);};}(),translateOnAxis:function(){var f=new THREE.Vector3();return function(d,e){f.copy(d).applyQuaternion(this.quaternion);this.position.add(f.multiplyScalar(e));return this;};}(),translateX:function(){var e=new THREE.Vector3(1,0,0);return function(d){return this.translateOnAxis(e,d);};}(),translateY:function(){var e=new THREE.Vector3(0,1,0);return function(d){return this.translateOnAxis(e,d);};}(),translateZ:function(){var e=new THREE.Vector3(0,0,1);return function(d){return this.translateOnAxis(e,d);};}(),localToWorld:function(d){return d.applyMatrix4(this.matrixWorld);},worldToLocal:function(){var e=new THREE.Matrix4();return function(d){return d.applyMatrix4(e.getInverse(this.matrixWorld));};}(),lookAt:function(){var e=new THREE.Matrix4();return function(d){e.lookAt(d,this.position,this.up);this.quaternion.setFromRotationMatrix(e);};}(),add:function(d){if(arguments.length>1){for(var e=0;e<arguments.length;e++){this.add(arguments[e]);}return this;}if(d===this){console.error("THREE.Object3D.add: object can't be added as a child of itself.",d);return this;}if(d instanceof THREE.Object3D){if(d.parent!==m2r.r4){d.parent.remove(d);}d.parent=this;d.dispatchEvent({type:'added'});this.children.push(d);}else{console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",d);}return this;},remove:function(d){if(arguments.length>1){for(var e=0;e<arguments.length;e++){this.remove(arguments[e]);}}var f=this.children.indexOf(d);if(f!==-1){d.parent=m2r.r4;d.dispatchEvent({type:'removed'});this.children.splice(f,1);}},getObjectById:function(d){return this.getObjectByProperty(m2r.q2,d);},getObjectByName:function(d){return this.getObjectByProperty('name',d);},getObjectByProperty:function(d,e){if(this[d]===e)return this;for(var f=0,i=this.children.length;f<i;f++){var j=this.children[f],k=j.getObjectByProperty(d,e);if(k!==undefined){return k;}}return undefined;},getWorldPosition:function(d){var e=d||new THREE.Vector3();this.updateMatrixWorld(m2r.t4);return e.setFromMatrixPosition(this.matrixWorld);},getWorldQuaternion:function(){var f=new THREE.Vector3(),i=new THREE.Vector3();return function(d){var e=d||new THREE.Quaternion();this.updateMatrixWorld(m2r.t4);this.matrixWorld.decompose(f,e,i);return e;};}(),getWorldRotation:function(){var f=new THREE.Quaternion();return function(d){var e=d||new THREE.Euler();this.getWorldQuaternion(f);return e.setFromQuaternion(f,this.rotation.order,m2r.e5);};}(),getWorldScale:function(){var f=new THREE.Vector3(),i=new THREE.Quaternion();return function(d){var e=d||new THREE.Vector3();this.updateMatrixWorld(m2r.t4);this.matrixWorld.decompose(f,i,e);return e;};}(),getWorldDirection:function(){var f=new THREE.Quaternion();return function(d){var e=d||new THREE.Vector3();this.getWorldQuaternion(f);return e.set(0,0,1).applyQuaternion(f);};}(),raycast:function(){},traverse:function(d){d(this);var e=this.children;for(var f=0,i=e.length;f<i;f++){e[f].traverse(d);}},traverseVisible:function(d){if(this.visible===m2r.e5)return ;d(this);var e=this.children;for(var f=0,i=e.length;f<i;f++){e[f].traverseVisible(d);}},traverseAncestors:function(d){var e=this.parent;if(e!==m2r.r4){d(e);e.traverseAncestors(d);}},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=m2r.t4;},updateMatrixWorld:function(d){if(this.matrixAutoUpdate===m2r.t4)this.updateMatrix();if(this.matrixWorldNeedsUpdate===m2r.t4||d===m2r.t4){if(this.parent===m2r.r4){this.matrixWorld.copy(this.matrix);}else{this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);}this.matrixWorldNeedsUpdate=m2r.e5;d=m2r.t4;}for(var e=0,f=this.children.length;e<f;e++){this.children[e].updateMatrixWorld(d);}},toJSON:function(j){var k=(j===undefined||j===''),m={};if(k){j={geometries:{},materials:{},textures:{},images:{}};m.metadata={version:4.4,type:'Object',generator:'Object3D.toJSON'};}var n={};n.uuid=this.uuid;n.type=this.type;if(this.name!=='')n.name=this.name;if(JSON.stringify(this.userData)!=='{}')n.userData=this.userData;if(this.castShadow===m2r.t4)n.castShadow=m2r.t4;if(this.receiveShadow===m2r.t4)n.receiveShadow=m2r.t4;if(this.visible===m2r.e5)n.visible=m2r.e5;n.matrix=this.matrix.toArray();if(this.geometry!==undefined){if(j.geometries[this.geometry.uuid]===undefined){j.geometries[this.geometry.uuid]=this.geometry.toJSON(j);}n.geometry=this.geometry.uuid;}if(this.material!==undefined){if(j.materials[this.material.uuid]===undefined){j.materials[this.material.uuid]=this.material.toJSON(j);}n.material=this.material.uuid;}if(this.children.length>0){n.children=[];for(var u=0;u<this.children.length;u++){n.children.push(this.children[u].toJSON(j).object);}}if(k){var v=G(j.geometries),A=G(j.materials),B=G(j.textures),F=G(j.images);if(v.length>0)m.geometries=v;if(A.length>0)m.materials=A;if(B.length>0)m.textures=B;if(F.length>0)m.images=F;}m.object=n;return m;function G(d){var e=[];for(var f in d){var i=d[f];delete  i.metadata;e.push(i);}return e;}},clone:function(d){return new this.constructor().copy(this,d);},copy:function(d,e){if(e===undefined)e=m2r.t4;this.name=d.name;this.up.copy(d.up);this.position.copy(d.position);this.quaternion.copy(d.quaternion);this.scale.copy(d.scale);this.rotationAutoUpdate=d.rotationAutoUpdate;this.matrix.copy(d.matrix);this.matrixWorld.copy(d.matrixWorld);this.matrixAutoUpdate=d.matrixAutoUpdate;this.matrixWorldNeedsUpdate=d.matrixWorldNeedsUpdate;this.visible=d.visible;this.castShadow=d.castShadow;this.receiveShadow=d.receiveShadow;this.frustumCulled=d.frustumCulled;this.renderOrder=d.renderOrder;this.userData=JSON.parse(JSON.stringify(d.userData));if(e===m2r.t4){for(var f=0;f<d.children.length;f++){var i=d.children[f];this.add(i.clone());}}return this;}};THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype);THREE.Object3DIdCount=0;THREE.Face3=function(d,e,f,i,j,k){this.a=d;this.b=e;this.c=f;this.normal=i instanceof THREE.Vector3?i:new THREE.Vector3();this.vertexNormals=Array.isArray(i)?i:[];this.color=j instanceof THREE.Color?j:new THREE.Color();this.vertexColors=Array.isArray(j)?j:[];this.materialIndex=k!==undefined?k:0;};THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){return new this.constructor().copy(this);},copy:function(d){this.a=d.a;this.b=d.b;this.c=d.c;this.normal.copy(d.normal);this.color.copy(d.color);this.materialIndex=d.materialIndex;for(var e=0,f=d.vertexNormals.length;e<f;e++){this.vertexNormals[e]=d.vertexNormals[e].clone();}for(var e=0,f=d.vertexColors.length;e<f;e++){this.vertexColors[e]=d.vertexColors[e].clone();}return this;}};THREE.BufferAttribute=function(d,e,f){this.uuid=THREE.Math.generateUUID();this.array=d;this.itemSize=e;this.dynamic=m2r.e5;this.updateRange={offset:0,count:-1};this.version=0;this.normalized=f===m2r.t4;};THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get count(){return this.array.length/this.itemSize;},set needsUpdate(value){if(value===m2r.t4)this.version++;},setDynamic:function(d){this.dynamic=d;return this;},copy:function(d){this.array=new d.array.constructor(d.array);this.itemSize=d.itemSize;this.dynamic=d.dynamic;return this;},copyAt:function(d,e,f){d*=this.itemSize;f*=e.itemSize;for(var i=0,j=this.itemSize;i<j;i++){this.array[d+i]=e.array[f+i];}return this;},copyArray:function(d){this.array.set(d);return this;},copyColorsArray:function(d){var e=this.array,f=0;for(var i=0,j=d.length;i<j;i++){var k=d[i];if(k===undefined){console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined',i);k=new THREE.Color();}e[f++]=k.r;e[f++]=k.g;e[f++]=k.b;}return this;},copyIndicesArray:function(d){var e=this.array,f=0;for(var i=0,j=d.length;i<j;i++){var k=d[i];e[f++]=k.a;e[f++]=k.b;e[f++]=k.c;}return this;},copyVector2sArray:function(d){var e=this.array,f=0;for(var i=0,j=d.length;i<j;i++){var k=d[i];if(k===undefined){console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined',i);k=new THREE.Vector2();}e[f++]=k.x;e[f++]=k.y;}return this;},copyVector3sArray:function(d){var e=this.array,f=0;for(var i=0,j=d.length;i<j;i++){var k=d[i];if(k===undefined){console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined',i);k=new THREE.Vector3();}e[f++]=k.x;e[f++]=k.y;e[f++]=k.z;}return this;},copyVector4sArray:function(d){var e=this.array,f=0;for(var i=0,j=d.length;i<j;i++){var k=d[i];if(k===undefined){console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined',i);k=new THREE.Vector4();}e[f++]=k.x;e[f++]=k.y;e[f++]=k.z;e[f++]=k.w;}return this;},set:function(d,e){if(e===undefined)e=0;this.array.set(d,e);return this;},getX:function(d){return this.array[d*this.itemSize];},setX:function(d,e){this.array[d*this.itemSize]=e;return this;},getY:function(d){return this.array[d*this.itemSize+1];},setY:function(d,e){this.array[d*this.itemSize+1]=e;return this;},getZ:function(d){return this.array[d*this.itemSize+2];},setZ:function(d,e){this.array[d*this.itemSize+2]=e;return this;},getW:function(d){return this.array[d*this.itemSize+3];},setW:function(d,e){this.array[d*this.itemSize+3]=e;return this;},setXY:function(d,e,f){d*=this.itemSize;this.array[d+0]=e;this.array[d+1]=f;return this;},setXYZ:function(d,e,f,i){d*=this.itemSize;this.array[d+0]=e;this.array[d+1]=f;this.array[d+2]=i;return this;},setXYZW:function(d,e,f,i,j){d*=this.itemSize;this.array[d+0]=e;this.array[d+1]=f;this.array[d+2]=i;this.array[d+3]=j;return this;},clone:function(){return new this.constructor().copy(this);}};THREE.Int8Attribute=function(d,e){return new THREE.BufferAttribute(new Int8Array(d),e);};THREE.Uint8Attribute=function(d,e){return new THREE.BufferAttribute(new Uint8Array(d),e);};THREE.Uint8ClampedAttribute=function(d,e){return new THREE.BufferAttribute(new Uint8ClampedArray(d),e);};THREE.Int16Attribute=function(d,e){return new THREE.BufferAttribute(new Int16Array(d),e);};THREE.Uint16Attribute=function(d,e){return new THREE.BufferAttribute(new Uint16Array(d),e);};THREE.Int32Attribute=function(d,e){return new THREE.BufferAttribute(new Int32Array(d),e);};THREE.Uint32Attribute=function(d,e){return new THREE.BufferAttribute(new Uint32Array(d),e);};THREE.Float32Attribute=function(d,e){return new THREE.BufferAttribute(new Float32Array(d),e);};THREE.Float64Attribute=function(d,e){return new THREE.BufferAttribute(new Float64Array(d),e);};THREE.DynamicBufferAttribute=function(d,e){console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.');return new THREE.BufferAttribute(d,e).setDynamic(m2r.t4);};THREE.InstancedBufferAttribute=function(d,e,f){THREE.BufferAttribute.call(this,d,e);this.meshPerAttribute=f||1;};THREE.InstancedBufferAttribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.InstancedBufferAttribute.prototype.constructor=THREE.InstancedBufferAttribute;THREE.InstancedBufferAttribute.prototype.copy=function(d){THREE.BufferAttribute.prototype.copy.call(this,d);this.meshPerAttribute=d.meshPerAttribute;return this;};THREE.InterleavedBuffer=function(d,e){this.uuid=THREE.Math.generateUUID();this.array=d;this.stride=e;this.dynamic=m2r.e5;this.updateRange={offset:0,count:-1};this.version=0;};THREE.InterleavedBuffer.prototype={constructor:THREE.InterleavedBuffer,get length(){return this.array.length;},get count(){return this.array.length/this.stride;},set needsUpdate(value){if(value===m2r.t4)this.version++;},setDynamic:function(d){this.dynamic=d;return this;},copy:function(d){this.array=new d.array.constructor(d.array);this.stride=d.stride;this.dynamic=d.dynamic;return this;},copyAt:function(d,e,f){d*=this.stride;f*=e.stride;for(var i=0,j=this.stride;i<j;i++){this.array[d+i]=e.array[f+i];}return this;},set:function(d,e){if(e===undefined)e=0;this.array.set(d,e);return this;},clone:function(){return new this.constructor().copy(this);}};THREE.InstancedInterleavedBuffer=function(d,e,f){THREE.InterleavedBuffer.call(this,d,e);this.meshPerAttribute=f||1;};THREE.InstancedInterleavedBuffer.prototype=Object.create(THREE.InterleavedBuffer.prototype);THREE.InstancedInterleavedBuffer.prototype.constructor=THREE.InstancedInterleavedBuffer;THREE.InstancedInterleavedBuffer.prototype.copy=function(d){THREE.InterleavedBuffer.prototype.copy.call(this,d);this.meshPerAttribute=d.meshPerAttribute;return this;};THREE.InterleavedBufferAttribute=function(d,e,f){this.uuid=THREE.Math.generateUUID();this.data=d;this.itemSize=e;this.offset=f;};THREE.InterleavedBufferAttribute.prototype={constructor:THREE.InterleavedBufferAttribute,get length(){console.warn(m2r.c5);return this.array.length;},get count(){return this.data.count;},setX:function(d,e){this.data.array[d*this.data.stride+this.offset]=e;return this;},setY:function(d,e){this.data.array[d*this.data.stride+this.offset+1]=e;return this;},setZ:function(d,e){this.data.array[d*this.data.stride+this.offset+2]=e;return this;},setW:function(d,e){this.data.array[d*this.data.stride+this.offset+3]=e;return this;},getX:function(d){return this.data.array[d*this.data.stride+this.offset];},getY:function(d){return this.data.array[d*this.data.stride+this.offset+1];},getZ:function(d){return this.data.array[d*this.data.stride+this.offset+2];},getW:function(d){return this.data.array[d*this.data.stride+this.offset+3];},setXY:function(d,e,f){d=d*this.data.stride+this.offset;this.data.array[d+0]=e;this.data.array[d+1]=f;return this;},setXYZ:function(d,e,f,i){d=d*this.data.stride+this.offset;this.data.array[d+0]=e;this.data.array[d+1]=f;this.data.array[d+2]=i;return this;},setXYZW:function(d,e,f,i,j){d=d*this.data.stride+this.offset;this.data.array[d+0]=e;this.data.array[d+1]=f;this.data.array[d+2]=i;this.data.array[d+3]=j;return this;}};THREE.Geometry=function(){Object.defineProperty(this,m2r.q2,{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name='';this.type=m2r.S1;this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=m2r.r4;this.boundingSphere=m2r.r4;this.verticesNeedUpdate=m2r.e5;this.elementsNeedUpdate=m2r.e5;this.uvsNeedUpdate=m2r.e5;this.normalsNeedUpdate=m2r.e5;this.colorsNeedUpdate=m2r.e5;this.lineDistancesNeedUpdate=m2r.e5;this.groupsNeedUpdate=m2r.e5;};THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(d){var e=new THREE.Matrix3().getNormalMatrix(d);for(var f=0,i=this.vertices.length;f<i;f++){var j=this.vertices[f];j.applyMatrix4(d);}for(var f=0,i=this.faces.length;f<i;f++){var k=this.faces[f];k.normal.applyMatrix3(e).normalize();for(var m=0,n=k.vertexNormals.length;m<n;m++){k.vertexNormals[m].applyMatrix3(e).normalize();}}if(this.boundingBox!==m2r.r4){this.computeBoundingBox();}if(this.boundingSphere!==m2r.r4){this.computeBoundingSphere();}this.verticesNeedUpdate=m2r.t4;this.normalsNeedUpdate=m2r.t4;return this;},rotateX:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.makeRotationX(d);this.applyMatrix(e);return this;};}(),rotateY:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.makeRotationY(d);this.applyMatrix(e);return this;};}(),rotateZ:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.makeRotationZ(d);this.applyMatrix(e);return this;};}(),translate:function(){var i;return function j(d,e,f){if(i===undefined)i=new THREE.Matrix4();i.makeTranslation(d,e,f);this.applyMatrix(i);return this;};}(),scale:function(){var i;return function j(d,e,f){if(i===undefined)i=new THREE.Matrix4();i.makeScale(d,e,f);this.applyMatrix(i);return this;};}(),lookAt:function(){var e;return function f(d){if(e===undefined)e=new THREE.Object3D();e.lookAt(d);e.updateMatrix();this.applyMatrix(e.matrix);};}(),fromBufferGeometry:function(n){var u=this,v=n.index!==m2r.r4?n.index.array:undefined,A=n.attributes,B=A.position.array,F=A.normal!==undefined?A.normal.array:undefined,G=A.color!==undefined?A.color.array:undefined,L=A.uv!==undefined?A.uv.array:undefined,H=A.uv2!==undefined?A.uv2.array:undefined;if(H!==undefined)this.faceVertexUvs[1]=[];var J=[],T=[],i0=[];for(var b0=0,N=0;b0<B.length;b0+=3,N+=2){u.vertices.push(new THREE.Vector3(B[b0],B[b0+1],B[b0+2]));if(F!==undefined){J.push(new THREE.Vector3(F[b0],F[b0+1],F[b0+2]));}if(G!==undefined){u.colors.push(new THREE.Color(G[b0],G[b0+1],G[b0+2]));}if(L!==undefined){T.push(new THREE.Vector2(L[N],L[N+1]));}if(H!==undefined){i0.push(new THREE.Vector2(H[N],H[N+1]));}}function l0(d,e,f,i){var j=F!==undefined?[J[d].clone(),J[e].clone(),J[f].clone()]:[],k=G!==undefined?[u.colors[d].clone(),u.colors[e].clone(),u.colors[f].clone()]:[],m=new THREE.Face3(d,e,f,j,k,i);u.faces.push(m);if(L!==undefined){u.faceVertexUvs[0].push([T[d].clone(),T[e].clone(),T[f].clone()]);}if(H!==undefined){u.faceVertexUvs[1].push([i0[d].clone(),i0[e].clone(),i0[f].clone()]);}}if(v!==undefined){var m0=n.groups;if(m0.length>0){for(var b0=0;b0<m0.length;b0++){var o0=m0[b0],n0=o0.start,s0=o0.count;for(var N=n0,z0=n0+s0;N<z0;N+=3){l0(v[N],v[N+1],v[N+2],o0.materialIndex);}}}else{for(var b0=0;b0<v.length;b0+=3){l0(v[b0],v[b0+1],v[b0+2]);}}}else{for(var b0=0;b0<B.length/3;b0+=3){l0(b0,b0+1,b0+2);}}this.computeFaceNormals();if(n.boundingBox!==m2r.r4){this.boundingBox=n.boundingBox.clone();}if(n.boundingSphere!==m2r.r4){this.boundingSphere=n.boundingSphere.clone();}return this;},center:function(){this.computeBoundingBox();var d=this.boundingBox.center().negate();this.translate(d.x,d.y,d.z);return d;},normalize:function(){this.computeBoundingSphere();var d=this.boundingSphere.center,e=this.boundingSphere.radius,f=e===0?1:m2r.d5/e,i=new THREE.Matrix4();i.set(f,0,0,-f*d.x,0,f,0,-f*d.y,0,0,f,-f*d.z,0,0,0,1);this.applyMatrix(i);return this;},computeFaceNormals:function(){var d=new THREE.Vector3(),e=new THREE.Vector3();for(var f=0,i=this.faces.length;f<i;f++){var j=this.faces[f],k=this.vertices[j.a],m=this.vertices[j.b],n=this.vertices[j.c];d.subVectors(n,m);e.subVectors(k,m);d.cross(e);d.normalize();j.normal.copy(d);}},computeVertexNormals:function(d){if(d===undefined)d=m2r.t4;var e,f,i,j,k,m;m=new Array(this.vertices.length);for(e=0,f=this.vertices.length;e<f;e++){m[e]=new THREE.Vector3();}if(d){var n,u,v,A=new THREE.Vector3(),B=new THREE.Vector3();for(i=0,j=this.faces.length;i<j;i++){k=this.faces[i];n=this.vertices[k.a];u=this.vertices[k.b];v=this.vertices[k.c];A.subVectors(v,u);B.subVectors(n,u);A.cross(B);m[k.a].add(A);m[k.b].add(A);m[k.c].add(A);}}else{for(i=0,j=this.faces.length;i<j;i++){k=this.faces[i];m[k.a].add(k.normal);m[k.b].add(k.normal);m[k.c].add(k.normal);}}for(e=0,f=this.vertices.length;e<f;e++){m[e].normalize();}for(i=0,j=this.faces.length;i<j;i++){k=this.faces[i];var F=k.vertexNormals;if(F.length===3){F[0].copy(m[k.a]);F[1].copy(m[k.b]);F[2].copy(m[k.c]);}else{F[0]=m[k.a].clone();F[1]=m[k.b].clone();F[2]=m[k.c].clone();}}if(this.faces.length>0){this.normalsNeedUpdate=m2r.t4;}},computeMorphNormals:function(){var d,e,f,i,j;for(f=0,i=this.faces.length;f<i;f++){j=this.faces[f];if(!j.__originalFaceNormal){j.__originalFaceNormal=j.normal.clone();}else{j.__originalFaceNormal.copy(j.normal);}if(!j.__originalVertexNormals)j.__originalVertexNormals=[];for(d=0,e=j.vertexNormals.length;d<e;d++){if(!j.__originalVertexNormals[d]){j.__originalVertexNormals[d]=j.vertexNormals[d].clone();}else{j.__originalVertexNormals[d].copy(j.vertexNormals[d]);}}}var k=new THREE.Geometry();k.faces=this.faces;for(d=0,e=this.morphTargets.length;d<e;d++){if(!this.morphNormals[d]){this.morphNormals[d]={};this.morphNormals[d].faceNormals=[];this.morphNormals[d].vertexNormals=[];var m=this.morphNormals[d].faceNormals,n=this.morphNormals[d].vertexNormals,u,v;for(f=0,i=this.faces.length;f<i;f++){u=new THREE.Vector3();v={a:new THREE.Vector3(),b:new THREE.Vector3(),c:new THREE.Vector3()};m.push(u);n.push(v);}}var A=this.morphNormals[d];k.vertices=this.morphTargets[d].vertices;k.computeFaceNormals();k.computeVertexNormals();var u,v;for(f=0,i=this.faces.length;f<i;f++){j=this.faces[f];u=A.faceNormals[f];v=A.vertexNormals[f];u.copy(j.normal);v.a.copy(j.vertexNormals[0]);v.b.copy(j.vertexNormals[1]);v.c.copy(j.vertexNormals[2]);}}for(f=0,i=this.faces.length;f<i;f++){j=this.faces[f];j.normal=j.__originalFaceNormal;j.vertexNormals=j.__originalVertexNormals;}},computeTangents:function(){console.warn('THREE.Geometry: .computeTangents() has been removed.');},computeLineDistances:function(){var d=0,e=this.vertices;for(var f=0,i=e.length;f<i;f++){if(f>0){d+=e[f].distanceTo(e[f-1]);}this.lineDistances[f]=d;}},computeBoundingBox:function(){if(this.boundingBox===m2r.r4){this.boundingBox=new THREE.Box3();}this.boundingBox.setFromPoints(this.vertices);},computeBoundingSphere:function(){if(this.boundingSphere===m2r.r4){this.boundingSphere=new THREE.Sphere();}this.boundingSphere.setFromPoints(this.vertices);},merge:function(d,e,f){if(d instanceof THREE.Geometry===m2r.e5){console.error('THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.',d);return ;}var i,j=this.vertices.length,k=this.vertices,m=d.vertices,n=this.faces,u=d.faces,v=this.faceVertexUvs[0],A=d.faceVertexUvs[0];if(f===undefined)f=0;if(e!==undefined){i=new THREE.Matrix3().getNormalMatrix(e);}for(var B=0,F=m.length;B<F;B++){var G=m[B],L=G.clone();if(e!==undefined)L.applyMatrix4(e);k.push(L);}for(B=0,F=u.length;B<F;B++){var H=u[B],J,T,i0,b0=H.vertexNormals,N=H.vertexColors;J=new THREE.Face3(H.a+j,H.b+j,H.c+j);J.normal.copy(H.normal);if(i!==undefined){J.normal.applyMatrix3(i).normalize();}for(var l0=0,m0=b0.length;l0<m0;l0++){T=b0[l0].clone();if(i!==undefined){T.applyMatrix3(i).normalize();}J.vertexNormals.push(T);}J.color.copy(H.color);for(var l0=0,m0=N.length;l0<m0;l0++){i0=N[l0];J.vertexColors.push(i0.clone());}J.materialIndex=H.materialIndex+f;n.push(J);}for(B=0,F=A.length;B<F;B++){var o0=A[B],n0=[];if(o0===undefined){continue;}for(var l0=0,m0=o0.length;l0<m0;l0++){n0.push(o0[l0].clone());}v.push(n0);}},mergeMesh:function(d){if(d instanceof THREE.Mesh===m2r.e5){console.error('THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.',d);return ;}d.matrixAutoUpdate&&d.updateMatrix();this.merge(d.geometry,d.matrix);},mergeVertices:function(){var d={},e=[],f=[],i,j,k=4,m=Math.pow(10,k),n,u,v,A,B,F;for(n=0,u=this.vertices.length;n<u;n++){i=this.vertices[n];j=Math.round(i.x*m)+'_'+Math.round(i.y*m)+'_'+Math.round(i.z*m);if(d[j]===undefined){d[j]=n;e.push(this.vertices[n]);f[n]=e.length-1;}else{f[n]=f[d[j]];}}var G=[];for(n=0,u=this.faces.length;n<u;n++){v=this.faces[n];v.a=f[v.a];v.b=f[v.b];v.c=f[v.c];A=[v.a,v.b,v.c];var L=-1;for(var H=0;H<3;H++){if(A[H]===A[(H+1)%3]){L=H;G.push(n);break;}}}for(n=G.length-1;n>=0;n--){var J=G[n];this.faces.splice(J,1);for(B=0,F=this.faceVertexUvs.length;B<F;B++){this.faceVertexUvs[B].splice(J,1);}}var T=this.vertices.length-e.length;this.vertices=e;return T;},sortFacesByMaterialIndex:function(){var f=this.faces,i=f.length;for(var j=0;j<i;j++){f[j]._id=j;}function k(d,e){return d.materialIndex-e.materialIndex;}f.sort(k);var m=this.faceVertexUvs[0],n=this.faceVertexUvs[1],u,v;if(m&&m.length===i)u=[];if(n&&n.length===i)v=[];for(var j=0;j<i;j++){var A=f[j]._id;if(u)u.push(m[A]);if(v)v.push(n[A]);}if(u)this.faceVertexUvs[0]=u;if(v)this.faceVertexUvs[1]=v;},toJSON:function(){var i={metadata:{version:4.4,type:m2r.S1,generator:'Geometry.toJSON'}};i.uuid=this.uuid;i.type=this.type;if(this.name!=='')i.name=this.name;if(this.parameters!==undefined){var j=this.parameters;for(var k in j){if(j[k]!==undefined)i[k]=j[k];}return i;}var m=[];for(var n=0;n<this.vertices.length;n++){var u=this.vertices[n];m.push(u.x,u.y,u.z);}var v=[],A=[],B={},F=[],G={},L=[],H={};for(var n=0;n<this.faces.length;n++){var J=this.faces[n],T=m2r.t4,i0=m2r.e5,b0=this.faceVertexUvs[0][n]!==undefined,N=J.normal.length()>0,l0=J.vertexNormals.length>0,m0=J.color.r!==1||J.color.g!==1||J.color.b!==1,o0=J.vertexColors.length>0,n0=0;n0=y0(n0,0,0);n0=y0(n0,1,T);n0=y0(n0,2,i0);n0=y0(n0,3,b0);n0=y0(n0,4,N);n0=y0(n0,5,l0);n0=y0(n0,6,m0);n0=y0(n0,7,o0);v.push(n0);v.push(J.a,J.b,J.c);v.push(J.materialIndex);if(b0){var s0=this.faceVertexUvs[0][n];v.push(J0(s0[0]),J0(s0[1]),J0(s0[2]));}if(N){v.push(x0(J.normal));}if(l0){var z0=J.vertexNormals;v.push(x0(z0[0]),x0(z0[1]),x0(z0[2]));}if(m0){v.push(w0(J.color));}if(o0){var B0=J.vertexColors;v.push(w0(B0[0]),w0(B0[1]),w0(B0[2]));}}function y0(d,e,f){return f?d|(1<<e):d&(~(1<<e));}function x0(d){var e=d.x.toString()+d.y.toString()+d.z.toString();if(B[e]!==undefined){return B[e];}B[e]=A.length/3;A.push(d.x,d.y,d.z);return B[e];}function w0(d){var e=d.r.toString()+d.g.toString()+d.b.toString();if(G[e]!==undefined){return G[e];}G[e]=F.length;F.push(d.getHex());return G[e];}function J0(d){var e=d.x.toString()+d.y.toString();if(H[e]!==undefined){return H[e];}H[e]=L.length/2;L.push(d.x,d.y);return H[e];}i.data={};i.data.vertices=m;i.data.normals=A;if(F.length>0)i.data.colors=F;if(L.length>0)i.data.uvs=[L];i.data.faces=v;return i;},clone:function(){return new THREE.Geometry().copy(this);},copy:function(d){this.vertices=[];this.faces=[];this.faceVertexUvs=[[]];var e=d.vertices;for(var f=0,i=e.length;f<i;f++){this.vertices.push(e[f].clone());}var j=d.faces;for(var f=0,i=j.length;f<i;f++){this.faces.push(j[f].clone());}for(var f=0,i=d.faceVertexUvs.length;f<i;f++){var k=d.faceVertexUvs[f];if(this.faceVertexUvs[f]===undefined){this.faceVertexUvs[f]=[];}for(var m=0,n=k.length;m<n;m++){var u=k[m],v=[];for(var A=0,B=u.length;A<B;A++){var F=u[A];v.push(F.clone());}this.faceVertexUvs[f].push(v);}}return this;},dispose:function(){this.dispatchEvent({type:m2r.f2});}};THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype);THREE.GeometryIdCount=0;THREE.DirectGeometry=function(){Object.defineProperty(this,m2r.q2,{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name='';this.type='DirectGeometry';this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingBox=m2r.r4;this.boundingSphere=m2r.r4;this.verticesNeedUpdate=m2r.e5;this.normalsNeedUpdate=m2r.e5;this.colorsNeedUpdate=m2r.e5;this.uvsNeedUpdate=m2r.e5;this.groupsNeedUpdate=m2r.e5;};THREE.DirectGeometry.prototype={constructor:THREE.DirectGeometry,computeBoundingBox:THREE.Geometry.prototype.computeBoundingBox,computeBoundingSphere:THREE.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn('THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.');},computeVertexNormals:function(){console.warn('THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.');},computeGroups:function(d){var e,f=[],i,j=d.faces;for(var k=0;k<j.length;k++){var m=j[k];if(m.materialIndex!==i){i=m.materialIndex;if(e!==undefined){e.count=(k*3)-e.start;f.push(e);}e={start:k*3,materialIndex:i};}}if(e!==undefined){e.count=(k*3)-e.start;f.push(e);}this.groups=f;},fromGeometry:function(d){var e=d.faces,f=d.vertices,i=d.faceVertexUvs,j=i[0]&&i[0].length>0,k=i[1]&&i[1].length>0,m=d.morphTargets,n=m.length,u;if(n>0){u=[];for(var v=0;v<n;v++){u[v]=[];}this.morphTargets.position=u;}var A=d.morphNormals,B=A.length,F;if(B>0){F=[];for(var v=0;v<B;v++){F[v]=[];}this.morphTargets.normal=F;}var G=d.skinIndices,L=d.skinWeights,H=G.length===f.length,J=L.length===f.length;for(var v=0;v<e.length;v++){var T=e[v];this.vertices.push(f[T.a],f[T.b],f[T.c]);var i0=T.vertexNormals;if(i0.length===3){this.normals.push(i0[0],i0[1],i0[2]);}else{var b0=T.normal;this.normals.push(b0,b0,b0);}var N=T.vertexColors;if(N.length===3){this.colors.push(N[0],N[1],N[2]);}else{var l0=T.color;this.colors.push(l0,l0,l0);}if(j===m2r.t4){var m0=i[0][v];if(m0!==undefined){this.uvs.push(m0[0],m0[1],m0[2]);}else{console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ',v);this.uvs.push(new THREE.Vector2(),new THREE.Vector2(),new THREE.Vector2());}}if(k===m2r.t4){var m0=i[1][v];if(m0!==undefined){this.uvs2.push(m0[0],m0[1],m0[2]);}else{console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ',v);this.uvs2.push(new THREE.Vector2(),new THREE.Vector2(),new THREE.Vector2());}}for(var o0=0;o0<n;o0++){var n0=m[o0].vertices;u[o0].push(n0[T.a],n0[T.b],n0[T.c]);}for(var o0=0;o0<B;o0++){var s0=A[o0].vertexNormals[v];F[o0].push(s0.a,s0.b,s0.c);}if(H){this.skinIndices.push(G[T.a],G[T.b],G[T.c]);}if(J){this.skinWeights.push(L[T.a],L[T.b],L[T.c]);}}this.computeGroups(d);this.verticesNeedUpdate=d.verticesNeedUpdate;this.normalsNeedUpdate=d.normalsNeedUpdate;this.colorsNeedUpdate=d.colorsNeedUpdate;this.uvsNeedUpdate=d.uvsNeedUpdate;this.groupsNeedUpdate=d.groupsNeedUpdate;return this;},dispose:function(){this.dispatchEvent({type:m2r.f2});}};THREE.EventDispatcher.prototype.apply(THREE.DirectGeometry.prototype);THREE.BufferGeometry=function(){Object.defineProperty(this,m2r.q2,{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name='';this.type=m2r.a4;this.index=m2r.r4;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=m2r.r4;this.boundingSphere=m2r.r4;this.drawRange={start:0,count:Infinity};};THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,getIndex:function(){return this.index;},setIndex:function(d){this.index=d;},addAttribute:function(d,e){if(e instanceof THREE.BufferAttribute===m2r.e5&&e instanceof THREE.InterleavedBufferAttribute===m2r.e5){console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');this.addAttribute(d,new THREE.BufferAttribute(arguments[1],arguments[2]));return ;}if(d==='index'){console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');this.setIndex(e);return ;}this.attributes[d]=e;return this;},getAttribute:function(d){return this.attributes[d];},removeAttribute:function(d){delete  this.attributes[d];return this;},addGroup:function(d,e,f){this.groups.push({start:d,count:e,materialIndex:f!==undefined?f:0});},clearGroups:function(){this.groups=[];},setDrawRange:function(d,e){this.drawRange.start=d;this.drawRange.count=e;},applyMatrix:function(d){var e=this.attributes.position;if(e!==undefined){d.applyToVector3Array(e.array);e.needsUpdate=m2r.t4;}var f=this.attributes.normal;if(f!==undefined){var i=new THREE.Matrix3().getNormalMatrix(d);i.applyToVector3Array(f.array);f.needsUpdate=m2r.t4;}if(this.boundingBox!==m2r.r4){this.computeBoundingBox();}if(this.boundingSphere!==m2r.r4){this.computeBoundingSphere();}return this;},rotateX:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.makeRotationX(d);this.applyMatrix(e);return this;};}(),rotateY:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.makeRotationY(d);this.applyMatrix(e);return this;};}(),rotateZ:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.makeRotationZ(d);this.applyMatrix(e);return this;};}(),translate:function(){var i;return function j(d,e,f){if(i===undefined)i=new THREE.Matrix4();i.makeTranslation(d,e,f);this.applyMatrix(i);return this;};}(),scale:function(){var i;return function j(d,e,f){if(i===undefined)i=new THREE.Matrix4();i.makeScale(d,e,f);this.applyMatrix(i);return this;};}(),lookAt:function(){var e;return function f(d){if(e===undefined)e=new THREE.Object3D();e.lookAt(d);e.updateMatrix();this.applyMatrix(e.matrix);};}(),center:function(){this.computeBoundingBox();var d=this.boundingBox.center().negate();this.translate(d.x,d.y,d.z);return d;},setFromObject:function(d){var e=d.geometry;if(d instanceof THREE.Points||d instanceof THREE.Line){var f=new THREE.Float32Attribute(e.vertices.length*3,3),i=new THREE.Float32Attribute(e.colors.length*3,3);this.addAttribute(m2r.H2,f.copyVector3sArray(e.vertices));this.addAttribute(m2r.q3,i.copyColorsArray(e.colors));if(e.lineDistances&&e.lineDistances.length===e.vertices.length){var j=new THREE.Float32Attribute(e.lineDistances.length,1);this.addAttribute('lineDistance',j.copyArray(e.lineDistances));}if(e.boundingSphere!==m2r.r4){this.boundingSphere=e.boundingSphere.clone();}if(e.boundingBox!==m2r.r4){this.boundingBox=e.boundingBox.clone();}}else if(d instanceof THREE.Mesh){if(e instanceof THREE.Geometry){this.fromGeometry(e);}}return this;},updateFromObject:function(d){var e=d.geometry;if(d instanceof THREE.Mesh){var f=e.__directGeometry;if(f===undefined){return this.fromGeometry(e);}f.verticesNeedUpdate=e.verticesNeedUpdate;f.normalsNeedUpdate=e.normalsNeedUpdate;f.colorsNeedUpdate=e.colorsNeedUpdate;f.uvsNeedUpdate=e.uvsNeedUpdate;f.groupsNeedUpdate=e.groupsNeedUpdate;e.verticesNeedUpdate=m2r.e5;e.normalsNeedUpdate=m2r.e5;e.colorsNeedUpdate=m2r.e5;e.uvsNeedUpdate=m2r.e5;e.groupsNeedUpdate=m2r.e5;e=f;}if(e.verticesNeedUpdate===m2r.t4){var i=this.attributes.position;if(i!==undefined){i.copyVector3sArray(e.vertices);i.needsUpdate=m2r.t4;}e.verticesNeedUpdate=m2r.e5;}if(e.normalsNeedUpdate===m2r.t4){var i=this.attributes.normal;if(i!==undefined){i.copyVector3sArray(e.normals);i.needsUpdate=m2r.t4;}e.normalsNeedUpdate=m2r.e5;}if(e.colorsNeedUpdate===m2r.t4){var i=this.attributes.color;if(i!==undefined){i.copyColorsArray(e.colors);i.needsUpdate=m2r.t4;}e.colorsNeedUpdate=m2r.e5;}if(e.uvsNeedUpdate){var i=this.attributes.uv;if(i!==undefined){i.copyVector2sArray(e.uvs);i.needsUpdate=m2r.t4;}e.uvsNeedUpdate=m2r.e5;}if(e.lineDistancesNeedUpdate){var i=this.attributes.lineDistance;if(i!==undefined){i.copyArray(e.lineDistances);i.needsUpdate=m2r.t4;}e.lineDistancesNeedUpdate=m2r.e5;}if(e.groupsNeedUpdate){e.computeGroups(d.geometry);this.groups=e.groups;e.groupsNeedUpdate=m2r.e5;}return this;},fromGeometry:function(d){d.__directGeometry=new THREE.DirectGeometry().fromGeometry(d);return this.fromDirectGeometry(d.__directGeometry);},fromDirectGeometry:function(d){var e=new Float32Array(d.vertices.length*3);this.addAttribute(m2r.H2,new THREE.BufferAttribute(e,3).copyVector3sArray(d.vertices));if(d.normals.length>0){var f=new Float32Array(d.normals.length*3);this.addAttribute(m2r.Y3,new THREE.BufferAttribute(f,3).copyVector3sArray(d.normals));}if(d.colors.length>0){var i=new Float32Array(d.colors.length*3);this.addAttribute(m2r.q3,new THREE.BufferAttribute(i,3).copyColorsArray(d.colors));}if(d.uvs.length>0){var j=new Float32Array(d.uvs.length*2);this.addAttribute(m2r.M4,new THREE.BufferAttribute(j,2).copyVector2sArray(d.uvs));}if(d.uvs2.length>0){var k=new Float32Array(d.uvs2.length*2);this.addAttribute('uv2',new THREE.BufferAttribute(k,2).copyVector2sArray(d.uvs2));}if(d.indices.length>0){var m=d.vertices.length>m2r.P4?Uint32Array:Uint16Array,n=new m(d.indices.length*3);this.setIndex(new THREE.BufferAttribute(n,1).copyIndicesArray(d.indices));}this.groups=d.groups;for(var u in d.morphTargets){var v=[],A=d.morphTargets[u];for(var B=0,F=A.length;B<F;B++){var G=A[B],L=new THREE.Float32Attribute(G.length*3,3);v.push(L.copyVector3sArray(G));}this.morphAttributes[u]=v;}if(d.skinIndices.length>0){var H=new THREE.Float32Attribute(d.skinIndices.length*4,4);this.addAttribute('skinIndex',H.copyVector4sArray(d.skinIndices));}if(d.skinWeights.length>0){var J=new THREE.Float32Attribute(d.skinWeights.length*4,4);this.addAttribute('skinWeight',J.copyVector4sArray(d.skinWeights));}if(d.boundingSphere!==m2r.r4){this.boundingSphere=d.boundingSphere.clone();}if(d.boundingBox!==m2r.r4){this.boundingBox=d.boundingBox.clone();}return this;},computeBoundingBox:function(){if(this.boundingBox===m2r.r4){this.boundingBox=new THREE.Box3();}var d=this.attributes.position.array;if(d!==undefined){this.boundingBox.setFromArray(d);}else{this.boundingBox.makeEmpty();}if(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)){console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this);}},computeBoundingSphere:function(){var k=new THREE.Box3(),m=new THREE.Vector3();return function(){if(this.boundingSphere===m2r.r4){this.boundingSphere=new THREE.Sphere();}var d=this.attributes.position.array;if(d){var e=this.boundingSphere.center;k.setFromArray(d);k.center(e);var f=0;for(var i=0,j=d.length;i<j;i+=3){m.fromArray(d,i);f=Math.max(f,e.distanceToSquared(m));}this.boundingSphere.radius=Math.sqrt(f);if(isNaN(this.boundingSphere.radius)){console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this);}}};}(),computeFaceNormals:function(){},computeVertexNormals:function(){var d=this.index,e=this.attributes,f=this.groups;if(e.position){var i=e.position.array;if(e.normal===undefined){this.addAttribute(m2r.Y3,new THREE.BufferAttribute(new Float32Array(i.length),3));}else{var j=e.normal.array;for(var k=0,m=j.length;k<m;k++){j[k]=0;}}var n=e.normal.array,u,v,A,B=new THREE.Vector3(),F=new THREE.Vector3(),G=new THREE.Vector3(),L=new THREE.Vector3(),H=new THREE.Vector3();if(d){var J=d.array;if(f.length===0){this.addGroup(0,J.length);}for(var T=0,i0=f.length;T<i0;++T){var b0=f[T],N=b0.start,l0=b0.count;for(var k=N,m=N+l0;k<m;k+=3){u=J[k+0]*3;v=J[k+1]*3;A=J[k+2]*3;B.fromArray(i,u);F.fromArray(i,v);G.fromArray(i,A);L.subVectors(G,F);H.subVectors(B,F);L.cross(H);n[u]+=L.x;n[u+1]+=L.y;n[u+2]+=L.z;n[v]+=L.x;n[v+1]+=L.y;n[v+2]+=L.z;n[A]+=L.x;n[A+1]+=L.y;n[A+2]+=L.z;}}}else{for(var k=0,m=i.length;k<m;k+=9){B.fromArray(i,k);F.fromArray(i,k+3);G.fromArray(i,k+6);L.subVectors(G,F);H.subVectors(B,F);L.cross(H);n[k]=L.x;n[k+1]=L.y;n[k+2]=L.z;n[k+3]=L.x;n[k+4]=L.y;n[k+5]=L.z;n[k+6]=L.x;n[k+7]=L.y;n[k+8]=L.z;}}this.normalizeNormals();e.normal.needsUpdate=m2r.t4;}},merge:function(d,e){if(d instanceof THREE.BufferGeometry===m2r.e5){console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.',d);return ;}if(e===undefined)e=0;var f=this.attributes;for(var i in f){if(d.attributes[i]===undefined)continue;var j=f[i],k=j.array,m=d.attributes[i],n=m.array,u=m.itemSize;for(var v=0,A=u*e;v<n.length;v++,A++){k[A]=n[v];}}return this;},normalizeNormals:function(){var d=this.attributes.normal.array,e,f,i,j;for(var k=0,m=d.length;k<m;k+=3){e=d[k];f=d[k+1];i=d[k+2];j=m2r.d5/Math.sqrt(e*e+f*f+i*i);d[k]*=j;d[k+1]*=j;d[k+2]*=j;}},toNonIndexed:function(){if(this.index===m2r.r4){console.warn('THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.');return this;}var d=new THREE.BufferGeometry(),e=this.index.array,f=this.attributes;for(var i in f){var j=f[i],k=j.array,m=j.itemSize,n=new k.constructor(e.length*m),u=0,v=0;for(var A=0,B=e.length;A<B;A++){u=e[A]*m;for(var F=0;F<m;F++){n[v++]=k[u++];}}d.addAttribute(i,new THREE.BufferAttribute(n,m));}return d;},toJSON:function(){var d={metadata:{version:4.4,type:m2r.a4,generator:'BufferGeometry.toJSON'}};d.uuid=this.uuid;d.type=this.type;if(this.name!=='')d.name=this.name;if(this.parameters!==undefined){var e=this.parameters;for(var f in e){if(e[f]!==undefined)d[f]=e[f];}return d;}d.data={attributes:{}};var i=this.index;if(i!==m2r.r4){var j=Array.prototype.slice.call(i.array);d.data.index={type:i.array.constructor.name,array:j};}var k=this.attributes;for(var f in k){var m=k[f],j=Array.prototype.slice.call(m.array);d.data.attributes[f]={itemSize:m.itemSize,type:m.array.constructor.name,array:j,normalized:m.normalized};}var n=this.groups;if(n.length>0){d.data.groups=JSON.parse(JSON.stringify(n));}var u=this.boundingSphere;if(u!==m2r.r4){d.data.boundingSphere={center:u.center.toArray(),radius:u.radius};}return d;},clone:function(){return new THREE.BufferGeometry().copy(this);},copy:function(d){var e=d.index;if(e!==m2r.r4){this.setIndex(e.clone());}var f=d.attributes;for(var i in f){var j=f[i];this.addAttribute(i,j.clone());}var k=d.groups;for(var m=0,n=k.length;m<n;m++){var u=k[m];this.addGroup(u.start,u.count,u.materialIndex);}return this;},dispose:function(){this.dispatchEvent({type:m2r.f2});}};THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype);THREE.BufferGeometry.MaxIndex=m2r.P4;THREE.InstancedBufferGeometry=function(){THREE.BufferGeometry.call(this);this.type='InstancedBufferGeometry';this.maxInstancedCount=undefined;};THREE.InstancedBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.InstancedBufferGeometry.prototype.constructor=THREE.InstancedBufferGeometry;THREE.InstancedBufferGeometry.prototype.addGroup=function(d,e,f){this.groups.push({start:d,count:e,instances:f});};THREE.InstancedBufferGeometry.prototype.copy=function(d){var e=d.index;if(e!==m2r.r4){this.setIndex(e.clone());}var f=d.attributes;for(var i in f){var j=f[i];this.addAttribute(i,j.clone());}var k=d.groups;for(var m=0,n=k.length;m<n;m++){var u=k[m];this.addGroup(u.start,u.count,u.instances);}return this;};THREE.EventDispatcher.prototype.apply(THREE.InstancedBufferGeometry.prototype);THREE.Uniform=function(d){if(typeof d===m2r.o3){console.warn('THREE.Uniform: Type parameter is no longer needed.');d=arguments[1];}this.value=d;this.dynamic=m2r.e5;};THREE.Uniform.prototype={constructor:THREE.Uniform,onUpdate:function(d){this.dynamic=m2r.t4;this.onUpdateCallback=d;return this;}};THREE.AnimationClip=function(d,e,f){this.name=d||THREE.Math.generateUUID();this.tracks=f;this.duration=(e!==undefined)?e:-1;if(this.duration<0){this.resetDuration();}this.trim();this.optimize();};THREE.AnimationClip.prototype={constructor:THREE.AnimationClip,resetDuration:function(){var d=this.tracks,e=0;for(var f=0,i=d.length;f!==i;++f){var j=this.tracks[f];e=Math.max(e,j.times[j.times.length-1]);}this.duration=e;},trim:function(){for(var d=0;d<this.tracks.length;d++){this.tracks[d].trim(0,this.duration);}return this;},optimize:function(){for(var d=0;d<this.tracks.length;d++){this.tracks[d].optimize();}return this;}};Object.assign(THREE.AnimationClip,{parse:function(d){var e=[],f=d.tracks,i=m2r.d5/(d.fps||m2r.d5);for(var j=0,k=f.length;j!==k;++j){e.push(THREE.KeyframeTrack.parse(f[j]).scale(i));}return new THREE.AnimationClip(d.name,d.duration,e);},toJSON:function(d){var e=[],f=d.tracks,i={'name':d.name,'duration':d.duration,'tracks':e};for(var j=0,k=f.length;j!==k;++j){e.push(THREE.KeyframeTrack.toJSON(f[j]));}return i;},CreateFromMorphTargetSequence:function(d,e,f,i){var j=e.length,k=[];for(var m=0;m<j;m++){var n=[],u=[];n.push((m+j-1)%j,m,(m+1)%j);u.push(0,1,0);var v=THREE.AnimationUtils.getKeyframeOrder(n);n=THREE.AnimationUtils.sortedArray(n,1,v);u=THREE.AnimationUtils.sortedArray(u,1,v);if(!i&&n[0]===0){n.push(j);u.push(u[0]);}k.push(new THREE.NumberKeyframeTrack('.morphTargetInfluences['+e[m].name+']',n,u).scale(m2r.d5/f));}return new THREE.AnimationClip(d,-1,k);},findByName:function(d,e){for(var f=0;f<d.length;f++){if(d[f].name===e){return d[f];}}return m2r.r4;},CreateClipsFromMorphTargetSequences:function(d,e,f){var i={},j=/^([\w-]*?)([\d]+)$/;for(var k=0,m=d.length;k<m;k++){var n=d[k],u=n.name.match(j);if(u&&u.length>1){var v=u[1],A=i[v];if(!A){i[v]=A=[];}A.push(n);}}var B=[];for(var v in i){B.push(THREE.AnimationClip.CreateFromMorphTargetSequence(v,i[v],e,f));}return B;},parseAnimation:function(n,u,v){if(!n){console.error("  no animation in JSONLoader data");return m2r.r4;}var A=function(d,e,f,i,j){if(f.length!==0){var k=[],m=[];THREE.AnimationUtils.flattenJSON(f,k,m,i);if(k.length!==0){j.push(new d(e,k,m));}}},B=[],F=n.name||'default',G=n.length||-1,L=n.fps||30,H=n.hierarchy||[];for(var J=0;J<H.length;J++){var T=H[J].keys;if(!T||T.length==0)continue;if(T[0].morphTargets){var i0={};for(var b0=0;b0<T.length;b0++){if(T[b0].morphTargets){for(var N=0;N<T[b0].morphTargets.length;N++){i0[T[b0].morphTargets[N]]=-1;}}}for(var l0 in i0){var m0=[],o0=[];for(var N=0;N!==T[b0].morphTargets.length;++N){var n0=T[b0];m0.push(n0.time);o0.push((n0.morphTarget===l0)?1:0);}B.push(new THREE.NumberKeyframeTrack('.morphTargetInfluence['+l0+']',m0,o0));}G=i0.length*(L||m2r.d5);}else{var s0='.bones['+u[J].name+']';A(THREE.VectorKeyframeTrack,s0+'.position',T,'pos',B);A(THREE.QuaternionKeyframeTrack,s0+'.quaternion',T,'rot',B);A(THREE.VectorKeyframeTrack,s0+'.scale',T,'scl',B);}}if(B.length===0){return m2r.r4;}var z0=new THREE.AnimationClip(F,G,B);return z0;}});THREE.AnimationMixer=function(d){this._root=d;this._initMemoryManager();this._accuIndex=0;this.time=0;this.timeScale=m2r.d5;};THREE.AnimationMixer.prototype={constructor:THREE.AnimationMixer,clipAction:function(d,e){var f=e||this._root,i=f.uuid,j=(typeof d===m2r.o3)?d:d.name,k=(d!==j)?d:m2r.r4,m=this._actionsByClip[j],n;if(m!==undefined){var u=m.actionByRoot[i];if(u!==undefined){return u;}n=m.knownActions[0];k=n._clip;if(d!==j&&d!==k){throw  new Error("Different clips with the same name detected!");}}if(k===m2r.r4)return m2r.r4;var v=new THREE.AnimationMixer._Action(this,k,e);this._bindAction(v,n);this._addInactiveAction(v,j,i);return v;},existingAction:function(d,e){var f=e||this._root,i=f.uuid,j=(typeof d===m2r.o3)?d:d.name,k=this._actionsByClip[j];if(k!==undefined){return k.actionByRoot[i]||m2r.r4;}return m2r.r4;},stopAllAction:function(){var d=this._actions,e=this._nActiveActions,f=this._bindings,i=this._nActiveBindings;this._nActiveActions=0;this._nActiveBindings=0;for(var j=0;j!==e;++j){d[j].reset();}for(var j=0;j!==i;++j){f[j].useCount=0;}return this;},update:function(d){d*=this.timeScale;var e=this._actions,f=this._nActiveActions,i=this.time+=d,j=Math.sign(d),k=this._accuIndex^=1;for(var m=0;m!==f;++m){var n=e[m];if(n.enabled){n._update(i,d,j,k);}}var u=this._bindings,v=this._nActiveBindings;for(var m=0;m!==v;++m){u[m].apply(k);}return this;},getRoot:function(){return this._root;},uncacheClip:function(d){var e=this._actions,f=d.name,i=this._actionsByClip,j=i[f];if(j!==undefined){var k=j.knownActions;for(var m=0,n=k.length;m!==n;++m){var u=k[m];this._deactivateAction(u);var v=u._cacheIndex,A=e[e.length-1];u._cacheIndex=m2r.r4;u._byClipCacheIndex=m2r.r4;A._cacheIndex=v;e[v]=A;e.pop();this._removeInactiveBindingsForAction(u);}delete  i[f];}},uncacheRoot:function(d){var e=d.uuid,f=this._actionsByClip;for(var i in f){var j=f[i].actionByRoot,k=j[e];if(k!==undefined){this._deactivateAction(k);this._removeInactiveAction(k);}}var m=this._bindingsByRootAndName,n=m[e];if(n!==undefined){for(var u in n){var v=n[u];v.restoreOriginalState();this._removeInactiveBinding(v);}}},uncacheAction:function(d,e){var f=this.existingAction(d,e);if(f!==m2r.r4){this._deactivateAction(f);this._removeInactiveAction(f);}}};THREE.EventDispatcher.prototype.apply(THREE.AnimationMixer.prototype);THREE.AnimationMixer._Action=function(d,e,f){this._mixer=d;this._clip=e;this._localRoot=f||m2r.r4;var i=e.tracks,j=i.length,k=new Array(j),m={endingStart:THREE.ZeroCurvatureEnding,endingEnd:THREE.ZeroCurvatureEnding};for(var n=0;n!==j;++n){var u=i[n].createInterpolant(m2r.r4);k[n]=u;u.settings=m;}this._interpolantSettings=m;this._interpolants=k;this._propertyBindings=new Array(j);this._cacheIndex=m2r.r4;this._byClipCacheIndex=m2r.r4;this._timeScaleInterpolant=m2r.r4;this._weightInterpolant=m2r.r4;this.loop=THREE.LoopRepeat;this._loopCount=-1;this._startTime=m2r.r4;this.time=0;this.timeScale=1;this._effectiveTimeScale=1;this.weight=1;this._effectiveWeight=1;this.repetitions=Infinity;this.paused=m2r.e5;this.enabled=m2r.t4;this.clampWhenFinished=m2r.e5;this.zeroSlopeAtStart=m2r.t4;this.zeroSlopeAtEnd=m2r.t4;};THREE.AnimationMixer._Action.prototype={constructor:THREE.AnimationMixer._Action,play:function(){this._mixer._activateAction(this);return this;},stop:function(){this._mixer._deactivateAction(this);return this.reset();},reset:function(){this.paused=m2r.e5;this.enabled=m2r.t4;this.time=0;this._loopCount=-1;this._startTime=m2r.r4;return this.stopFading().stopWarping();},isRunning:function(){var d=this._startTime;return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===m2r.r4&&this._mixer._isActiveAction(this);},isScheduled:function(){return this._mixer._isActiveAction(this);},startAt:function(d){this._startTime=d;return this;},setLoop:function(d,e){this.loop=d;this.repetitions=e;return this;},setEffectiveWeight:function(d){this.weight=d;this._effectiveWeight=this.enabled?d:0;return this.stopFading();},getEffectiveWeight:function(){return this._effectiveWeight;},fadeIn:function(d){return this._scheduleFading(d,0,1);},fadeOut:function(d){return this._scheduleFading(d,1,0);},crossFadeFrom:function(d,e,f){var i=this._mixer;d.fadeOut(e);this.fadeIn(e);if(f){var j=this._clip.duration,k=d._clip.duration,m=k/j,n=j/k;d.warp(m2r.d5,m,e);this.warp(n,m2r.d5,e);}return this;},crossFadeTo:function(d,e,f){return d.crossFadeFrom(this,e,f);},stopFading:function(){var d=this._weightInterpolant;if(d!==m2r.r4){this._weightInterpolant=m2r.r4;this._mixer._takeBackControlInterpolant(d);}return this;},setEffectiveTimeScale:function(d){this.timeScale=d;this._effectiveTimeScale=this.paused?0:d;return this.stopWarping();},getEffectiveTimeScale:function(){return this._effectiveTimeScale;},setDuration:function(d){this.timeScale=this._clip.duration/d;return this.stopWarping();},syncWith:function(d){this.time=d.time;this.timeScale=d.timeScale;return this.stopWarping();},halt:function(d){return this.warp(this._currentTimeScale,0,d);},warp:function(d,e,f){var i=this._mixer,j=i.time,k=this._timeScaleInterpolant,m=this.timeScale;if(k===m2r.r4){k=i._lendControlInterpolant(),this._timeScaleInterpolant=k;}var n=k.parameterPositions,u=k.sampleValues;n[0]=j;n[1]=j+f;u[0]=d/m;u[1]=e/m;return this;},stopWarping:function(){var d=this._timeScaleInterpolant;if(d!==m2r.r4){this._timeScaleInterpolant=m2r.r4;this._mixer._takeBackControlInterpolant(d);}return this;},getMixer:function(){return this._mixer;},getClip:function(){return this._clip;},getRoot:function(){return this._localRoot||this._mixer._root;},_update:function(d,e,f,i){var j=this._startTime;if(j!==m2r.r4){var k=(d-j)*f;if(k<0||f===0){return ;}this._startTime=m2r.r4;e=f*k;}e*=this._updateTimeScale(d);var m=this._updateTime(e),n=this._updateWeight(d);if(n>0){var u=this._interpolants,v=this._propertyBindings;for(var A=0,B=u.length;A!==B;++A){u[A].evaluate(m);v[A].accumulate(i,n);}}},_updateWeight:function(d){var e=0;if(this.enabled){e=this.weight;var f=this._weightInterpolant;if(f!==m2r.r4){var i=f.evaluate(d)[0];e*=i;if(d>f.parameterPositions[1]){this.stopFading();if(i===0){this.enabled=m2r.e5;}}}}this._effectiveWeight=e;return e;},_updateTimeScale:function(d){var e=0;if(!this.paused){e=this.timeScale;var f=this._timeScaleInterpolant;if(f!==m2r.r4){var i=f.evaluate(d)[0];e*=i;if(d>f.parameterPositions[1]){this.stopWarping();if(e===0){this.pause=m2r.t4;}else{this.timeScale=e;}}}}this._effectiveTimeScale=e;return e;},_updateTime:function(d){var e=this.time+d;if(d===0)return e;var f=this._clip.duration,i=this.loop,j=this._loopCount,k=m2r.e5;switch(i){case THREE.LoopOnce:if(j===-1){this.loopCount=0;this._setEndings(m2r.t4,m2r.t4,m2r.e5);}if(e>=f){e=f;}else if(e<0){e=0;}else break;if(this.clampWhenFinished)this.pause=m2r.t4;else this.enabled=m2r.e5;this._mixer.dispatchEvent({type:'finished',action:this,direction:d<0?-1:1});break;case THREE.LoopPingPong:k=m2r.t4;case THREE.LoopRepeat:if(j===-1){if(d>0){j=0;this._setEndings(m2r.t4,this.repetitions===0,k);}else{this._setEndings(this.repetitions===0,m2r.t4,k);}}if(e>=f||e<0){var m=Math.floor(e/f);e-=f*m;j+=Math.abs(m);var n=this.repetitions-j;if(n<0){if(this.clampWhenFinished)this.paused=m2r.t4;else this.enabled=m2r.e5;e=d>0?f:0;this._mixer.dispatchEvent({type:'finished',action:this,direction:d>0?1:-1});break;}else if(n===0){var u=d<0;this._setEndings(u,!u,k);}else{this._setEndings(m2r.e5,m2r.e5,k);}this._loopCount=j;this._mixer.dispatchEvent({type:'loop',action:this,loopDelta:m});}if(i===THREE.LoopPingPong&&(j&1)===1){this.time=e;return f-e;}break;}this.time=e;return e;},_setEndings:function(d,e,f){var i=this._interpolantSettings;if(f){i.endingStart=THREE.ZeroSlopeEnding;i.endingEnd=THREE.ZeroSlopeEnding;}else{if(d){i.endingStart=this.zeroSlopeAtStart?THREE.ZeroSlopeEnding:THREE.ZeroCurvatureEnding;}else{i.endingStart=THREE.WrapAroundEnding;}if(e){i.endingEnd=this.zeroSlopeAtEnd?THREE.ZeroSlopeEnding:THREE.ZeroCurvatureEnding;}else{i.endingEnd=THREE.WrapAroundEnding;}}},_scheduleFading:function(d,e,f){var i=this._mixer,j=i.time,k=this._weightInterpolant;if(k===m2r.r4){k=i._lendControlInterpolant(),this._weightInterpolant=k;}var m=k.parameterPositions,n=k.sampleValues;m[0]=j;n[0]=e;m[1]=j+d;n[1]=f;return this;}};Object.assign(THREE.AnimationMixer.prototype,{_bindAction:function(d,e){var f=d._localRoot||this._root,i=d._clip.tracks,j=i.length,k=d._propertyBindings,m=d._interpolants,n=f.uuid,u=this._bindingsByRootAndName,v=u[n];if(v===undefined){v={};u[n]=v;}for(var A=0;A!==j;++A){var B=i[A],F=B.name,G=v[F];if(G!==undefined){k[A]=G;}else{G=k[A];if(G!==undefined){if(G._cacheIndex===m2r.r4){++G.referenceCount;this._addInactiveBinding(G,n,F);}continue;}var L=e&&e._propertyBindings[A].binding.parsedPath;G=new THREE.PropertyMixer(THREE.PropertyBinding.create(f,F,L),B.ValueTypeName,B.getValueSize());++G.referenceCount;this._addInactiveBinding(G,n,F);k[A]=G;}m[A].resultBuffer=G.buffer;}},_activateAction:function(d){if(!this._isActiveAction(d)){if(d._cacheIndex===m2r.r4){var e=(d._localRoot||this._root).uuid,f=d._clip.name,i=this._actionsByClip[f];this._bindAction(d,i&&i.knownActions[0]);this._addInactiveAction(d,f,e);}var j=d._propertyBindings;for(var k=0,m=j.length;k!==m;++k){var n=j[k];if(n.useCount++===0){this._lendBinding(n);n.saveOriginalState();}}this._lendAction(d);}},_deactivateAction:function(d){if(this._isActiveAction(d)){var e=d._propertyBindings;for(var f=0,i=e.length;f!==i;++f){var j=e[f];if(--j.useCount===0){j.restoreOriginalState();this._takeBackBinding(j);}}this._takeBackAction(d);}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var d=this;this.stats={actions:{get total(){return d._actions.length;},get inUse(){return d._nActiveActions;}},bindings:{get total(){return d._bindings.length;},get inUse(){return d._nActiveBindings;}},controlInterpolants:{get total(){return d._controlInterpolants.length;},get inUse(){return d._nActiveControlInterpolants;}}};},_isActiveAction:function(d){var e=d._cacheIndex;return e!==m2r.r4&&e<this._nActiveActions;},_addInactiveAction:function(d,e,f){var i=this._actions,j=this._actionsByClip,k=j[e];if(k===undefined){k={knownActions:[d],actionByRoot:{}};d._byClipCacheIndex=0;j[e]=k;}else{var m=k.knownActions;d._byClipCacheIndex=m.length;m.push(d);}d._cacheIndex=i.length;i.push(d);k.actionByRoot[f]=d;},_removeInactiveAction:function(d){var e=this._actions,f=e[e.length-1],i=d._cacheIndex;f._cacheIndex=i;e[i]=f;e.pop();d._cacheIndex=m2r.r4;var j=d._clip.name,k=this._actionsByClip,m=k[j],n=m.knownActions,u=n[n.length-1],v=d._byClipCacheIndex;u._byClipCacheIndex=v;n[v]=u;n.pop();d._byClipCacheIndex=m2r.r4;var A=m.actionByRoot,B=(e._localRoot||this._root).uuid;delete  A[B];if(n.length===0){delete  k[j];}this._removeInactiveBindingsForAction(d);},_removeInactiveBindingsForAction:function(d){var e=d._propertyBindings;for(var f=0,i=e.length;f!==i;++f){var j=e[f];if(--j.referenceCount===0){this._removeInactiveBinding(j);}}},_lendAction:function(d){var e=this._actions,f=d._cacheIndex,i=this._nActiveActions++,j=e[i];d._cacheIndex=i;e[i]=d;j._cacheIndex=f;e[f]=j;},_takeBackAction:function(d){var e=this._actions,f=d._cacheIndex,i=--this._nActiveActions,j=e[i];d._cacheIndex=i;e[i]=d;j._cacheIndex=f;e[f]=j;},_addInactiveBinding:function(d,e,f){var i=this._bindingsByRootAndName,j=i[e],k=this._bindings;if(j===undefined){j={};i[e]=j;}j[f]=d;d._cacheIndex=k.length;k.push(d);},_removeInactiveBinding:function(d){var e=this._bindings,f=d.binding,i=f.rootNode.uuid,j=f.path,k=this._bindingsByRootAndName,m=k[i],n=e[e.length-1],u=d._cacheIndex;n._cacheIndex=u;e[u]=n;e.pop();delete  m[j];remove_empty_map:{for(var v in m)break remove_empty_map;delete  k[i];}},_lendBinding:function(d){var e=this._bindings,f=d._cacheIndex,i=this._nActiveBindings++,j=e[i];d._cacheIndex=i;e[i]=d;j._cacheIndex=f;e[f]=j;},_takeBackBinding:function(d){var e=this._bindings,f=d._cacheIndex,i=--this._nActiveBindings,j=e[i];d._cacheIndex=i;e[i]=d;j._cacheIndex=f;e[f]=j;},_lendControlInterpolant:function(){var d=this._controlInterpolants,e=this._nActiveControlInterpolants++,f=d[e];if(f===undefined){f=new THREE.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer);f.__cacheIndex=e;d[e]=f;}return f;},_takeBackControlInterpolant:function(d){var e=this._controlInterpolants,f=d.__cacheIndex,i=--this._nActiveControlInterpolants,j=e[i];d.__cacheIndex=i;e[i]=d;j.__cacheIndex=f;e[f]=j;},_controlInterpolantsResultBuffer:new Float32Array(1)});THREE.AnimationObjectGroup=function(d){this.uuid=THREE.Math.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var f=0,i=arguments.length;f!==i;++f){e[arguments[f].uuid]=f;}this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var j=this;this.stats={objects:{get total(){return j._objects.length;},get inUse(){return this.total-j.nCachedObjects_;}},get bindingsPerObject(){return j._bindings.length;}};};THREE.AnimationObjectGroup.prototype={constructor:THREE.AnimationObjectGroup,add:function(d){var e=this._objects,f=e.length,i=this.nCachedObjects_,j=this._indicesByUUID,k=this._paths,m=this._parsedPaths,n=this._bindings,u=n.length;for(var v=0,A=arguments.length;v!==A;++v){var B=arguments[v],F=B.uuid,G=j[F];if(G===undefined){G=f++;j[F]=G;e.push(B);for(var L=0,H=u;L!==H;++L){n[L].push(new THREE.PropertyBinding(B,k[L],m[L]));}}else if(G<i){var J=e[G],T=--i,i0=e[T];j[i0.uuid]=G;e[G]=i0;j[F]=T;e[T]=B;for(var L=0,H=u;L!==H;++L){var b0=n[L],N=b0[T],l0=b0[G];b0[G]=N;if(l0===undefined){l0=new THREE.PropertyBinding(B,k[L],m[L]);}b0[T]=l0;}}else if(e[G]!==J){console.error("Different objects with the same UUID "+"detected. Clean the caches or recreate your "+"infrastructure when reloading scenes...");}}this.nCachedObjects_=i;},remove:function(d){var e=this._objects,f=e.length,i=this.nCachedObjects_,j=this._indicesByUUID,k=this._bindings,m=k.length;for(var n=0,u=arguments.length;n!==u;++n){var v=arguments[n],A=v.uuid,B=j[A];if(B!==undefined&&B>=i){var F=i++,G=e[F];j[G.uuid]=B;e[B]=G;j[A]=F;e[F]=v;for(var L=0,H=m;L!==H;++L){var J=k[L],T=J[F],i0=J[B];J[B]=T;J[F]=i0;}}}this.nCachedObjects_=i;},uncache:function(d){var e=this._objects,f=e.length,i=this.nCachedObjects_,j=this._indicesByUUID,k=this._bindings,m=k.length;for(var n=0,u=arguments.length;n!==u;++n){var v=arguments[n],A=v.uuid,B=j[A];if(B!==undefined){delete  j[A];if(B<i){var F=--i,G=e[F],L=--f,H=e[L];j[G.uuid]=B;e[B]=G;j[H.uuid]=F;e[F]=H;e.pop();for(var J=0,T=m;J!==T;++J){var i0=k[J],b0=i0[F],N=i0[L];i0[B]=b0;i0[F]=N;i0.pop();}}else{var L=--f,H=e[L];j[H.uuid]=B;e[B]=H;e.pop();for(var J=0,T=m;J!==T;++J){var i0=k[J];i0[B]=i0[L];i0.pop();}}}}this.nCachedObjects_=i;},subscribe_:function(d,e){var f=this._bindingsIndicesByPath,i=f[d],j=this._bindings;if(i!==undefined)return j[i];var k=this._paths,m=this._parsedPaths,n=this._objects,u=n.length,v=this.nCachedObjects_,A=new Array(u);i=j.length;f[d]=i;k.push(d);m.push(e);j.push(A);for(var B=v,F=n.length;B!==F;++B){var G=n[B];A[B]=new THREE.PropertyBinding(G,d,e);}return A;},unsubscribe_:function(d){var e=this._bindingsIndicesByPath,f=e[d];if(f!==undefined){var i=this._paths,j=this._parsedPaths,k=this._bindings,m=k.length-1,n=k[m],u=d[m];e[u]=f;k[f]=n;k.pop();j[f]=j[m];j.pop();i[f]=i[m];i.pop();}}};THREE.AnimationUtils={arraySlice:function(d,e,f){if(THREE.AnimationUtils.isTypedArray(d)){return new d.constructor(d.subarray(e,f));}return d.slice(e,f);},convertArray:function(d,e,f){if(!d||!f&&d.constructor===e)return d;if(typeof e.BYTES_PER_ELEMENT===m2r.H4){return new e(d);}return Array.prototype.slice.call(d);},isTypedArray:function(d){return ArrayBuffer.isView(d)&&!(d instanceof DataView);},getKeyframeOrder:function(f){function i(d,e){return f[d]-f[e];}var j=f.length,k=new Array(j);for(var m=0;m!==j;++m)k[m]=m;k.sort(i);return k;},sortedArray:function(d,e,f){var i=d.length,j=new d.constructor(i);for(var k=0,m=0;m!==i;++k){var n=f[k]*e;for(var u=0;u!==e;++u){j[m++]=d[n+u];}}return j;},flattenJSON:function(d,e,f,i){var j=1,k=d[0];while(k!==undefined&&k[i]===undefined){k=d[j++];}if(k===undefined)return ;var m=k[i];if(m===undefined)return ;if(Array.isArray(m)){do {m=k[i];if(m!==undefined){e.push(k.time);f.push.apply(f,m);}k=d[j++];}while(k!==undefined);}else if(m.toArray!==undefined){do {m=k[i];if(m!==undefined){e.push(k.time);m.toArray(f,f.length);}k=d[j++];}while(k!==undefined);}else{do {m=k[i];if(m!==undefined){e.push(k.time);f.push(m);}k=d[j++];}while(k!==undefined);}}};THREE.KeyframeTrack=function(d,e,f,i){if(d===undefined)throw  new Error("track name is undefined");if(e===undefined||e.length===0){throw  new Error("no keyframes in track named "+d);}this.name=d;this.times=THREE.AnimationUtils.convertArray(e,this.TimeBufferType);this.values=THREE.AnimationUtils.convertArray(f,this.ValueBufferType);this.setInterpolation(i||this.DefaultInterpolation);this.validate();this.optimize();};THREE.KeyframeTrack.prototype={constructor:THREE.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:THREE.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(d){return new THREE.DiscreteInterpolant(this.times,this.values,this.getValueSize(),d);},InterpolantFactoryMethodLinear:function(d){return new THREE.LinearInterpolant(this.times,this.values,this.getValueSize(),d);},InterpolantFactoryMethodSmooth:function(d){return new THREE.CubicInterpolant(this.times,this.values,this.getValueSize(),d);},setInterpolation:function(d){var e=undefined;switch(d){case THREE.InterpolateDiscrete:e=this.InterpolantFactoryMethodDiscrete;break;case THREE.InterpolateLinear:e=this.InterpolantFactoryMethodLinear;break;case THREE.InterpolateSmooth:e=this.InterpolantFactoryMethodSmooth;break;}if(e===undefined){var f="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===undefined){if(d!==this.DefaultInterpolation){this.setInterpolation(this.DefaultInterpolation);}else{throw  new Error(f);}}console.warn(f);return ;}this.createInterpolant=e;},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return THREE.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return THREE.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return THREE.InterpolateSmooth;}},getValueSize:function(){return this.values.length/this.times.length;},shift:function(d){if(d!==m2r.L2){var e=this.times;for(var f=0,i=e.length;f!==i;++f){e[f]+=d;}}return this;},scale:function(d){if(d!==m2r.d5){var e=this.times;for(var f=0,i=e.length;f!==i;++f){e[f]*=d;}}return this;},trim:function(d,e){var f=this.times,i=f.length,j=0,k=i-1;while(j!==i&&f[j]<d)++j;while(k!==-1&&f[k]>e)--k;++k;if(j!==0||k!==i){if(j>=k)k=Math.max(k,1),j=k-1;var m=this.getValueSize();this.times=THREE.AnimationUtils.arraySlice(f,j,k);this.values=THREE.AnimationUtils.arraySlice(this.values,j*m,k*m);}return this;},validate:function(){var d=m2r.t4,e=this.getValueSize();if(e-Math.floor(e)!==0){console.error("invalid value size in track",this);d=m2r.e5;}var f=this.times,i=this.values,j=f.length;if(j===0){console.error("track is empty",this);d=m2r.e5;}var k=m2r.r4;for(var m=0;m!==j;m++){var n=f[m];if(typeof n===m2r.H4&&isNaN(n)){console.error("time is not a valid number",this,m,n);d=m2r.e5;break;}if(k!==m2r.r4&&k>n){console.error("out of order keys",this,m,n,k);d=m2r.e5;break;}k=n;}if(i!==undefined){if(THREE.AnimationUtils.isTypedArray(i)){for(var m=0,u=i.length;m!==u;++m){var v=i[m];if(isNaN(v)){console.error("value is not a valid number",this,m,v);d=m2r.e5;break;}}}}return d;},optimize:function(){var d=this.times,e=this.values,f=this.getValueSize(),i=1;for(var j=1,k=d.length-1;j<=k;++j){var m=m2r.e5,n=d[j],u=d[j+1];if(n!==u&&(j!==1||n!==n[0])){var v=j*f,A=v-f,B=v+f;for(var F=0;F!==f;++F){var G=e[v+F];if(G!==e[A+F]||G!==e[B+F]){m=m2r.t4;break;}}}if(m){if(j!==i){d[i]=d[j];var L=j*f,H=i*f;for(var F=0;F!==f;++F){e[H+F]=e[L+F];}}++i;}}if(i!==d.length){this.times=THREE.AnimationUtils.arraySlice(d,0,i);this.values=THREE.AnimationUtils.arraySlice(e,0,i*f);}return this;}};Object.assign(THREE.KeyframeTrack,{parse:function(d){if(d.type===undefined){throw  new Error("track type undefined, can not parse");}var e=THREE.KeyframeTrack._getTrackTypeForValueTypeName(d.type);if(d.times===undefined){console.warn("legacy JSON format detected, converting");var f=[],i=[];THREE.AnimationUtils.flattenJSON(d.keys,f,i,'value');d.times=f;d.values=i;}if(e.parse!==undefined){return e.parse(d);}else{return new e(d.name,d.times,d.values,d.interpolation);}},toJSON:function(d){var e=d.constructor,f;if(e.toJSON!==undefined){f=e.toJSON(d);}else{f={'name':d.name,'times':THREE.AnimationUtils.convertArray(d.times,Array),'values':THREE.AnimationUtils.convertArray(d.values,Array)};var i=d.getInterpolation();if(i!==d.DefaultInterpolation){f.interpolation=i;}}f.type=d.ValueTypeName;return f;},_getTrackTypeForValueTypeName:function(d){switch(d.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return THREE.NumberKeyframeTrack;case "vector":case "vector2":case "vector3":case "vector4":return THREE.VectorKeyframeTrack;case "color":return THREE.ColorKeyframeTrack;case "quaternion":return THREE.QuaternionKeyframeTrack;case "bool":case "boolean":return THREE.BooleanKeyframeTrack;case "string":return THREE.StringKeyframeTrack;};throw  new Error("Unsupported typeName: "+d);}});THREE.PropertyBinding=function(d,e,f){this.path=e;this.parsedPath=f||THREE.PropertyBinding.parseTrackName(e);this.node=THREE.PropertyBinding.findNode(d,this.parsedPath.nodeName)||d;this.rootNode=d;};THREE.PropertyBinding.prototype={constructor:THREE.PropertyBinding,getValue:function getValue_unbound(d,e){this.bind();this.getValue(d,e);},setValue:function getValue_unbound(d,e){this.bind();this.setValue(d,e);},bind:function(){var d=" but it wasn't found.",e=this.node,f=this.parsedPath,i=f.objectName,j=f.propertyName,k=f.propertyIndex;if(!e){e=THREE.PropertyBinding.findNode(this.rootNode,f.nodeName)||this.rootNode;this.node=e;}this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(!e){console.error("  trying to update node for track: "+this.path+d);return ;}if(i){var m=f.objectIndex;switch(i){case 'materials':if(!e.material){console.error('  can not bind to material as node does not have a material',this);return ;}if(!e.material.materials){console.error('  can not bind to material.materials as node.material does not have a materials array',this);return ;}e=e.material.materials;break;case 'bones':if(!e.skeleton){console.error('  can not bind to bones as node does not have a skeleton',this);return ;}e=e.skeleton.bones;for(var n=0;n<e.length;n++){if(e[n].name===m){m=n;break;}}break;default:if(e[i]===undefined){console.error('  can not bind to objectName of node, undefined',this);return ;}e=e[i];}if(m!==undefined){if(e[m]===undefined){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,e);return ;}e=e[m];}}var u=e[j];if(!u){var v=f.nodeName;console.error("  trying to update property for track: "+v+'.'+j+d,e);return ;}var A=this.Versioning.None;if(e.needsUpdate!==undefined){A=this.Versioning.NeedsUpdate;this.targetObject=e;}else if(e.matrixWorldNeedsUpdate!==undefined){A=this.Versioning.MatrixWorldNeedsUpdate;this.targetObject=e;}var B=this.BindingType.Direct;if(k!==undefined){if(j==="morphTargetInfluences"){if(!e.geometry){console.error('  can not bind to morphTargetInfluences becasuse node does not have a geometry',this);return ;}if(!e.geometry.morphTargets){console.error('  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets',this);return ;}for(var n=0;n<this.node.geometry.morphTargets.length;n++){if(e.geometry.morphTargets[n].name===k){k=n;break;}}}B=this.BindingType.ArrayElement;this.resolvedProperty=u;this.propertyIndex=k;}else if(u.fromArray!==undefined&&u.toArray!==undefined){B=this.BindingType.HasFromToArray;this.resolvedProperty=u;}else if(u.length!==undefined){B=this.BindingType.EntireArray;this.resolvedProperty=u;}else{this.propertyName=j;}this.getValue=this.GetterByBindingType[B];this.setValue=this.SetterByBindingTypeAndVersioning[B][A];},unbind:function(){this.node=m2r.r4;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound;}};Object.assign(THREE.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:THREE.PropertyBinding.prototype.getValue,_setValue_unbound:THREE.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function getValue_direct(d,e){d[e]=this.node[this.propertyName];},function getValue_array(d,e){var f=this.resolvedProperty;for(var i=0,j=f.length;i!==j;++i){d[e++]=f[i];}},function getValue_arrayElement(d,e){d[e]=this.resolvedProperty[this.propertyIndex];},function getValue_toArray(d,e){this.resolvedProperty.toArray(d,e);}],SetterByBindingTypeAndVersioning:[[function setValue_direct(d,e){this.node[this.propertyName]=d[e];},function setValue_direct_setNeedsUpdate(d,e){this.node[this.propertyName]=d[e];this.targetObject.needsUpdate=m2r.t4;},function setValue_direct_setMatrixWorldNeedsUpdate(d,e){this.node[this.propertyName]=d[e];this.targetObject.matrixWorldNeedsUpdate=m2r.t4;}],[function setValue_array(d,e){var f=this.resolvedProperty;for(var i=0,j=f.length;i!==j;++i){f[i]=d[e++];}},function setValue_array_setNeedsUpdate(d,e){var f=this.resolvedProperty;for(var i=0,j=f.length;i!==j;++i){f[i]=d[e++];}this.targetObject.needsUpdate=m2r.t4;},function setValue_array_setMatrixWorldNeedsUpdate(d,e){var f=this.resolvedProperty;for(var i=0,j=f.length;i!==j;++i){f[i]=d[e++];}this.targetObject.matrixWorldNeedsUpdate=m2r.t4;}],[function setValue_arrayElement(d,e){this.resolvedProperty[this.propertyIndex]=d[e];},function setValue_arrayElement_setNeedsUpdate(d,e){this.resolvedProperty[this.propertyIndex]=d[e];this.targetObject.needsUpdate=m2r.t4;},function setValue_arrayElement_setMatrixWorldNeedsUpdate(d,e){this.resolvedProperty[this.propertyIndex]=d[e];this.targetObject.matrixWorldNeedsUpdate=m2r.t4;}],[function setValue_fromArray(d,e){this.resolvedProperty.fromArray(d,e);},function setValue_fromArray_setNeedsUpdate(d,e){this.resolvedProperty.fromArray(d,e);this.targetObject.needsUpdate=m2r.t4;},function setValue_fromArray_setMatrixWorldNeedsUpdate(d,e){this.resolvedProperty.fromArray(d,e);this.targetObject.matrixWorldNeedsUpdate=m2r.t4;}]]});THREE.PropertyBinding.Composite=function(d,e,f){var i=f||THREE.PropertyBinding.parseTrackName(e);this._targetGroup=d;this._bindings=d.subscribe_(e,i);};THREE.PropertyBinding.Composite.prototype={constructor:THREE.PropertyBinding.Composite,getValue:function(d,e){this.bind();var f=this._targetGroup.nCachedObjects_,i=this._bindings[f];if(i!==undefined)i.getValue(d,e);},setValue:function(d,e){var f=this._bindings;for(var i=this._targetGroup.nCachedObjects_,j=f.length;i!==j;++i){f[i].setValue(d,e);}},bind:function(){var d=this._bindings;for(var e=this._targetGroup.nCachedObjects_,f=d.length;e!==f;++e){d[e].bind();}},unbind:function(){var d=this._bindings;for(var e=this._targetGroup.nCachedObjects_,f=d.length;e!==f;++e){d[e].unbind();}}};THREE.PropertyBinding.create=function(d,e,f){if(!(d instanceof THREE.AnimationObjectGroup)){return new THREE.PropertyBinding(d,e,f);}else{return new THREE.PropertyBinding.Composite(d,e,f);}};THREE.PropertyBinding.parseTrackName=function(d){var e=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,f=e.exec(d);if(!f){throw  new Error("cannot parse trackName at all: "+d);}if(f.index===e.lastIndex){e.lastIndex++;}var i={nodeName:f[3],objectName:f[5],objectIndex:f[7],propertyName:f[9],propertyIndex:f[11]};if(i.propertyName===m2r.r4||i.propertyName.length===0){throw  new Error("can not parse propertyName from trackName: "+d);}return i;};THREE.PropertyBinding.findNode=function(j,k){if(!k||k===""||k==="root"||k==="."||k===-1||k===j.name||k===j.uuid){return j;}if(j.skeleton){var m=function(d){for(var e=0;e<d.bones.length;e++){var f=d.bones[e];if(f.name===k){return f;}}return m2r.r4;},n=m(j.skeleton);if(n){return n;}}if(j.children){var u=function(d){for(var e=0;e<d.length;e++){var f=d[e];if(f.name===k||f.uuid===k){return f;}var i=u(f.children);if(i)return i;}return m2r.r4;},v=u(j.children);if(v){return v;}}return m2r.r4;};THREE.PropertyMixer=function(d,e,f){this.binding=d;this.valueSize=f;var i=Float64Array,j;switch(e){case 'quaternion':j=this._slerp;break;case m2r.o3:case 'bool':i=Array,j=this._select;break;default:j=this._lerp;}this.buffer=new i(f*4);this._mixBufferRegion=j;this.cumulativeWeight=0;this.useCount=0;this.referenceCount=0;};THREE.PropertyMixer.prototype={constructor:THREE.PropertyMixer,accumulate:function(d,e){var f=this.buffer,i=this.valueSize,j=d*i+i,k=this.cumulativeWeight;if(k===0){for(var m=0;m!==i;++m){f[j+m]=f[m];}k=e;}else{k+=e;var n=e/k;this._mixBufferRegion(f,j,0,n,i);}this.cumulativeWeight=k;},apply:function(d){var e=this.valueSize,f=this.buffer,i=d*e+e,j=this.cumulativeWeight,k=this.binding;this.cumulativeWeight=0;if(j<1){var m=e*3;this._mixBufferRegion(f,i,m,1-j,e);}for(var n=e,u=e+e;n!==u;++n){if(f[n]!==f[n+e]){k.setValue(f,i);break;}}},saveOriginalState:function(){var d=this.binding,e=this.buffer,f=this.valueSize,i=f*3;d.getValue(e,i);for(var j=f,k=i;j!==k;++j){e[j]=e[i+(j%f)];}this.cumulativeWeight=0;},restoreOriginalState:function(){var d=this.valueSize*3;this.binding.setValue(this.buffer,d);},_select:function(d,e,f,i,j){if(i>=m2r.K2){for(var k=0;k!==j;++k){d[e+k]=d[f+k];}}},_slerp:function(d,e,f,i,j){THREE.Quaternion.slerpFlat(d,e,d,e,d,f,i);},_lerp:function(d,e,f,i,j){var k=1-i;for(var m=0;m!==j;++m){var n=e+m;d[n]=d[n]*k+d[f+m]*i;}}};THREE.BooleanKeyframeTrack=function(d,e,f){THREE.KeyframeTrack.call(this,d,e,f);};THREE.BooleanKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.BooleanKeyframeTrack,ValueTypeName:'bool',ValueBufferType:Array,DefaultInterpolation:THREE.InterpolateDiscrete,InterpolantFactoryMethodLinear:undefined,InterpolantFactoryMethodSmooth:undefined});THREE.ColorKeyframeTrack=function(d,e,f,i){THREE.KeyframeTrack.call(this,d,e,f,i);};THREE.ColorKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.ColorKeyframeTrack,ValueTypeName:m2r.q3});THREE.NumberKeyframeTrack=function(d,e,f,i){THREE.KeyframeTrack.call(this,d,e,f,i);};THREE.NumberKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.NumberKeyframeTrack,ValueTypeName:m2r.H4,});THREE.QuaternionKeyframeTrack=function(d,e,f,i){THREE.KeyframeTrack.call(this,d,e,f,i);};THREE.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.QuaternionKeyframeTrack,ValueTypeName:'quaternion',DefaultInterpolation:THREE.InterpolateLinear,InterpolantFactoryMethodLinear:function(d){return new THREE.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),d);},InterpolantFactoryMethodSmooth:undefined});THREE.StringKeyframeTrack=function(d,e,f,i){THREE.KeyframeTrack.call(this,d,e,f,i);};THREE.StringKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.StringKeyframeTrack,ValueTypeName:m2r.o3,ValueBufferType:Array,DefaultInterpolation:THREE.InterpolateDiscrete,InterpolantFactoryMethodLinear:undefined,InterpolantFactoryMethodSmooth:undefined});THREE.VectorKeyframeTrack=function(d,e,f,i){THREE.KeyframeTrack.call(this,d,e,f,i);};THREE.VectorKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.VectorKeyframeTrack,ValueTypeName:'vector'});THREE.Audio=function(d){THREE.Object3D.call(this);this.type='Audio';this.context=d.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(d.getInput());this.autoplay=m2r.e5;this.startTime=0;this.playbackRate=1;this.isPlaying=m2r.e5;this.hasPlaybackControl=m2r.t4;this.sourceType='empty';this.filter=m2r.r4;};THREE.Audio.prototype=Object.create(THREE.Object3D.prototype);THREE.Audio.prototype.constructor=THREE.Audio;THREE.Audio.prototype.getOutput=function(){return this.gain;};THREE.Audio.prototype.setNodeSource=function(d){this.hasPlaybackControl=m2r.e5;this.sourceType='audioNode';this.source=d;this.connect();return this;};THREE.Audio.prototype.setBuffer=function(d){var e=this;e.source.buffer=d;e.sourceType='buffer';if(e.autoplay)e.play();return this;};THREE.Audio.prototype.play=function(){if(this.isPlaying===m2r.t4){console.warn('THREE.Audio: Audio is already playing.');return ;}if(this.hasPlaybackControl===m2r.e5){console.warn(m2r.k5);return ;}var d=this.context.createBufferSource();d.buffer=this.source.buffer;d.loop=this.source.loop;d.onended=this.source.onended;d.start(0,this.startTime);d.playbackRate.value=this.playbackRate;this.isPlaying=m2r.t4;this.source=d;this.connect();};THREE.Audio.prototype.pause=function(){if(this.hasPlaybackControl===m2r.e5){console.warn(m2r.k5);return ;}this.source.stop();this.startTime=this.context.currentTime;};THREE.Audio.prototype.stop=function(){if(this.hasPlaybackControl===m2r.e5){console.warn(m2r.k5);return ;}this.source.stop();this.startTime=0;};THREE.Audio.prototype.connect=function(){if(this.filter!==m2r.r4){this.source.connect(this.filter);this.filter.connect(this.getOutput());}else{this.source.connect(this.getOutput());}};THREE.Audio.prototype.disconnect=function(){if(this.filter!==m2r.r4){this.source.disconnect(this.filter);this.filter.disconnect(this.getOutput());}else{this.source.disconnect(this.getOutput());}};THREE.Audio.prototype.getFilter=function(){return this.filter;};THREE.Audio.prototype.setFilter=function(d){if(d===undefined)d=m2r.r4;if(this.isPlaying===m2r.t4){this.disconnect();this.filter=d;this.connect();}else{this.filter=d;}};THREE.Audio.prototype.setPlaybackRate=function(d){if(this.hasPlaybackControl===m2r.e5){console.warn(m2r.k5);return ;}this.playbackRate=d;if(this.isPlaying===m2r.t4){this.source.playbackRate.value=this.playbackRate;}};THREE.Audio.prototype.getPlaybackRate=function(){return this.playbackRate;};THREE.Audio.prototype.onEnded=function(){this.isPlaying=m2r.e5;};THREE.Audio.prototype.setLoop=function(d){if(this.hasPlaybackControl===m2r.e5){console.warn(m2r.k5);return ;}this.source.loop=d;};THREE.Audio.prototype.getLoop=function(){if(this.hasPlaybackControl===m2r.e5){console.warn(m2r.k5);return m2r.e5;}return this.source.loop;};THREE.Audio.prototype.setVolume=function(d){this.gain.gain.value=d;};THREE.Audio.prototype.getVolume=function(){return this.gain.gain.value;};THREE.AudioAnalyser=function(d,e){this.analyser=d.context.createAnalyser();this.analyser.fftSize=e!==undefined?e:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);d.getOutput().connect(this.analyser);};THREE.AudioAnalyser.prototype={constructor:THREE.AudioAnalyser,getData:function(){this.analyser.getByteFrequencyData(this.data);return this.data;}};Object.defineProperty(THREE,'AudioContext',{get:(function(){var d;return function(){if(d===undefined){d=new (window.AudioContext||window.webkitAudioContext)();}return d;};})()});THREE.PositionalAudio=function(d){THREE.Audio.call(this,d);this.panner=this.context.createPanner();this.panner.connect(this.gain);};THREE.PositionalAudio.prototype=Object.create(THREE.Audio.prototype);THREE.PositionalAudio.prototype.constructor=THREE.PositionalAudio;THREE.PositionalAudio.prototype.getOutput=function(){return this.panner;};THREE.PositionalAudio.prototype.setRefDistance=function(d){this.panner.refDistance=d;};THREE.PositionalAudio.prototype.getRefDistance=function(){return this.panner.refDistance;};THREE.PositionalAudio.prototype.setRolloffFactor=function(d){this.panner.rolloffFactor=d;};THREE.PositionalAudio.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor;};THREE.PositionalAudio.prototype.setDistanceModel=function(d){this.panner.distanceModel=d;};THREE.PositionalAudio.prototype.getDistanceModel=function(){return this.panner.distanceModel;};THREE.PositionalAudio.prototype.setMaxDistance=function(d){this.panner.maxDistance=d;};THREE.PositionalAudio.prototype.getMaxDistance=function(){return this.panner.maxDistance;};THREE.PositionalAudio.prototype.updateMatrixWorld=(function(){var e=new THREE.Vector3();return function f(d){THREE.Object3D.prototype.updateMatrixWorld.call(this,d);e.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(e.x,e.y,e.z);};})();THREE.AudioListener=function(){THREE.Object3D.call(this);this.type='AudioListener';this.context=THREE.AudioContext;this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=m2r.r4;};THREE.AudioListener.prototype=Object.create(THREE.Object3D.prototype);THREE.AudioListener.prototype.constructor=THREE.AudioListener;THREE.AudioListener.prototype.getInput=function(){return this.gain;};THREE.AudioListener.prototype.removeFilter=function(){if(this.filter!==m2r.r4){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination);this.gain.connect(this.context.destination);this.filter=m2r.r4;}};THREE.AudioListener.prototype.setFilter=function(d){if(this.filter!==m2r.r4){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination);}else{this.gain.disconnect(this.context.destination);}this.filter=d;this.gain.connect(this.filter);this.filter.connect(this.context.destination);};THREE.AudioListener.prototype.getFilter=function(){return this.filter;};THREE.AudioListener.prototype.setMasterVolume=function(d){this.gain.gain.value=d;};THREE.AudioListener.prototype.getMasterVolume=function(){return this.gain.gain.value;};THREE.AudioListener.prototype.updateMatrixWorld=(function(){var i=new THREE.Vector3(),j=new THREE.Quaternion(),k=new THREE.Vector3(),m=new THREE.Vector3();return function n(d){THREE.Object3D.prototype.updateMatrixWorld.call(this,d);var e=this.context.listener,f=this.up;this.matrixWorld.decompose(i,j,k);m.set(0,0,-1).applyQuaternion(j);e.setPosition(i.x,i.y,i.z);e.setOrientation(m.x,m.y,m.z,f.x,f.y,f.z);};})();THREE.Camera=function(){THREE.Object3D.call(this);this.type='Camera';this.matrixWorldInverse=new THREE.Matrix4();this.projectionMatrix=new THREE.Matrix4();};THREE.Camera.prototype=Object.create(THREE.Object3D.prototype);THREE.Camera.prototype.constructor=THREE.Camera;THREE.Camera.prototype.getWorldDirection=function(){var f=new THREE.Quaternion();return function(d){var e=d||new THREE.Vector3();this.getWorldQuaternion(f);return e.set(0,0,-1).applyQuaternion(f);};}();THREE.Camera.prototype.lookAt=function(){var e=new THREE.Matrix4();return function(d){e.lookAt(this.position,d,this.up);this.quaternion.setFromRotationMatrix(e);};}();THREE.Camera.prototype.clone=function(){return new this.constructor().copy(this);};THREE.Camera.prototype.copy=function(d){THREE.Object3D.prototype.copy.call(this,d);this.matrixWorldInverse.copy(d.matrixWorldInverse);this.projectionMatrix.copy(d.projectionMatrix);return this;};THREE.CubeCamera=function(j,k,m){THREE.Object3D.call(this);this.type='CubeCamera';var n=90,u=1,v=new THREE.PerspectiveCamera(n,u,j,k);v.up.set(0,-1,0);v.lookAt(new THREE.Vector3(1,0,0));this.add(v);var A=new THREE.PerspectiveCamera(n,u,j,k);A.up.set(0,-1,0);A.lookAt(new THREE.Vector3(-1,0,0));this.add(A);var B=new THREE.PerspectiveCamera(n,u,j,k);B.up.set(0,0,1);B.lookAt(new THREE.Vector3(0,1,0));this.add(B);var F=new THREE.PerspectiveCamera(n,u,j,k);F.up.set(0,0,-1);F.lookAt(new THREE.Vector3(0,-1,0));this.add(F);var G=new THREE.PerspectiveCamera(n,u,j,k);G.up.set(0,-1,0);G.lookAt(new THREE.Vector3(0,0,1));this.add(G);var L=new THREE.PerspectiveCamera(n,u,j,k);L.up.set(0,-1,0);L.lookAt(new THREE.Vector3(0,0,-1));this.add(L);var H={format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter};this.renderTarget=new THREE.WebGLRenderTargetCube(m,m,H);this.updateCubeMap=function(d,e){if(this.parent===m2r.r4)this.updateMatrixWorld();var f=this.renderTarget,i=f.texture.generateMipmaps;f.texture.generateMipmaps=m2r.e5;f.activeCubeFace=0;d.render(e,v,f);f.activeCubeFace=1;d.render(e,A,f);f.activeCubeFace=2;d.render(e,B,f);f.activeCubeFace=3;d.render(e,F,f);f.activeCubeFace=4;d.render(e,G,f);f.texture.generateMipmaps=i;f.activeCubeFace=5;d.render(e,L,f);d.setRenderTarget(m2r.r4);};};THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype);THREE.CubeCamera.prototype.constructor=THREE.CubeCamera;THREE.OrthographicCamera=function(d,e,f,i,j,k){THREE.Camera.call(this);this.type=m2r.Z0;this.zoom=1;this.left=d;this.right=e;this.top=f;this.bottom=i;this.near=(j!==undefined)?j:0.1;this.far=(k!==undefined)?k:2000;this.updateProjectionMatrix();};THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype);THREE.OrthographicCamera.prototype.constructor=THREE.OrthographicCamera;THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){var d=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),f=(this.right+this.left)/2,i=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(f-d,f+d,i+e,i-e,this.near,this.far);};THREE.OrthographicCamera.prototype.copy=function(d){THREE.Camera.prototype.copy.call(this,d);this.left=d.left;this.right=d.right;this.top=d.top;this.bottom=d.bottom;this.near=d.near;this.far=d.far;this.zoom=d.zoom;return this;};THREE.OrthographicCamera.prototype.toJSON=function(d){var e=THREE.Object3D.prototype.toJSON.call(this,d);e.object.zoom=this.zoom;e.object.left=this.left;e.object.right=this.right;e.object.top=this.top;e.object.bottom=this.bottom;e.object.near=this.near;e.object.far=this.far;return e;};THREE.PerspectiveCamera=function(d,e,f,i){THREE.Camera.call(this);this.type=m2r.F2;this.fov=d!==undefined?d:50;this.zoom=1;this.near=f!==undefined?f:0.1;this.far=i!==undefined?i:2000;this.focus=10;this.aspect=e!==undefined?e:1;this.view=m2r.r4;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix();};THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype);THREE.PerspectiveCamera.prototype.constructor=THREE.PerspectiveCamera;THREE.PerspectiveCamera.prototype.setLens=function(d,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. "+"Use .setFocalLength and .filmGauge for a photographic setup.");if(e!==undefined)this.filmGauge=e;this.setFocalLength(d);};THREE.PerspectiveCamera.prototype.setFocalLength=function(d){var e=m2r.K2*this.getFilmHeight()/d;this.fov=THREE.Math.RAD2DEG*2*Math.atan(e);this.updateProjectionMatrix();};THREE.PerspectiveCamera.prototype.getFocalLength=function(){var d=Math.tan(THREE.Math.DEG2RAD*m2r.K2*this.fov);return m2r.K2*this.getFilmHeight()/d;};THREE.PerspectiveCamera.prototype.getEffectiveFOV=function(){return THREE.Math.RAD2DEG*2*Math.atan(Math.tan(THREE.Math.DEG2RAD*m2r.K2*this.fov)/this.zoom);};THREE.PerspectiveCamera.prototype.getFilmWidth=function(){return this.filmGauge*Math.min(this.aspect,1);};THREE.PerspectiveCamera.prototype.getFilmHeight=function(){return this.filmGauge/Math.max(this.aspect,1);};THREE.PerspectiveCamera.prototype.setViewOffset=function(d,e,f,i,j,k){this.aspect=d/e;this.view={fullWidth:d,fullHeight:e,offsetX:f,offsetY:i,width:j,height:k};this.updateProjectionMatrix();};THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var d=this.near,e=d*Math.tan(THREE.Math.DEG2RAD*m2r.K2*this.fov)/this.zoom,f=2*e,i=this.aspect*f,j=-m2r.K2*i,k=this.view;if(k!==m2r.r4){var m=k.fullWidth,n=k.fullHeight;j+=k.offsetX*i/m;e-=k.offsetY*f/n;i*=k.width/m;f*=k.height/n;}var u=this.filmOffset;if(u!==0)j+=d*u/this.getFilmWidth();this.projectionMatrix.makeFrustum(j,j+i,e-f,e,d,this.far);};THREE.PerspectiveCamera.prototype.copy=function(d){THREE.Camera.prototype.copy.call(this,d);this.fov=d.fov;this.zoom=d.zoom;this.near=d.near;this.far=d.far;this.focus=d.focus;this.aspect=d.aspect;this.view=d.view===m2r.r4?m2r.r4:Object.assign({},d.view);this.filmGauge=d.filmGauge;this.filmOffset=d.filmOffset;return this;};THREE.PerspectiveCamera.prototype.toJSON=function(d){var e=THREE.Object3D.prototype.toJSON.call(this,d);e.object.fov=this.fov;e.object.zoom=this.zoom;e.object.near=this.near;e.object.far=this.far;e.object.focus=this.focus;e.object.aspect=this.aspect;if(this.view!==m2r.r4)e.object.view=Object.assign({},this.view);e.object.filmGauge=this.filmGauge;e.object.filmOffset=this.filmOffset;return e;};THREE.StereoCamera=function(){this.type='StereoCamera';this.aspect=1;this.cameraL=new THREE.PerspectiveCamera();this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=m2r.e5;this.cameraR=new THREE.PerspectiveCamera();this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=m2r.e5;};THREE.StereoCamera.prototype={constructor:THREE.StereoCamera,update:(function(){var u,v,A,B,F,G=new THREE.Matrix4(),L=new THREE.Matrix4();return function H(d){var e=u!==d.focus||v!==d.fov||A!==d.aspect*this.aspect||B!==d.near||F!==d.far;if(e){u=d.focus;v=d.fov;A=d.aspect*this.aspect;B=d.near;F=d.far;var f=d.projectionMatrix.clone(),i=0.064/2,j=i*B/u,k=B*Math.tan(THREE.Math.DEG2RAD*v*m2r.K2),m,n;L.elements[12]=-i;G.elements[12]=i;m=-k*A+j;n=k*A+j;f.elements[0]=2*B/(n-m);f.elements[8]=(n+m)/(n-m);this.cameraL.projectionMatrix.copy(f);m=-k*A-j;n=k*A-j;f.elements[0]=2*B/(n-m);f.elements[8]=(n+m)/(n-m);this.cameraR.projectionMatrix.copy(f);}this.cameraL.matrixWorld.copy(d.matrixWorld).multiply(L);this.cameraR.matrixWorld.copy(d.matrixWorld).multiply(G);};})()};THREE.Light=function(d,e){THREE.Object3D.call(this);this.type='Light';this.color=new THREE.Color(d);this.intensity=e!==undefined?e:1;this.receiveShadow=undefined;};THREE.Light.prototype=Object.create(THREE.Object3D.prototype);THREE.Light.prototype.constructor=THREE.Light;THREE.Light.prototype.copy=function(d){THREE.Object3D.prototype.copy.call(this,d);this.color.copy(d.color);this.intensity=d.intensity;return this;};THREE.Light.prototype.toJSON=function(d){var e=THREE.Object3D.prototype.toJSON.call(this,d);e.object.color=this.color.getHex();e.object.intensity=this.intensity;if(this.groundColor!==undefined)e.object.groundColor=this.groundColor.getHex();if(this.distance!==undefined)e.object.distance=this.distance;if(this.angle!==undefined)e.object.angle=this.angle;if(this.decay!==undefined)e.object.decay=this.decay;if(this.penumbra!==undefined)e.object.penumbra=this.penumbra;return e;};THREE.LightShadow=function(d){this.camera=d;this.bias=0;this.radius=1;this.mapSize=new THREE.Vector2(512,512);this.map=m2r.r4;this.matrix=new THREE.Matrix4();};THREE.LightShadow.prototype={constructor:THREE.LightShadow,copy:function(d){this.camera=d.camera.clone();this.bias=d.bias;this.radius=d.radius;this.mapSize.copy(d.mapSize);return this;},clone:function(){return new this.constructor().copy(this);}};THREE.AmbientLight=function(d,e){THREE.Light.call(this,d,e);this.type=m2r.Q3;this.castShadow=undefined;};THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype);THREE.AmbientLight.prototype.constructor=THREE.AmbientLight;THREE.DirectionalLight=function(d,e){THREE.Light.call(this,d,e);this.type=m2r.E3;this.position.set(0,1,0);this.updateMatrix();this.target=new THREE.Object3D();this.shadow=new THREE.DirectionalLightShadow();};THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype);THREE.DirectionalLight.prototype.constructor=THREE.DirectionalLight;THREE.DirectionalLight.prototype.copy=function(d){THREE.Light.prototype.copy.call(this,d);this.target=d.target.clone();this.shadow=d.shadow.clone();return this;};THREE.DirectionalLightShadow=function(d){THREE.LightShadow.call(this,new THREE.OrthographicCamera(-5,5,5,-5,m2r.K2,500));};THREE.DirectionalLightShadow.prototype=Object.create(THREE.LightShadow.prototype);THREE.DirectionalLightShadow.prototype.constructor=THREE.DirectionalLightShadow;THREE.HemisphereLight=function(d,e,f){THREE.Light.call(this,d,f);this.type=m2r.r3;this.castShadow=undefined;this.position.set(0,1,0);this.updateMatrix();this.groundColor=new THREE.Color(e);};THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype);THREE.HemisphereLight.prototype.constructor=THREE.HemisphereLight;THREE.HemisphereLight.prototype.copy=function(d){THREE.Light.prototype.copy.call(this,d);this.groundColor.copy(d.groundColor);return this;};THREE.PointLight=function(d,e,f,i){THREE.Light.call(this,d,e);this.type=m2r.j2;this.distance=(f!==undefined)?f:0;this.decay=(i!==undefined)?i:1;this.shadow=new THREE.LightShadow(new THREE.PerspectiveCamera(90,1,m2r.K2,500));};THREE.PointLight.prototype=Object.create(THREE.Light.prototype);THREE.PointLight.prototype.constructor=THREE.PointLight;Object.defineProperty(THREE.PointLight.prototype,"power",{get:function(){return this.intensity*4*Math.PI;},set:function(d){this.intensity=d/(4*Math.PI);}});THREE.PointLight.prototype.copy=function(d){THREE.Light.prototype.copy.call(this,d);this.distance=d.distance;this.decay=d.decay;this.shadow=d.shadow.clone();return this;};THREE.SpotLight=function(d,e,f,i,j,k){THREE.Light.call(this,d,e);this.type=m2r.n4;this.position.set(0,1,0);this.updateMatrix();this.target=new THREE.Object3D();this.distance=(f!==undefined)?f:0;this.angle=(i!==undefined)?i:Math.PI/3;this.penumbra=(j!==undefined)?j:0;this.decay=(k!==undefined)?k:1;this.shadow=new THREE.SpotLightShadow();};THREE.SpotLight.prototype=Object.create(THREE.Light.prototype);THREE.SpotLight.prototype.constructor=THREE.SpotLight;Object.defineProperty(THREE.SpotLight.prototype,"power",{get:function(){return this.intensity*Math.PI;},set:function(d){this.intensity=d/Math.PI;}});THREE.SpotLight.prototype.copy=function(d){THREE.Light.prototype.copy.call(this,d);this.distance=d.distance;this.angle=d.angle;this.penumbra=d.penumbra;this.decay=d.decay;this.target=d.target.clone();this.shadow=d.shadow.clone();return this;};THREE.SpotLightShadow=function(){THREE.LightShadow.call(this,new THREE.PerspectiveCamera(50,1,m2r.K2,500));};THREE.SpotLightShadow.prototype=Object.create(THREE.LightShadow.prototype);THREE.SpotLightShadow.prototype.constructor=THREE.SpotLightShadow;THREE.SpotLightShadow.prototype.update=function(d){var e=THREE.Math.RAD2DEG*2*d.angle,f=this.mapSize.width/this.mapSize.height,i=d.distance||500,j=this.camera;if(e!==j.fov||f!==j.aspect||i!==j.far){j.fov=e;j.aspect=f;j.far=i;j.updateProjectionMatrix();}};THREE.AudioLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.AudioLoader.prototype={constructor:THREE.AudioLoader,load:function(i,j,k,m){var n=new THREE.XHRLoader(this.manager);n.setResponseType(m2r.A4);n.load(i,function(e){var f=THREE.AudioContext;f.decodeAudioData(e,function(d){j(d);});},k,m);}};THREE.Cache={enabled:m2r.e5,files:{},add:function(d,e){if(this.enabled===m2r.e5)return ;this.files[d]=e;},get:function(d){if(this.enabled===m2r.e5)return ;return this.files[d];},remove:function(d){delete  this.files[d];},clear:function(){this.files={};}};THREE.Loader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){};};THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:undefined,extractUrlBase:function(d){var e=d.split('/');if(e.length===1)return './';e.pop();return e.join('/')+'/';},initMaterials:function(d,e,f){var i=[];for(var j=0;j<d.length;++j){i[j]=this.createMaterial(d[j],e,f);}return i;},createMaterial:(function(){var T,i0,b0;return function(v,A,B){if(T===undefined)T=new THREE.Color();if(i0===undefined)i0=new THREE.TextureLoader();if(b0===undefined)b0=new THREE.MaterialLoader();var F={};function G(d,e,f,i,j){var k=A+d,m=THREE.Loader.Handlers.get(k),n;if(m!==m2r.r4){n=m.load(k);}else{i0.setCrossOrigin(B);n=i0.load(k);}if(e!==undefined){n.repeat.fromArray(e);if(e[0]!==1)n.wrapS=THREE.RepeatWrapping;if(e[1]!==1)n.wrapT=THREE.RepeatWrapping;}if(f!==undefined){n.offset.fromArray(f);}if(i!==undefined){if(i[0]==='repeat')n.wrapS=THREE.RepeatWrapping;if(i[0]==='mirror')n.wrapS=THREE.MirroredRepeatWrapping;if(i[1]==='repeat')n.wrapT=THREE.RepeatWrapping;if(i[1]==='mirror')n.wrapT=THREE.MirroredRepeatWrapping;}if(j!==undefined){n.anisotropy=j;}var u=THREE.Math.generateUUID();F[u]=n;return u;}var L={uuid:THREE.Math.generateUUID(),type:m2r.O1};for(var H in v){var J=v[H];switch(H){case 'DbgColor':case 'DbgIndex':case 'opticalDensity':case 'illumination':break;case 'DbgName':L.name=J;break;case 'blending':L.blending=THREE[J];break;case 'colorAmbient':case 'mapAmbient':console.warn('THREE.Loader.createMaterial:',H,'is no longer supported.');break;case 'colorDiffuse':L.color=T.fromArray(J).getHex();break;case 'colorSpecular':L.specular=T.fromArray(J).getHex();break;case 'colorEmissive':L.emissive=T.fromArray(J).getHex();break;case 'specularCoef':L.shininess=J;break;case 'shading':if(J.toLowerCase()==='basic')L.type=m2r.W4;if(J.toLowerCase()==='phong')L.type=m2r.D4;break;case 'mapDiffuse':L.map=G(J,v.mapDiffuseRepeat,v.mapDiffuseOffset,v.mapDiffuseWrap,v.mapDiffuseAnisotropy);break;case 'mapDiffuseRepeat':case 'mapDiffuseOffset':case 'mapDiffuseWrap':case 'mapDiffuseAnisotropy':break;case 'mapLight':L.lightMap=G(J,v.mapLightRepeat,v.mapLightOffset,v.mapLightWrap,v.mapLightAnisotropy);break;case 'mapLightRepeat':case 'mapLightOffset':case 'mapLightWrap':case 'mapLightAnisotropy':break;case 'mapAO':L.aoMap=G(J,v.mapAORepeat,v.mapAOOffset,v.mapAOWrap,v.mapAOAnisotropy);break;case 'mapAORepeat':case 'mapAOOffset':case 'mapAOWrap':case 'mapAOAnisotropy':break;case 'mapBump':L.bumpMap=G(J,v.mapBumpRepeat,v.mapBumpOffset,v.mapBumpWrap,v.mapBumpAnisotropy);break;case 'mapBumpScale':L.bumpScale=J;break;case 'mapBumpRepeat':case 'mapBumpOffset':case 'mapBumpWrap':case 'mapBumpAnisotropy':break;case 'mapNormal':L.normalMap=G(J,v.mapNormalRepeat,v.mapNormalOffset,v.mapNormalWrap,v.mapNormalAnisotropy);break;case 'mapNormalFactor':L.normalScale=[J,J];break;case 'mapNormalRepeat':case 'mapNormalOffset':case 'mapNormalWrap':case 'mapNormalAnisotropy':break;case 'mapSpecular':L.specularMap=G(J,v.mapSpecularRepeat,v.mapSpecularOffset,v.mapSpecularWrap,v.mapSpecularAnisotropy);break;case 'mapSpecularRepeat':case 'mapSpecularOffset':case 'mapSpecularWrap':case 'mapSpecularAnisotropy':break;case 'mapAlpha':L.alphaMap=G(J,v.mapAlphaRepeat,v.mapAlphaOffset,v.mapAlphaWrap,v.mapAlphaAnisotropy);break;case 'mapAlphaRepeat':case 'mapAlphaOffset':case 'mapAlphaWrap':case 'mapAlphaAnisotropy':break;case 'flipSided':L.side=THREE.BackSide;break;case 'doubleSided':L.side=THREE.DoubleSide;break;case 'transparency':console.warn('THREE.Loader.createMaterial: transparency has been renamed to opacity');L.opacity=J;break;case 'depthTest':case 'depthWrite':case 'colorWrite':case 'opacity':case 'reflectivity':case 'transparent':case 'visible':case 'wireframe':L[H]=J;break;case 'vertexColors':if(J===m2r.t4)L.vertexColors=THREE.VertexColors;if(J==='face')L.vertexColors=THREE.FaceColors;break;default:console.error('THREE.Loader.createMaterial: Unsupported',H,J);break;}}if(L.type===m2r.W4)delete  L.emissive;if(L.type!==m2r.D4)delete  L.specular;if(L.opacity<1)L.transparent=m2r.t4;b0.setTextures(F);return b0.parse(L);};})()};THREE.Loader.Handlers={handlers:[],add:function(d,e){this.handlers.push(d,e);},get:function(d){var e=this.handlers;for(var f=0,i=e.length;f<i;f+=2){var j=e[f],k=e[f+1];if(j.test(d)){return k;}}return m2r.r4;}};THREE.XHRLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(f,i,j,k){if(this.path!==undefined)f=this.path+f;var m=this,n=THREE.Cache.get(f);if(n!==undefined){if(i){setTimeout(function(){i(n);},0);}return n;}var u=new XMLHttpRequest();u.overrideMimeType('text/plain');u.open('GET',f,m2r.t4);u.addEventListener('load',function(d){var e=d.target.response;THREE.Cache.add(f,e);if(this.status===200){if(i)i(e);m.manager.itemEnd(f);}else if(this.status===0){console.warn('THREE.XHRLoader: HTTP Status 0 received.');if(i)i(e);m.manager.itemEnd(f);}else{if(k)k(d);m.manager.itemError(f);}},m2r.e5);if(j!==undefined){u.addEventListener('progress',function(d){j(d);},m2r.e5);}u.addEventListener('error',function(d){if(k)k(d);m.manager.itemError(f);},m2r.e5);if(this.responseType!==undefined)u.responseType=this.responseType;if(this.withCredentials!==undefined)u.withCredentials=this.withCredentials;u.send(m2r.r4);m.manager.itemStart(f);return u;},setPath:function(d){this.path=d;},setResponseType:function(d){this.responseType=d;},setWithCredentials:function(d){this.withCredentials=d;}};THREE.FontLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.FontLoader.prototype={constructor:THREE.FontLoader,load:function(e,f,i,j){var k=new THREE.XHRLoader(this.manager);k.load(e,function(d){f(new THREE.Font(JSON.parse(d.substring(65,d.length-2))));},i,j);}};THREE.ImageLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(e,f,i,j){if(this.path!==undefined)e=this.path+e;var k=this,m=THREE.Cache.get(e);if(m!==undefined){k.manager.itemStart(e);if(f){setTimeout(function(){f(m);k.manager.itemEnd(e);},0);}else{k.manager.itemEnd(e);}return m;}var n=document.createElement('img');n.addEventListener('load',function(d){THREE.Cache.add(e,this);if(f)f(this);k.manager.itemEnd(e);},m2r.e5);if(i!==undefined){n.addEventListener('progress',function(d){i(d);},m2r.e5);}n.addEventListener('error',function(d){if(j)j(d);k.manager.itemError(e);},m2r.e5);if(this.crossOrigin!==undefined)n.crossOrigin=this.crossOrigin;k.manager.itemStart(e);n.src=e;return n;},setCrossOrigin:function(d){this.crossOrigin=d;},setPath:function(d){this.path=d;}};THREE.JSONLoader=function(d){if(typeof d==='boolean'){console.warn('THREE.JSONLoader: showStatus parameter has been removed from constructor.');d=undefined;}this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;this.withCredentials=m2r.e5;};THREE.JSONLoader.prototype={constructor:THREE.JSONLoader,get statusDomElement(){if(this._statusDomElement===undefined){this._statusDomElement=document.createElement('div');}console.warn('THREE.JSONLoader: .statusDomElement has been removed.');return this._statusDomElement;},load:function(m,n,u,v){var A=this,B=this.texturePath&&(typeof this.texturePath==="string")?this.texturePath:THREE.Loader.prototype.extractUrlBase(m),F=new THREE.XHRLoader(this.manager);F.setWithCredentials(this.withCredentials);F.load(m,function(d){var e='THREE.JSONLoader: ',f=JSON.parse(d),i=f.metadata;if(i!==undefined){var j=i.type;if(j!==undefined){if(j.toLowerCase()==='object'){console.error(e+m+' should be loaded with THREE.ObjectLoader instead.');return ;}if(j.toLowerCase()==='scene'){console.error(e+m+' should be loaded with THREE.SceneLoader instead.');return ;}}}var k=A.parse(f,B);n(k.geometry,k.materials);},u,v);},setTexturePath:function(d){this.texturePath=d;},parse:function(E0,U0){var D0=new THREE.Geometry(),L0=(E0.scale!==undefined)?m2r.d5/E0.scale:m2r.d5;S0(L0);g1();W0(L0);l1();D0.computeFaceNormals();D0.computeBoundingSphere();function S0(f){function i(d,e){return d&(1<<e);}var j,k,m,n,u,v,A,B,F,G,L,H,J,T,i0,b0,N,l0,m0,o0,n0,s0,z0,B0,y0,x0,w0,J0=E0.faces,O0=E0.vertices,A0=E0.normals,M0=E0.colors,H0=0;if(E0.uvs!==undefined){for(j=0;j<E0.uvs.length;j++){if(E0.uvs[j].length)H0++;}for(j=0;j<H0;j++){D0.faceVertexUvs[j]=[];}}n=0;u=O0.length;while(n<u){l0=new THREE.Vector3();l0.x=O0[n++]*f;l0.y=O0[n++]*f;l0.z=O0[n++]*f;D0.vertices.push(l0);}n=0;u=J0.length;while(n<u){G=J0[n++];L=i(G,0);H=i(G,1);J=i(G,3);T=i(G,4);i0=i(G,5);b0=i(G,6);N=i(G,7);if(L){o0=new THREE.Face3();o0.a=J0[n];o0.b=J0[n+1];o0.c=J0[n+3];n0=new THREE.Face3();n0.a=J0[n+1];n0.b=J0[n+2];n0.c=J0[n+3];n+=4;if(H){F=J0[n++];o0.materialIndex=F;n0.materialIndex=F;}m=D0.faces.length;if(J){for(j=0;j<H0;j++){B0=E0.uvs[j];D0.faceVertexUvs[j][m]=[];D0.faceVertexUvs[j][m+1]=[];for(k=0;k<4;k++){B=J0[n++];x0=B0[B*2];w0=B0[B*2+1];y0=new THREE.Vector2(x0,w0);if(k!==2)D0.faceVertexUvs[j][m].push(y0);if(k!==0)D0.faceVertexUvs[j][m+1].push(y0);}}}if(T){A=J0[n++]*3;o0.normal.set(A0[A++],A0[A++],A0[A]);n0.normal.copy(o0.normal);}if(i0){for(j=0;j<4;j++){A=J0[n++]*3;z0=new THREE.Vector3(A0[A++],A0[A++],A0[A]);if(j!==2)o0.vertexNormals.push(z0);if(j!==0)n0.vertexNormals.push(z0);}}if(b0){v=J0[n++];s0=M0[v];o0.color.setHex(s0);n0.color.setHex(s0);}if(N){for(j=0;j<4;j++){v=J0[n++];s0=M0[v];if(j!==2)o0.vertexColors.push(new THREE.Color(s0));if(j!==0)n0.vertexColors.push(new THREE.Color(s0));}}D0.faces.push(o0);D0.faces.push(n0);}else{m0=new THREE.Face3();m0.a=J0[n++];m0.b=J0[n++];m0.c=J0[n++];if(H){F=J0[n++];m0.materialIndex=F;}m=D0.faces.length;if(J){for(j=0;j<H0;j++){B0=E0.uvs[j];D0.faceVertexUvs[j][m]=[];for(k=0;k<3;k++){B=J0[n++];x0=B0[B*2];w0=B0[B*2+1];y0=new THREE.Vector2(x0,w0);D0.faceVertexUvs[j][m].push(y0);}}}if(T){A=J0[n++]*3;m0.normal.set(A0[A++],A0[A++],A0[A]);}if(i0){for(j=0;j<3;j++){A=J0[n++]*3;z0=new THREE.Vector3(A0[A++],A0[A++],A0[A]);m0.vertexNormals.push(z0);}}if(b0){v=J0[n++];m0.color.setHex(M0[v]);}if(N){for(j=0;j<3;j++){v=J0[n++];m0.vertexColors.push(new THREE.Color(M0[v]));}}D0.faces.push(m0);}}};function g1(){var d=(E0.influencesPerVertex!==undefined)?E0.influencesPerVertex:2;if(E0.skinWeights){for(var e=0,f=E0.skinWeights.length;e<f;e+=d){var i=E0.skinWeights[e],j=(d>1)?E0.skinWeights[e+1]:0,k=(d>2)?E0.skinWeights[e+2]:0,m=(d>3)?E0.skinWeights[e+3]:0;D0.skinWeights.push(new THREE.Vector4(i,j,k,m));}}if(E0.skinIndices){for(var e=0,f=E0.skinIndices.length;e<f;e+=d){var n=E0.skinIndices[e],u=(d>1)?E0.skinIndices[e+1]:0,v=(d>2)?E0.skinIndices[e+2]:0,A=(d>3)?E0.skinIndices[e+3]:0;D0.skinIndices.push(new THREE.Vector4(n,u,v,A));}}D0.bones=E0.bones;if(D0.bones&&D0.bones.length>0&&(D0.skinWeights.length!==D0.skinIndices.length||D0.skinIndices.length!==D0.vertices.length)){console.warn('When skinning, number of vertices ('+D0.vertices.length+'), skinIndices ('+D0.skinIndices.length+'), and skinWeights ('+D0.skinWeights.length+') should match.');}};function W0(d){if(E0.morphTargets!==undefined){for(var e=0,f=E0.morphTargets.length;e<f;e++){D0.morphTargets[e]={};D0.morphTargets[e].name=E0.morphTargets[e].name;D0.morphTargets[e].vertices=[];var i=D0.morphTargets[e].vertices,j=E0.morphTargets[e].vertices;for(var k=0,m=j.length;k<m;k+=3){var n=new THREE.Vector3();n.x=j[k]*d;n.y=j[k+1]*d;n.z=j[k+2]*d;i.push(n);}}}if(E0.morphColors!==undefined&&E0.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var u=D0.faces,v=E0.morphColors[0].colors;for(var e=0,f=u.length;e<f;e++){u[e].color.fromArray(v,e*3);}}}function l1(){var d=[],e=[];if(E0.animation!==undefined){e.push(E0.animation);}if(E0.animations!==undefined){if(E0.animations.length){e=e.concat(E0.animations);}else{e.push(E0.animations);}}for(var f=0;f<e.length;f++){var i=THREE.AnimationClip.parseAnimation(e[f],D0.bones);if(i)d.push(i);}if(D0.morphTargets){var j=THREE.AnimationClip.CreateClipsFromMorphTargetSequences(D0.morphTargets,10);d=d.concat(j);}if(d.length>0)D0.animations=d;};if(E0.materials===undefined||E0.materials.length===0){return {geometry:D0};}else{var d1=THREE.Loader.prototype.initMaterials(E0.materials,U0,this.crossOrigin);return {geometry:D0,materials:d1};}}};THREE.LoadingManager=function(e,f,i){var j=this,k=m2r.e5,m=0,n=0;this.onStart=undefined;this.onLoad=e;this.onProgress=f;this.onError=i;this.itemStart=function(d){n++;if(k===m2r.e5){if(j.onStart!==undefined){j.onStart(d,m,n);}}k=m2r.t4;};this.itemEnd=function(d){m++;if(j.onProgress!==undefined){j.onProgress(d,m,n);}if(m===n){k=m2r.e5;if(j.onLoad!==undefined){j.onLoad();}}};this.itemError=function(d){if(j.onError!==undefined){j.onError(d);}};};THREE.DefaultLoadingManager=new THREE.LoadingManager();THREE.BufferGeometryLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(e,f,i,j){var k=this,m=new THREE.XHRLoader(k.manager);m.load(e,function(d){f(k.parse(JSON.parse(d)));},i,j);},parse:function(d){var e=new THREE.BufferGeometry(),f=d.data.index,i={'Int8Array':Int8Array,'Uint8Array':Uint8Array,'Uint8ClampedArray':Uint8ClampedArray,'Int16Array':Int16Array,'Uint16Array':Uint16Array,'Int32Array':Int32Array,'Uint32Array':Uint32Array,'Float32Array':Float32Array,'Float64Array':Float64Array};if(f!==undefined){var j=new i[f.type](f.array);e.setIndex(new THREE.BufferAttribute(j,1));}var k=d.data.attributes;for(var m in k){var n=k[m],j=new i[n.type](n.array);e.addAttribute(m,new THREE.BufferAttribute(j,n.itemSize,n.normalized));}var u=d.data.groups||d.data.drawcalls||d.data.offsets;if(u!==undefined){for(var v=0,A=u.length;v!==A;++v){var B=u[v];e.addGroup(B.start,B.count,B.materialIndex);}}var F=d.data.boundingSphere;if(F!==undefined){var G=new THREE.Vector3();if(F.center!==undefined){G.fromArray(F.center);}e.boundingSphere=new THREE.Sphere(G,F.radius);}return e;}};THREE.MaterialLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;this.textures={};};THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(e,f,i,j){var k=this,m=new THREE.XHRLoader(k.manager);m.load(e,function(d){f(k.parse(JSON.parse(d)));},i,j);},setTextures:function(d){this.textures=d;},getTexture:function(d){var e=this.textures;if(e[d]===undefined){console.warn('THREE.MaterialLoader: Undefined texture',d);}return e[d];},parse:function(d){var e=new THREE[d.type];if(d.uuid!==undefined)e.uuid=d.uuid;if(d.name!==undefined)e.name=d.name;if(d.color!==undefined)e.color.setHex(d.color);if(d.roughness!==undefined)e.roughness=d.roughness;if(d.metalness!==undefined)e.metalness=d.metalness;if(d.emissive!==undefined)e.emissive.setHex(d.emissive);if(d.specular!==undefined)e.specular.setHex(d.specular);if(d.shininess!==undefined)e.shininess=d.shininess;if(d.uniforms!==undefined)e.uniforms=d.uniforms;if(d.vertexShader!==undefined)e.vertexShader=d.vertexShader;if(d.fragmentShader!==undefined)e.fragmentShader=d.fragmentShader;if(d.vertexColors!==undefined)e.vertexColors=d.vertexColors;if(d.shading!==undefined)e.shading=d.shading;if(d.blending!==undefined)e.blending=d.blending;if(d.side!==undefined)e.side=d.side;if(d.opacity!==undefined)e.opacity=d.opacity;if(d.transparent!==undefined)e.transparent=d.transparent;if(d.alphaTest!==undefined)e.alphaTest=d.alphaTest;if(d.depthTest!==undefined)e.depthTest=d.depthTest;if(d.depthWrite!==undefined)e.depthWrite=d.depthWrite;if(d.colorWrite!==undefined)e.colorWrite=d.colorWrite;if(d.wireframe!==undefined)e.wireframe=d.wireframe;if(d.wireframeLinewidth!==undefined)e.wireframeLinewidth=d.wireframeLinewidth;if(d.size!==undefined)e.size=d.size;if(d.sizeAttenuation!==undefined)e.sizeAttenuation=d.sizeAttenuation;if(d.map!==undefined)e.map=this.getTexture(d.map);if(d.alphaMap!==undefined){e.alphaMap=this.getTexture(d.alphaMap);e.transparent=m2r.t4;}if(d.bumpMap!==undefined)e.bumpMap=this.getTexture(d.bumpMap);if(d.bumpScale!==undefined)e.bumpScale=d.bumpScale;if(d.normalMap!==undefined)e.normalMap=this.getTexture(d.normalMap);if(d.normalScale!==undefined){var f=d.normalScale;if(Array.isArray(f)===m2r.e5){f=[f,f];}e.normalScale=new THREE.Vector2().fromArray(f);}if(d.displacementMap!==undefined)e.displacementMap=this.getTexture(d.displacementMap);if(d.displacementScale!==undefined)e.displacementScale=d.displacementScale;if(d.displacementBias!==undefined)e.displacementBias=d.displacementBias;if(d.roughnessMap!==undefined)e.roughnessMap=this.getTexture(d.roughnessMap);if(d.metalnessMap!==undefined)e.metalnessMap=this.getTexture(d.metalnessMap);if(d.emissiveMap!==undefined)e.emissiveMap=this.getTexture(d.emissiveMap);if(d.emissiveIntensity!==undefined)e.emissiveIntensity=d.emissiveIntensity;if(d.specularMap!==undefined)e.specularMap=this.getTexture(d.specularMap);if(d.envMap!==undefined){e.envMap=this.getTexture(d.envMap);e.combine=THREE.MultiplyOperation;}if(d.reflectivity)e.reflectivity=d.reflectivity;if(d.lightMap!==undefined)e.lightMap=this.getTexture(d.lightMap);if(d.lightMapIntensity!==undefined)e.lightMapIntensity=d.lightMapIntensity;if(d.aoMap!==undefined)e.aoMap=this.getTexture(d.aoMap);if(d.aoMapIntensity!==undefined)e.aoMapIntensity=d.aoMapIntensity;if(d.materials!==undefined){for(var i=0,j=d.materials.length;i<j;i++){e.materials.push(this.parse(d.materials[i]));}}return e;}};THREE.ObjectLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;this.texturePath='';};THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(e,f,i,j){if(this.texturePath===''){this.texturePath=e.substring(0,e.lastIndexOf('/')+1);}var k=this,m=new THREE.XHRLoader(k.manager);m.load(e,function(d){k.parse(JSON.parse(d),f);},i,j);},setTexturePath:function(d){this.texturePath=d;},setCrossOrigin:function(d){this.crossOrigin=d;},parse:function(d,e){var f=this.parseGeometries(d.geometries),i=this.parseImages(d.images,function(){if(e!==undefined)e(m);}),j=this.parseTextures(d.textures,i),k=this.parseMaterials(d.materials,j),m=this.parseObject(d.object,f,k);if(d.animations){m.animations=this.parseAnimations(d.animations);}if(d.images===undefined||d.images.length===0){if(e!==undefined)e(m);}return m;},parseGeometries:function(d){var e={};if(d!==undefined){var f=new THREE.JSONLoader(),i=new THREE.BufferGeometryLoader();for(var j=0,k=d.length;j<k;j++){var m,n=d[j];switch(n.type){case m2r.n5:case m2r.G2:m=new THREE[n.type](n.width,n.height,n.widthSegments,n.heightSegments);break;case m2r.N3:case m2r.y4:case 'CubeGeometry':m=new THREE[n.type](n.width,n.height,n.depth,n.widthSegments,n.heightSegments,n.depthSegments);break;case m2r.T3:case m2r.M1:m=new THREE[n.type](n.radius,n.segments,n.thetaStart,n.thetaLength);break;case m2r.w4:case m2r.e2:m=new THREE[n.type](n.radiusTop,n.radiusBottom,n.height,n.radialSegments,n.heightSegments,n.openEnded,n.thetaStart,n.thetaLength);break;case m2r.U3:case m2r.U4:m=new THREE[n.type](n.radius,n.widthSegments,n.heightSegments,n.phiStart,n.phiLength,n.thetaStart,n.thetaLength);break;case m2r.N1:m=new THREE.DodecahedronGeometry(n.radius,n.detail);break;case m2r.e1:m=new THREE.IcosahedronGeometry(n.radius,n.detail);break;case m2r.B3:m=new THREE.OctahedronGeometry(n.radius,n.detail);break;case m2r.R2:m=new THREE.TetrahedronGeometry(n.radius,n.detail);break;case m2r.V4:case m2r.R3:m=new THREE[n.type](n.innerRadius,n.outerRadius,n.thetaSegments,n.phiSegments,n.thetaStart,n.thetaLength);break;case m2r.l5:case m2r.D1:m=new THREE[n.type](n.radius,n.tube,n.radialSegments,n.tubularSegments,n.arc);break;case m2r.I4:case m2r.M2:m=new THREE[n.type](n.radius,n.tube,n.tubularSegments,n.radialSegments,n.p,n.q);break;case m2r.Z2:case m2r.X3:m=new THREE[n.type](n.points,n.segments,n.phiStart,n.phiLength);break;case m2r.a4:m=i.parse(n);break;case m2r.S1:m=f.parse(n.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+n.type+'"');continue;}m.uuid=n.uuid;if(n.name!==undefined)m.name=n.name;e[n.uuid]=m;}}return e;},parseMaterials:function(d,e){var f={};if(d!==undefined){var i=new THREE.MaterialLoader();i.setTextures(e);for(var j=0,k=d.length;j<k;j++){var m=i.parse(d[j]);f[m.uuid]=m;}}return f;},parseAnimations:function(d){var e=[];for(var f=0;f<d.length;f++){var i=THREE.AnimationClip.parse(d[f]);e.push(i);}return e;},parseImages:function(e,f){var i=this,j={};function k(d){i.manager.itemStart(d);return n.load(d,function(){i.manager.itemEnd(d);});}if(e!==undefined&&e.length>0){var m=new THREE.LoadingManager(f),n=new THREE.ImageLoader(m);n.setCrossOrigin(this.crossOrigin);for(var u=0,v=e.length;u<v;u++){var A=e[u],B=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(A.url)?A.url:i.texturePath+A.url;j[A.uuid]=k(B);}}return j;},parseTextures:function(e,f){function i(d){if(typeof (d)===m2r.H4)return d;console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.',d);return THREE[d];}var j={};if(e!==undefined){for(var k=0,m=e.length;k<m;k++){var n=e[k];if(n.image===undefined){console.warn('THREE.ObjectLoader: No "image" specified for',n.uuid);}if(f[n.image]===undefined){console.warn('THREE.ObjectLoader: Undefined image',n.image);}var u=new THREE.Texture(f[n.image]);u.needsUpdate=m2r.t4;u.uuid=n.uuid;if(n.name!==undefined)u.name=n.name;if(n.mapping!==undefined)u.mapping=i(n.mapping);if(n.offset!==undefined)u.offset=new THREE.Vector2(n.offset[0],n.offset[1]);if(n.repeat!==undefined)u.repeat=new THREE.Vector2(n.repeat[0],n.repeat[1]);if(n.minFilter!==undefined)u.minFilter=i(n.minFilter);if(n.magFilter!==undefined)u.magFilter=i(n.magFilter);if(n.anisotropy!==undefined)u.anisotropy=n.anisotropy;if(Array.isArray(n.wrap)){u.wrapS=i(n.wrap[0]);u.wrapT=i(n.wrap[1]);}j[n.uuid]=u;}}return j;},parseObject:function(){var G=new THREE.Matrix4();return function(e,f,i){var j;function k(d){if(f[d]===undefined){console.warn('THREE.ObjectLoader: Undefined geometry',d);}return f[d];}function m(d){if(d===undefined)return undefined;if(i[d]===undefined){console.warn('THREE.ObjectLoader: Undefined material',d);}return i[d];}switch(e.type){case 'Scene':j=new THREE.Scene();break;case m2r.F2:j=new THREE.PerspectiveCamera(e.fov,e.aspect,e.near,e.far);if(e.focus!==undefined)j.focus=e.focus;if(e.zoom!==undefined)j.zoom=e.zoom;if(e.filmGauge!==undefined)j.filmGauge=e.filmGauge;if(e.filmOffset!==undefined)j.filmOffset=e.filmOffset;if(e.view!==undefined)j.view=Object.assign({},e.view);break;case m2r.Z0:j=new THREE.OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case m2r.Q3:j=new THREE.AmbientLight(e.color,e.intensity);break;case m2r.E3:j=new THREE.DirectionalLight(e.color,e.intensity);break;case m2r.j2:j=new THREE.PointLight(e.color,e.intensity,e.distance,e.decay);break;case m2r.n4:j=new THREE.SpotLight(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case m2r.r3:j=new THREE.HemisphereLight(e.color,e.groundColor,e.intensity);break;case 'Mesh':var n=k(e.geometry),u=m(e.material);if(n.bones&&n.bones.length>0){j=new THREE.SkinnedMesh(n,u);}else{j=new THREE.Mesh(n,u);}break;case 'LOD':j=new THREE.LOD();break;case 'Line':j=new THREE.Line(k(e.geometry),m(e.material),e.mode);break;case 'PointCloud':case 'Points':j=new THREE.Points(k(e.geometry),m(e.material));break;case 'Sprite':j=new THREE.Sprite(m(e.material));break;case 'Group':j=new THREE.Group();break;default:j=new THREE.Object3D();}j.uuid=e.uuid;if(e.name!==undefined)j.name=e.name;if(e.matrix!==undefined){G.fromArray(e.matrix);G.decompose(j.position,j.quaternion,j.scale);}else{if(e.position!==undefined)j.position.fromArray(e.position);if(e.rotation!==undefined)j.rotation.fromArray(e.rotation);if(e.scale!==undefined)j.scale.fromArray(e.scale);}if(e.castShadow!==undefined)j.castShadow=e.castShadow;if(e.receiveShadow!==undefined)j.receiveShadow=e.receiveShadow;if(e.visible!==undefined)j.visible=e.visible;if(e.userData!==undefined)j.userData=e.userData;if(e.children!==undefined){for(var v in e.children){j.add(this.parseObject(e.children[v],f,i));}}if(e.type==='LOD'){var A=e.levels;for(var B=0;B<A.length;B++){var F=A[B],v=j.getObjectByProperty('uuid',F.object);if(v!==undefined){j.addLevel(v,F.distance);}}}return j;};}()};THREE.TextureLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(e,f,i,j){var k=new THREE.Texture(),m=new THREE.ImageLoader(this.manager);m.setCrossOrigin(this.crossOrigin);m.setPath(this.path);m.load(e,function(d){k.image=d;k.needsUpdate=m2r.t4;if(f!==undefined){f(k);}},i,j);return k;},setCrossOrigin:function(d){this.crossOrigin=d;},setPath:function(d){this.path=d;}};THREE.CubeTextureLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.CubeTextureLoader.prototype={constructor:THREE.CubeTextureLoader,load:function(f,i,j,k){var m=new THREE.CubeTexture(),n=new THREE.ImageLoader(this.manager);n.setCrossOrigin(this.crossOrigin);n.setPath(this.path);var u=0;function v(e){n.load(f[e],function(d){m.images[e]=d;u++;if(u===6){m.needsUpdate=m2r.t4;if(i)i(m);}},undefined,k);}for(var A=0;A<f.length;++A){v(A);}return m;},setCrossOrigin:function(d){this.crossOrigin=d;},setPath:function(d){this.path=d;}};THREE.DataTextureLoader=THREE.BinaryTextureLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;this._parser=m2r.r4;};THREE.BinaryTextureLoader.prototype={constructor:THREE.BinaryTextureLoader,load:function(f,i,j,k){var m=this,n=new THREE.DataTexture(),u=new THREE.XHRLoader(this.manager);u.setResponseType(m2r.A4);u.load(f,function(d){var e=m._parser(d);if(!e)return ;if(undefined!==e.image){n.image=e.image;}else if(undefined!==e.data){n.image.width=e.width;n.image.height=e.height;n.image.data=e.data;}n.wrapS=undefined!==e.wrapS?e.wrapS:THREE.ClampToEdgeWrapping;n.wrapT=undefined!==e.wrapT?e.wrapT:THREE.ClampToEdgeWrapping;n.magFilter=undefined!==e.magFilter?e.magFilter:THREE.LinearFilter;n.minFilter=undefined!==e.minFilter?e.minFilter:THREE.LinearMipMapLinearFilter;n.anisotropy=undefined!==e.anisotropy?e.anisotropy:1;if(undefined!==e.format){n.format=e.format;}if(undefined!==e.type){n.type=e.type;}if(undefined!==e.mipmaps){n.mipmaps=e.mipmaps;}if(1===e.mipmapCount){n.minFilter=THREE.LinearFilter;}n.needsUpdate=m2r.t4;if(i)i(n,e);},j,k);return n;}};THREE.CompressedTextureLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;this._parser=m2r.r4;};THREE.CompressedTextureLoader.prototype={constructor:THREE.CompressedTextureLoader,load:function(k,m,n,u){var v=this,A=[],B=new THREE.CompressedTexture();B.image=A;var F=new THREE.XHRLoader(this.manager);F.setPath(this.path);F.setResponseType(m2r.A4);function G(f){F.load(k[f],function(d){var e=v._parser(d,m2r.t4);A[f]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps};L+=1;if(L===6){if(e.mipmapCount===1)B.minFilter=THREE.LinearFilter;B.format=e.format;B.needsUpdate=m2r.t4;if(m)m(B);}},n,u);}if(Array.isArray(k)){var L=0;for(var H=0,J=k.length;H<J;++H){G(H);}}else{F.load(k,function(d){var e=v._parser(d,m2r.t4);if(e.isCubemap){var f=e.mipmaps.length/e.mipmapCount;for(var i=0;i<f;i++){A[i]={mipmaps:[]};for(var j=0;j<e.mipmapCount;j++){A[i].mipmaps.push(e.mipmaps[i*e.mipmapCount+j]);A[i].format=e.format;A[i].width=e.width;A[i].height=e.height;}}}else{B.image.width=e.width;B.image.height=e.height;B.mipmaps=e.mipmaps;}if(e.mipmapCount===1){B.minFilter=THREE.LinearFilter;}B.format=e.format;B.needsUpdate=m2r.t4;if(m)m(B);},n,u);}return B;},setPath:function(d){this.path=d;}};THREE.Material=function(){Object.defineProperty(this,m2r.q2,{value:THREE.MaterialIdCount++});this.uuid=THREE.Math.generateUUID();this.name='';this.type='Material';this.side=THREE.FrontSide;this.opacity=1;this.transparent=m2r.e5;this.blending=THREE.NormalBlending;this.blendSrc=THREE.SrcAlphaFactor;this.blendDst=THREE.OneMinusSrcAlphaFactor;this.blendEquation=THREE.AddEquation;this.blendSrcAlpha=m2r.r4;this.blendDstAlpha=m2r.r4;this.blendEquationAlpha=m2r.r4;this.depthFunc=THREE.LessEqualDepth;this.depthTest=m2r.t4;this.depthWrite=m2r.t4;this.clippingPlanes=m2r.r4;this.clipShadows=m2r.e5;this.colorWrite=m2r.t4;this.precision=m2r.r4;this.polygonOffset=m2r.e5;this.polygonOffsetFactor=0;this.polygonOffsetUnits=0;this.alphaTest=0;this.premultipliedAlpha=m2r.e5;this.overdraw=0;this.visible=m2r.t4;this._needsUpdate=m2r.t4;};THREE.Material.prototype={constructor:THREE.Material,get needsUpdate(){return this._needsUpdate;},set needsUpdate(value){if(value===m2r.t4)this.update();this._needsUpdate=value;},setValues:function(d){if(d===undefined)return ;for(var e in d){var f=d[e];if(f===undefined){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue;}var i=this[e];if(i===undefined){console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.");continue;}if(i instanceof THREE.Color){i.set(f);}else if(i instanceof THREE.Vector3&&f instanceof THREE.Vector3){i.copy(f);}else if(e==='overdraw'){this[e]=Number(f);}else{this[e]=f;}}},toJSON:function(j){var k=j===undefined;if(k){j={textures:{},images:{}};}var m={metadata:{version:4.4,type:'Material',generator:'Material.toJSON'}};m.uuid=this.uuid;m.type=this.type;if(this.name!=='')m.name=this.name;if(this.color instanceof THREE.Color)m.color=this.color.getHex();if(this.roughness!==m2r.K2)m.roughness=this.roughness;if(this.metalness!==m2r.K2)m.metalness=this.metalness;if(this.emissive instanceof THREE.Color)m.emissive=this.emissive.getHex();if(this.specular instanceof THREE.Color)m.specular=this.specular.getHex();if(this.shininess!==undefined)m.shininess=this.shininess;if(this.map instanceof THREE.Texture)m.map=this.map.toJSON(j).uuid;if(this.alphaMap instanceof THREE.Texture)m.alphaMap=this.alphaMap.toJSON(j).uuid;if(this.lightMap instanceof THREE.Texture)m.lightMap=this.lightMap.toJSON(j).uuid;if(this.bumpMap instanceof THREE.Texture){m.bumpMap=this.bumpMap.toJSON(j).uuid;m.bumpScale=this.bumpScale;}if(this.normalMap instanceof THREE.Texture){m.normalMap=this.normalMap.toJSON(j).uuid;m.normalScale=this.normalScale.toArray();}if(this.displacementMap instanceof THREE.Texture){m.displacementMap=this.displacementMap.toJSON(j).uuid;m.displacementScale=this.displacementScale;m.displacementBias=this.displacementBias;}if(this.roughnessMap instanceof THREE.Texture)m.roughnessMap=this.roughnessMap.toJSON(j).uuid;if(this.metalnessMap instanceof THREE.Texture)m.metalnessMap=this.metalnessMap.toJSON(j).uuid;if(this.emissiveMap instanceof THREE.Texture)m.emissiveMap=this.emissiveMap.toJSON(j).uuid;if(this.specularMap instanceof THREE.Texture)m.specularMap=this.specularMap.toJSON(j).uuid;if(this.envMap instanceof THREE.Texture){m.envMap=this.envMap.toJSON(j).uuid;m.reflectivity=this.reflectivity;}if(this.size!==undefined)m.size=this.size;if(this.sizeAttenuation!==undefined)m.sizeAttenuation=this.sizeAttenuation;if(this.vertexColors!==undefined&&this.vertexColors!==THREE.NoColors)m.vertexColors=this.vertexColors;if(this.shading!==undefined&&this.shading!==THREE.SmoothShading)m.shading=this.shading;if(this.blending!==undefined&&this.blending!==THREE.NormalBlending)m.blending=this.blending;if(this.side!==undefined&&this.side!==THREE.FrontSide)m.side=this.side;if(this.opacity<1)m.opacity=this.opacity;if(this.transparent===m2r.t4)m.transparent=this.transparent;if(this.alphaTest>0)m.alphaTest=this.alphaTest;if(this.premultipliedAlpha===m2r.t4)m.premultipliedAlpha=this.premultipliedAlpha;if(this.wireframe===m2r.t4)m.wireframe=this.wireframe;if(this.wireframeLinewidth>1)m.wireframeLinewidth=this.wireframeLinewidth;function n(d){var e=[];for(var f in d){var i=d[f];delete  i.metadata;e.push(i);}return e;}if(k){var u=n(j.textures),v=n(j.images);if(u.length>0)m.textures=u;if(v.length>0)m.images=v;}return m;},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.name=d.name;this.side=d.side;this.opacity=d.opacity;this.transparent=d.transparent;this.blending=d.blending;this.blendSrc=d.blendSrc;this.blendDst=d.blendDst;this.blendEquation=d.blendEquation;this.blendSrcAlpha=d.blendSrcAlpha;this.blendDstAlpha=d.blendDstAlpha;this.blendEquationAlpha=d.blendEquationAlpha;this.depthFunc=d.depthFunc;this.depthTest=d.depthTest;this.depthWrite=d.depthWrite;this.colorWrite=d.colorWrite;this.precision=d.precision;this.polygonOffset=d.polygonOffset;this.polygonOffsetFactor=d.polygonOffsetFactor;this.polygonOffsetUnits=d.polygonOffsetUnits;this.alphaTest=d.alphaTest;this.premultipliedAlpha=d.premultipliedAlpha;this.overdraw=d.overdraw;this.visible=d.visible;this.clipShadows=d.clipShadows;var e=d.clippingPlanes,f=m2r.r4;if(e!==m2r.r4){var i=e.length;f=new Array(i);for(var j=0;j!==i;++j)f[j]=e[j].clone();}this.clippingPlanes=f;return this;},update:function(){this.dispatchEvent({type:'update'});},dispose:function(){this.dispatchEvent({type:m2r.f2});}};THREE.EventDispatcher.prototype.apply(THREE.Material.prototype);THREE.MaterialIdCount=0;THREE.LineBasicMaterial=function(d){THREE.Material.call(this);this.type='LineBasicMaterial';this.color=new THREE.Color(0xffffff);this.linewidth=1;this.linecap=m2r.K3;this.linejoin=m2r.K3;this.blending=THREE.NormalBlending;this.vertexColors=THREE.NoColors;this.fog=m2r.t4;this.setValues(d);};THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial;THREE.LineBasicMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.linewidth=d.linewidth;this.linecap=d.linecap;this.linejoin=d.linejoin;this.vertexColors=d.vertexColors;this.fog=d.fog;return this;};THREE.LineDashedMaterial=function(d){THREE.Material.call(this);this.type='LineDashedMaterial';this.color=new THREE.Color(0xffffff);this.linewidth=1;this.scale=1;this.dashSize=3;this.gapSize=1;this.blending=THREE.NormalBlending;this.vertexColors=THREE.NoColors;this.fog=m2r.t4;this.setValues(d);};THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineDashedMaterial.prototype.constructor=THREE.LineDashedMaterial;THREE.LineDashedMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.linewidth=d.linewidth;this.scale=d.scale;this.dashSize=d.dashSize;this.gapSize=d.gapSize;this.vertexColors=d.vertexColors;this.fog=d.fog;return this;};THREE.MeshBasicMaterial=function(d){THREE.Material.call(this);this.type=m2r.W4;this.color=new THREE.Color(0xffffff);this.map=m2r.r4;this.aoMap=m2r.r4;this.aoMapIntensity=m2r.d5;this.specularMap=m2r.r4;this.alphaMap=m2r.r4;this.envMap=m2r.r4;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=0.98;this.fog=m2r.t4;this.shading=THREE.SmoothShading;this.blending=THREE.NormalBlending;this.wireframe=m2r.e5;this.wireframeLinewidth=1;this.wireframeLinecap=m2r.K3;this.wireframeLinejoin=m2r.K3;this.vertexColors=THREE.NoColors;this.skinning=m2r.e5;this.morphTargets=m2r.e5;this.setValues(d);};THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial;THREE.MeshBasicMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.map=d.map;this.aoMap=d.aoMap;this.aoMapIntensity=d.aoMapIntensity;this.specularMap=d.specularMap;this.alphaMap=d.alphaMap;this.envMap=d.envMap;this.combine=d.combine;this.reflectivity=d.reflectivity;this.refractionRatio=d.refractionRatio;this.fog=d.fog;this.shading=d.shading;this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;this.wireframeLinecap=d.wireframeLinecap;this.wireframeLinejoin=d.wireframeLinejoin;this.vertexColors=d.vertexColors;this.skinning=d.skinning;this.morphTargets=d.morphTargets;return this;};THREE.MeshDepthMaterial=function(d){THREE.Material.call(this);this.type='MeshDepthMaterial';this.depthPacking=THREE.BasicDepthPacking;this.skinning=m2r.e5;this.morphTargets=m2r.e5;this.map=m2r.r4;this.alphaMap=m2r.r4;this.displacementMap=m2r.r4;this.displacementScale=1;this.displacementBias=0;this.wireframe=m2r.e5;this.wireframeLinewidth=1;this.setValues(d);};THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial;THREE.MeshDepthMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.depthPacking=d.depthPacking;this.skinning=d.skinning;this.morphTargets=d.morphTargets;this.map=d.map;this.alphaMap=d.alphaMap;this.displacementMap=d.displacementMap;this.displacementScale=d.displacementScale;this.displacementBias=d.displacementBias;this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;return this;};THREE.MeshLambertMaterial=function(d){THREE.Material.call(this);this.type=m2r.O1;this.color=new THREE.Color(0xffffff);this.map=m2r.r4;this.lightMap=m2r.r4;this.lightMapIntensity=m2r.d5;this.aoMap=m2r.r4;this.aoMapIntensity=m2r.d5;this.emissive=new THREE.Color(0x000000);this.emissiveIntensity=m2r.d5;this.emissiveMap=m2r.r4;this.specularMap=m2r.r4;this.alphaMap=m2r.r4;this.envMap=m2r.r4;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=0.98;this.fog=m2r.t4;this.blending=THREE.NormalBlending;this.wireframe=m2r.e5;this.wireframeLinewidth=1;this.wireframeLinecap=m2r.K3;this.wireframeLinejoin=m2r.K3;this.vertexColors=THREE.NoColors;this.skinning=m2r.e5;this.morphTargets=m2r.e5;this.morphNormals=m2r.e5;this.setValues(d);};THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial;THREE.MeshLambertMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.map=d.map;this.lightMap=d.lightMap;this.lightMapIntensity=d.lightMapIntensity;this.aoMap=d.aoMap;this.aoMapIntensity=d.aoMapIntensity;this.emissive.copy(d.emissive);this.emissiveMap=d.emissiveMap;this.emissiveIntensity=d.emissiveIntensity;this.specularMap=d.specularMap;this.alphaMap=d.alphaMap;this.envMap=d.envMap;this.combine=d.combine;this.reflectivity=d.reflectivity;this.refractionRatio=d.refractionRatio;this.fog=d.fog;this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;this.wireframeLinecap=d.wireframeLinecap;this.wireframeLinejoin=d.wireframeLinejoin;this.vertexColors=d.vertexColors;this.skinning=d.skinning;this.morphTargets=d.morphTargets;this.morphNormals=d.morphNormals;return this;};THREE.MeshNormalMaterial=function(d){THREE.Material.call(this,d);this.type='MeshNormalMaterial';this.wireframe=m2r.e5;this.wireframeLinewidth=1;this.morphTargets=m2r.e5;this.setValues(d);};THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial;THREE.MeshNormalMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;return this;};THREE.MeshPhongMaterial=function(d){THREE.Material.call(this);this.type=m2r.D4;this.color=new THREE.Color(0xffffff);this.specular=new THREE.Color(0x111111);this.shininess=30;this.map=m2r.r4;this.lightMap=m2r.r4;this.lightMapIntensity=m2r.d5;this.aoMap=m2r.r4;this.aoMapIntensity=m2r.d5;this.emissive=new THREE.Color(0x000000);this.emissiveIntensity=m2r.d5;this.emissiveMap=m2r.r4;this.bumpMap=m2r.r4;this.bumpScale=1;this.normalMap=m2r.r4;this.normalScale=new THREE.Vector2(1,1);this.displacementMap=m2r.r4;this.displacementScale=1;this.displacementBias=0;this.specularMap=m2r.r4;this.alphaMap=m2r.r4;this.envMap=m2r.r4;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=0.98;this.fog=m2r.t4;this.shading=THREE.SmoothShading;this.blending=THREE.NormalBlending;this.wireframe=m2r.e5;this.wireframeLinewidth=1;this.wireframeLinecap=m2r.K3;this.wireframeLinejoin=m2r.K3;this.vertexColors=THREE.NoColors;this.skinning=m2r.e5;this.morphTargets=m2r.e5;this.morphNormals=m2r.e5;this.setValues(d);};THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial;THREE.MeshPhongMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.specular.copy(d.specular);this.shininess=d.shininess;this.map=d.map;this.lightMap=d.lightMap;this.lightMapIntensity=d.lightMapIntensity;this.aoMap=d.aoMap;this.aoMapIntensity=d.aoMapIntensity;this.emissive.copy(d.emissive);this.emissiveMap=d.emissiveMap;this.emissiveIntensity=d.emissiveIntensity;this.bumpMap=d.bumpMap;this.bumpScale=d.bumpScale;this.normalMap=d.normalMap;this.normalScale.copy(d.normalScale);this.displacementMap=d.displacementMap;this.displacementScale=d.displacementScale;this.displacementBias=d.displacementBias;this.specularMap=d.specularMap;this.alphaMap=d.alphaMap;this.envMap=d.envMap;this.combine=d.combine;this.reflectivity=d.reflectivity;this.refractionRatio=d.refractionRatio;this.fog=d.fog;this.shading=d.shading;this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;this.wireframeLinecap=d.wireframeLinecap;this.wireframeLinejoin=d.wireframeLinejoin;this.vertexColors=d.vertexColors;this.skinning=d.skinning;this.morphTargets=d.morphTargets;this.morphNormals=d.morphNormals;return this;};THREE.MeshStandardMaterial=function(d){THREE.Material.call(this);this.defines={'STANDARD':''};this.type=m2r.C4;this.color=new THREE.Color(0xffffff);this.roughness=m2r.K2;this.metalness=m2r.K2;this.map=m2r.r4;this.lightMap=m2r.r4;this.lightMapIntensity=m2r.d5;this.aoMap=m2r.r4;this.aoMapIntensity=m2r.d5;this.emissive=new THREE.Color(0x000000);this.emissiveIntensity=m2r.d5;this.emissiveMap=m2r.r4;this.bumpMap=m2r.r4;this.bumpScale=1;this.normalMap=m2r.r4;this.normalScale=new THREE.Vector2(1,1);this.displacementMap=m2r.r4;this.displacementScale=1;this.displacementBias=0;this.roughnessMap=m2r.r4;this.metalnessMap=m2r.r4;this.alphaMap=m2r.r4;this.envMap=m2r.r4;this.envMapIntensity=m2r.d5;this.refractionRatio=0.98;this.fog=m2r.t4;this.shading=THREE.SmoothShading;this.blending=THREE.NormalBlending;this.wireframe=m2r.e5;this.wireframeLinewidth=1;this.wireframeLinecap=m2r.K3;this.wireframeLinejoin=m2r.K3;this.vertexColors=THREE.NoColors;this.skinning=m2r.e5;this.morphTargets=m2r.e5;this.morphNormals=m2r.e5;this.setValues(d);};THREE.MeshStandardMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshStandardMaterial.prototype.constructor=THREE.MeshStandardMaterial;THREE.MeshStandardMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.defines={'STANDARD':''};this.color.copy(d.color);this.roughness=d.roughness;this.metalness=d.metalness;this.map=d.map;this.lightMap=d.lightMap;this.lightMapIntensity=d.lightMapIntensity;this.aoMap=d.aoMap;this.aoMapIntensity=d.aoMapIntensity;this.emissive.copy(d.emissive);this.emissiveMap=d.emissiveMap;this.emissiveIntensity=d.emissiveIntensity;this.bumpMap=d.bumpMap;this.bumpScale=d.bumpScale;this.normalMap=d.normalMap;this.normalScale.copy(d.normalScale);this.displacementMap=d.displacementMap;this.displacementScale=d.displacementScale;this.displacementBias=d.displacementBias;this.roughnessMap=d.roughnessMap;this.metalnessMap=d.metalnessMap;this.alphaMap=d.alphaMap;this.envMap=d.envMap;this.envMapIntensity=d.envMapIntensity;this.refractionRatio=d.refractionRatio;this.fog=d.fog;this.shading=d.shading;this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;this.wireframeLinecap=d.wireframeLinecap;this.wireframeLinejoin=d.wireframeLinejoin;this.vertexColors=d.vertexColors;this.skinning=d.skinning;this.morphTargets=d.morphTargets;this.morphNormals=d.morphNormals;return this;};THREE.MeshPhysicalMaterial=function(d){THREE.MeshStandardMaterial.call(this);this.defines={'PHYSICAL':''};this.type=m2r.j4;this.reflectivity=m2r.K2;this.setValues(d);};THREE.MeshPhysicalMaterial.prototype=Object.create(THREE.MeshStandardMaterial.prototype);THREE.MeshPhysicalMaterial.prototype.constructor=THREE.MeshPhysicalMaterial;THREE.MeshPhysicalMaterial.prototype.copy=function(d){THREE.MeshStandardMaterial.prototype.copy.call(this,d);this.defines={'PHYSICAL':''};this.reflectivity=d.reflectivity;return this;};THREE.MultiMaterial=function(d){this.uuid=THREE.Math.generateUUID();this.type='MultiMaterial';this.materials=d instanceof Array?d:[];this.visible=m2r.t4;};THREE.MultiMaterial.prototype={constructor:THREE.MultiMaterial,toJSON:function(d){var e={metadata:{version:4.2,type:'material',generator:'MaterialExporter'},uuid:this.uuid,type:this.type,materials:[]},f=this.materials;for(var i=0,j=f.length;i<j;i++){var k=f[i].toJSON(d);delete  k.metadata;e.materials.push(k);}e.visible=this.visible;return e;},clone:function(){var d=new this.constructor();for(var e=0;e<this.materials.length;e++){d.materials.push(this.materials[e].clone());}d.visible=this.visible;return d;}};THREE.PointsMaterial=function(d){THREE.Material.call(this);this.type='PointsMaterial';this.color=new THREE.Color(0xffffff);this.map=m2r.r4;this.size=1;this.sizeAttenuation=m2r.t4;this.blending=THREE.NormalBlending;this.vertexColors=THREE.NoColors;this.fog=m2r.t4;this.setValues(d);};THREE.PointsMaterial.prototype=Object.create(THREE.Material.prototype);THREE.PointsMaterial.prototype.constructor=THREE.PointsMaterial;THREE.PointsMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.map=d.map;this.size=d.size;this.sizeAttenuation=d.sizeAttenuation;this.vertexColors=d.vertexColors;this.fog=d.fog;return this;};THREE.ShaderMaterial=function(d){THREE.Material.call(this);this.type='ShaderMaterial';this.defines={};this.uniforms={};this.vertexShader='void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}';this.fragmentShader='void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}';this.shading=THREE.SmoothShading;this.linewidth=1;this.wireframe=m2r.e5;this.wireframeLinewidth=1;this.fog=m2r.e5;this.lights=m2r.e5;this.clipping=m2r.e5;this.vertexColors=THREE.NoColors;this.skinning=m2r.e5;this.morphTargets=m2r.e5;this.morphNormals=m2r.e5;this.extensions={derivatives:m2r.e5,fragDepth:m2r.e5,drawBuffers:m2r.e5,shaderTextureLOD:m2r.e5};this.defaultAttributeValues={'color':[1,1,1],'uv':[0,0],'uv2':[0,0]};this.index0AttributeName=undefined;if(d!==undefined){if(d.attributes!==undefined){console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');}this.setValues(d);}};THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype);THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial;THREE.ShaderMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.fragmentShader=d.fragmentShader;this.vertexShader=d.vertexShader;this.uniforms=THREE.UniformsUtils.clone(d.uniforms);this.defines=d.defines;this.shading=d.shading;this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;this.fog=d.fog;this.lights=d.lights;this.clipping=d.clipping;this.vertexColors=d.vertexColors;this.skinning=d.skinning;this.morphTargets=d.morphTargets;this.morphNormals=d.morphNormals;this.extensions=d.extensions;return this;};THREE.ShaderMaterial.prototype.toJSON=function(d){var e=THREE.Material.prototype.toJSON.call(this,d);e.uniforms=this.uniforms;e.vertexShader=this.vertexShader;e.fragmentShader=this.fragmentShader;return e;};THREE.RawShaderMaterial=function(d){THREE.ShaderMaterial.call(this,d);this.type='RawShaderMaterial';};THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype);THREE.RawShaderMaterial.prototype.constructor=THREE.RawShaderMaterial;THREE.SpriteMaterial=function(d){THREE.Material.call(this);this.type='SpriteMaterial';this.color=new THREE.Color(0xffffff);this.map=m2r.r4;this.rotation=0;this.fog=m2r.e5;this.setValues(d);};THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype);THREE.SpriteMaterial.prototype.constructor=THREE.SpriteMaterial;THREE.SpriteMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.map=d.map;this.rotation=d.rotation;this.fog=d.fog;return this;};THREE.Texture=function(d,e,f,i,j,k,m,n,u,v){Object.defineProperty(this,m2r.q2,{value:THREE.TextureIdCount++});this.uuid=THREE.Math.generateUUID();this.name='';this.sourceFile='';this.image=d!==undefined?d:THREE.Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=e!==undefined?e:THREE.Texture.DEFAULT_MAPPING;this.wrapS=f!==undefined?f:THREE.ClampToEdgeWrapping;this.wrapT=i!==undefined?i:THREE.ClampToEdgeWrapping;this.magFilter=j!==undefined?j:THREE.LinearFilter;this.minFilter=k!==undefined?k:THREE.LinearMipMapLinearFilter;this.anisotropy=u!==undefined?u:1;this.format=m!==undefined?m:THREE.RGBAFormat;this.type=n!==undefined?n:THREE.UnsignedByteType;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.generateMipmaps=m2r.t4;this.premultiplyAlpha=m2r.e5;this.flipY=m2r.t4;this.unpackAlignment=4;this.encoding=v!==undefined?v:THREE.LinearEncoding;this.version=0;this.onUpdate=m2r.r4;};THREE.Texture.DEFAULT_IMAGE=undefined;THREE.Texture.DEFAULT_MAPPING=THREE.UVMapping;THREE.Texture.prototype={constructor:THREE.Texture,set needsUpdate(value){if(value===m2r.t4)this.version++;},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.image=d.image;this.mipmaps=d.mipmaps.slice(0);this.mapping=d.mapping;this.wrapS=d.wrapS;this.wrapT=d.wrapT;this.magFilter=d.magFilter;this.minFilter=d.minFilter;this.anisotropy=d.anisotropy;this.format=d.format;this.type=d.type;this.offset.copy(d.offset);this.repeat.copy(d.repeat);this.generateMipmaps=d.generateMipmaps;this.premultiplyAlpha=d.premultiplyAlpha;this.flipY=d.flipY;this.unpackAlignment=d.unpackAlignment;this.encoding=d.encoding;return this;},toJSON:function(f){if(f.textures[this.uuid]!==undefined){return f.textures[this.uuid];}function i(d){var e;if(d.toDataURL!==undefined){e=d;}else{e=document.createElement(m2r.h1);e.width=d.width;e.height=d.height;e.getContext('2d').drawImage(d,0,0,d.width,d.height);}if(e.width>2048||e.height>2048){return e.toDataURL('image/jpeg',0.6);}else{return e.toDataURL('image/png');}}var j={metadata:{version:4.4,type:'Texture',generator:'Texture.toJSON'},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(this.image!==undefined){var k=this.image;if(k.uuid===undefined){k.uuid=THREE.Math.generateUUID();}if(f.images[k.uuid]===undefined){f.images[k.uuid]={uuid:k.uuid,url:i(k)};}j.image=k.uuid;}f.textures[this.uuid]=j;return j;},dispose:function(){this.dispatchEvent({type:m2r.f2});},transformUv:function(d){if(this.mapping!==THREE.UVMapping)return ;d.multiply(this.repeat);d.add(this.offset);if(d.x<0||d.x>1){switch(this.wrapS){case THREE.RepeatWrapping:d.x=d.x-Math.floor(d.x);break;case THREE.ClampToEdgeWrapping:d.x=d.x<0?0:1;break;case THREE.MirroredRepeatWrapping:if(Math.abs(Math.floor(d.x)%2)===1){d.x=Math.ceil(d.x)-d.x;}else{d.x=d.x-Math.floor(d.x);}break;}}if(d.y<0||d.y>1){switch(this.wrapT){case THREE.RepeatWrapping:d.y=d.y-Math.floor(d.y);break;case THREE.ClampToEdgeWrapping:d.y=d.y<0?0:1;break;case THREE.MirroredRepeatWrapping:if(Math.abs(Math.floor(d.y)%2)===1){d.y=Math.ceil(d.y)-d.y;}else{d.y=d.y-Math.floor(d.y);}break;}}if(this.flipY){d.y=1-d.y;}}};THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype);THREE.TextureIdCount=0;THREE.DepthTexture=function(d,e,f,i,j,k,m,n,u){THREE.Texture.call(this,m2r.r4,i,j,k,m,n,THREE.DepthFormat,f,u);this.image={width:d,height:e};this.type=f!==undefined?f:THREE.UnsignedShortType;this.magFilter=m!==undefined?m:THREE.NearestFilter;this.minFilter=n!==undefined?n:THREE.NearestFilter;this.flipY=m2r.e5;this.generateMipmaps=m2r.e5;};THREE.DepthTexture.prototype=Object.create(THREE.Texture.prototype);THREE.DepthTexture.prototype.constructor=THREE.DepthTexture;THREE.CanvasTexture=function(d,e,f,i,j,k,m,n,u){THREE.Texture.call(this,d,e,f,i,j,k,m,n,u);this.needsUpdate=m2r.t4;};THREE.CanvasTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CanvasTexture.prototype.constructor=THREE.CanvasTexture;THREE.CubeTexture=function(d,e,f,i,j,k,m,n,u,v){d=d!==undefined?d:[];e=e!==undefined?e:THREE.CubeReflectionMapping;THREE.Texture.call(this,d,e,f,i,j,k,m,n,u,v);this.flipY=m2r.e5;};THREE.CubeTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CubeTexture.prototype.constructor=THREE.CubeTexture;Object.defineProperty(THREE.CubeTexture.prototype,'images',{get:function(){return this.image;},set:function(d){this.image=d;}});THREE.CompressedTexture=function(d,e,f,i,j,k,m,n,u,v,A,B){THREE.Texture.call(this,m2r.r4,k,m,n,u,v,i,j,A,B);this.image={width:e,height:f};this.mipmaps=d;this.flipY=m2r.e5;this.generateMipmaps=m2r.e5;};THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CompressedTexture.prototype.constructor=THREE.CompressedTexture;THREE.DataTexture=function(d,e,f,i,j,k,m,n,u,v,A,B){THREE.Texture.call(this,m2r.r4,k,m,n,u,v,i,j,A,B);this.image={data:d,width:e,height:f};this.magFilter=u!==undefined?u:THREE.NearestFilter;this.minFilter=v!==undefined?v:THREE.NearestFilter;this.flipY=m2r.e5;this.generateMipmaps=m2r.e5;};THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype);THREE.DataTexture.prototype.constructor=THREE.DataTexture;THREE.VideoTexture=function(d,e,f,i,j,k,m,n,u){THREE.Texture.call(this,d,e,f,i,j,k,m,n,u);this.generateMipmaps=m2r.e5;var v=this;function A(){requestAnimationFrame(A);if(d.readyState>=d.HAVE_CURRENT_DATA){v.needsUpdate=m2r.t4;}}A();};THREE.VideoTexture.prototype=Object.create(THREE.Texture.prototype);THREE.VideoTexture.prototype.constructor=THREE.VideoTexture;THREE.Group=function(){THREE.Object3D.call(this);this.type='Group';};THREE.Group.prototype=Object.create(THREE.Object3D.prototype);THREE.Group.prototype.constructor=THREE.Group;THREE.Points=function(d,e){THREE.Object3D.call(this);this.type='Points';this.geometry=d!==undefined?d:new THREE.Geometry();this.material=e!==undefined?e:new THREE.PointsMaterial({color:Math.random()*0xffffff});};THREE.Points.prototype=Object.create(THREE.Object3D.prototype);THREE.Points.prototype.constructor=THREE.Points;THREE.Points.prototype.raycast=(function(){var n0=new THREE.Matrix4(),s0=new THREE.Ray(),z0=new THREE.Sphere();return function B0(k,m){var n=this,u=this.geometry,v=this.matrixWorld,A=k.params.Points.threshold;if(u.boundingSphere===m2r.r4)u.computeBoundingSphere();z0.copy(u.boundingSphere);z0.applyMatrix4(v);if(k.ray.intersectsSphere(z0)===m2r.e5)return ;n0.getInverse(v);s0.copy(k.ray).applyMatrix4(n0);var B=A/((this.scale.x+this.scale.y+this.scale.z)/3),F=B*B,G=new THREE.Vector3();function L(d,e){var f=s0.distanceSqToPoint(d);if(f<F){var i=s0.closestPointToPoint(d);i.applyMatrix4(v);var j=k.ray.origin.distanceTo(i);if(j<k.near||j>k.far)return ;m.push({distance:j,distanceToRay:Math.sqrt(f),point:i.clone(),index:e,face:m2r.r4,object:n});}}if(u instanceof THREE.BufferGeometry){var H=u.index,J=u.attributes,T=J.position.array;if(H!==m2r.r4){var i0=H.array;for(var b0=0,N=i0.length;b0<N;b0++){var l0=i0[b0];G.fromArray(T,l0*3);L(G,l0);}}else{for(var b0=0,m0=T.length/3;b0<m0;b0++){G.fromArray(T,b0*3);L(G,b0);}}}else{var o0=u.vertices;for(var b0=0,m0=o0.length;b0<m0;b0++){L(o0[b0],b0);}}};}());THREE.Points.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this);};THREE.Line=function(d,e,f){if(f===1){console.warn('THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.');return new THREE.LineSegments(d,e);}THREE.Object3D.call(this);this.type='Line';this.geometry=d!==undefined?d:new THREE.Geometry();this.material=e!==undefined?e:new THREE.LineBasicMaterial({color:Math.random()*0xffffff});};THREE.Line.prototype=Object.create(THREE.Object3D.prototype);THREE.Line.prototype.constructor=THREE.Line;THREE.Line.prototype.raycast=(function(){var o0=new THREE.Matrix4(),n0=new THREE.Ray(),s0=new THREE.Sphere();return function z0(d,e){var f=d.linePrecision,i=f*f,j=this.geometry,k=this.matrixWorld;if(j.boundingSphere===m2r.r4)j.computeBoundingSphere();s0.copy(j.boundingSphere);s0.applyMatrix4(k);if(d.ray.intersectsSphere(s0)===m2r.e5)return ;o0.getInverse(k);n0.copy(d.ray).applyMatrix4(o0);var m=new THREE.Vector3(),n=new THREE.Vector3(),u=new THREE.Vector3(),v=new THREE.Vector3(),A=this instanceof THREE.LineSegments?2:1;if(j instanceof THREE.BufferGeometry){var B=j.index,F=j.attributes,G=F.position.array;if(B!==m2r.r4){var L=B.array;for(var H=0,J=L.length-1;H<J;H+=A){var T=L[H],i0=L[H+1];m.fromArray(G,T*3);n.fromArray(G,i0*3);var b0=n0.distanceSqToSegment(m,n,v,u);if(b0>i)continue;v.applyMatrix4(this.matrixWorld);var N=d.ray.origin.distanceTo(v);if(N<d.near||N>d.far)continue;e.push({distance:N,point:u.clone().applyMatrix4(this.matrixWorld),index:H,face:m2r.r4,faceIndex:m2r.r4,object:this});}}else{for(var H=0,J=G.length/3-1;H<J;H+=A){m.fromArray(G,3*H);n.fromArray(G,3*H+3);var b0=n0.distanceSqToSegment(m,n,v,u);if(b0>i)continue;v.applyMatrix4(this.matrixWorld);var N=d.ray.origin.distanceTo(v);if(N<d.near||N>d.far)continue;e.push({distance:N,point:u.clone().applyMatrix4(this.matrixWorld),index:H,face:m2r.r4,faceIndex:m2r.r4,object:this});}}}else if(j instanceof THREE.Geometry){var l0=j.vertices,m0=l0.length;for(var H=0;H<m0-1;H+=A){var b0=n0.distanceSqToSegment(l0[H],l0[H+1],v,u);if(b0>i)continue;v.applyMatrix4(this.matrixWorld);var N=d.ray.origin.distanceTo(v);if(N<d.near||N>d.far)continue;e.push({distance:N,point:u.clone().applyMatrix4(this.matrixWorld),index:H,face:m2r.r4,faceIndex:m2r.r4,object:this});}}};}());THREE.Line.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this);};THREE.LineStrip=0;THREE.LinePieces=1;THREE.LineSegments=function(d,e){THREE.Line.call(this,d,e);this.type='LineSegments';};THREE.LineSegments.prototype=Object.create(THREE.Line.prototype);THREE.LineSegments.prototype.constructor=THREE.LineSegments;THREE.Mesh=function(d,e){THREE.Object3D.call(this);this.type='Mesh';this.geometry=d!==undefined?d:new THREE.Geometry();this.material=e!==undefined?e:new THREE.MeshBasicMaterial({color:Math.random()*0xffffff});this.drawMode=THREE.TrianglesDrawMode;this.updateMorphTargets();};THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype);THREE.Mesh.prototype.constructor=THREE.Mesh;THREE.Mesh.prototype.setDrawMode=function(d){this.drawMode=d;};THREE.Mesh.prototype.updateMorphTargets=function(){if(this.geometry.morphTargets!==undefined&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1;this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var d=0,e=this.geometry.morphTargets.length;d<e;d++){this.morphTargetInfluences.push(0);this.morphTargetDictionary[this.geometry.morphTargets[d].name]=d;}}};THREE.Mesh.prototype.getMorphTargetIndexByName=function(d){if(this.morphTargetDictionary[d]!==undefined){return this.morphTargetDictionary[d];}console.warn('THREE.Mesh.getMorphTargetIndexByName: morph target '+d+' does not exist. Returning 0.');return 0;};THREE.Mesh.prototype.raycast=(function(){var H0=new THREE.Matrix4(),E0=new THREE.Ray(),U0=new THREE.Sphere(),D0=new THREE.Vector3(),L0=new THREE.Vector3(),S0=new THREE.Vector3(),g1=new THREE.Vector3(),W0=new THREE.Vector3(),l1=new THREE.Vector3(),d1=new THREE.Vector2(),i1=new THREE.Vector2(),n1=new THREE.Vector2(),s1=new THREE.Vector3(),o1=new THREE.Vector3(),t1=new THREE.Vector3();function w1(d,e,f,i,j,k,m){THREE.Triangle.barycoordFromPoint(d,e,f,i,s1);j.multiplyScalar(s1.x);k.multiplyScalar(s1.y);m.multiplyScalar(s1.z);j.add(k).add(m);return j.clone();}function m1(d,e,f,i,j,k,m){var n,u=d.material;if(u.side===THREE.BackSide){n=f.intersectTriangle(k,j,i,m2r.t4,m);}else{n=f.intersectTriangle(i,j,k,u.side!==THREE.DoubleSide,m);}if(n===m2r.r4)return m2r.r4;t1.copy(m);t1.applyMatrix4(d.matrixWorld);var v=e.ray.origin.distanceTo(t1);if(v<e.near||v>e.far)return m2r.r4;return {distance:v,point:t1.clone(),object:d};}function W1(d,e,f,i,j,k,m,n){D0.fromArray(i,k*3);L0.fromArray(i,m*3);S0.fromArray(i,n*3);var u=m1(d,e,f,D0,L0,S0,o1);if(u){if(j){d1.fromArray(j,k*2);i1.fromArray(j,m*2);n1.fromArray(j,n*2);u.uv=w1(o1,D0,L0,S0,d1,i1,n1);}u.face=new THREE.Face3(k,m,n,THREE.Triangle.normal(D0,L0,S0));u.faceIndex=k;}return u;}return function E1(d,e){var f=this.geometry,i=this.material,j=this.matrixWorld;if(i===undefined)return ;if(f.boundingSphere===m2r.r4)f.computeBoundingSphere();U0.copy(f.boundingSphere);U0.applyMatrix4(j);if(d.ray.intersectsSphere(U0)===m2r.e5)return ;H0.getInverse(j);E0.copy(d.ray).applyMatrix4(H0);if(f.boundingBox!==m2r.r4){if(E0.intersectsBox(f.boundingBox)===m2r.e5)return ;}var k,m;if(f instanceof THREE.BufferGeometry){var n,u,v,A=f.index,B=f.attributes,F=B.position.array;if(B.uv!==undefined){k=B.uv.array;}if(A!==m2r.r4){var G=A.array;for(var L=0,H=G.length;L<H;L+=3){n=G[L];u=G[L+1];v=G[L+2];m=W1(this,d,E0,F,k,n,u,v);if(m){m.faceIndex=Math.floor(L/3);e.push(m);}}}else{for(var L=0,H=F.length;L<H;L+=9){n=L/3;u=n+1;v=n+2;m=W1(this,d,E0,F,k,n,u,v);if(m){m.index=n;e.push(m);}}}}else if(f instanceof THREE.Geometry){var J,T,i0,b0=i instanceof THREE.MultiMaterial,N=b0===m2r.t4?i.materials:m2r.r4,l0=f.vertices,m0=f.faces,o0=f.faceVertexUvs[0];if(o0.length>0)k=o0;for(var n0=0,s0=m0.length;n0<s0;n0++){var z0=m0[n0],B0=b0===m2r.t4?N[z0.materialIndex]:i;if(B0===undefined)continue;J=l0[z0.a];T=l0[z0.b];i0=l0[z0.c];if(B0.morphTargets===m2r.t4){var y0=f.morphTargets,x0=this.morphTargetInfluences;D0.set(0,0,0);L0.set(0,0,0);S0.set(0,0,0);for(var w0=0,J0=y0.length;w0<J0;w0++){var O0=x0[w0];if(O0===0)continue;var A0=y0[w0].vertices;D0.addScaledVector(g1.subVectors(A0[z0.a],J),O0);L0.addScaledVector(W0.subVectors(A0[z0.b],T),O0);S0.addScaledVector(l1.subVectors(A0[z0.c],i0),O0);}D0.add(J);L0.add(T);S0.add(i0);J=D0;T=L0;i0=S0;}m=m1(this,d,E0,J,T,i0,o1);if(m){if(k){var M0=k[n0];d1.copy(M0[0]);i1.copy(M0[1]);n1.copy(M0[2]);m.uv=w1(o1,J,T,i0,d1,i1,n1);}m.face=z0;m.faceIndex=n0;e.push(m);}}}};}());THREE.Mesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this);};THREE.Bone=function(d){THREE.Object3D.call(this);this.type='Bone';this.skin=d;};THREE.Bone.prototype=Object.create(THREE.Object3D.prototype);THREE.Bone.prototype.constructor=THREE.Bone;THREE.Bone.prototype.copy=function(d){THREE.Object3D.prototype.copy.call(this,d);this.skin=d.skin;return this;};THREE.Skeleton=function(d,e,f){this.useVertexTexture=f!==undefined?f:m2r.t4;this.identityMatrix=new THREE.Matrix4();d=d||[];this.bones=d.slice(0);if(this.useVertexTexture){var i=Math.sqrt(this.bones.length*4);i=THREE.Math.nextPowerOfTwo(Math.ceil(i));i=Math.max(i,4);this.boneTextureWidth=i;this.boneTextureHeight=i;this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4);this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType);}else{this.boneMatrices=new Float32Array(16*this.bones.length);}if(e===undefined){this.calculateInverses();}else{if(this.bones.length===e.length){this.boneInverses=e.slice(0);}else{console.warn('THREE.Skeleton bonInverses is the wrong length.');this.boneInverses=[];for(var j=0,k=this.bones.length;j<k;j++){this.boneInverses.push(new THREE.Matrix4());}}}};THREE.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var d=0,e=this.bones.length;d<e;d++){var f=new THREE.Matrix4();if(this.bones[d]){f.getInverse(this.bones[d].matrixWorld);}this.boneInverses.push(f);}};THREE.Skeleton.prototype.pose=function(){var d;for(var e=0,f=this.bones.length;e<f;e++){d=this.bones[e];if(d){d.matrixWorld.getInverse(this.boneInverses[e]);}}for(var e=0,f=this.bones.length;e<f;e++){d=this.bones[e];if(d){if(d.parent){d.matrix.getInverse(d.parent.matrixWorld);d.matrix.multiply(d.matrixWorld);}else{d.matrix.copy(d.matrixWorld);}d.matrix.decompose(d.position,d.quaternion,d.scale);}}};THREE.Skeleton.prototype.update=(function(){var i=new THREE.Matrix4();return function j(){for(var d=0,e=this.bones.length;d<e;d++){var f=this.bones[d]?this.bones[d].matrixWorld:this.identityMatrix;i.multiplyMatrices(f,this.boneInverses[d]);i.toArray(this.boneMatrices,d*16);}if(this.useVertexTexture){this.boneTexture.needsUpdate=m2r.t4;}};})();THREE.Skeleton.prototype.clone=function(){return new THREE.Skeleton(this.bones,this.boneInverses,this.useVertexTexture);};THREE.SkinnedMesh=function(d,e,f){THREE.Mesh.call(this,d,e);this.type='SkinnedMesh';this.bindMode="attached";this.bindMatrix=new THREE.Matrix4();this.bindMatrixInverse=new THREE.Matrix4();var i=[];if(this.geometry&&this.geometry.bones!==undefined){var j,k;for(var m=0,n=this.geometry.bones.length;m<n;++m){k=this.geometry.bones[m];j=new THREE.Bone(this);i.push(j);j.name=k.name;j.position.fromArray(k.pos);j.quaternion.fromArray(k.rotq);if(k.scl!==undefined)j.scale.fromArray(k.scl);}for(var m=0,n=this.geometry.bones.length;m<n;++m){k=this.geometry.bones[m];if(k.parent!==-1&&k.parent!==m2r.r4&&i[k.parent]!==undefined){i[k.parent].add(i[m]);}else{this.add(i[m]);}}}this.normalizeSkinWeights();this.updateMatrixWorld(m2r.t4);this.bind(new THREE.Skeleton(i,undefined,f),this.matrixWorld);};THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.SkinnedMesh.prototype.constructor=THREE.SkinnedMesh;THREE.SkinnedMesh.prototype.bind=function(d,e){this.skeleton=d;if(e===undefined){this.updateMatrixWorld(m2r.t4);this.skeleton.calculateInverses();e=this.matrixWorld;}this.bindMatrix.copy(e);this.bindMatrixInverse.getInverse(e);};THREE.SkinnedMesh.prototype.pose=function(){this.skeleton.pose();};THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry){for(var d=0;d<this.geometry.skinWeights.length;d++){var e=this.geometry.skinWeights[d],f=m2r.d5/e.lengthManhattan();if(f!==Infinity){e.multiplyScalar(f);}else{e.set(1,0,0,0);}}}else if(this.geometry instanceof THREE.BufferGeometry){var i=new THREE.Vector4(),j=this.geometry.attributes.skinWeight;for(var d=0;d<j.count;d++){i.x=j.getX(d);i.y=j.getY(d);i.z=j.getZ(d);i.w=j.getW(d);var f=m2r.d5/i.lengthManhattan();if(f!==Infinity){i.multiplyScalar(f);}else{i.set(1,0,0,0);}j.setXYZW(d,i.x,i.y,i.z,i.w);}}};THREE.SkinnedMesh.prototype.updateMatrixWorld=function(d){THREE.Mesh.prototype.updateMatrixWorld.call(this,m2r.t4);if(this.bindMode==="attached"){this.bindMatrixInverse.getInverse(this.matrixWorld);}else if(this.bindMode==="detached"){this.bindMatrixInverse.getInverse(this.bindMatrix);}else{console.warn('THREE.SkinnedMesh unrecognized bindMode: '+this.bindMode);}};THREE.SkinnedMesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this);};THREE.LOD=function(){THREE.Object3D.call(this);this.type='LOD';Object.defineProperties(this,{levels:{enumerable:m2r.t4,value:[]}});};THREE.LOD.prototype=Object.create(THREE.Object3D.prototype);THREE.LOD.prototype.constructor=THREE.LOD;THREE.LOD.prototype.addLevel=function(d,e){if(e===undefined)e=0;e=Math.abs(e);var f=this.levels;for(var i=0;i<f.length;i++){if(e<f[i].distance){break;}}f.splice(i,0,{distance:e,object:d});this.add(d);};THREE.LOD.prototype.getObjectForDistance=function(d){var e=this.levels;for(var f=1,i=e.length;f<i;f++){if(d<e[f].distance){break;}}return e[f-1].object;};THREE.LOD.prototype.raycast=(function(){var i=new THREE.Vector3();return function j(d,e){i.setFromMatrixPosition(this.matrixWorld);var f=d.ray.origin.distanceTo(i);this.getObjectForDistance(f).raycast(d,e);};}());THREE.LOD.prototype.update=function(){var k=new THREE.Vector3(),m=new THREE.Vector3();return function n(d){var e=this.levels;if(e.length>1){k.setFromMatrixPosition(d.matrixWorld);m.setFromMatrixPosition(this.matrixWorld);var f=k.distanceTo(m);e[0].object.visible=m2r.t4;for(var i=1,j=e.length;i<j;i++){if(f>=e[i].distance){e[i-1].object.visible=m2r.e5;e[i].object.visible=m2r.t4;}else{break;}}for(;i<j;i++){e[i].object.visible=m2r.e5;}}};}();THREE.LOD.prototype.copy=function(d){THREE.Object3D.prototype.copy.call(this,d,m2r.e5);var e=d.levels;for(var f=0,i=e.length;f<i;f++){var j=e[f];this.addLevel(j.object.clone(),j.distance);}return this;};THREE.LOD.prototype.toJSON=function(d){var e=THREE.Object3D.prototype.toJSON.call(this,d);e.object.levels=[];var f=this.levels;for(var i=0,j=f.length;i<j;i++){var k=f[i];e.object.levels.push({object:k.object.uuid,distance:k.distance});}return e;};THREE.Sprite=(function(){var e=new Uint16Array([0,1,2,0,2,3]),f=new Float32Array([-m2r.K2,-m2r.K2,0,m2r.K2,-m2r.K2,0,m2r.K2,m2r.K2,0,-m2r.K2,m2r.K2,0]),i=new Float32Array([0,0,1,0,1,1,0,1]),j=new THREE.BufferGeometry();j.setIndex(new THREE.BufferAttribute(e,1));j.addAttribute(m2r.H2,new THREE.BufferAttribute(f,3));j.addAttribute(m2r.M4,new THREE.BufferAttribute(i,2));return function k(d){THREE.Object3D.call(this);this.type='Sprite';this.geometry=j;this.material=(d!==undefined)?d:new THREE.SpriteMaterial();};})();THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype);THREE.Sprite.prototype.constructor=THREE.Sprite;THREE.Sprite.prototype.raycast=(function(){var j=new THREE.Vector3();return function k(d,e){j.setFromMatrixPosition(this.matrixWorld);var f=d.ray.distanceSqToPoint(j),i=this.scale.x*this.scale.y/4;if(f>i){return ;}e.push({distance:Math.sqrt(f),point:this.position,face:m2r.r4,object:this});};}());THREE.Sprite.prototype.clone=function(){return new this.constructor(this.material).copy(this);};THREE.Particle=THREE.Sprite;THREE.LensFlare=function(d,e,f,i,j){THREE.Object3D.call(this);this.lensFlares=[];this.positionScreen=new THREE.Vector3();this.customUpdateCallback=undefined;if(d!==undefined){this.add(d,e,f,i,j);}};THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype);THREE.LensFlare.prototype.constructor=THREE.LensFlare;THREE.LensFlare.prototype.add=function(d,e,f,i,j,k){if(e===undefined)e=-1;if(f===undefined)f=0;if(k===undefined)k=1;if(j===undefined)j=new THREE.Color(0xffffff);if(i===undefined)i=THREE.NormalBlending;f=Math.min(f,Math.max(0,f));this.lensFlares.push({texture:d,size:e,distance:f,x:0,y:0,z:0,scale:1,rotation:0,opacity:k,color:j,blending:i});};THREE.LensFlare.prototype.updateLensFlares=function(){var d,e=this.lensFlares.length,f,i=-this.positionScreen.x*2,j=-this.positionScreen.y*2;for(d=0;d<e;d++){f=this.lensFlares[d];f.x=this.positionScreen.x+i*f.distance;f.y=this.positionScreen.y+j*f.distance;f.wantedRotation=f.x*Math.PI*m2r.I1;f.rotation+=(f.wantedRotation-f.rotation)*m2r.I1;}};THREE.LensFlare.prototype.copy=function(d){THREE.Object3D.prototype.copy.call(this,d);this.positionScreen.copy(d.positionScreen);this.customUpdateCallback=d.customUpdateCallback;for(var e=0,f=d.lensFlares.length;e<f;e++){this.lensFlares.push(d.lensFlares[e]);}return this;};THREE.Scene=function(){THREE.Object3D.call(this);this.type='Scene';this.fog=m2r.r4;this.overrideMaterial=m2r.r4;this.autoUpdate=m2r.t4;};THREE.Scene.prototype=Object.create(THREE.Object3D.prototype);THREE.Scene.prototype.constructor=THREE.Scene;THREE.Scene.prototype.copy=function(d,e){THREE.Object3D.prototype.copy.call(this,d,e);if(d.fog!==m2r.r4)this.fog=d.fog.clone();if(d.overrideMaterial!==m2r.r4)this.overrideMaterial=d.overrideMaterial.clone();this.autoUpdate=d.autoUpdate;this.matrixAutoUpdate=d.matrixAutoUpdate;return this;};THREE.Fog=function(d,e,f){this.name='';this.color=new THREE.Color(d);this.near=(e!==undefined)?e:1;this.far=(f!==undefined)?f:1000;};THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far);};THREE.FogExp2=function(d,e){this.name='';this.color=new THREE.Color(d);this.density=(e!==undefined)?e:0.00025;};THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density);};THREE.ShaderChunk={};THREE.ShaderChunk['alphamap_fragment']="#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n";THREE.ShaderChunk['alphamap_pars_fragment']="#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif\n";THREE.ShaderChunk['alphatest_fragment']="#ifdef ALPHATEST\n	if ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n";THREE.ShaderChunk['aomap_fragment']="#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n	#endif\n#endif\n";THREE.ShaderChunk['aomap_pars_fragment']="#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif";THREE.ShaderChunk['begin_vertex']="\nvec3 transformed = vec3( position );\n";THREE.ShaderChunk['beginnormal_vertex']="\nvec3 objectNormal = vec3( normal );\n";THREE.ShaderChunk['bsdfs']="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n	return any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n		if( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n			float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n			float maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n			return distanceFalloff * maxDistanceCutoffFactor;\n#else\n			return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n		}\n		return 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n	return ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	return 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n	float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n	float dotNH = saturate( dot( geometry.normal, halfDir ) );\n	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n	vec3 F = F_Schlick( specularColor, dotLH );\n	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n	float D = D_GGX( alpha, dotNH );\n	return F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n	return specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n	float dotNH = saturate( dot( geometry.normal, halfDir ) );\n	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n	vec3 F = F_Schlick( specularColor, dotLH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";THREE.ShaderChunk['bumpmap_pars_fragment']="#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n		vec3 vSigmaX = dFdx( surf_pos );\n		vec3 vSigmaY = dFdy( surf_pos );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 );\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif\n";THREE.ShaderChunk['clipping_planes_fragment']="#if NUM_CLIPPING_PLANES > 0\n	for ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\n		vec4 plane = clippingPlanes[ i ];\n		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n	}\n#endif\n";THREE.ShaderChunk['clipping_planes_pars_fragment']="#if NUM_CLIPPING_PLANES > 0\n	#if ! defined( PHYSICAL ) && ! defined( PHONG )\n		varying vec3 vViewPosition;\n	#endif\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";THREE.ShaderChunk['clipping_planes_pars_vertex']="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n	varying vec3 vViewPosition;\n#endif\n";THREE.ShaderChunk['clipping_planes_vertex']="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n	vViewPosition = - mvPosition.xyz;\n#endif\n";THREE.ShaderChunk['color_fragment']="#ifdef USE_COLOR\n	diffuseColor.rgb *= vColor;\n#endif";THREE.ShaderChunk['color_pars_fragment']="#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif\n";THREE.ShaderChunk['color_pars_vertex']="#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif";THREE.ShaderChunk['color_vertex']="#ifdef USE_COLOR\n	vColor.xyz = color.xyz;\n#endif";THREE.ShaderChunk[m2r.B4]="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract(sin(sn) * c);\n}\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\nstruct GeometricContext {\n	vec3 position;\n	vec3 normal;\n	vec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	float distance = dot( planeNormal, point - pointOnPlane );\n	return - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n";THREE.ShaderChunk['cube_uv_reflection_fragment']="#ifdef ENVMAP_TYPE_CUBE_UV\nconst float cubeUV_textureSize = 1024.0;\nint getFaceFromDirection(vec3 direction) {\n	vec3 absDirection = abs(direction);\n	int face = -1;\n	if( absDirection.x > absDirection.z ) {\n		if(absDirection.x > absDirection.y )\n			face = direction.x > 0.0 ? 0 : 3;\n		else\n			face = direction.y > 0.0 ? 1 : 4;\n	}\n	else {\n		if(absDirection.z > absDirection.y )\n			face = direction.z > 0.0 ? 2 : 5;\n		else\n			face = direction.y > 0.0 ? 1 : 4;\n	}\n	return face;\n}\nfloat cubeUV_maxLods1 = log2(cubeUV_textureSize*0.25) - 1.0;\nfloat cubeUV_rangeClamp = exp2((6.0 - 1.0) * 2.0);\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n	float scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n	float dxRoughness = dFdx(roughness);\n	float dyRoughness = dFdy(roughness);\n	vec3 dx = dFdx( vec * scale * dxRoughness );\n	vec3 dy = dFdy( vec * scale * dyRoughness );\n	float d = max( dot( dx, dx ), dot( dy, dy ) );\n	d = clamp(d, 1.0, cubeUV_rangeClamp);\n	float mipLevel = 0.5 * log2(d);\n	return vec2(floor(mipLevel), fract(mipLevel));\n}\nfloat cubeUV_maxLods2 = log2(cubeUV_textureSize*0.25) - 2.0;\nconst float cubeUV_rcpTextureSize = 1.0 / cubeUV_textureSize;\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n	mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n	float a = 16.0 * cubeUV_rcpTextureSize;\n	vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n	vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n	float powScale = exp2_packed.x * exp2_packed.y;\n	float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n	float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n	bool bRes = mipLevel == 0.0;\n	scale =  bRes && (scale < a) ? a : scale;\n	vec3 r;\n	vec2 offset;\n	int face = getFaceFromDirection(direction);\n	float rcpPowScale = 1.0 / powScale;\n	if( face == 0) {\n		r = vec3(direction.x, -direction.z, direction.y);\n		offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n	}\n	else if( face == 1) {\n		r = vec3(direction.y, direction.x, direction.z);\n		offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n	}\n	else if( face == 2) {\n		r = vec3(direction.z, direction.x, direction.y);\n		offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n	}\n	else if( face == 3) {\n		r = vec3(direction.x, direction.z, direction.y);\n		offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n	}\n	else if( face == 4) {\n		r = vec3(direction.y, direction.x, -direction.z);\n		offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n	}\n	else {\n		r = vec3(direction.z, -direction.x, direction.y);\n		offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n	}\n	r = normalize(r);\n	float texelOffset = 0.5 * cubeUV_rcpTextureSize;\n	vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n	vec2 base = offset + vec2( texelOffset );\n	return base + s * ( scale - 2.0 * texelOffset );\n}\nfloat cubeUV_maxLods3 = log2(cubeUV_textureSize*0.25) - 3.0;\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n	float roughnessVal = roughness* cubeUV_maxLods3;\n	float r1 = floor(roughnessVal);\n	float r2 = r1 + 1.0;\n	float t = fract(roughnessVal);\n	vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n	float s = mipInfo.y;\n	float level0 = mipInfo.x;\n	float level1 = level0 + 1.0;\n	level1 = level1 > 5.0 ? 5.0 : level1;\n	level0 += min( floor( s + 0.5 ), 5.0 );\n	vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n	vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n	vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n	vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n	vec4 result = mix(color10, color20, t);\n	return vec4(result.rgb, 1.0);\n}\n#endif\n";THREE.ShaderChunk['defaultnormal_vertex']="#ifdef FLIP_SIDED\n	objectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n";THREE.ShaderChunk['displacementmap_vertex']="#ifdef USE_DISPLACEMENTMAP\n	transformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";THREE.ShaderChunk['displacementmap_pars_vertex']="#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif\n";THREE.ShaderChunk['emissivemap_fragment']="#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vUv );\n	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n";THREE.ShaderChunk['emissivemap_pars_fragment']="#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif\n";THREE.ShaderChunk[m2r.M3]="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n";THREE.ShaderChunk['encodings_fragment']="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n";THREE.ShaderChunk['envmap_fragment']="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToVertex, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef DOUBLE_SIDED\n		float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n	#else\n		float flipNormal = 1.0;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#elif defined( ENVMAP_TYPE_EQUIREC )\n		vec2 sampleUV;\n		sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n		sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n		vec4 envColor = texture2D( envMap, sampleUV );\n	#elif defined( ENVMAP_TYPE_SPHERE )\n		vec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n	#endif\n	envColor = envMapTexelToLinear( envColor );\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif\n";THREE.ShaderChunk['envmap_pars_fragment']="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n	uniform float reflectivity;\n	uniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n	#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n		varying vec3 vWorldPosition;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	uniform float flipEnvMap;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif\n";THREE.ShaderChunk['envmap_pars_vertex']="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif\n";THREE.ShaderChunk['envmap_vertex']="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif\n";THREE.ShaderChunk['fog_fragment']="#ifdef USE_FOG\n	#ifdef USE_LOGDEPTHBUF_EXT\n		float depth = gl_FragDepthEXT / gl_FragCoord.w;\n	#else\n		float depth = gl_FragCoord.z / gl_FragCoord.w;\n	#endif\n	#ifdef FOG_EXP2\n		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, depth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";THREE.ShaderChunk['fog_pars_fragment']="#ifdef USE_FOG\n	uniform vec3 fogColor;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif";THREE.ShaderChunk['lightmap_fragment']="#ifdef USE_LIGHTMAP\n	reflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";THREE.ShaderChunk['lightmap_pars_fragment']="#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif";THREE.ShaderChunk['lights_lambert_vertex']="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n	vLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_DIR_LIGHTS > 0\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n		vLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n		#ifdef DOUBLE_SIDED\n			vLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n		#endif\n	}\n#endif\n";THREE.ShaderChunk['lights_pars']="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	return irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n		directLight.color = directionalLight.color;\n		directLight.direction = directionalLight.direction;\n		directLight.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n		vec3 lVector = pointLight.position - geometry.position;\n		directLight.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		if ( testLightInRange( lightDistance, pointLight.distance ) ) {\n			directLight.color = pointLight.color;\n			directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n			directLight.visible = true;\n		} else {\n			directLight.color = vec3( 0.0 );\n			directLight.visible = false;\n		}\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n		vec3 lVector = spotLight.position - geometry.position;\n		directLight.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		float angleCos = dot( directLight.direction, spotLight.direction );\n		if ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n			directLight.color = spotLight.color;\n			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n			directLight.visible = true;\n		} else {\n			directLight.color = vec3( 0.0 );\n			directLight.visible = false;\n		}\n	}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n		float dotNL = dot( geometry.normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		#ifndef PHYSICALLY_CORRECT_LIGHTS\n			irradiance *= PI;\n		#endif\n		return irradiance;\n	}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n		#ifdef DOUBLE_SIDED\n			float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n		#else\n			float flipNormal = 1.0;\n		#endif\n		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n		#ifdef ENVMAP_TYPE_CUBE\n			vec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n			#else\n				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n			vec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n		#else\n			vec4 envMapColor = vec4( 0.0 );\n		#endif\n		return PI * envMapColor.rgb * envMapIntensity;\n	}\n	float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n		float maxMIPLevelScalar = float( maxMIPLevel );\n		float desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n	}\n	vec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n		#else\n			vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n		#endif\n		#ifdef DOUBLE_SIDED\n			float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n		#else\n			float flipNormal = 1.0;\n		#endif\n		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n		float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n		#ifdef ENVMAP_TYPE_CUBE\n			vec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n			#else\n				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n			vec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n		#elif defined( ENVMAP_TYPE_EQUIREC )\n			vec2 sampleUV;\n			sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n			sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n			#else\n				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_SPHERE )\n			vec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n			#else\n				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#endif\n		return envMapColor.rgb * envMapIntensity;\n	}\n#endif\n";THREE.ShaderChunk['lights_phong_fragment']="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n";THREE.ShaderChunk['lights_phong_pars_fragment']="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n	vec3	diffuseColor;\n	vec3	specularColor;\n	float	specularShininess;\n	float	specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )	(0)\n";THREE.ShaderChunk['lights_physical_fragment']="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n";THREE.ShaderChunk['lights_physical_pars_fragment']="struct PhysicalMaterial {\n	vec3	diffuseColor;\n	float	specularRoughness;\n	vec3	specularColor;\n	#ifndef STANDARD\n	#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";THREE.ShaderChunk['lights_template']="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointDirectLightIrradiance( pointLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotDirectLightIrradiance( spotLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	#ifdef USE_LIGHTMAP\n		vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n		#ifndef PHYSICALLY_CORRECT_LIGHTS\n			lightMapIrradiance *= PI;\n		#endif\n		irradiance += lightMapIrradiance;\n	#endif\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n		}\n	#endif\n	#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n	 	irradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n	#endif\n	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	vec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n	RE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n";THREE.ShaderChunk['logdepthbuf_fragment']="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif";THREE.ShaderChunk['logdepthbuf_pars_fragment']="#ifdef USE_LOGDEPTHBUF\n	uniform float logDepthBufFC;\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n	#endif\n#endif\n";THREE.ShaderChunk['logdepthbuf_pars_vertex']="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n	#endif\n	uniform float logDepthBufFC;\n#endif";THREE.ShaderChunk['logdepthbuf_vertex']="#ifdef USE_LOGDEPTHBUF\n	gl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n	#else\n		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n	#endif\n#endif\n";THREE.ShaderChunk['map_fragment']="#ifdef USE_MAP\n	vec4 texelColor = texture2D( map, vUv );\n	texelColor = mapTexelToLinear( texelColor );\n	diffuseColor *= texelColor;\n#endif\n";THREE.ShaderChunk['map_pars_fragment']="#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n";THREE.ShaderChunk['map_particle_fragment']="#ifdef USE_MAP\n	vec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n	diffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n";THREE.ShaderChunk['map_particle_pars_fragment']="#ifdef USE_MAP\n	uniform vec4 offsetRepeat;\n	uniform sampler2D map;\n#endif\n";THREE.ShaderChunk['metalnessmap_fragment']="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vUv );\n	metalnessFactor *= texelMetalness.r;\n#endif\n";THREE.ShaderChunk['metalnessmap_pars_fragment']="#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif";THREE.ShaderChunk['morphnormal_vertex']="#ifdef USE_MORPHNORMALS\n	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";THREE.ShaderChunk['morphtarget_pars_vertex']="#ifdef USE_MORPHTARGETS\n	#ifndef USE_MORPHNORMALS\n	uniform float morphTargetInfluences[ 8 ];\n	#else\n	uniform float morphTargetInfluences[ 4 ];\n	#endif\n#endif";THREE.ShaderChunk['morphtarget_vertex']="#ifdef USE_MORPHTARGETS\n	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n	#ifndef USE_MORPHNORMALS\n	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n	#endif\n#endif\n";THREE.ShaderChunk['normal_fragment']="#ifdef FLAT_SHADED\n	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n	#endif\n#endif\n#ifdef USE_NORMALMAP\n	normal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";THREE.ShaderChunk['normalmap_pars_fragment']="#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( vUv.st );\n		vec2 st1 = dFdy( vUv.st );\n		vec3 S = normalize( q0 * st1.t - q1 * st0.t );\n		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n		vec3 N = normalize( surf_norm );\n		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n		mapN.xy = normalScale * mapN.xy;\n		mat3 tsn = mat3( S, T, N );\n		return normalize( tsn * mapN );\n	}\n#endif\n";THREE.ShaderChunk['packing']="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nvec4 packDepthToRGBA( const in float value ) {\n	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n	const vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n	vec4 res = mod( value * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n	res -= res.xxyz * bit_mask;\n	return res;\n}\nfloat unpackRGBAToDepth( const in vec4 rgba ) {\n	const vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n	return dot( rgba, bitSh );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";THREE.ShaderChunk['premultiplied_alpha_fragment']="#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n";THREE.ShaderChunk['project_vertex']="#ifdef USE_SKINNING\n	vec4 mvPosition = modelViewMatrix * skinned;\n#else\n	vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n";THREE.ShaderChunk['roughnessmap_fragment']="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vUv );\n	roughnessFactor *= texelRoughness.r;\n#endif\n";THREE.ShaderChunk['roughnessmap_pars_fragment']="#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif";THREE.ShaderChunk['shadowmap_pars_fragment']="#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHTS > 0\n\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHTS > 0\n\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHTS > 0\n\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\n\t#endif\n\n\t#if defined( SHADOWMAP_TYPE_PCSS )\n\t\t#define LIGHT_WORLD_SIZE 0.005\n\t\t#define LIGHT_FRUSTUM_WIDTH 3.75\n\t\t#define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)\n\t\t#define NEAR_PLANE 9.5\n\n\t\t#define NUM_SAMPLES 17\n\t\t#define NUM_RINGS 11\n\t\t#define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES\n\t\t#define PCF_NUM_SAMPLES NUM_SAMPLES\n\n\t\tvec2 poissonDisk[NUM_SAMPLES];\n\n\t\tvoid initPoissonSamples( const in vec2 randomSeed )\n\t\t{\n\t\t\tfloat ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );\n\t\t\tfloat INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );\n\n\t\t\t// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/\n\t\t\tfloat angle = rand( randomSeed ) * PI2;\n\t\t\tfloat radius = INV_NUM_SAMPLES;\n\t\t\tfloat radiusStep = radius;\n\n\t\t\tfor( int i = 0; i < NUM_SAMPLES; i ++ ) {\n\t\t\t\tpoissonDisk[i] = vec2( cos( angle ), sin( angle ) ) * pow( radius, 0.75 );\n\t\t\t\tradius += radiusStep;\n\t\t\t\tangle += ANGLE_STEP;\n\t\t\t}\n\t\t}\n\n\t\tfloat penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation\n\t\t\treturn (zReceiver - zBlocker) / zBlocker;\n\t\t}\n\n\t\tfloat findBlocker( sampler2D shadowMap, const in vec2 uv, const in float zReceiver ) {\n\t\t\t// This uses similar triangles to compute what\n\t\t\t// area of the shadow map we should search\n\t\t\tfloat searchRadius = LIGHT_SIZE_UV * ( zReceiver - NEAR_PLANE ) / zReceiver;\n\t\t\tfloat blockerDepthSum = 0.0;\n\t\t\tint numBlockers = 0;\n\n\t\t\tfor( int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++ ) {\n\t\t\t\tfloat shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));\n\t\t\t\tif ( shadowMapDepth < zReceiver ) {\n\t\t\t\t\tblockerDepthSum += shadowMapDepth;\n\t\t\t\t\tnumBlockers ++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( numBlockers == 0 ) return -1.0;\n\n\t\t\treturn blockerDepthSum / float( numBlockers );\n\t\t}\n\n\t\tfloat PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius ) {\n\t\t\tfloat sum = 0.0;\n\t\t\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\n\t\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + poissonDisk[ i ] * filterRadius ) );\n\t\t\t\tif( zReceiver <= depth ) sum += 1.0;\n\t\t\t}\n\t\t\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\n\t\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + -poissonDisk[ i ].yx * filterRadius ) );\n\t\t\t\tif( zReceiver <= depth ) sum += 1.0;\n\t\t\t}\n\t\t\treturn sum / ( 2.0 * float( PCF_NUM_SAMPLES ) );\n\t\t}\n\n\t\tfloat PCSS ( sampler2D shadowMap, vec4 coords ) {\n\t\t\tvec2 uv = coords.xy;\n\t\t\tfloat zReceiver = coords.z; // Assumed to be eye-space z in this code\n\n\t\t\tinitPoissonSamples( uv );\n\t\t\t// STEP 1: blocker search\n\t\t\tfloat avgBlockerDepth = findBlocker( shadowMap, uv, zReceiver );\n\n\t\t\t//There are no occluders so early out (this saves filtering)\n\t\t\tif( avgBlockerDepth == -1.0 ) return 1.0;\n\n\t\t\t// STEP 2: penumbra size\n\t\t\tfloat penumbraRatio = penumbraSize( zReceiver, avgBlockerDepth );\n\t\t\tfloat filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;\n\n\t\t\t// STEP 3: filtering\n\t\t\t//return avgBlockerDepth;\n\t\t\treturn PCF_Filter( shadowMap, uv, zReceiver, filterRadius );\n\t\t}\n\n\t#endif\n\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n\t}\n\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\n\t\tvec2 f = fract( uv * size + 0.5 );\n\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\n\t\treturn c;\n\n\t}\n\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\n\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_PCSS )\n\t\t  return PCSS( shadowMap, shadowCoord);\n\t\t  return texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#else // no percentage-closer filtering:\n\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#endif\n\n\t\t}\n\n\t\treturn 1.0;\n\n\t}\n\n\t// cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n\t// vector suitable for 2D texture mapping. This code uses the following layout for the\n\t// 2D texture:\n\t//\n\t// xzXZ\n\t//  y Y\n\t//\n\t// Y - Positive y direction\n\t// y - Negative y direction\n\t// X - Positive x direction\n\t// x - Negative x direction\n\t// Z - Positive z direction\n\t// z - Negative z direction\n\t//\n\t// Source and test bed:\n\t// https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\t\t// Number of texels to avoid at the edge of each square\n\n\t\tvec3 absV = abs( v );\n\n\t\t// Intersect unit cube\n\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\n\t\t// Apply scale to avoid seams\n\n\t\t// two texels less per square (one texel will do for NEAREST)\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n\t\t// Unwrap\n\n\t\t// space: -1 ... 1 range for each square\n\t\t//\n\t\t// #X##\t\tdim    := ( 4 , 2 )\n\t\t//  # #\t\tcenter := ( 1 , 1 )\n\n\t\tvec2 planar = v.xy;\n\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\n\t\tif ( absV.z >= almostOne ) {\n\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\n\t\t} else if ( absV.x >= almostOne ) {\n\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\n\t\t} else if ( absV.y >= almostOne ) {\n\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\n\t\t}\n\n\t\t// Transform to UV space\n\n\t\t// scale := 0.5 / dim\n\t\t// translate := ( center + 0.5 ) / dim\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n\t}\n\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n\t\t// for point lights, the uniform @vShadowCoord is re-purposed to hold\n\t\t// the distance from the light to the world-space position of the fragment.\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\n\t\t// bd3D = base direction 3D\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t// dp = distance from light to fragment position\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#else // no percentage-closer filtering\n\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\n\t\t#endif\n\n\t}\n\n#endif\n";THREE.ShaderChunk['shadowmap_pars_vertex']="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n	#endif\n#endif\n";THREE.ShaderChunk['shadowmap_vertex']="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n#endif\n";THREE.ShaderChunk['shadowmask_pars_fragment']="float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n	DirectionalLight directionalLight;\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		shadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n	SpotLight spotLight;\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		shadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n	PointLight pointLight;\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		shadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#endif\n	return shadow;\n}\n";THREE.ShaderChunk['skinbase_vertex']="#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";THREE.ShaderChunk['skinning_pars_vertex']="#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	#ifdef BONE_TEXTURE\n		uniform sampler2D boneTexture;\n		uniform int boneTextureWidth;\n		uniform int boneTextureHeight;\n		mat4 getBoneMatrix( const in float i ) {\n			float j = i * 4.0;\n			float x = mod( j, float( boneTextureWidth ) );\n			float y = floor( j / float( boneTextureWidth ) );\n			float dx = 1.0 / float( boneTextureWidth );\n			float dy = 1.0 / float( boneTextureHeight );\n			y = dy * ( y + 0.5 );\n			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n			mat4 bone = mat4( v1, v2, v3, v4 );\n			return bone;\n		}\n	#else\n		uniform mat4 boneMatrices[ MAX_BONES ];\n		mat4 getBoneMatrix( const in float i ) {\n			mat4 bone = boneMatrices[ int(i) ];\n			return bone;\n		}\n	#endif\n#endif\n";THREE.ShaderChunk['skinning_vertex']="#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	skinned  = bindMatrixInverse * skinned;\n#endif\n";THREE.ShaderChunk['skinnormal_vertex']="#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";THREE.ShaderChunk['specularmap_fragment']="float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif";THREE.ShaderChunk['specularmap_pars_fragment']="#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif";THREE.ShaderChunk['tonemapping_fragment']="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n";THREE.ShaderChunk[m2r.J3]="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";THREE.ShaderChunk['uv2_pars_fragment']="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	varying vec2 vUv2;\n#endif";THREE.ShaderChunk['uv2_pars_vertex']="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	attribute vec2 uv2;\n	varying vec2 vUv2;\n#endif";THREE.ShaderChunk['uv2_vertex']="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	vUv2 = uv2;\n#endif";THREE.ShaderChunk['uv_pars_fragment']="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	varying vec2 vUv;\n#endif";THREE.ShaderChunk['uv_pars_vertex']="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	varying vec2 vUv;\n	uniform vec4 offsetRepeat;\n#endif\n";THREE.ShaderChunk['uv_vertex']="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif";THREE.ShaderChunk['worldpos_vertex']="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n	#ifdef USE_SKINNING\n		vec4 worldPosition = modelMatrix * skinned;\n	#else\n		vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n	#endif\n#endif\n";THREE.UniformsUtils={merge:function(d){var e={};for(var f=0;f<d.length;f++){var i=this.clone(d[f]);for(var j in i){e[j]=i[j];}}return e;},clone:function(d){var e={};for(var f in d){e[f]={};for(var i in d[f]){var j=d[f][i];if(j instanceof THREE.Color||j instanceof THREE.Vector2||j instanceof THREE.Vector3||j instanceof THREE.Vector4||j instanceof THREE.Matrix3||j instanceof THREE.Matrix4||j instanceof THREE.Texture){e[f][i]=j.clone();}else if(Array.isArray(j)){e[f][i]=j.slice();}else{e[f][i]=j;}}}return e;}};THREE.UniformsLib={common:{"diffuse":{type:m2r.m2,value:new THREE.Color(0xeeeeee)},"opacity":{type:m2r.m3,value:m2r.d5},"map":{type:m2r.y3,value:m2r.r4},"offsetRepeat":{type:"v4",value:new THREE.Vector4(0,0,1,1)},"specularMap":{type:m2r.y3,value:m2r.r4},"alphaMap":{type:m2r.y3,value:m2r.r4},"envMap":{type:m2r.y3,value:m2r.r4},"flipEnvMap":{type:m2r.m3,value:-1},"reflectivity":{type:m2r.m3,value:m2r.d5},"refractionRatio":{type:m2r.m3,value:0.98}},aomap:{"aoMap":{type:m2r.y3,value:m2r.r4},"aoMapIntensity":{type:m2r.m3,value:1}},lightmap:{"lightMap":{type:m2r.y3,value:m2r.r4},"lightMapIntensity":{type:m2r.m3,value:1}},emissivemap:{"emissiveMap":{type:m2r.y3,value:m2r.r4}},bumpmap:{"bumpMap":{type:m2r.y3,value:m2r.r4},"bumpScale":{type:m2r.m3,value:1}},normalmap:{"normalMap":{type:m2r.y3,value:m2r.r4},"normalScale":{type:"v2",value:new THREE.Vector2(1,1)}},displacementmap:{"displacementMap":{type:m2r.y3,value:m2r.r4},"displacementScale":{type:m2r.m3,value:1},"displacementBias":{type:m2r.m3,value:0}},roughnessmap:{"roughnessMap":{type:m2r.y3,value:m2r.r4}},metalnessmap:{"metalnessMap":{type:m2r.y3,value:m2r.r4}},fog:{"fogDensity":{type:m2r.m3,value:0.00025},"fogNear":{type:m2r.m3,value:1},"fogFar":{type:m2r.m3,value:2000},"fogColor":{type:m2r.m2,value:new THREE.Color(0xffffff)}},lights:{"ambientLightColor":{type:"3fv",value:[]},"directionalLights":{type:"sa",value:[],properties:{"direction":{type:"v3"},"color":{type:m2r.m2},"shadow":{type:"1i"},"shadowBias":{type:m2r.m3},"shadowRadius":{type:m2r.m3},"shadowMapSize":{type:"v2"}}},"directionalShadowMap":{type:"tv",value:[]},"directionalShadowMatrix":{type:"m4v",value:[]},"spotLights":{type:"sa",value:[],properties:{"color":{type:m2r.m2},"position":{type:"v3"},"direction":{type:"v3"},"distance":{type:m2r.m3},"coneCos":{type:m2r.m3},"penumbraCos":{type:m2r.m3},"decay":{type:m2r.m3},"shadow":{type:"1i"},"shadowBias":{type:m2r.m3},"shadowRadius":{type:m2r.m3},"shadowMapSize":{type:"v2"}}},"spotShadowMap":{type:"tv",value:[]},"spotShadowMatrix":{type:"m4v",value:[]},"pointLights":{type:"sa",value:[],properties:{"color":{type:m2r.m2},"position":{type:"v3"},"decay":{type:m2r.m3},"distance":{type:m2r.m3},"shadow":{type:"1i"},"shadowBias":{type:m2r.m3},"shadowRadius":{type:m2r.m3},"shadowMapSize":{type:"v2"}}},"pointShadowMap":{type:"tv",value:[]},"pointShadowMatrix":{type:"m4v",value:[]},"hemisphereLights":{type:"sa",value:[],properties:{"direction":{type:"v3"},"skyColor":{type:m2r.m2},"groundColor":{type:m2r.m2}}}},points:{"diffuse":{type:m2r.m2,value:new THREE.Color(0xeeeeee)},"opacity":{type:m2r.m3,value:m2r.d5},"size":{type:m2r.m3,value:m2r.d5},"scale":{type:m2r.m3,value:m2r.d5},"map":{type:m2r.y3,value:m2r.r4},"offsetRepeat":{type:"v4",value:new THREE.Vector4(0,0,1,1)}}};THREE.ShaderChunk['cube_frag']="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n	#include <logdepthbuf_fragment>\n}\n";THREE.ShaderChunk['cube_vert']=m2r.F1;THREE.ShaderChunk['depth_frag']="#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <logdepthbuf_fragment>\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n	#endif\n}\n";THREE.ShaderChunk['depth_vert']="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#include <begin_vertex>\n	#include <displacementmap_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n}\n";THREE.ShaderChunk[m2r.H1]="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	#include <clipping_planes_fragment>\n	gl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n";THREE.ShaderChunk[m2r.r1]="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <skinbase_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition;\n}\n";THREE.ShaderChunk[m2r.g4]="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 direction = normalize( vWorldPosition );\n	vec2 sampleUV;\n	sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <logdepthbuf_fragment>\n}\n";THREE.ShaderChunk[m2r.S4]=m2r.F1;THREE.ShaderChunk[m2r.O2]="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n";THREE.ShaderChunk[m2r.u1]="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <color_vertex>\n	vLineDistance = scale * lineDistance;\n	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n}\n";THREE.ShaderChunk[m2r.Y1]="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight;\n	reflectedLight.directDiffuse = vec3( 0.0 );\n	reflectedLight.directSpecular = vec3( 0.0 );\n	reflectedLight.indirectDiffuse = diffuseColor.rgb;\n	reflectedLight.indirectSpecular = vec3( 0.0 );\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n";THREE.ShaderChunk[m2r.S2]="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_ENVMAP\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	#include <envmap_vertex>\n}\n";THREE.ShaderChunk[m2r.U2]="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <emissivemap_fragment>\n	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n	#include <lightmap_fragment>\n	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n	#ifdef DOUBLE_SIDED\n		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n	#else\n		reflectedLight.directDiffuse = vLightFront;\n	#endif\n	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n";THREE.ShaderChunk[m2r.l3]="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <lights_lambert_vertex>\n	#include <shadowmap_vertex>\n}\n";THREE.ShaderChunk[m2r.u4]="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_template>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n";THREE.ShaderChunk[m2r.Z4]="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <displacementmap_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n}\n";THREE.ShaderChunk[m2r.o2]="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_template>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n";THREE.ShaderChunk[m2r.b5]="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <displacementmap_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n}\n";THREE.ShaderChunk[m2r.k2]="uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	gl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n	#include <logdepthbuf_fragment>\n}\n";THREE.ShaderChunk[m2r.e3]="varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vNormal = normalize( normalMatrix * normal );\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n}\n";THREE.ShaderChunk[m2r.R1]="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n";THREE.ShaderChunk[m2r.r5]="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <color_vertex>\n	#include <begin_vertex>\n	#include <project_vertex>\n	#ifdef USE_SIZEATTENUATION\n		gl_PointSize = size * ( scale / - mvPosition.z );\n	#else\n		gl_PointSize = size;\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n}\n";THREE.ShaderLib={'basic':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib[m2r.B4],THREE.UniformsLib[m2r.s5],THREE.UniformsLib[m2r.r2]]),vertexShader:THREE.ShaderChunk[m2r.S2],fragmentShader:THREE.ShaderChunk[m2r.Y1]},'lambert':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib[m2r.B4],THREE.UniformsLib[m2r.s5],THREE.UniformsLib[m2r.h3],THREE.UniformsLib[m2r.f1],THREE.UniformsLib[m2r.r2],THREE.UniformsLib[m2r.d4],{"emissive":{type:m2r.m2,value:new THREE.Color(0x000000)}}]),vertexShader:THREE.ShaderChunk[m2r.l3],fragmentShader:THREE.ShaderChunk[m2r.U2]},'phong':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib[m2r.B4],THREE.UniformsLib[m2r.s5],THREE.UniformsLib[m2r.h3],THREE.UniformsLib[m2r.f1],THREE.UniformsLib['bumpmap'],THREE.UniformsLib['normalmap'],THREE.UniformsLib[m2r.Q1],THREE.UniformsLib[m2r.r2],THREE.UniformsLib[m2r.d4],{"emissive":{type:m2r.m2,value:new THREE.Color(0x000000)},"specular":{type:m2r.m2,value:new THREE.Color(0x111111)},"shininess":{type:m2r.m3,value:30}}]),vertexShader:THREE.ShaderChunk[m2r.Z4],fragmentShader:THREE.ShaderChunk[m2r.u4]},'standard':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib[m2r.B4],THREE.UniformsLib[m2r.s5],THREE.UniformsLib[m2r.h3],THREE.UniformsLib[m2r.f1],THREE.UniformsLib['bumpmap'],THREE.UniformsLib['normalmap'],THREE.UniformsLib[m2r.Q1],THREE.UniformsLib['roughnessmap'],THREE.UniformsLib['metalnessmap'],THREE.UniformsLib[m2r.r2],THREE.UniformsLib[m2r.d4],{"emissive":{type:m2r.m2,value:new THREE.Color(0x000000)},"roughness":{type:m2r.m3,value:m2r.K2},"metalness":{type:m2r.m3,value:0},"envMapIntensity":{type:m2r.m3,value:1}}]),vertexShader:THREE.ShaderChunk[m2r.b5],fragmentShader:THREE.ShaderChunk[m2r.o2]},'points':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib['points'],THREE.UniformsLib[m2r.r2]]),vertexShader:THREE.ShaderChunk[m2r.r5],fragmentShader:THREE.ShaderChunk[m2r.R1]},'dashed':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib[m2r.B4],THREE.UniformsLib[m2r.r2],{"scale":{type:m2r.m3,value:1},"dashSize":{type:m2r.m3,value:1},"totalSize":{type:m2r.m3,value:2}}]),vertexShader:THREE.ShaderChunk[m2r.u1],fragmentShader:THREE.ShaderChunk[m2r.O2]},'depth':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib[m2r.B4],THREE.UniformsLib[m2r.Q1]]),vertexShader:THREE.ShaderChunk['depth_vert'],fragmentShader:THREE.ShaderChunk['depth_frag']},'normal':{uniforms:{"opacity":{type:m2r.m3,value:m2r.d5}},vertexShader:THREE.ShaderChunk[m2r.e3],fragmentShader:THREE.ShaderChunk[m2r.k2]},'cube':{uniforms:{"tCube":{type:m2r.y3,value:m2r.r4},"tFlip":{type:m2r.m3,value:-1}},vertexShader:THREE.ShaderChunk['cube_vert'],fragmentShader:THREE.ShaderChunk['cube_frag']},'equirect':{uniforms:{"tEquirect":{type:m2r.y3,value:m2r.r4},"tFlip":{type:m2r.m3,value:-1}},vertexShader:THREE.ShaderChunk[m2r.S4],fragmentShader:THREE.ShaderChunk[m2r.g4]},'distanceRGBA':{uniforms:{"lightPos":{type:"v3",value:new THREE.Vector3()}},vertexShader:THREE.ShaderChunk[m2r.r1],fragmentShader:THREE.ShaderChunk[m2r.H1]}};THREE.ShaderLib[m2r.A1]={uniforms:THREE.UniformsUtils.merge([THREE.ShaderLib['standard'].uniforms,{}]),vertexShader:THREE.ShaderChunk[m2r.b5],fragmentShader:THREE.ShaderChunk[m2r.o2]};THREE.WebGLRenderer=function(y0){var x0='). Resized to ',w0='morphNormal',J0='morphTarget',O0='OES_texture_half_float_linear',A0='OES_texture_float_linear',M0='webglcontextlost';console.log('THREE.WebGLRenderer',THREE.REVISION);y0=y0||{};var H0=y0.canvas!==undefined?y0.canvas:document.createElement(m2r.h1),E0=y0.context!==undefined?y0.context:m2r.r4,U0=y0.alpha!==undefined?y0.alpha:m2r.e5,D0=y0.depth!==undefined?y0.depth:m2r.t4,L0=y0.stencil!==undefined?y0.stencil:m2r.t4,S0=y0.antialias!==undefined?y0.antialias:m2r.e5,g1=y0.premultipliedAlpha!==undefined?y0.premultipliedAlpha:m2r.t4,W0=y0.preserveDrawingBuffer!==undefined?y0.preserveDrawingBuffer:m2r.e5,l1=[],d1=[],i1=-1,n1=[],s1=-1,o1=new Float32Array(8),t1=[],w1=[];this.domElement=H0;this.context=m2r.r4;this.autoClear=m2r.t4;this.autoClearColor=m2r.t4;this.autoClearDepth=m2r.t4;this.autoClearStencil=m2r.t4;this.sortObjects=m2r.t4;this.clippingPlanes=[];this.localClippingEnabled=m2r.e5;this.gammaFactor=2.0;this.gammaInput=m2r.e5;this.gammaOutput=m2r.e5;this.physicallyCorrectLights=m2r.e5;this.toneMapping=THREE.LinearToneMapping;this.toneMappingExposure=m2r.d5;this.toneMappingWhitePoint=m2r.d5;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=m2r.t4;var m1=this,W1=m2r.r4,E1=m2r.r4,p1=m2r.r4,T1=-1,x1='',d2=m2r.r4,n2=new THREE.Vector4(),g2=m2r.r4,R0=new THREE.Vector4(),P1=0,a2=new THREE.Color(0x000000),l2=0,B2=H0.width,s2=H0.height,h2=1,x2=new THREE.Vector4(0,0,B2,s2),a3=m2r.e5,C2=new THREE.Vector4(0,0,B2,s2),t3=new THREE.Frustum(),y2=m2r.e5,N2=m2r.e5,k3=m2r.e5,f3=0,i3={type:'4fv',value:m2r.r4,needsUpdate:m2r.e5},h4=m2r.r4,z3=0,a6=new THREE.Matrix3(),b6=new THREE.Sphere(),c6=new THREE.Plane(),i4=new THREE.Matrix4(),p2=new THREE.Vector3(),y1={hash:'',ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},w3={geometries:0,textures:0},p3={calls:0,vertices:0,faces:0,points:0};this.info={render:p3,memory:w3,programs:m2r.r4};var k0;try{var x5={alpha:U0,depth:D0,stencil:L0,antialias:S0,premultipliedAlpha:g1,preserveDrawingBuffer:W0};k0=E0||H0.getContext('webgl',x5)||H0.getContext('experimental-webgl',x5);if(k0===m2r.r4){if(H0.getContext('webgl')!==m2r.r4){throw 'Error creating WebGL context with your selected attributes.';}else{throw 'Error creating WebGL context.';}}if(k0.getShaderPrecisionFormat===undefined){k0.getShaderPrecisionFormat=function(){return {'rangeMin':1,'rangeMax':1,'precision':1};};}H0.addEventListener(M0,G5,m2r.e5);}catch(d){console.error(m2r.k1+d);}var y5=(typeof WebGL2RenderingContext!==m2r.g3&&k0 instanceof WebGL2RenderingContext),V1=new THREE.WebGLExtensions(k0);V1.get(m2r.G4);V1.get(m2r.B1);V1.get(A0);V1.get(m2r.j1);V1.get(O0);V1.get(m2r.J4);V1.get(m2r.e4);if(V1.get(m2r.g5)){THREE.BufferGeometry.MaxIndex=4294967296;}var P2=new THREE.WebGLCapabilities(k0,V1,y0),V0=new THREE.WebGLState(k0,V1,t2),K1=new THREE.WebGLProperties(),G3=new THREE.WebGLObjects(k0,K1,this.info),D3=new THREE.WebGLPrograms(this,P2),k4=new THREE.WebGLLights();this.info.programs=D3.programs;var e6=new THREE.WebGLBufferRenderer(k0,V1,p3),d6=new THREE.WebGLIndexedBufferRenderer(k0,V1,p3);function z5(){return E1===m2r.r4?h2:1;}function X4(d,e,f,i){if(g1===m2r.t4){d*=i;e*=i;f*=i;}V0.clearColor(d,e,f,i);}function D5(){V0.init();V0.scissor(n2.copy(x2).multiplyScalar(h2));V0.viewport(R0.copy(C2).multiplyScalar(h2));X4(a2.r,a2.g,a2.b,l2);}function B5(){W1=m2r.r4;d2=m2r.r4;x1='';T1=-1;V0.reset();}D5();this.context=k0;this.capabilities=P2;this.extensions=V1;this.properties=K1;this.state=V0;var C5=new THREE.WebGLShadowMap(this,y1,G3);this.shadowMap=C5;var f6=new THREE.SpritePlugin(this,t1),h6=new THREE.LensFlarePlugin(this,w1);this.getContext=function(){return k0;};this.getContextAttributes=function(){return k0.getContextAttributes();};this.forceContextLoss=function(){V1.get('WEBGL_lose_context').loseContext();};this.getMaxAnisotropy=(function(){var e;return function f(){if(e!==undefined)return e;var d=V1.get(m2r.L1);if(d!==m2r.r4){e=k0.getParameter(d.MAX_TEXTURE_MAX_ANISOTROPY_EXT);}else{e=0;}return e;};})();this.getPrecision=function(){return P2.precision;};this.getPixelRatio=function(){return h2;};this.setPixelRatio=function(d){if(d===undefined)return ;h2=d;this.setSize(C2.z,C2.w,m2r.e5);};this.getSize=function(){return {width:B2,height:s2};};this.setSize=function(d,e,f){B2=d;s2=e;H0.width=d*h2;H0.height=e*h2;if(f!==m2r.e5){H0.style.width=d+'px';H0.style.height=e+'px';}this.setViewport(0,0,d,e);};this.setViewport=function(d,e,f,i){V0.viewport(C2.set(d,e,f,i));};this.setScissor=function(d,e,f,i){V0.scissor(x2.set(d,e,f,i));};this.setScissorTest=function(d){V0.setScissorTest(a3=d);};this.getClearColor=function(){return a2;};this.setClearColor=function(d,e){a2.set(d);l2=e!==undefined?e:1;X4(a2.r,a2.g,a2.b,l2);};this.getClearAlpha=function(){return l2;};this.setClearAlpha=function(d){l2=d;X4(a2.r,a2.g,a2.b,l2);};this.clear=function(d,e,f){var i=0;if(d===undefined||d)i|=k0.COLOR_BUFFER_BIT;if(e===undefined||e)i|=k0.DEPTH_BUFFER_BIT;if(f===undefined||f)i|=k0.STENCIL_BUFFER_BIT;k0.clear(i);};this.clearColor=function(){this.clear(m2r.t4,m2r.e5,m2r.e5);};this.clearDepth=function(){this.clear(m2r.e5,m2r.t4,m2r.e5);};this.clearStencil=function(){this.clear(m2r.e5,m2r.e5,m2r.t4);};this.clearTarget=function(d,e,f,i){this.setRenderTarget(d);this.clear(e,f,i);};this.resetGLState=B5;this.dispose=function(){H0.removeEventListener(M0,G5,m2r.e5);};function G5(d){d.preventDefault();B5();D5();K1.clear();}function f5(d){var e=d.target;e.removeEventListener(m2r.f2,f5);g6(e);w3.textures--;}function F5(d){var e=d.target;e.removeEventListener(m2r.f2,F5);l6(e);w3.textures--;}function E5(d){var e=d.target;e.removeEventListener(m2r.f2,E5);k6(e);}function g6(d){var e=K1.get(d);if(d.image&&e.__image__webglTextureCube){k0.deleteTexture(e.__image__webglTextureCube);}else{if(e.__webglInit===undefined)return ;k0.deleteTexture(e.__webglTexture);}K1.delete  (d);}function l6(d){var e=K1.get(d),f=K1.get(d.texture);if(!d)return ;if(f.__webglTexture!==undefined){k0.deleteTexture(f.__webglTexture);}if(d.depthTexture){d.depthTexture.dispose();}if(d instanceof THREE.WebGLRenderTargetCube){for(var i=0;i<6;i++){k0.deleteFramebuffer(e.__webglFramebuffer[i]);if(e.__webglDepthbuffer)k0.deleteRenderbuffer(e.__webglDepthbuffer[i]);}}else{k0.deleteFramebuffer(e.__webglFramebuffer);if(e.__webglDepthbuffer)k0.deleteRenderbuffer(e.__webglDepthbuffer);}K1.delete  (d.texture);K1.delete  (d);}function k6(d){H5(d);K1.delete  (d);}function H5(d){var e=K1.get(d).program;d.program=undefined;if(e!==undefined){D3.releaseProgram(e);}}this.renderBufferImmediate=function(d,e,f){V0.initAttributes();var i=K1.get(d);if(d.hasPositions&&!i.position)i.position=k0.createBuffer();if(d.hasNormals&&!i.normal)i.normal=k0.createBuffer();if(d.hasUvs&&!i.uv)i.uv=k0.createBuffer();if(d.hasColors&&!i.color)i.color=k0.createBuffer();var j=e.getAttributes();if(d.hasPositions){k0.bindBuffer(k0.ARRAY_BUFFER,i.position);k0.bufferData(k0.ARRAY_BUFFER,d.positionArray,k0.DYNAMIC_DRAW);V0.enableAttribute(j.position);k0.vertexAttribPointer(j.position,3,k0.FLOAT,m2r.e5,0,0);}if(d.hasNormals){k0.bindBuffer(k0.ARRAY_BUFFER,i.normal);if(f.type!==m2r.D4&&f.type!==m2r.C4&&f.type!==m2r.j4&&f.shading===THREE.FlatShading){for(var k=0,m=d.count*3;k<m;k+=9){var n=d.normalArray,u=(n[k+0]+n[k+3]+n[k+6])/3,v=(n[k+1]+n[k+4]+n[k+7])/3,A=(n[k+2]+n[k+5]+n[k+8])/3;n[k+0]=u;n[k+1]=v;n[k+2]=A;n[k+3]=u;n[k+4]=v;n[k+5]=A;n[k+6]=u;n[k+7]=v;n[k+8]=A;}}k0.bufferData(k0.ARRAY_BUFFER,d.normalArray,k0.DYNAMIC_DRAW);V0.enableAttribute(j.normal);k0.vertexAttribPointer(j.normal,3,k0.FLOAT,m2r.e5,0,0);}if(d.hasUvs&&f.map){k0.bindBuffer(k0.ARRAY_BUFFER,i.uv);k0.bufferData(k0.ARRAY_BUFFER,d.uvArray,k0.DYNAMIC_DRAW);V0.enableAttribute(j.uv);k0.vertexAttribPointer(j.uv,2,k0.FLOAT,m2r.e5,0,0);}if(d.hasColors&&f.vertexColors!==THREE.NoColors){k0.bindBuffer(k0.ARRAY_BUFFER,i.color);k0.bufferData(k0.ARRAY_BUFFER,d.colorArray,k0.DYNAMIC_DRAW);V0.enableAttribute(j.color);k0.vertexAttribPointer(j.color,3,k0.FLOAT,m2r.e5,0,0);}V0.disableUnusedAttributes();k0.drawArrays(k0.TRIANGLES,0,d.count);d.count=0;};this.renderBufferDirect=function(d,e,f,i,j,k){I5(i);var m=J5(d,e,i,j),n=m2r.e5,u=f.id+'_'+m.id+'_'+i.wireframe;if(u!==x1){x1=u;n=m2r.t4;}var v=j.morphTargetInfluences;if(v!==undefined){var A=[];for(var B=0,F=v.length;B<F;B++){var G=v[B];A.push([G,B]);}A.sort(i6);if(A.length>8){A.length=8;}var L=f.morphAttributes;for(var B=0,F=A.length;B<F;B++){var G=A[B];o1[B]=G[0];if(G[0]!==0){var H=G[1];if(i.morphTargets===m2r.t4&&L.position)f.addAttribute(J0+B,L.position[H]);if(i.morphNormals===m2r.t4&&L.normal)f.addAttribute(w0+B,L.normal[H]);}else{if(i.morphTargets===m2r.t4)f.removeAttribute(J0+B);if(i.morphNormals===m2r.t4)f.removeAttribute(w0+B);}}m.getUniforms().setValue(k0,'morphTargetInfluences',o1);n=m2r.t4;}var H=f.index,J=f.attributes.position;if(i.wireframe===m2r.t4){H=G3.getWireframeAttribute(f);}var T;if(H!==m2r.r4){T=d6;T.setIndex(H);}else{T=e6;}if(n){j6(i,m,f);if(H!==m2r.r4){k0.bindBuffer(k0.ELEMENT_ARRAY_BUFFER,G3.getAttributeBuffer(H));}}var i0=0,b0=Infinity;if(H!==m2r.r4){b0=H.count;}else if(J!==undefined){b0=J.count;}var N=f.drawRange.start,l0=f.drawRange.count,m0=k!==m2r.r4?k.start:0,o0=k!==m2r.r4?k.count:Infinity,n0=Math.max(i0,N,m0),s0=Math.min(i0+b0,N+l0,m0+o0)-1,z0=Math.max(0,s0-n0+1);if(j instanceof THREE.Mesh){if(i.wireframe===m2r.t4){V0.setLineWidth(i.wireframeLinewidth*z5());T.setMode(k0.LINES);}else{switch(j.drawMode){case THREE.TrianglesDrawMode:T.setMode(k0.TRIANGLES);break;case THREE.TriangleStripDrawMode:T.setMode(k0.TRIANGLE_STRIP);break;case THREE.TriangleFanDrawMode:T.setMode(k0.TRIANGLE_FAN);break;}}}else if(j instanceof THREE.Line){var B0=i.linewidth;if(B0===undefined)B0=1;V0.setLineWidth(B0*z5());if(j instanceof THREE.LineSegments){T.setMode(k0.LINES);}else{T.setMode(k0.LINE_STRIP);}}else if(j instanceof THREE.Points){T.setMode(k0.POINTS);}if(f instanceof THREE.InstancedBufferGeometry){if(f.maxInstancedCount>0){T.renderInstances(f,n0,z0);}}else{T.render(n0,z0);}};function j6(d,e,f,i){var j;if(f instanceof THREE.InstancedBufferGeometry){j=V1.get(m2r.e4);if(j===m2r.r4){console.error('THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');return ;}}if(i===undefined)i=0;V0.initAttributes();var k=f.attributes,m=e.getAttributes(),n=d.defaultAttributeValues;for(var u in m){var v=m[u];if(v>=0){var A=k[u];if(A!==undefined){var B=k0.FLOAT,F=A.array,G=A.normalized;if(F instanceof Float32Array){B=k0.FLOAT;}else if(F instanceof Float64Array){console.warn("Unsupported data buffer format: Float64Array");}else if(F instanceof Uint16Array){B=k0.UNSIGNED_SHORT;}else if(F instanceof Int16Array){B=k0.SHORT;}else if(F instanceof Uint32Array){B=k0.UNSIGNED_INT;}else if(F instanceof Int32Array){B=k0.INT;}else if(F instanceof Int8Array){B=k0.BYTE;}else if(F instanceof Uint8Array){B=k0.UNSIGNED_BYTE;}var L=A.itemSize,H=G3.getAttributeBuffer(A);if(A instanceof THREE.InterleavedBufferAttribute){var J=A.data,T=J.stride,i0=A.offset;if(J instanceof THREE.InstancedInterleavedBuffer){V0.enableAttributeAndDivisor(v,J.meshPerAttribute,j);if(f.maxInstancedCount===undefined){f.maxInstancedCount=J.meshPerAttribute*J.count;}}else{V0.enableAttribute(v);}k0.bindBuffer(k0.ARRAY_BUFFER,H);k0.vertexAttribPointer(v,L,B,G,T*J.array.BYTES_PER_ELEMENT,(i*T+i0)*J.array.BYTES_PER_ELEMENT);}else{if(A instanceof THREE.InstancedBufferAttribute){V0.enableAttributeAndDivisor(v,A.meshPerAttribute,j);if(f.maxInstancedCount===undefined){f.maxInstancedCount=A.meshPerAttribute*A.count;}}else{V0.enableAttribute(v);}k0.bindBuffer(k0.ARRAY_BUFFER,H);k0.vertexAttribPointer(v,L,B,G,0,i*L*A.array.BYTES_PER_ELEMENT);}}else if(n!==undefined){var b0=n[u];if(b0!==undefined){switch(b0.length){case 2:k0.vertexAttrib2fv(v,b0);break;case 3:k0.vertexAttrib3fv(v,b0);break;case 4:k0.vertexAttrib4fv(v,b0);break;default:k0.vertexAttrib1fv(v,b0);}}}}}V0.disableUnusedAttributes();}function i6(d,e){return Math.abs(e[0])-Math.abs(d[0]);}function p6(d,e){if(d.object.renderOrder!==e.object.renderOrder){return d.object.renderOrder-e.object.renderOrder;}else if(d.material.id!==e.material.id){return d.material.id-e.material.id;}else if(d.z!==e.z){return d.z-e.z;}else{return d.id-e.id;}}function q6(d,e){if(d.object.renderOrder!==e.object.renderOrder){return d.object.renderOrder-e.object.renderOrder;}if(d.z!==e.z){return e.z-d.z;}else{return d.id-e.id;}}this.render=function(d,e,f,i){if(e instanceof THREE.Camera===m2r.e5){console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');return ;}var j=d.fog;x1='';T1=-1;d2=m2r.r4;if(d.autoUpdate===m2r.t4)d.updateMatrixWorld();if(e.parent===m2r.r4)e.updateMatrixWorld();e.matrixWorldInverse.getInverse(e.matrixWorld);i4.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse);t3.setFromMatrix(i4);l1.length=0;i1=-1;s1=-1;t1.length=0;w1.length=0;K6(this.clippingPlanes,e);K5(d,e);d1.length=i1+1;n1.length=s1+1;if(m1.sortObjects===m2r.t4){d1.sort(p6);n1.sort(q6);}if(y2){k3=m2r.t4;p4(m2r.r4);}F6(l1);C5.render(d,e);G6(l1,e);if(y2){k3=m2r.e5;T5();}p3.calls=0;p3.vertices=0;p3.faces=0;p3.points=0;if(f===undefined){f=m2r.r4;}this.setRenderTarget(f);if(this.autoClear||i){this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);}if(d.overrideMaterial){var k=d.overrideMaterial;l4(d1,e,j,k);l4(n1,e,j,k);}else{V0.setBlending(THREE.NoBlending);l4(d1,e,j);l4(n1,e,j);}f6.render(d,e);h6.render(d,e,R0);if(f){var m=f.texture;if(m.generateMipmaps&&m4(f)&&m.minFilter!==THREE.NearestFilter&&m.minFilter!==THREE.LinearFilter){L6(f);}}V0.setDepthTest(m2r.t4);V0.setDepthWrite(m2r.t4);V0.setColorWrite(m2r.t4);};function i5(d,e,f,i,j){var k,m;if(f.transparent){k=n1;m=++s1;}else{k=d1;m=++i1;}var n=k[m];if(n!==undefined){n.id=d.id;n.object=d;n.geometry=e;n.material=f;n.z=p2.z;n.group=j;}else{n={id:d.id,object:d,geometry:e,material:f,z:p2.z,group:j};k.push(n);}}function L5(d){var e=d.geometry;if(e.boundingSphere===m2r.r4)e.computeBoundingSphere();var f=b6.copy(e.boundingSphere).applyMatrix4(d.matrixWorld);if(!t3.intersectsSphere(f))return m2r.e5;if(f3===0)return m2r.t4;var i=m1.clippingPlanes,j=f.center,k=-f.radius,m=0;do {if(i[m].distanceToPoint(j)<k)return m2r.e5;}while(++m!==f3);return m2r.t4;}function K5(d,e){if(d.visible===m2r.e5)return ;if(d.layers.test(e.layers)){if(d instanceof THREE.Light){l1.push(d);}else if(d instanceof THREE.Sprite){if(d.frustumCulled===m2r.e5||L5(d)===m2r.t4){t1.push(d);}}else if(d instanceof THREE.LensFlare){w1.push(d);}else if(d instanceof THREE.ImmediateRenderObject){if(m1.sortObjects===m2r.t4){p2.setFromMatrixPosition(d.matrixWorld);p2.applyProjection(i4);}i5(d,m2r.r4,d.material,p2.z,m2r.r4);}else if(d instanceof THREE.Mesh||d instanceof THREE.Line||d instanceof THREE.Points){if(d instanceof THREE.SkinnedMesh){d.skeleton.update();}if(d.frustumCulled===m2r.e5||L5(d)===m2r.t4){var f=d.material;if(f.visible===m2r.t4){if(m1.sortObjects===m2r.t4){p2.setFromMatrixPosition(d.matrixWorld);p2.applyProjection(i4);}var i=G3.update(d);if(f instanceof THREE.MultiMaterial){var j=i.groups,k=f.materials;for(var m=0,n=j.length;m<n;m++){var u=j[m],v=k[u.materialIndex];if(v.visible===m2r.t4){i5(d,i,v,p2.z,u);}}}else{i5(d,i,f,p2.z,m2r.r4);}}}}}var A=d.children;for(var m=0,n=A.length;m<n;m++){K5(A[m],e);}}function l4(e,f,i,j){for(var k=0,m=e.length;k<m;k++){var n=e[k],u=n.object,v=n.geometry,A=j===undefined?n.material:j,B=n.group;u.modelViewMatrix.multiplyMatrices(f.matrixWorldInverse,u.matrixWorld);u.normalMatrix.getNormalMatrix(u.modelViewMatrix);if(u instanceof THREE.ImmediateRenderObject){I5(A);var F=J5(f,i,A,u);x1='';u.render(function(d){m1.renderBufferImmediate(d,F,A);});}else{m1.renderBufferDirect(f,i,v,A,u,B);}}}function n6(d,e,f){var i=K1.get(d),j=D3.getParameters(d,y1,e,f3,f),k=D3.getProgramCode(d,j),m=i.program,n=m2r.t4;if(m===undefined){d.addEventListener(m2r.f2,E5);}else if(m.code!==k){H5(d);}else if(j.shaderID!==undefined){return ;}else{n=m2r.e5;}if(n){if(j.shaderID){var u=THREE.ShaderLib[j.shaderID];i.__webglShader={name:d.type,uniforms:THREE.UniformsUtils.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader};}else{i.__webglShader={name:d.type,uniforms:d.uniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader};}d.__webglShader=i.__webglShader;m=D3.acquireProgram(d,j,k);i.program=m;d.program=m;}var v=m.getAttributes();if(d.morphTargets){d.numSupportedMorphTargets=0;for(var A=0;A<m1.maxMorphTargets;A++){if(v[J0+A]>=0){d.numSupportedMorphTargets++;}}}if(d.morphNormals){d.numSupportedMorphNormals=0;for(var A=0;A<m1.maxMorphNormals;A++){if(v[w0+A]>=0){d.numSupportedMorphNormals++;}}}var B=i.__webglShader.uniforms;if(!(d instanceof THREE.ShaderMaterial)&&!(d instanceof THREE.RawShaderMaterial)||d.clipping===m2r.t4){i.numClippingPlanes=f3;B.clippingPlanes=i3;}if(d instanceof THREE.MeshPhongMaterial||d instanceof THREE.MeshLambertMaterial||d instanceof THREE.MeshStandardMaterial||d.lights){i.lightsHash=y1.hash;B.ambientLightColor.value=y1.ambient;B.directionalLights.value=y1.directional;B.spotLights.value=y1.spot;B.pointLights.value=y1.point;B.hemisphereLights.value=y1.hemi;B.directionalShadowMap.value=y1.directionalShadowMap;B.directionalShadowMatrix.value=y1.directionalShadowMatrix;B.spotShadowMap.value=y1.spotShadowMap;B.spotShadowMatrix.value=y1.spotShadowMatrix;B.pointShadowMap.value=y1.pointShadowMap;B.pointShadowMatrix.value=y1.pointShadowMatrix;}var F=i.program.getUniforms(),G=THREE.WebGLUniforms.seqWithValue(F.seq,B);i.uniformsList=G;i.dynamicUniforms=THREE.WebGLUniforms.splitDynamic(G,B);}function I5(d){m6(d);if(d.transparent===m2r.t4){V0.setBlending(d.blending,d.blendEquation,d.blendSrc,d.blendDst,d.blendEquationAlpha,d.blendSrcAlpha,d.blendDstAlpha,d.premultipliedAlpha);}else{V0.setBlending(THREE.NoBlending);}V0.setDepthFunc(d.depthFunc);V0.setDepthTest(d.depthTest);V0.setDepthWrite(d.depthWrite);V0.setColorWrite(d.colorWrite);V0.setPolygonOffset(d.polygonOffset,d.polygonOffsetFactor,d.polygonOffsetUnits);}function m6(d){d.side!==THREE.DoubleSide?V0.enable(k0.CULL_FACE):V0.disable(k0.CULL_FACE);V0.setFlipSided(d.side===THREE.BackSide);}function J5(d,e,f,i){P1=0;var j=K1.get(f);if(y2){if(N2||d!==d2){var k=d===d2&&f.id===T1;J6(f.clippingPlanes,f.clipShadows,d,j,k);}if(j.numClippingPlanes!==undefined&&j.numClippingPlanes!==f3){f.needsUpdate=m2r.t4;}}if(j.program===undefined){f.needsUpdate=m2r.t4;}if(j.lightsHash!==undefined&&j.lightsHash!==y1.hash){f.needsUpdate=m2r.t4;}if(f.needsUpdate){n6(f,e,i);f.needsUpdate=m2r.e5;}var m=m2r.e5,n=m2r.e5,u=m2r.e5,v=j.program,A=v.getUniforms(),B=j.__webglShader.uniforms;if(v.id!==W1){k0.useProgram(v.program);W1=v.id;m=m2r.t4;n=m2r.t4;u=m2r.t4;}if(f.id!==T1){T1=f.id;n=m2r.t4;}if(m||d!==d2){A.set(k0,d,m2r.x4);if(P2.logarithmicDepthBuffer){A.setValue(k0,'logDepthBufFC',2.0/(Math.log(d.far+m2r.d5)/Math.LN2));}if(d!==d2){d2=d;n=m2r.t4;u=m2r.t4;}if(f instanceof THREE.ShaderMaterial||f instanceof THREE.MeshPhongMaterial||f instanceof THREE.MeshStandardMaterial||f.envMap){var F=A.map.cameraPosition;if(F!==undefined){F.setValue(k0,p2.setFromMatrixPosition(d.matrixWorld));}}if(f instanceof THREE.MeshPhongMaterial||f instanceof THREE.MeshLambertMaterial||f instanceof THREE.MeshBasicMaterial||f instanceof THREE.MeshStandardMaterial||f instanceof THREE.ShaderMaterial||f.skinning){A.setValue(k0,'viewMatrix',d.matrixWorldInverse);}A.set(k0,m1,'toneMappingExposure');A.set(k0,m1,'toneMappingWhitePoint');}if(f.skinning){A.setOptional(k0,i,'bindMatrix');A.setOptional(k0,i,'bindMatrixInverse');var G=i.skeleton;if(G){if(P2.floatVertexTextures&&G.useVertexTexture){A.set(k0,G,'boneTexture');A.set(k0,G,'boneTextureWidth');A.set(k0,G,'boneTextureHeight');}else{A.setOptional(k0,G,'boneMatrices');}}}if(n){if(f instanceof THREE.MeshPhongMaterial||f instanceof THREE.MeshLambertMaterial||f instanceof THREE.MeshStandardMaterial||f.lights){H6(B,u);}if(e&&f.fog){u6(B,e);}if(f instanceof THREE.MeshBasicMaterial||f instanceof THREE.MeshLambertMaterial||f instanceof THREE.MeshPhongMaterial||f instanceof THREE.MeshStandardMaterial||f instanceof THREE.MeshDepthMaterial){o6(B,f);}if(f instanceof THREE.LineBasicMaterial){N5(B,f);}else if(f instanceof THREE.LineDashedMaterial){N5(B,f);s6(B,f);}else if(f instanceof THREE.PointsMaterial){t6(B,f);}else if(f instanceof THREE.MeshLambertMaterial){v6(B,f);}else if(f instanceof THREE.MeshPhongMaterial){r6(B,f);}else if(f instanceof THREE.MeshPhysicalMaterial){I6(B,f);}else if(f instanceof THREE.MeshStandardMaterial){M5(B,f);}else if(f instanceof THREE.MeshDepthMaterial){if(f.displacementMap){B.displacementMap.value=f.displacementMap;B.displacementScale.value=f.displacementScale;B.displacementBias.value=f.displacementBias;}}else if(f instanceof THREE.MeshNormalMaterial){B.opacity.value=f.opacity;}THREE.WebGLUniforms.upload(k0,j.uniformsList,B,m1);}A.set(k0,i,m2r.I3);A.set(k0,i,'normalMatrix');A.setValue(k0,'modelMatrix',i.matrixWorld);var L=j.dynamicUniforms;if(L!==m2r.r4){THREE.WebGLUniforms.evalDynamic(L,B,i,d);THREE.WebGLUniforms.upload(k0,L,B,m1);}return v;}function o6(d,e){d.opacity.value=e.opacity;d.diffuse.value=e.color;if(e.emissive){d.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity);}d.map.value=e.map;d.specularMap.value=e.specularMap;d.alphaMap.value=e.alphaMap;if(e.aoMap){d.aoMap.value=e.aoMap;d.aoMapIntensity.value=e.aoMapIntensity;}var f;if(e.map){f=e.map;}else if(e.specularMap){f=e.specularMap;}else if(e.displacementMap){f=e.displacementMap;}else if(e.normalMap){f=e.normalMap;}else if(e.bumpMap){f=e.bumpMap;}else if(e.roughnessMap){f=e.roughnessMap;}else if(e.metalnessMap){f=e.metalnessMap;}else if(e.alphaMap){f=e.alphaMap;}else if(e.emissiveMap){f=e.emissiveMap;}if(f!==undefined){if(f instanceof THREE.WebGLRenderTarget){f=f.texture;}var i=f.offset,j=f.repeat;d.offsetRepeat.value.set(i.x,i.y,j.x,j.y);}d.envMap.value=e.envMap;d.flipEnvMap.value=(e.envMap instanceof THREE.WebGLRenderTargetCube)?1:-1;d.reflectivity.value=e.reflectivity;d.refractionRatio.value=e.refractionRatio;}function N5(d,e){d.diffuse.value=e.color;d.opacity.value=e.opacity;}function s6(d,e){d.dashSize.value=e.dashSize;d.totalSize.value=e.dashSize+e.gapSize;d.scale.value=e.scale;}function t6(d,e){d.diffuse.value=e.color;d.opacity.value=e.opacity;d.size.value=e.size*h2;d.scale.value=H0.clientHeight*m2r.K2;d.map.value=e.map;if(e.map!==m2r.r4){var f=e.map.offset,i=e.map.repeat;d.offsetRepeat.value.set(f.x,f.y,i.x,i.y);}}function u6(d,e){d.fogColor.value=e.color;if(e instanceof THREE.Fog){d.fogNear.value=e.near;d.fogFar.value=e.far;}else if(e instanceof THREE.FogExp2){d.fogDensity.value=e.density;}}function v6(d,e){if(e.lightMap){d.lightMap.value=e.lightMap;d.lightMapIntensity.value=e.lightMapIntensity;}if(e.emissiveMap){d.emissiveMap.value=e.emissiveMap;}}function r6(d,e){d.specular.value=e.specular;d.shininess.value=Math.max(e.shininess,1e-4);if(e.lightMap){d.lightMap.value=e.lightMap;d.lightMapIntensity.value=e.lightMapIntensity;}if(e.emissiveMap){d.emissiveMap.value=e.emissiveMap;}if(e.bumpMap){d.bumpMap.value=e.bumpMap;d.bumpScale.value=e.bumpScale;}if(e.normalMap){d.normalMap.value=e.normalMap;d.normalScale.value.copy(e.normalScale);}if(e.displacementMap){d.displacementMap.value=e.displacementMap;d.displacementScale.value=e.displacementScale;d.displacementBias.value=e.displacementBias;}}function M5(d,e){d.roughness.value=e.roughness;d.metalness.value=e.metalness;if(e.roughnessMap){d.roughnessMap.value=e.roughnessMap;}if(e.metalnessMap){d.metalnessMap.value=e.metalnessMap;}if(e.lightMap){d.lightMap.value=e.lightMap;d.lightMapIntensity.value=e.lightMapIntensity;}if(e.emissiveMap){d.emissiveMap.value=e.emissiveMap;}if(e.bumpMap){d.bumpMap.value=e.bumpMap;d.bumpScale.value=e.bumpScale;}if(e.normalMap){d.normalMap.value=e.normalMap;d.normalScale.value.copy(e.normalScale);}if(e.displacementMap){d.displacementMap.value=e.displacementMap;d.displacementScale.value=e.displacementScale;d.displacementBias.value=e.displacementBias;}if(e.envMap){d.envMapIntensity.value=e.envMapIntensity;}}function I6(d,e){M5(d,e);}function H6(d,e){d.ambientLightColor.needsUpdate=e;d.directionalLights.needsUpdate=e;d.pointLights.needsUpdate=e;d.spotLights.needsUpdate=e;d.hemisphereLights.needsUpdate=e;}function F6(d){var e=0;for(var f=0,i=d.length;f<i;f++){var j=d[f];if(j.castShadow){y1.shadows[e++]=j;}}y1.shadows.length=e;}function G6(d,e){var f,i,j,k=0,m=0,n=0,u,v,A,B=e.matrixWorldInverse,F=0,G=0,L=0,H=0;for(f=0,i=d.length;f<i;f++){j=d[f];u=j.color;v=j.intensity;A=j.distance;if(j instanceof THREE.AmbientLight){k+=u.r*v;m+=u.g*v;n+=u.b*v;}else if(j instanceof THREE.DirectionalLight){var J=k4.get(j);J.color.copy(j.color).multiplyScalar(j.intensity);J.direction.setFromMatrixPosition(j.matrixWorld);p2.setFromMatrixPosition(j.target.matrixWorld);J.direction.sub(p2);J.direction.transformDirection(B);J.shadow=j.castShadow;if(j.castShadow){J.shadowBias=j.shadow.bias;J.shadowRadius=j.shadow.radius;J.shadowMapSize=j.shadow.mapSize;}y1.directionalShadowMap[F]=j.shadow.map;y1.directionalShadowMatrix[F]=j.shadow.matrix;y1.directional[F++]=J;}else if(j instanceof THREE.SpotLight){var J=k4.get(j);J.position.setFromMatrixPosition(j.matrixWorld);J.position.applyMatrix4(B);J.color.copy(u).multiplyScalar(v);J.distance=A;J.direction.setFromMatrixPosition(j.matrixWorld);p2.setFromMatrixPosition(j.target.matrixWorld);J.direction.sub(p2);J.direction.transformDirection(B);J.coneCos=Math.cos(j.angle);J.penumbraCos=Math.cos(j.angle*(1-j.penumbra));J.decay=(j.distance===0)?m2r.L2:j.decay;J.shadow=j.castShadow;if(j.castShadow){J.shadowBias=j.shadow.bias;J.shadowRadius=j.shadow.radius;J.shadowMapSize=j.shadow.mapSize;}y1.spotShadowMap[L]=j.shadow.map;y1.spotShadowMatrix[L]=j.shadow.matrix;y1.spot[L++]=J;}else if(j instanceof THREE.PointLight){var J=k4.get(j);J.position.setFromMatrixPosition(j.matrixWorld);J.position.applyMatrix4(B);J.color.copy(j.color).multiplyScalar(j.intensity);J.distance=j.distance;J.decay=(j.distance===0)?m2r.L2:j.decay;J.shadow=j.castShadow;if(j.castShadow){J.shadowBias=j.shadow.bias;J.shadowRadius=j.shadow.radius;J.shadowMapSize=j.shadow.mapSize;}y1.pointShadowMap[G]=j.shadow.map;if(y1.pointShadowMatrix[G]===undefined){y1.pointShadowMatrix[G]=new THREE.Matrix4();}p2.setFromMatrixPosition(j.matrixWorld).negate();y1.pointShadowMatrix[G].identity().setPosition(p2);y1.point[G++]=J;}else if(j instanceof THREE.HemisphereLight){var J=k4.get(j);J.direction.setFromMatrixPosition(j.matrixWorld);J.direction.transformDirection(B);J.direction.normalize();J.skyColor.copy(j.color).multiplyScalar(v);J.groundColor.copy(j.groundColor).multiplyScalar(v);y1.hemi[H++]=J;}}y1.ambient[0]=k;y1.ambient[1]=m;y1.ambient[2]=n;y1.directional.length=F;y1.spot.length=L;y1.point.length=G;y1.hemi.length=H;y1.hash=F+','+G+','+L+','+H+','+y1.shadows.length;}function K6(d,e){y2=m1.clippingPlanes.length!==0||m1.localClippingEnabled||z3!==0||N2;N2=m1.localClippingEnabled;h4=p4(d,e,0);z3=d!==m2r.r4?d.length:0;}function p4(d,e,f,i){var j=d!==m2r.r4?d.length:0,k=m2r.r4;if(j!==0){k=i3.value;if(i!==m2r.t4||k===m2r.r4){var m=f+j*4,n=e.matrixWorldInverse,u=a6.getNormalMatrix(n);if(k===m2r.r4||k.length<m){k=new Float32Array(m);}for(var v=0,A=f;v!==j;++v,A+=4){var B=c6.copy(d[v]).applyMatrix4(n,u);B.normal.toArray(k,A);k[A+3]=B.constant;}}i3.value=k;i3.needsUpdate=m2r.t4;}f3=j;return k;}function T5(){if(i3.value!==h4){i3.value=h4;i3.needsUpdate=z3>0;}f3=z3;}function J6(d,e,f,i,j){if(!N2||d===m2r.r4||d.length===0||k3&&!e){if(k3){p4(m2r.r4);}else{T5();}}else{var k=k3?0:z3,m=k*4,n=i.clippingState||m2r.r4;i3.value=n;n=p4(d,f,m,j);for(var u=0;u!==m;++u){n[u]=h4[u];}i.clippingState=n;f3+=k;}}this.setFaceCulling=function(d,e){if(d===THREE.CullFaceNone){V0.disable(k0.CULL_FACE);}else{if(e===THREE.FrontFaceDirectionCW){k0.frontFace(k0.CW);}else{k0.frontFace(k0.CCW);}if(d===THREE.CullFaceBack){k0.cullFace(k0.BACK);}else if(d===THREE.CullFaceFront){k0.cullFace(k0.FRONT);}else{k0.cullFace(k0.FRONT_AND_BACK);}V0.enable(k0.CULL_FACE);}};function z6(){var d=P1;if(d>=P2.maxTextures){console.warn('WebGLRenderer: trying to use '+d+' texture units while this GPU supports only '+P2.maxTextures);}P1+=1;return d;}function o4(d,e,f){var i;if(f){k0.texParameteri(d,k0.TEXTURE_WRAP_S,t2(e.wrapS));k0.texParameteri(d,k0.TEXTURE_WRAP_T,t2(e.wrapT));k0.texParameteri(d,k0.TEXTURE_MAG_FILTER,t2(e.magFilter));k0.texParameteri(d,k0.TEXTURE_MIN_FILTER,t2(e.minFilter));}else{k0.texParameteri(d,k0.TEXTURE_WRAP_S,k0.CLAMP_TO_EDGE);k0.texParameteri(d,k0.TEXTURE_WRAP_T,k0.CLAMP_TO_EDGE);if(e.wrapS!==THREE.ClampToEdgeWrapping||e.wrapT!==THREE.ClampToEdgeWrapping){console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.',e);}k0.texParameteri(d,k0.TEXTURE_MAG_FILTER,U5(e.magFilter));k0.texParameteri(d,k0.TEXTURE_MIN_FILTER,U5(e.minFilter));if(e.minFilter!==THREE.NearestFilter&&e.minFilter!==THREE.LinearFilter){console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.',e);}}i=V1.get(m2r.L1);if(i){if(e.type===THREE.FloatType&&V1.get(A0)===m2r.r4)return ;if(e.type===THREE.HalfFloatType&&V1.get(O0)===m2r.r4)return ;if(e.anisotropy>1||K1.get(e).__currentAnisotropy){k0.texParameterf(d,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,m1.getMaxAnisotropy()));K1.get(e).__currentAnisotropy=e.anisotropy;}}}function y6(d,e,f){if(d.__webglInit===undefined){d.__webglInit=m2r.t4;e.addEventListener(m2r.f2,f5);d.__webglTexture=k0.createTexture();w3.textures++;}V0.activeTexture(k0.TEXTURE0+f);V0.bindTexture(k0.TEXTURE_2D,d.__webglTexture);k0.pixelStorei(k0.UNPACK_FLIP_Y_WEBGL,e.flipY);k0.pixelStorei(k0.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha);k0.pixelStorei(k0.UNPACK_ALIGNMENT,e.unpackAlignment);var i=O5(e.image,P2.maxTextureSize);if(x6(e)&&m4(i)===m2r.e5){i=w6(i);}var j=m4(i),k=t2(e.format),m=t2(e.type);o4(k0.TEXTURE_2D,e,j);var n,u=e.mipmaps;if(e instanceof THREE.DepthTexture){var v=k0.DEPTH_COMPONENT;if(e.type===THREE.FloatType){if(!y5)throw  new Error('Float Depth Texture only supported in WebGL2.0');v=k0.DEPTH_COMPONENT32F;}else if(y5){v=k0.DEPTH_COMPONENT16;}V0.texImage2D(k0.TEXTURE_2D,0,v,i.width,i.height,0,k,m,m2r.r4);}else if(e instanceof THREE.DataTexture){if(u.length>0&&j){for(var A=0,B=u.length;A<B;A++){n=u[A];V0.texImage2D(k0.TEXTURE_2D,A,k,n.width,n.height,0,k,m,n.data);}e.generateMipmaps=m2r.e5;}else{V0.texImage2D(k0.TEXTURE_2D,0,k,i.width,i.height,0,k,m,i.data);}}else if(e instanceof THREE.CompressedTexture){for(var A=0,B=u.length;A<B;A++){n=u[A];if(e.format!==THREE.RGBAFormat&&e.format!==THREE.RGBFormat){if(V0.getCompressedTextureFormats().indexOf(k)>-1){V0.compressedTexImage2D(k0.TEXTURE_2D,A,k,n.width,n.height,0,n.data);}else{console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");}}else{V0.texImage2D(k0.TEXTURE_2D,A,k,n.width,n.height,0,k,m,n.data);}}}else{if(u.length>0&&j){for(var A=0,B=u.length;A<B;A++){n=u[A];V0.texImage2D(k0.TEXTURE_2D,A,k,k,m,n);}e.generateMipmaps=m2r.e5;}else{V0.texImage2D(k0.TEXTURE_2D,0,k,k,m,i);}}if(e.generateMipmaps&&j)k0.generateMipmap(k0.TEXTURE_2D);d.__version=e.version;if(e.onUpdate)e.onUpdate(e);}function P5(d,e){if(d instanceof THREE.WebGLRenderTarget)d=d.texture;var f=K1.get(d);if(d.version>0&&f.__version!==d.version){var i=d.image;if(i===undefined){console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined',d);return ;}if(i.complete===m2r.e5){console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete',d);return ;}y6(f,d,e);return ;}V0.activeTexture(k0.TEXTURE0+e);V0.bindTexture(k0.TEXTURE_2D,f.__webglTexture);}function O5(d,e){if(d.width>e||d.height>e){var f=e/Math.max(d.width,d.height),i=document.createElement(m2r.h1);i.width=Math.floor(d.width*f);i.height=Math.floor(d.height*f);var j=i.getContext('2d');j.drawImage(d,0,0,d.width,d.height,0,0,i.width,i.height);console.warn('THREE.WebGLRenderer: image is too big ('+d.width+'x'+d.height+x0+i.width+'x'+i.height,d);return i;}return d;}function m4(d){return THREE.Math.isPowerOfTwo(d.width)&&THREE.Math.isPowerOfTwo(d.height);}function x6(d){if(d.wrapS!==THREE.ClampToEdgeWrapping||d.wrapT!==THREE.ClampToEdgeWrapping)return m2r.t4;if(d.minFilter!==THREE.NearestFilter&&d.minFilter!==THREE.LinearFilter)return m2r.t4;return m2r.e5;}function w6(d){if(d instanceof HTMLImageElement||d instanceof HTMLCanvasElement){var e=document.createElement(m2r.h1);e.width=THREE.Math.nearestPowerOfTwo(d.width);e.height=THREE.Math.nearestPowerOfTwo(d.height);var f=e.getContext('2d');f.drawImage(d,0,0,e.width,e.height);console.warn('THREE.WebGLRenderer: image is not power of two ('+d.width+'x'+d.height+x0+e.width+'x'+e.height,d);return e;}return d;}function E6(d,e){var f=K1.get(d);if(d.image.length===6){if(d.version>0&&f.__version!==d.version){if(!f.__image__webglTextureCube){d.addEventListener(m2r.f2,f5);f.__image__webglTextureCube=k0.createTexture();w3.textures++;}V0.activeTexture(k0.TEXTURE0+e);V0.bindTexture(k0.TEXTURE_CUBE_MAP,f.__image__webglTextureCube);k0.pixelStorei(k0.UNPACK_FLIP_Y_WEBGL,d.flipY);var i=d instanceof THREE.CompressedTexture,j=d.image[0] instanceof THREE.DataTexture,k=[];for(var m=0;m<6;m++){if(m1.autoScaleCubemaps&&!i&&!j){k[m]=O5(d.image[m],P2.maxCubemapSize);}else{k[m]=j?d.image[m].image:d.image[m];}}var n=k[0],u=m4(n),v=t2(d.format),A=t2(d.type);o4(k0.TEXTURE_CUBE_MAP,d,u);for(var m=0;m<6;m++){if(!i){if(j){V0.texImage2D(k0.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,v,k[m].width,k[m].height,0,v,A,k[m].data);}else{V0.texImage2D(k0.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,v,v,A,k[m]);}}else{var B,F=k[m].mipmaps;for(var G=0,L=F.length;G<L;G++){B=F[G];if(d.format!==THREE.RGBAFormat&&d.format!==THREE.RGBFormat){if(V0.getCompressedTextureFormats().indexOf(v)>-1){V0.compressedTexImage2D(k0.TEXTURE_CUBE_MAP_POSITIVE_X+m,G,v,B.width,B.height,0,B.data);}else{console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()");}}else{V0.texImage2D(k0.TEXTURE_CUBE_MAP_POSITIVE_X+m,G,v,B.width,B.height,0,v,A,B.data);}}}}if(d.generateMipmaps&&u){k0.generateMipmap(k0.TEXTURE_CUBE_MAP);}f.__version=d.version;if(d.onUpdate)d.onUpdate(d);}else{V0.activeTexture(k0.TEXTURE0+e);V0.bindTexture(k0.TEXTURE_CUBE_MAP,f.__image__webglTextureCube);}}}function D6(d,e){V0.activeTexture(k0.TEXTURE0+e);V0.bindTexture(k0.TEXTURE_CUBE_MAP,K1.get(d).__webglTexture);}var S5=m2r.e5;this.setTexture=function(d,e){if(!S5){console.warn("THREE.WebGLRenderer: .setTexture is deprecated, "+"use setTexture2D instead.");S5=m2r.t4;}P5(d,e);};this.allocTextureUnit=z6;this.setTexture2D=P5;this.setTextureCube=function(d,e){if(d instanceof THREE.CubeTexture||(Array.isArray(d.image)&&d.image.length===6)){E6(d,e);}else{D6(d.texture,e);}};function R5(d,e,f,i){var j=t2(e.texture.format),k=t2(e.texture.type);V0.texImage2D(i,0,j,e.width,e.height,0,j,k,m2r.r4);k0.bindFramebuffer(k0.FRAMEBUFFER,d);k0.framebufferTexture2D(k0.FRAMEBUFFER,f,i,K1.get(e.texture).__webglTexture,0);k0.bindFramebuffer(k0.FRAMEBUFFER,m2r.r4);}function Q5(d,e){k0.bindRenderbuffer(k0.RENDERBUFFER,d);if(e.depthBuffer&&!e.stencilBuffer){k0.renderbufferStorage(k0.RENDERBUFFER,k0.DEPTH_COMPONENT16,e.width,e.height);k0.framebufferRenderbuffer(k0.FRAMEBUFFER,k0.DEPTH_ATTACHMENT,k0.RENDERBUFFER,d);}else if(e.depthBuffer&&e.stencilBuffer){k0.renderbufferStorage(k0.RENDERBUFFER,k0.DEPTH_STENCIL,e.width,e.height);k0.framebufferRenderbuffer(k0.FRAMEBUFFER,k0.DEPTH_STENCIL_ATTACHMENT,k0.RENDERBUFFER,d);}else{k0.renderbufferStorage(k0.RENDERBUFFER,k0.RGBA4,e.width,e.height);}k0.bindRenderbuffer(k0.RENDERBUFFER,m2r.r4);}function C6(d,e){var f=(e instanceof THREE.WebGLRenderTargetCube);if(f)throw  new Error('Depth Texture with cube render targets is not supported!');k0.bindFramebuffer(k0.FRAMEBUFFER,d);if(!(e.depthTexture instanceof THREE.DepthTexture)){throw  new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');}if(!K1.get(e.depthTexture).__webglTexture||e.depthTexture.image.width!==e.width||e.depthTexture.image.height!==e.height){e.depthTexture.image.width=e.width;e.depthTexture.image.height=e.height;e.depthTexture.needsUpdate=m2r.t4;}m1.setTexture(e.depthTexture,0);var i=K1.get(e.depthTexture).__webglTexture;k0.framebufferTexture2D(k0.FRAMEBUFFER,k0.DEPTH_ATTACHMENT,k0.TEXTURE_2D,i,0);}function B6(d){var e=K1.get(d),f=(d instanceof THREE.WebGLRenderTargetCube);if(d.depthTexture){if(f)throw  new Error('target.depthTexture not supported in Cube render targets');C6(e.__webglFramebuffer,d);}else{if(f){e.__webglDepthbuffer=[];for(var i=0;i<6;i++){k0.bindFramebuffer(k0.FRAMEBUFFER,e.__webglFramebuffer[i]);e.__webglDepthbuffer[i]=k0.createRenderbuffer();Q5(e.__webglDepthbuffer[i],d);}}else{k0.bindFramebuffer(k0.FRAMEBUFFER,e.__webglFramebuffer);e.__webglDepthbuffer=k0.createRenderbuffer();Q5(e.__webglDepthbuffer,d);}}k0.bindFramebuffer(k0.FRAMEBUFFER,m2r.r4);}function A6(d){var e=K1.get(d),f=K1.get(d.texture);d.addEventListener(m2r.f2,F5);f.__webglTexture=k0.createTexture();w3.textures++;var i=(d instanceof THREE.WebGLRenderTargetCube),j=THREE.Math.isPowerOfTwo(d.width)&&THREE.Math.isPowerOfTwo(d.height);if(i){e.__webglFramebuffer=[];for(var k=0;k<6;k++){e.__webglFramebuffer[k]=k0.createFramebuffer();}}else{e.__webglFramebuffer=k0.createFramebuffer();}if(i){V0.bindTexture(k0.TEXTURE_CUBE_MAP,f.__webglTexture);o4(k0.TEXTURE_CUBE_MAP,d.texture,j);for(var k=0;k<6;k++){R5(e.__webglFramebuffer[k],d,k0.COLOR_ATTACHMENT0,k0.TEXTURE_CUBE_MAP_POSITIVE_X+k);}if(d.texture.generateMipmaps&&j)k0.generateMipmap(k0.TEXTURE_CUBE_MAP);V0.bindTexture(k0.TEXTURE_CUBE_MAP,m2r.r4);}else{V0.bindTexture(k0.TEXTURE_2D,f.__webglTexture);o4(k0.TEXTURE_2D,d.texture,j);R5(e.__webglFramebuffer,d,k0.COLOR_ATTACHMENT0,k0.TEXTURE_2D);if(d.texture.generateMipmaps&&j)k0.generateMipmap(k0.TEXTURE_2D);V0.bindTexture(k0.TEXTURE_2D,m2r.r4);}if(d.depthBuffer){B6(d);}}this.getCurrentRenderTarget=function(){return E1;};this.setRenderTarget=function(d){E1=d;if(d&&K1.get(d).__webglFramebuffer===undefined){A6(d);}var e=(d instanceof THREE.WebGLRenderTargetCube),f;if(d){var i=K1.get(d);if(e){f=i.__webglFramebuffer[d.activeCubeFace];}else{f=i.__webglFramebuffer;}n2.copy(d.scissor);g2=d.scissorTest;R0.copy(d.viewport);}else{f=m2r.r4;n2.copy(x2).multiplyScalar(h2);g2=a3;R0.copy(C2).multiplyScalar(h2);}if(p1!==f){k0.bindFramebuffer(k0.FRAMEBUFFER,f);p1=f;}V0.scissor(n2);V0.setScissorTest(g2);V0.viewport(R0);if(e){var j=K1.get(d.texture);k0.framebufferTexture2D(k0.FRAMEBUFFER,k0.COLOR_ATTACHMENT0,k0.TEXTURE_CUBE_MAP_POSITIVE_X+d.activeCubeFace,j.__webglTexture,d.activeMipMapLevel);}};this.readRenderTargetPixels=function(d,e,f,i,j,k){if(d instanceof THREE.WebGLRenderTarget===m2r.e5){console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');return ;}var m=K1.get(d).__webglFramebuffer;if(m){var n=m2r.e5;if(m!==p1){k0.bindFramebuffer(k0.FRAMEBUFFER,m);n=m2r.t4;}try{var u=d.texture;if(u.format!==THREE.RGBAFormat&&t2(u.format)!==k0.getParameter(k0.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');return ;}if(u.type!==THREE.UnsignedByteType&&t2(u.type)!==k0.getParameter(k0.IMPLEMENTATION_COLOR_READ_TYPE)&&!(u.type===THREE.FloatType&&V1.get('WEBGL_color_buffer_float'))&&!(u.type===THREE.HalfFloatType&&V1.get('EXT_color_buffer_half_float'))){console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');return ;}if(k0.checkFramebufferStatus(k0.FRAMEBUFFER)===k0.FRAMEBUFFER_COMPLETE){if((e>0&&e<=(d.width-i))&&(f>0&&f<=(d.height-j))){k0.readPixels(e,f,i,j,t2(u.format),t2(u.type),k);}}else{console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');}}finally {if(n){k0.bindFramebuffer(k0.FRAMEBUFFER,p1);}}}};function L6(d){var e=d instanceof THREE.WebGLRenderTargetCube?k0.TEXTURE_CUBE_MAP:k0.TEXTURE_2D,f=K1.get(d.texture).__webglTexture;V0.bindTexture(e,f);k0.generateMipmap(e);V0.bindTexture(e,m2r.r4);}function U5(d){if(d===THREE.NearestFilter||d===THREE.NearestMipMapNearestFilter||d===THREE.NearestMipMapLinearFilter){return k0.NEAREST;}return k0.LINEAR;}function t2(d){var e;if(d===THREE.RepeatWrapping)return k0.REPEAT;if(d===THREE.ClampToEdgeWrapping)return k0.CLAMP_TO_EDGE;if(d===THREE.MirroredRepeatWrapping)return k0.MIRRORED_REPEAT;if(d===THREE.NearestFilter)return k0.NEAREST;if(d===THREE.NearestMipMapNearestFilter)return k0.NEAREST_MIPMAP_NEAREST;if(d===THREE.NearestMipMapLinearFilter)return k0.NEAREST_MIPMAP_LINEAR;if(d===THREE.LinearFilter)return k0.LINEAR;if(d===THREE.LinearMipMapNearestFilter)return k0.LINEAR_MIPMAP_NEAREST;if(d===THREE.LinearMipMapLinearFilter)return k0.LINEAR_MIPMAP_LINEAR;if(d===THREE.UnsignedByteType)return k0.UNSIGNED_BYTE;if(d===THREE.UnsignedShort4444Type)return k0.UNSIGNED_SHORT_4_4_4_4;if(d===THREE.UnsignedShort5551Type)return k0.UNSIGNED_SHORT_5_5_5_1;if(d===THREE.UnsignedShort565Type)return k0.UNSIGNED_SHORT_5_6_5;if(d===THREE.ByteType)return k0.BYTE;if(d===THREE.ShortType)return k0.SHORT;if(d===THREE.UnsignedShortType)return k0.UNSIGNED_SHORT;if(d===THREE.IntType)return k0.INT;if(d===THREE.UnsignedIntType)return k0.UNSIGNED_INT;if(d===THREE.FloatType)return k0.FLOAT;e=V1.get(m2r.j1);if(e!==m2r.r4){if(d===THREE.HalfFloatType)return e.HALF_FLOAT_OES;}if(d===THREE.AlphaFormat)return k0.ALPHA;if(d===THREE.RGBFormat)return k0.RGB;if(d===THREE.RGBAFormat)return k0.RGBA;if(d===THREE.LuminanceFormat)return k0.LUMINANCE;if(d===THREE.LuminanceAlphaFormat)return k0.LUMINANCE_ALPHA;if(d===THREE.DepthFormat)return k0.DEPTH_COMPONENT;if(d===THREE.AddEquation)return k0.FUNC_ADD;if(d===THREE.SubtractEquation)return k0.FUNC_SUBTRACT;if(d===THREE.ReverseSubtractEquation)return k0.FUNC_REVERSE_SUBTRACT;if(d===THREE.ZeroFactor)return k0.ZERO;if(d===THREE.OneFactor)return k0.ONE;if(d===THREE.SrcColorFactor)return k0.SRC_COLOR;if(d===THREE.OneMinusSrcColorFactor)return k0.ONE_MINUS_SRC_COLOR;if(d===THREE.SrcAlphaFactor)return k0.SRC_ALPHA;if(d===THREE.OneMinusSrcAlphaFactor)return k0.ONE_MINUS_SRC_ALPHA;if(d===THREE.DstAlphaFactor)return k0.DST_ALPHA;if(d===THREE.OneMinusDstAlphaFactor)return k0.ONE_MINUS_DST_ALPHA;if(d===THREE.DstColorFactor)return k0.DST_COLOR;if(d===THREE.OneMinusDstColorFactor)return k0.ONE_MINUS_DST_COLOR;if(d===THREE.SrcAlphaSaturateFactor)return k0.SRC_ALPHA_SATURATE;e=V1.get(m2r.q4);if(e!==m2r.r4){if(d===THREE.RGB_S3TC_DXT1_Format)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(d===THREE.RGBA_S3TC_DXT1_Format)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(d===THREE.RGBA_S3TC_DXT3_Format)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(d===THREE.RGBA_S3TC_DXT5_Format)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT;}e=V1.get(m2r.R4);if(e!==m2r.r4){if(d===THREE.RGB_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(d===THREE.RGB_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(d===THREE.RGBA_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(d===THREE.RGBA_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;}e=V1.get(m2r.d3);if(e!==m2r.r4){if(d===THREE.RGB_ETC1_Format)return e.COMPRESSED_RGB_ETC1_WEBGL;}e=V1.get(m2r.q5);if(e!==m2r.r4){if(d===THREE.MinEquation)return e.MIN_EXT;if(d===THREE.MaxEquation)return e.MAX_EXT;}return 0;}};THREE.WebGLRenderTarget=function(d,e,f){this.uuid=THREE.Math.generateUUID();this.width=d;this.height=e;this.scissor=new THREE.Vector4(0,0,d,e);this.scissorTest=m2r.e5;this.viewport=new THREE.Vector4(0,0,d,e);f=f||{};if(f.minFilter===undefined)f.minFilter=THREE.LinearFilter;this.texture=new THREE.Texture(undefined,undefined,f.wrapS,f.wrapT,f.magFilter,f.minFilter,f.format,f.type,f.anisotropy,f.encoding);this.depthBuffer=f.depthBuffer!==undefined?f.depthBuffer:m2r.t4;this.stencilBuffer=f.stencilBuffer!==undefined?f.stencilBuffer:m2r.t4;this.depthTexture=m2r.r4;};THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,setSize:function(d,e){if(this.width!==d||this.height!==e){this.width=d;this.height=e;this.dispose();}this.viewport.set(0,0,d,e);this.scissor.set(0,0,d,e);},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.width=d.width;this.height=d.height;this.viewport.copy(d.viewport);this.texture=d.texture.clone();this.depthBuffer=d.depthBuffer;this.stencilBuffer=d.stencilBuffer;this.depthTexture=d.depthTexture;return this;},dispose:function(){this.dispatchEvent({type:m2r.f2});}};THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube=function(d,e,f){THREE.WebGLRenderTarget.call(this,d,e,f);this.activeCubeFace=0;this.activeMipMapLevel=0;};THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube;THREE.WebGLBufferRenderer=function(j,k,m){var n;function u(d){n=d;}function v(d,e){j.drawArrays(n,d,e);m.calls++;m.vertices+=e;if(n===j.TRIANGLES)m.faces+=e/3;}function A(d){var e=k.get(m2r.e4);if(e===m2r.r4){console.error(m2r.W3);return ;}var f=d.attributes.position,i=0;if(f instanceof THREE.InterleavedBufferAttribute){i=f.data.count;e.drawArraysInstancedANGLE(n,0,i,d.maxInstancedCount);}else{i=f.count;e.drawArraysInstancedANGLE(n,0,i,d.maxInstancedCount);}m.calls++;m.vertices+=i*d.maxInstancedCount;if(n===j.TRIANGLES)m.faces+=d.maxInstancedCount*i/3;}this.setMode=u;this.render=v;this.renderInstances=A;};THREE.WebGLIndexedBufferRenderer=function(j,k,m){var n;function u(d){n=d;}var v,A;function B(d){if(d.array instanceof Uint32Array&&k.get(m2r.g5)){v=j.UNSIGNED_INT;A=4;}else{v=j.UNSIGNED_SHORT;A=2;}}function F(d,e){j.drawElements(n,e,v,d*A);m.calls++;m.vertices+=e;if(n===j.TRIANGLES)m.faces+=e/3;}function G(d,e,f){var i=k.get(m2r.e4);if(i===m2r.r4){console.error(m2r.W3);return ;}i.drawElementsInstancedANGLE(n,f,v,e*A,d.maxInstancedCount);m.calls++;m.vertices+=f*d.maxInstancedCount;if(n===j.TRIANGLES)m.faces+=d.maxInstancedCount*f/3;}this.setMode=u;this.setIndex=B;this.render=F;this.renderInstances=G;};THREE.WebGLExtensions=function(f){var i={};this.get=function(d){if(i[d]!==undefined){return i[d];}var e;switch(d){case m2r.G4:e=f.getExtension(m2r.G4)||f.getExtension('MOZ_WEBGL_depth_texture')||f.getExtension('WEBKIT_WEBGL_depth_texture');case m2r.L1:e=f.getExtension(m2r.L1)||f.getExtension('MOZ_EXT_texture_filter_anisotropic')||f.getExtension('WEBKIT_EXT_texture_filter_anisotropic');break;case m2r.q4:e=f.getExtension(m2r.q4)||f.getExtension('MOZ_WEBGL_compressed_texture_s3tc')||f.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');break;case m2r.R4:e=f.getExtension(m2r.R4)||f.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');break;case m2r.d3:e=f.getExtension(m2r.d3);break;default:e=f.getExtension(d);}if(e===m2r.r4){console.warn(m2r.k1+d+' extension not supported.');}i[d]=e;return e;};};THREE.WebGLCapabilities=function(f,i,j){function k(d){var e='mediump';if(d==='highp'){if(f.getShaderPrecisionFormat(f.VERTEX_SHADER,f.HIGH_FLOAT).precision>0&&f.getShaderPrecisionFormat(f.FRAGMENT_SHADER,f.HIGH_FLOAT).precision>0){return 'highp';}d=e;}if(d===e){if(f.getShaderPrecisionFormat(f.VERTEX_SHADER,f.MEDIUM_FLOAT).precision>0&&f.getShaderPrecisionFormat(f.FRAGMENT_SHADER,f.MEDIUM_FLOAT).precision>0){return e;}}return 'lowp';}this.getMaxPrecision=k;this.precision=j.precision!==undefined?j.precision:'highp',this.logarithmicDepthBuffer=j.logarithmicDepthBuffer!==undefined?j.logarithmicDepthBuffer:m2r.e5;this.maxTextures=f.getParameter(f.MAX_TEXTURE_IMAGE_UNITS);this.maxVertexTextures=f.getParameter(f.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.maxTextureSize=f.getParameter(f.MAX_TEXTURE_SIZE);this.maxCubemapSize=f.getParameter(f.MAX_CUBE_MAP_TEXTURE_SIZE);this.maxAttributes=f.getParameter(f.MAX_VERTEX_ATTRIBS);this.maxVertexUniforms=f.getParameter(f.MAX_VERTEX_UNIFORM_VECTORS);this.maxVaryings=f.getParameter(f.MAX_VARYING_VECTORS);this.maxFragmentUniforms=f.getParameter(f.MAX_FRAGMENT_UNIFORM_VECTORS);this.vertexTextures=this.maxVertexTextures>0;this.floatFragmentTextures=!!i.get(m2r.B1);this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var m=k(this.precision);if(m!==this.precision){console.warn('THREE.WebGLRenderer:',this.precision,m2r.T4,m,'instead.');this.precision=m;}if(this.logarithmicDepthBuffer){this.logarithmicDepthBuffer=!!i.get(m2r.L4);}};THREE.WebGLGeometries=function(k,m,n){var u={};function v(d){var e=d.geometry;if(u[e.id]!==undefined){return u[e.id];}e.addEventListener(m2r.f2,A);var f;if(e instanceof THREE.BufferGeometry){f=e;}else if(e instanceof THREE.Geometry){if(e._bufferGeometry===undefined){e._bufferGeometry=new THREE.BufferGeometry().setFromObject(d);}f=e._bufferGeometry;}u[e.id]=f;n.memory.geometries++;return f;}function A(d){var e=d.target,f=u[e.id];if(f.index!==m2r.r4){F(f.index);}G(f.attributes);e.removeEventListener(m2r.f2,A);delete  u[e.id];var i=m.get(e);if(i.wireframe){F(i.wireframe);}m.delete  (e);var j=m.get(f);if(j.wireframe){F(j.wireframe);}m.delete  (f);n.memory.geometries--;}function B(d){if(d instanceof THREE.InterleavedBufferAttribute){return m.get(d.data).__webglBuffer;}return m.get(d).__webglBuffer;}function F(d){var e=B(d);if(e!==undefined){k.deleteBuffer(e);L(d);}}function G(d){for(var e in d){F(d[e]);}}function L(d){if(d instanceof THREE.InterleavedBufferAttribute){m.delete  (d.data);}else{m.delete  (d);}}this.get=v;};THREE.WebGLLights=function(){var f={};this.get=function(d){if(f[d.id]!==undefined){return f[d.id];}var e;switch(d.type){case m2r.E3:e={direction:new THREE.Vector3(),color:new THREE.Color(),shadow:m2r.e5,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2()};break;case m2r.n4:e={position:new THREE.Vector3(),direction:new THREE.Vector3(),color:new THREE.Color(),distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:m2r.e5,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2()};break;case m2r.j2:e={position:new THREE.Vector3(),color:new THREE.Color(),distance:0,decay:0,shadow:m2r.e5,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2()};break;case m2r.r3:e={direction:new THREE.Vector3(),skyColor:new THREE.Color(),groundColor:new THREE.Color()};break;}f[d.id]=e;return e;};};THREE.WebGLObjects=function(H,J,T){var i0=new THREE.WebGLGeometries(H,J,T);function b0(d){var e=i0.get(d);if(d.geometry instanceof THREE.Geometry){e.updateFromObject(d);}var f=e.index,i=e.attributes;if(f!==m2r.r4){N(f,H.ELEMENT_ARRAY_BUFFER);}for(var j in i){N(i[j],H.ARRAY_BUFFER);}var k=e.morphAttributes;for(var j in k){var m=k[j];for(var n=0,u=m.length;n<u;n++){N(m[n],H.ARRAY_BUFFER);}}return e;}function N(d,e){var f=(d instanceof THREE.InterleavedBufferAttribute)?d.data:d,i=J.get(f);if(i.__webglBuffer===undefined){l0(i,f,e);}else if(i.version!==f.version){m0(i,f,e);}}function l0(d,e,f){d.__webglBuffer=H.createBuffer();H.bindBuffer(f,d.__webglBuffer);var i=e.dynamic?H.DYNAMIC_DRAW:H.STATIC_DRAW;H.bufferData(f,e.array,i);d.version=e.version;}function m0(d,e,f){H.bindBuffer(f,d.__webglBuffer);if(e.dynamic===m2r.e5||e.updateRange.count===-1){H.bufferSubData(f,0,e.array);}else if(e.updateRange.count===0){console.error('THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.');}else{H.bufferSubData(f,e.updateRange.offset*e.array.BYTES_PER_ELEMENT,e.array.subarray(e.updateRange.offset,e.updateRange.offset+e.updateRange.count));e.updateRange.count=0;}d.version=e.version;}function o0(d){if(d instanceof THREE.InterleavedBufferAttribute){return J.get(d.data).__webglBuffer;}return J.get(d).__webglBuffer;}function n0(d){var e=J.get(d);if(e.wireframe!==undefined){return e.wireframe;}var f=[],i=d.index,j=d.attributes,k=j.position;if(i!==m2r.r4){var m={},n=i.array;for(var u=0,v=n.length;u<v;u+=3){var A=n[u+0],B=n[u+1],F=n[u+2];if(s0(m,A,B))f.push(A,B);if(s0(m,B,F))f.push(B,F);if(s0(m,F,A))f.push(F,A);}}else{var n=j.position.array;for(var u=0,v=(n.length/3)-1;u<v;u+=3){var A=u+0,B=u+1,F=u+2;f.push(A,B,B,F,F,A);}}var G=k.count>m2r.P4?Uint32Array:Uint16Array,L=new THREE.BufferAttribute(new G(f),1);N(L,H.ELEMENT_ARRAY_BUFFER);e.wireframe=L;return L;}function s0(d,e,f){if(e>f){var i=e;e=f;f=i;}var j=d[e];if(j===undefined){d[e]=[f];return m2r.t4;}else if(j.indexOf(f)===-1){j.push(f);return m2r.t4;}return m2r.e5;}this.getAttributeBuffer=o0;this.getWireframeAttribute=n0;this.update=b0;};THREE.WebGLProgram=(function(){var x1='#define ',d2='EXT_shader_texture_lod',n2=0;function g2(d){var e='( value )';switch(d){case THREE.LinearEncoding:return ['Linear',e];case THREE.sRGBEncoding:return ['sRGB',e];case THREE.RGBEEncoding:return ['RGBE',e];case THREE.RGBM7Encoding:return ['RGBM','( value, 7.0 )'];case THREE.RGBM16Encoding:return ['RGBM','( value, 16.0 )'];case THREE.RGBDEncoding:return ['RGBD','( value, 256.0 )'];case THREE.GammaEncoding:return ['Gamma','( value, float( GAMMA_FACTOR ) )'];default:throw  new Error('unsupported encoding: '+d);}}function R0(d,e){var f=g2(e);return "vec4 "+d+"( vec4 value ) { return "+f[0]+"ToLinear"+f[1]+"; }";}function P1(d,e){var f=g2(e);return "vec4 "+d+"( vec4 value ) { return LinearTo"+f[0]+f[1]+"; }";}function a2(d,e){var f;switch(e){case THREE.LinearToneMapping:f="Linear";break;case THREE.ReinhardToneMapping:f="Reinhard";break;case THREE.Uncharted2ToneMapping:f="Uncharted2";break;case THREE.CineonToneMapping:f="OptimizedCineon";break;default:throw  new Error('unsupported toneMapping: '+e);}return "vec3 "+d+"( vec3 color ) { return "+f+"ToneMapping( color ); }";}function l2(d,e,f){d=d||{};var i=[(d.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading)?'#extension GL_OES_standard_derivatives : enable':'',(d.fragDepth||e.logarithmicDepthBuffer)&&f.get(m2r.L4)?'#extension GL_EXT_frag_depth : enable':'',(d.drawBuffers)&&f.get('WEBGL_draw_buffers')?'#extension GL_EXT_draw_buffers : require':'',(d.shaderTextureLOD||e.envMap)&&f.get(d2)?'#extension GL_EXT_shader_texture_lod : enable':'',];return i.filter(h2).join(m2r.A3);}function B2(d){var e=[];for(var f in d){var i=d[f];if(i===m2r.e5)continue;e.push(x1+f+' '+i);}return e.join(m2r.A3);}function s2(d,e,f){var i={},j=d.getProgramParameter(e,d.ACTIVE_ATTRIBUTES);for(var k=0;k<j;k++){var m=d.getActiveAttrib(e,k),n=m.name;i[n]=d.getAttribLocation(e,n);}return i;}function h2(d){return d!=='';}function x2(d,e){return d.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights);}function a3(i){var j=/#include +<([\w\d.]+)>/g;function k(d,e){var f=THREE.ShaderChunk[e];if(f===undefined){throw  new Error('Can not resolve #include <'+e+'>');}return a3(f);}return i.replace(j,k);}function C2(m){var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function u(d,e,f,i){var j='';for(var k=parseInt(e);k<parseInt(f);k++){j+=i.replace(/\[ i \]/g,'[ '+k+' ]');}return j;}return m.replace(n,u);}return function t3(d,e,f,i){var j='#endif',k='uniform vec3 cameraPosition;',m='uniform mat4 viewMatrix;',n='#define USE_LOGDEPTHBUF_EXT',u='#define USE_LOGDEPTHBUF',v='#define USE_SHADOWMAP',A='#define NUM_CLIPPING_PLANES ',B='#define FLIP_SIDED',F='#define DOUBLE_SIDED',G='#define FLAT_SHADED',L='#define USE_COLOR',H='#define USE_ALPHAMAP',J='#define USE_METALNESSMAP',T='#define USE_ROUGHNESSMAP',i0='#define USE_SPECULARMAP',b0='#define USE_NORMALMAP',N='#define USE_BUMPMAP',l0='#define USE_EMISSIVEMAP',m0='#define USE_AOMAP',o0='#define USE_LIGHTMAP',n0='#define USE_ENVMAP',s0='#define USE_MAP',z0='#define GAMMA_FACTOR ',B0='#define SHADER_NAME ',y0='ENVMAP_BLENDING_MULTIPLY',x0='ENVMAP_TYPE_CUBE',w0=d.context,J0=f.extensions,O0=f.defines,A0=f.__webglShader.vertexShader,M0=f.__webglShader.fragmentShader,H0='SHADOWMAP_TYPE_BASIC';if(i.shadowMapType===THREE.PCFShadowMap){H0='SHADOWMAP_TYPE_PCF';}else if(i.shadowMapType===THREE.PCFSoftShadowMap){H0='SHADOWMAP_TYPE_PCF_SOFT';}else if(i.shadowMapType===THREE.PCSSSoftShadowMap){H0='SHADOWMAP_TYPE_PCSS';}var E0=x0,U0='ENVMAP_MODE_REFLECTION',D0=y0;if(i.envMap){switch(f.envMap.mapping){case THREE.CubeReflectionMapping:case THREE.CubeRefractionMapping:E0=x0;break;case THREE.CubeUVReflectionMapping:case THREE.CubeUVRefractionMapping:E0='ENVMAP_TYPE_CUBE_UV';break;case THREE.EquirectangularReflectionMapping:case THREE.EquirectangularRefractionMapping:E0='ENVMAP_TYPE_EQUIREC';break;case THREE.SphericalReflectionMapping:E0='ENVMAP_TYPE_SPHERE';break;}switch(f.envMap.mapping){case THREE.CubeRefractionMapping:case THREE.EquirectangularRefractionMapping:U0='ENVMAP_MODE_REFRACTION';break;}switch(f.combine){case THREE.MultiplyOperation:D0=y0;break;case THREE.MixOperation:D0='ENVMAP_BLENDING_MIX';break;case THREE.AddOperation:D0='ENVMAP_BLENDING_ADD';break;}}var L0=(d.gammaFactor>0)?d.gammaFactor:m2r.d5,S0=l2(J0,i,d.extensions),g1=B2(O0),W0=w0.createProgram(),l1,d1;if(f instanceof THREE.RawShaderMaterial){l1='';d1='';}else{l1=[m2r.Y4+i.precision+m2r.C1,m2r.Y4+i.precision+' int;',B0+f.__webglShader.name,g1,i.supportsVertexTextures?'#define VERTEX_TEXTURES':'',z0+L0,'#define MAX_BONES '+i.maxBones,i.map?s0:'',i.envMap?n0:'',i.envMap?x1+U0:'',i.lightMap?o0:'',i.aoMap?m0:'',i.emissiveMap?l0:'',i.bumpMap?N:'',i.normalMap?b0:'',i.displacementMap&&i.supportsVertexTextures?'#define USE_DISPLACEMENTMAP':'',i.specularMap?i0:'',i.roughnessMap?T:'',i.metalnessMap?J:'',i.alphaMap?H:'',i.vertexColors?L:'',i.flatShading?G:'',i.skinning?'#define USE_SKINNING':'',i.useVertexTexture?'#define BONE_TEXTURE':'',i.morphTargets?'#define USE_MORPHTARGETS':'',i.morphNormals&&i.flatShading===m2r.e5?'#define USE_MORPHNORMALS':'',i.doubleSided?F:'',i.flipSided?B:'',A+i.numClippingPlanes,i.shadowMapEnabled?v:'',i.shadowMapEnabled?x1+H0:'',i.sizeAttenuation?'#define USE_SIZEATTENUATION':'',i.logarithmicDepthBuffer?u:'',i.logarithmicDepthBuffer&&d.extensions.get(m2r.L4)?n:'','uniform mat4 modelMatrix;',m2r.C3,m2r.u3,m,'uniform mat3 normalMatrix;',k,'attribute vec3 position;','attribute vec3 normal;',m2r.T2,'#ifdef USE_COLOR','	attribute vec3 color;',j,'#ifdef USE_MORPHTARGETS','	attribute vec3 morphTarget0;','	attribute vec3 morphTarget1;','	attribute vec3 morphTarget2;','	attribute vec3 morphTarget3;','	#ifdef USE_MORPHNORMALS','		attribute vec3 morphNormal0;','		attribute vec3 morphNormal1;','		attribute vec3 morphNormal2;','		attribute vec3 morphNormal3;','	#else','		attribute vec3 morphTarget4;','		attribute vec3 morphTarget5;','		attribute vec3 morphTarget6;','		attribute vec3 morphTarget7;','	#endif',j,'#ifdef USE_SKINNING','	attribute vec4 skinIndex;','	attribute vec4 skinWeight;',j,m2r.A3].filter(h2).join(m2r.A3);d1=[S0,m2r.Y4+i.precision+m2r.C1,m2r.Y4+i.precision+' int;',B0+f.__webglShader.name,g1,i.alphaTest?'#define ALPHATEST '+i.alphaTest:'',z0+L0,(i.useFog&&i.fog)?'#define USE_FOG':'',(i.useFog&&i.fogExp)?'#define FOG_EXP2':'',i.map?s0:'',i.envMap?n0:'',i.envMap?x1+E0:'',i.envMap?x1+U0:'',i.envMap?x1+D0:'',i.lightMap?o0:'',i.aoMap?m0:'',i.emissiveMap?l0:'',i.bumpMap?N:'',i.normalMap?b0:'',i.specularMap?i0:'',i.roughnessMap?T:'',i.metalnessMap?J:'',i.alphaMap?H:'',i.vertexColors?L:'',i.flatShading?G:'',i.doubleSided?F:'',i.flipSided?B:'',A+i.numClippingPlanes,i.shadowMapEnabled?v:'',i.shadowMapEnabled?x1+H0:'',i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":'',i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":'',i.logarithmicDepthBuffer?u:'',i.logarithmicDepthBuffer&&d.extensions.get(m2r.L4)?n:'',i.envMap&&d.extensions.get(d2)?'#define TEXTURE_LOD_EXT':'',m,k,(i.toneMapping!==THREE.NoToneMapping)?"#define TONE_MAPPING":'',(i.toneMapping!==THREE.NoToneMapping)?THREE.ShaderChunk[m2r.J3]:'',(i.toneMapping!==THREE.NoToneMapping)?a2(m2r.z4,i.toneMapping):'',(i.outputEncoding||i.mapEncoding||i.envMapEncoding||i.emissiveMapEncoding)?THREE.ShaderChunk[m2r.M3]:'',i.mapEncoding?R0('mapTexelToLinear',i.mapEncoding):'',i.envMapEncoding?R0('envMapTexelToLinear',i.envMapEncoding):'',i.emissiveMapEncoding?R0('emissiveMapTexelToLinear',i.emissiveMapEncoding):'',i.outputEncoding?P1("linearToOutputTexel",i.outputEncoding):'',i.depthPacking?"#define DEPTH_PACKING "+f.depthPacking:'',m2r.A3].filter(h2).join(m2r.A3);}A0=a3(A0,i);A0=x2(A0,i);M0=a3(M0,i);M0=x2(M0,i);if(f instanceof THREE.ShaderMaterial===m2r.e5){A0=C2(A0);M0=C2(M0);}var i1=l1+A0,n1=d1+M0,s1=THREE.WebGLShader(w0,w0.VERTEX_SHADER,i1),o1=THREE.WebGLShader(w0,w0.FRAGMENT_SHADER,n1);w0.attachShader(W0,s1);w0.attachShader(W0,o1);if(f.index0AttributeName!==undefined){w0.bindAttribLocation(W0,0,f.index0AttributeName);}else if(i.morphTargets===m2r.t4){w0.bindAttribLocation(W0,0,m2r.H2);}w0.linkProgram(W0);var t1=w0.getProgramInfoLog(W0),w1=w0.getShaderInfoLog(s1),m1=w0.getShaderInfoLog(o1),W1=m2r.t4,E1=m2r.t4;if(w0.getProgramParameter(W0,w0.LINK_STATUS)===m2r.e5){W1=m2r.e5;console.error('THREE.WebGLProgram: shader error: ',w0.getError(),'gl.VALIDATE_STATUS',w0.getProgramParameter(W0,w0.VALIDATE_STATUS),'gl.getProgramInfoLog',t1,w1,m1);}else if(t1!==''){console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()',t1);}else if(w1===''||m1===''){E1=m2r.e5;}if(E1){this.diagnostics={runnable:W1,material:f,programLog:t1,vertexShader:{log:w1,prefix:l1},fragmentShader:{log:m1,prefix:d1}};}w0.deleteShader(s1);w0.deleteShader(o1);var p1;this.getUniforms=function(){if(p1===undefined){p1=new THREE.WebGLUniforms(w0,W0,d);}return p1;};var T1;this.getAttributes=function(){if(T1===undefined){T1=s2(w0,W0);}return T1;};this.destroy=function(){w0.deleteProgram(W0);this.program=undefined;};Object.defineProperties(this,{uniforms:{get:function(){console.warn('THREE.WebGLProgram: .uniforms is now .getUniforms().');return this.getUniforms();}},attributes:{get:function(){console.warn('THREE.WebGLProgram: .attributes is now .getAttributes().');return this.getAttributes();}}});this.id=n2++;this.code=e;this.usedTimes=1;this.program=W0;this.vertexShader=s1;this.fragmentShader=o1;return this;};})();THREE.WebGLPrograms=function(v,A){var B=[],F={MeshDepthMaterial:'depth',MeshNormalMaterial:m2r.Y3,MeshBasicMaterial:'basic',MeshLambertMaterial:'lambert',MeshPhongMaterial:'phong',MeshStandardMaterial:m2r.A1,MeshPhysicalMaterial:m2r.A1,LineBasicMaterial:'basic',LineDashedMaterial:'dashed',PointsMaterial:'points'},G=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","shadowMapEnabled","shadowMapType",m2r.z4,'physicallyCorrectLights',"alphaTest","doubleSided","flipSided","numClippingPlanes","depthPacking"];function L(d){if(A.floatVertexTextures&&d&&d.skeleton&&d.skeleton.useVertexTexture){return 1024;}else{var e=A.maxVertexUniforms,f=Math.floor((e-20)/4),i=f;if(d!==undefined&&d instanceof THREE.SkinnedMesh){i=Math.min(d.skeleton.bones.length,i);if(i<d.skeleton.bones.length){console.warn('WebGLRenderer: too many bones - '+d.skeleton.bones.length+', this GPU supports just '+i+' (try OpenGL instead of ANGLE)');}}return i;}}function H(d,e){var f;if(!d){f=THREE.LinearEncoding;}else if(d instanceof THREE.Texture){f=d.encoding;}else if(d instanceof THREE.WebGLRenderTarget){f=d.texture.encoding;}if(f===THREE.LinearEncoding&&e){f=THREE.GammaEncoding;}return f;}this.getParameters=function(d,e,f,i,j){var k=F[d.type],m=L(j),n=v.getPrecision();if(d.precision!==m2r.r4){n=A.getMaxPrecision(d.precision);if(n!==d.precision){console.warn('THREE.WebGLProgram.getParameters:',d.precision,m2r.T4,n,'instead.');}}var u={shaderID:k,precision:n,supportsVertexTextures:A.vertexTextures,outputEncoding:H(v.getCurrentRenderTarget(),v.gammaOutput),map:!!d.map,mapEncoding:H(d.map,v.gammaInput),envMap:!!d.envMap,envMapMode:d.envMap&&d.envMap.mapping,envMapEncoding:H(d.envMap,v.gammaInput),envMapCubeUV:(!!d.envMap)&&((d.envMap.mapping===THREE.CubeUVReflectionMapping)||(d.envMap.mapping===THREE.CubeUVRefractionMapping)),lightMap:!!d.lightMap,aoMap:!!d.aoMap,emissiveMap:!!d.emissiveMap,emissiveMapEncoding:H(d.emissiveMap,v.gammaInput),bumpMap:!!d.bumpMap,normalMap:!!d.normalMap,displacementMap:!!d.displacementMap,roughnessMap:!!d.roughnessMap,metalnessMap:!!d.metalnessMap,specularMap:!!d.specularMap,alphaMap:!!d.alphaMap,combine:d.combine,vertexColors:d.vertexColors,fog:f,useFog:d.fog,fogExp:f instanceof THREE.FogExp2,flatShading:d.shading===THREE.FlatShading,sizeAttenuation:d.sizeAttenuation,logarithmicDepthBuffer:A.logarithmicDepthBuffer,skinning:d.skinning,maxBones:m,useVertexTexture:A.floatVertexTextures&&j&&j.skeleton&&j.skeleton.useVertexTexture,morphTargets:d.morphTargets,morphNormals:d.morphNormals,maxMorphTargets:v.maxMorphTargets,maxMorphNormals:v.maxMorphNormals,numDirLights:e.directional.length,numPointLights:e.point.length,numSpotLights:e.spot.length,numHemiLights:e.hemi.length,numClippingPlanes:i,shadowMapEnabled:v.shadowMap.enabled&&j.receiveShadow&&e.shadows.length>0,shadowMapType:v.shadowMap.type,toneMapping:v.toneMapping,physicallyCorrectLights:v.physicallyCorrectLights,premultipliedAlpha:d.premultipliedAlpha,alphaTest:d.alphaTest,doubleSided:d.side===THREE.DoubleSide,flipSided:d.side===THREE.BackSide,depthPacking:(d.depthPacking!==undefined)?d.depthPacking:m2r.e5};return u;};this.getProgramCode=function(d,e){var f=[];if(e.shaderID){f.push(e.shaderID);}else{f.push(d.fragmentShader);f.push(d.vertexShader);}if(d.defines!==undefined){for(var i in d.defines){f.push(i);f.push(d.defines[i]);}}for(var j=0;j<G.length;j++){f.push(e[G[j]]);}return f.join();};this.acquireProgram=function(d,e,f){var i;for(var j=0,k=B.length;j<k;j++){var m=B[j];if(m.code===f){i=m;++i.usedTimes;break;}}if(i===undefined){i=new THREE.WebGLProgram(v,f,d,e);B.push(i);}return i;};this.releaseProgram=function(d){if(--d.usedTimes===0){var e=B.indexOf(d);B[e]=B[B.length-1];B.pop();d.destroy();}};this.programs=B;};THREE.WebGLProperties=function(){var i={};this.get=function(d){var e=d.uuid,f=i[e];if(f===undefined){f={};i[e]=f;}return f;};this.delete  =function(d){delete  i[d.uuid];};this.clear=function(){i={};};};THREE.WebGLShader=(function(){function j(d){var e=d.split(m2r.A3);for(var f=0;f<e.length;f++){e[f]=(f+1)+': '+e[f];}return e.join(m2r.A3);}return function k(d,e,f){var i=d.createShader(e);d.shaderSource(i,f);d.compileShader(i);if(d.getShaderParameter(i,d.COMPILE_STATUS)===m2r.e5){console.error('THREE.WebGLShader: Shader couldn\'t compile.');}if(d.getShaderInfoLog(i)!==''){console.warn('THREE.WebGLShader: gl.getShaderInfoLog()',e===d.VERTEX_SHADER?'vertex':'fragment',d.getShaderInfoLog(i),j(f));}return i;};})();THREE.WebGLShadowMap=function(w0,J0,O0){var A0=w0.context,M0=w0.state,H0=new THREE.Frustum(),E0=new THREE.Matrix4(),U0=J0.shadows,D0=new THREE.Vector2(),L0=new THREE.Vector3(),S0=new THREE.Vector3(),g1=[],W0=1,l1=2,d1=(W0|l1)+1,i1=new Array(d1),n1=new Array(d1),s1={},o1=[new THREE.Vector3(1,0,0),new THREE.Vector3(-1,0,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1),new THREE.Vector3(0,1,0),new THREE.Vector3(0,-1,0)],t1=[new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1)],w1=[new THREE.Vector4(),new THREE.Vector4(),new THREE.Vector4(),new THREE.Vector4(),new THREE.Vector4(),new THREE.Vector4()],m1=new THREE.MeshDepthMaterial();m1.depthPacking=THREE.RGBADepthPacking;m1.clipping=m2r.t4;var W1=THREE.ShaderLib["distanceRGBA"],E1=THREE.UniformsUtils.clone(W1.uniforms);for(var p1=0;p1!==d1;++p1){var T1=(p1&W0)!==0,x1=(p1&l1)!==0,d2=m1.clone();d2.morphTargets=T1;d2.skinning=x1;i1[p1]=d2;var n2=new THREE.ShaderMaterial({defines:{'USE_SHADOWMAP':''},uniforms:E1,vertexShader:W1.vertexShader,fragmentShader:W1.fragmentShader,morphTargets:T1,skinning:x1,clipping:m2r.t4});n1[p1]=n2;}var g2=this;this.enabled=m2r.e5;this.autoUpdate=m2r.t4;this.needsUpdate=m2r.e5;this.type=THREE.PCFShadowMap;this.cullFace=THREE.CullFaceFront;this.render=function(d,e){if(g2.enabled===m2r.e5)return ;if(g2.autoUpdate===m2r.e5&&g2.needsUpdate===m2r.e5)return ;if(U0.length===0)return ;M0.clearColor(1,1,1,1);M0.disable(A0.BLEND);M0.enable(A0.CULL_FACE);A0.frontFace(A0.CCW);A0.cullFace(g2.cullFace===THREE.CullFaceFront?A0.FRONT:A0.BACK);M0.setDepthTest(m2r.t4);M0.setScissorTest(m2r.e5);var f,i;for(var j=0,k=U0.length;j<k;j++){var m=U0[j],n=m.shadow,u=n.camera;D0.copy(n.mapSize);if(m instanceof THREE.PointLight){f=6;i=m2r.t4;var v=D0.x,A=D0.y;w1[0].set(v*2,A,v,A);w1[1].set(0,A,v,A);w1[2].set(v*3,A,v,A);w1[3].set(v,A,v,A);w1[4].set(v*3,0,v,A);w1[5].set(v,0,v,A);D0.x*=4.0;D0.y*=2.0;}else{f=1;i=m2r.e5;}if(n.map===m2r.r4){var B={minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat};n.map=new THREE.WebGLRenderTarget(D0.x,D0.y,B);u.updateProjectionMatrix();}if(n instanceof THREE.SpotLightShadow){n.update(m);}var F=n.map,G=n.matrix;S0.setFromMatrixPosition(m.matrixWorld);u.position.copy(S0);w0.setRenderTarget(F);w0.clear();for(var L=0;L<f;L++){if(i){L0.copy(u.position);L0.add(o1[L]);u.up.copy(t1[L]);u.lookAt(L0);var H=w1[L];M0.viewport(H);}else{L0.setFromMatrixPosition(m.target.matrixWorld);u.lookAt(L0);}u.updateMatrixWorld();u.matrixWorldInverse.getInverse(u.matrixWorld);G.set(m2r.K2,m2r.L2,m2r.L2,m2r.K2,m2r.L2,m2r.K2,m2r.L2,m2r.K2,m2r.L2,m2r.L2,m2r.K2,m2r.K2,m2r.L2,m2r.L2,m2r.L2,m2r.d5);G.multiply(u.projectionMatrix);G.multiply(u.matrixWorldInverse);E0.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse);H0.setFromMatrix(E0);g1.length=0;P1(d,e,u);for(var J=0,T=g1.length;J<T;J++){var i0=g1[J],b0=O0.update(i0),N=i0.material;if(N instanceof THREE.MultiMaterial){var l0=b0.groups,m0=N.materials;for(var o0=0,n0=l0.length;o0<n0;o0++){var s0=l0[o0],z0=m0[s0.materialIndex];if(z0.visible===m2r.t4){var B0=R0(i0,z0,i,S0);w0.renderBufferDirect(u,m2r.r4,b0,B0,i0,s0);}}}else{var B0=R0(i0,N,i,S0);w0.renderBufferDirect(u,m2r.r4,b0,B0,i0,m2r.r4);}}}}var y0=w0.getClearColor(),x0=w0.getClearAlpha();w0.setClearColor(y0,x0);M0.enable(A0.BLEND);if(g2.cullFace===THREE.CullFaceFront){A0.cullFace(A0.BACK);}g2.needsUpdate=m2r.e5;};function R0(d,e,f,i){var j=d.geometry,k=m2r.r4,m=i1,n=d.customDepthMaterial;if(f){m=n1;n=d.customDistanceMaterial;}if(!n){var u=j.morphTargets!==undefined&&j.morphTargets.length>0&&e.morphTargets,v=d instanceof THREE.SkinnedMesh&&e.skinning,A=0;if(u)A|=W0;if(v)A|=l1;k=m[A];}else{k=n;}if(w0.localClippingEnabled&&e.clipShadows===m2r.t4&&e.clippingPlanes.length!==0){var B=k.uuid,F=e.uuid,G=s1[B];if(G===undefined){G={};s1[B]=G;}var L=G[F];if(L===undefined){L=k.clone();G[F]=L;}k=L;}k.visible=e.visible;k.wireframe=e.wireframe;k.side=e.side;k.clipShadows=e.clipShadows;k.clippingPlanes=e.clippingPlanes;k.wireframeLinewidth=e.wireframeLinewidth;k.linewidth=e.linewidth;if(f&&k.uniforms.lightPos!==undefined){k.uniforms.lightPos.value.copy(i);}return k;}function P1(d,e,f){if(d.visible===m2r.e5)return ;if(d.layers.test(e.layers)&&(d instanceof THREE.Mesh||d instanceof THREE.Line||d instanceof THREE.Points)){if(d.castShadow&&(d.frustumCulled===m2r.e5||H0.intersectsObject(d)===m2r.t4)){var i=d.material;if(i.visible===m2r.t4){d.modelViewMatrix.multiplyMatrices(f.matrixWorldInverse,d.matrixWorld);g1.push(d);}}}var j=d.children;for(var k=0,m=j.length;k<m;k++){P1(j[k],e,f);}}};THREE.WebGLState=function(u,v,A){var B=this,F=new THREE.Vector4(),G=u.getParameter(u.MAX_VERTEX_ATTRIBS),L=new Uint8Array(G),H=new Uint8Array(G),J=new Uint8Array(G),T={},i0=m2r.r4,b0=m2r.r4,N=m2r.r4,l0=m2r.r4,m0=m2r.r4,o0=m2r.r4,n0=m2r.r4,s0=m2r.r4,z0=m2r.e5,B0=m2r.r4,y0=m2r.r4,x0=m2r.r4,w0=m2r.r4,J0=m2r.r4,O0=m2r.r4,A0=m2r.r4,M0=m2r.r4,H0=m2r.r4,E0=m2r.r4,U0=m2r.r4,D0=m2r.r4,L0=m2r.r4,S0=m2r.r4,g1=m2r.r4,W0=u.getParameter(u.MAX_TEXTURE_IMAGE_UNITS),l1=undefined,d1={},i1=new THREE.Vector4(),n1=m2r.r4,s1=m2r.r4,o1=new THREE.Vector4(),t1=new THREE.Vector4();this.init=function(){this.clearColor(0,0,0,1);this.clearDepth(1);this.clearStencil(0);this.enable(u.DEPTH_TEST);u.depthFunc(u.LEQUAL);u.frontFace(u.CCW);u.cullFace(u.BACK);this.enable(u.CULL_FACE);this.enable(u.BLEND);u.blendEquation(u.FUNC_ADD);u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA);};this.initAttributes=function(){for(var d=0,e=L.length;d<e;d++){L[d]=0;}};this.enableAttribute=function(d){L[d]=1;if(H[d]===0){u.enableVertexAttribArray(d);H[d]=1;}if(J[d]!==0){var e=v.get(m2r.e4);e.vertexAttribDivisorANGLE(d,0);J[d]=0;}};this.enableAttributeAndDivisor=function(d,e,f){L[d]=1;if(H[d]===0){u.enableVertexAttribArray(d);H[d]=1;}if(J[d]!==e){f.vertexAttribDivisorANGLE(d,e);J[d]=e;}};this.disableUnusedAttributes=function(){for(var d=0,e=H.length;d<e;d++){if(H[d]!==L[d]){u.disableVertexAttribArray(d);H[d]=0;}}};this.enable=function(d){if(T[d]!==m2r.t4){u.enable(d);T[d]=m2r.t4;}};this.disable=function(d){if(T[d]!==m2r.e5){u.disable(d);T[d]=m2r.e5;}};this.getCompressedTextureFormats=function(){if(i0===m2r.r4){i0=[];if(v.get(m2r.R4)||v.get(m2r.q4)||v.get(m2r.d3)){var d=u.getParameter(u.COMPRESSED_TEXTURE_FORMATS);for(var e=0;e<d.length;e++){i0.push(d[e]);}}}return i0;};this.setBlending=function(d,e,f,i,j,k,m,n){if(d===THREE.NoBlending){this.disable(u.BLEND);}else{this.enable(u.BLEND);}if(d!==b0||n!==z0){if(d===THREE.AdditiveBlending){if(n){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ONE,u.ONE,u.ONE,u.ONE);}else{u.blendEquation(u.FUNC_ADD);u.blendFunc(u.SRC_ALPHA,u.ONE);}}else if(d===THREE.SubtractiveBlending){if(n){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ZERO,u.ZERO,u.ONE_MINUS_SRC_COLOR,u.ONE_MINUS_SRC_ALPHA);}else{u.blendEquation(u.FUNC_ADD);u.blendFunc(u.ZERO,u.ONE_MINUS_SRC_COLOR);}}else if(d===THREE.MultiplyBlending){if(n){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ZERO,u.ZERO,u.SRC_COLOR,u.SRC_ALPHA);}else{u.blendEquation(u.FUNC_ADD);u.blendFunc(u.ZERO,u.SRC_COLOR);}}else{if(n){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ONE,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA);}else{u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA);}}b0=d;z0=n;}if(d===THREE.CustomBlending){j=j||e;k=k||f;m=m||i;if(e!==N||j!==o0){u.blendEquationSeparate(A(e),A(j));N=e;o0=j;}if(f!==l0||i!==m0||k!==n0||m!==s0){u.blendFuncSeparate(A(f),A(i),A(k),A(m));l0=f;m0=i;n0=k;s0=m;}}else{N=m2r.r4;l0=m2r.r4;m0=m2r.r4;o0=m2r.r4;n0=m2r.r4;s0=m2r.r4;}};this.setDepthFunc=function(d){if(B0!==d){if(d){switch(d){case THREE.NeverDepth:u.depthFunc(u.NEVER);break;case THREE.AlwaysDepth:u.depthFunc(u.ALWAYS);break;case THREE.LessDepth:u.depthFunc(u.LESS);break;case THREE.LessEqualDepth:u.depthFunc(u.LEQUAL);break;case THREE.EqualDepth:u.depthFunc(u.EQUAL);break;case THREE.GreaterEqualDepth:u.depthFunc(u.GEQUAL);break;case THREE.GreaterDepth:u.depthFunc(u.GREATER);break;case THREE.NotEqualDepth:u.depthFunc(u.NOTEQUAL);break;default:u.depthFunc(u.LEQUAL);}}else{u.depthFunc(u.LEQUAL);}B0=d;}};this.setDepthTest=function(d){if(d){this.enable(u.DEPTH_TEST);}else{this.disable(u.DEPTH_TEST);}};this.setDepthWrite=function(d){if(y0!==d){u.depthMask(d);y0=d;}};this.setColorWrite=function(d){if(x0!==d){u.colorMask(d,d,d,d);x0=d;}};this.setStencilFunc=function(d,e,f){if(J0!==d||O0!==e||A0!==f){u.stencilFunc(d,e,f);J0=d;O0=e;A0=f;}};this.setStencilOp=function(d,e,f){if(M0!==d||H0!==e||E0!==f){u.stencilOp(d,e,f);M0=d;H0=e;E0=f;}};this.setStencilTest=function(d){if(d){this.enable(u.STENCIL_TEST);}else{this.disable(u.STENCIL_TEST);}};this.setStencilWrite=function(d){if(w0!==d){u.stencilMask(d);w0=d;}};this.setFlipSided=function(d){if(U0!==d){if(d){u.frontFace(u.CW);}else{u.frontFace(u.CCW);}U0=d;}};this.setLineWidth=function(d){if(d!==D0){u.lineWidth(d);D0=d;}};this.setPolygonOffset=function(d,e,f){if(d){this.enable(u.POLYGON_OFFSET_FILL);}else{this.disable(u.POLYGON_OFFSET_FILL);}if(d&&(L0!==e||S0!==f)){u.polygonOffset(e,f);L0=e;S0=f;}};this.getScissorTest=function(){return g1;};this.setScissorTest=function(d){g1=d;if(d){this.enable(u.SCISSOR_TEST);}else{this.disable(u.SCISSOR_TEST);}};this.activeTexture=function(d){if(d===undefined)d=u.TEXTURE0+W0-1;if(l1!==d){u.activeTexture(d);l1=d;}};this.bindTexture=function(d,e){if(l1===undefined){B.activeTexture();}var f=d1[l1];if(f===undefined){f={type:undefined,texture:undefined};d1[l1]=f;}if(f.type!==d||f.texture!==e){u.bindTexture(d,e);f.type=d;f.texture=e;}};this.compressedTexImage2D=function(){try{u.compressedTexImage2D.apply(u,arguments);}catch(d){console.error(d);}};this.texImage2D=function(){try{u.texImage2D.apply(u,arguments);}catch(d){console.error(d);}};this.clearColor=function(d,e,f,i){F.set(d,e,f,i);if(i1.equals(F)===m2r.e5){u.clearColor(d,e,f,i);i1.copy(F);}};this.clearDepth=function(d){if(n1!==d){u.clearDepth(d);n1=d;}};this.clearStencil=function(d){if(s1!==d){u.clearStencil(d);s1=d;}};this.scissor=function(d){if(o1.equals(d)===m2r.e5){u.scissor(d.x,d.y,d.z,d.w);o1.copy(d);}};this.viewport=function(d){if(t1.equals(d)===m2r.e5){u.viewport(d.x,d.y,d.z,d.w);t1.copy(d);}};this.reset=function(){for(var d=0;d<H.length;d++){if(H[d]===1){u.disableVertexAttribArray(d);H[d]=0;}}T={};i0=m2r.r4;l1=undefined;d1={};b0=m2r.r4;x0=m2r.r4;y0=m2r.r4;w0=m2r.r4;U0=m2r.r4;};};THREE.WebGLUniforms=(function(){var F=function(){this.seq=[];this.map={};},G=[],L=[],H=function(){G.length=0;L.length=0;},J=function(d,e,f){var i=d[0];if(i<=0||i>0)return d;var j=e*f,k=G[j];if(k===undefined){k=new Float32Array(j);G[j]=k;}if(e!==0){i.toArray(k,0);for(var m=1,n=0;m!==e;++m){n+=f;d[m].toArray(k,n);}}return k;},T=function(d,e){var f=L[e];if(f===undefined){f=new Int32Array(e);L[e]=f;}for(var i=0;i!==e;++i)f[i]=d.allocTextureUnit();return f;},i0=function(d,e){d.uniform1f(this.addr,e);},b0=function(d,e){d.uniform1i(this.addr,e);},N=function(d,e){if(e.x===undefined)d.uniform2fv(this.addr,e);else d.uniform2f(this.addr,e.x,e.y);},l0=function(d,e){if(e.x!==undefined)d.uniform3f(this.addr,e.x,e.y,e.z);else if(e.r!==undefined)d.uniform3f(this.addr,e.r,e.g,e.b);else d.uniform3fv(this.addr,e);},m0=function(d,e){if(e.x===undefined)d.uniform4fv(this.addr,e);else d.uniform4f(this.addr,e.x,e.y,e.z,e.w);},o0=function(d,e){d.uniformMatrix2fv(this.addr,m2r.e5,e.elements||e);},n0=function(d,e){d.uniformMatrix3fv(this.addr,m2r.e5,e.elements||e);},s0=function(d,e){d.uniformMatrix4fv(this.addr,m2r.e5,e.elements||e);},z0=function(d,e,f){var i=f.allocTextureUnit();d.uniform1i(this.addr,i);if(e)f.setTexture2D(e,i);},B0=function(d,e,f){var i=f.allocTextureUnit();d.uniform1i(this.addr,i);if(e)f.setTextureCube(e,i);},y0=function(d,e){d.uniform2iv(this.addr,e);},x0=function(d,e){d.uniform3iv(this.addr,e);},w0=function(d,e){d.uniform4iv(this.addr,e);},J0=function(d){switch(d){case 0x1406:return i0;case 0x8b50:return N;case 0x8b51:return l0;case 0x8b52:return m0;case 0x8b5a:return o0;case 0x8b5b:return n0;case 0x8b5c:return s0;case 0x8b5e:return z0;case 0x8b60:return B0;case 0x1404:case 0x8b56:return b0;case 0x8b53:case 0x8b57:return y0;case 0x8b54:case 0x8b58:return x0;case 0x8b55:case 0x8b59:return w0;}},O0=function(d,e){d.uniform1fv(this.addr,e);},A0=function(d,e){d.uniform1iv(this.addr,e);},M0=function(d,e){d.uniform2fv(this.addr,J(e,this.size,2));},H0=function(d,e){d.uniform3fv(this.addr,J(e,this.size,3));},E0=function(d,e){d.uniform4fv(this.addr,J(e,this.size,4));},U0=function(d,e){d.uniformMatrix2fv(this.addr,m2r.e5,J(e,this.size,4));},D0=function(d,e){d.uniformMatrix3fv(this.addr,m2r.e5,J(e,this.size,9));},L0=function(d,e){d.uniformMatrix4fv(this.addr,m2r.e5,J(e,this.size,16));},S0=function(d,e,f){var i=e.length,j=T(f,i);d.uniform1iv(this.addr,j);for(var k=0;k!==i;++k){var m=e[k];if(m)f.setTexture2D(m,j[k]);}},g1=function(d,e,f){var i=e.length,j=T(f,i);d.uniform1iv(this.addr,j);for(var k=0;k!==i;++k){var m=e[k];if(m)f.setTextureCube(m,j[k]);}},W0=function(d){switch(d){case 0x1406:return O0;case 0x8b50:return M0;case 0x8b51:return H0;case 0x8b52:return E0;case 0x8b5a:return U0;case 0x8b5b:return D0;case 0x8b5c:return L0;case 0x8b5e:return S0;case 0x8b60:return g1;case 0x1404:case 0x8b56:return A0;case 0x8b53:case 0x8b57:return y0;case 0x8b54:case 0x8b58:return x0;case 0x8b55:case 0x8b59:return w0;}},l1=function l1(d,e,f){this.id=d;this.addr=f;this.setValue=J0(e.type);},d1=function(d,e,f){this.id=d;this.addr=f;this.size=e.size;this.setValue=W0(e.type);},i1=function(d){this.id=d;F.call(this);};i1.prototype.setValue=function(d,e){var f=this.seq;for(var i=0,j=f.length;i!==j;++i){var k=f[i];k.setValue(d,e[k.id]);}};var n1=/([\w\d_]+)(\])?(\[|\.)?/g,s1=function(d,e){d.seq.push(e);d.map[e.id]=e;},o1=function(d,e,f){var i=d.name,j=i.length;n1.lastIndex=0;for(;;){var k=n1.exec(i),m=n1.lastIndex,n=k[1],u=k[2]===']',v=k[3];if(u)n=n|0;if(v===undefined||v==='['&&m+2===j){s1(f,v===undefined?new l1(n,d,e):new d1(n,d,e));break;}else{var A=f.map,B=A[n];if(B===undefined){B=new i1(n);s1(f,B);}f=B;}}},t1=function t1(d,e,f){F.call(this);this.renderer=f;var i=d.getProgramParameter(e,d.ACTIVE_UNIFORMS);for(var j=0;j!==i;++j){var k=d.getActiveUniform(e,j),m=k.name,n=d.getUniformLocation(e,m);o1(k,n,this);}};t1.prototype.setValue=function(d,e,f){var i=this.map[e];if(i!==undefined)i.setValue(d,f,this.renderer);};t1.prototype.set=function(d,e,f){var i=this.map[f];if(i!==undefined)i.setValue(d,e[f],this.renderer);};t1.prototype.setOptional=function(d,e,f){var i=e[f];if(i!==undefined)this.setValue(d,f,i);};t1.upload=function(d,e,f,i){for(var j=0,k=e.length;j!==k;++j){var m=e[j],n=f[m.id];if(n.needsUpdate!==m2r.e5){m.setValue(d,n.value,i);}}};t1.seqWithValue=function(d,e){var f=[];for(var i=0,j=d.length;i!==j;++i){var k=d[i];if(k.id in e)f.push(k);}return f;};t1.splitDynamic=function(d,e){var f=m2r.r4,i=d.length,j=0;for(var k=0;k!==i;++k){var m=d[k],n=e[m.id];if(n&&n.dynamic===m2r.t4){if(f===m2r.r4)f=[];f.push(m);}else{if(j<k)d[j]=m;++j;}}if(j<i)d.length=j;return f;};t1.evalDynamic=function(d,e,f,i){for(var j=0,k=d.length;j!==k;++j){var m=e[d[j].id],n=m.onUpdateCallback;if(n!==undefined)n.call(m,f,i);}};return t1;})();THREE.LensFlarePlugin=function(i0,b0){var N=i0.context,l0=i0.state,m0,o0,n0,s0,z0,B0,y0,x0;function w0(){var d="void main() {",e="varying float vVisibility;",f="varying vec2 vUV;",i="uniform lowp int renderType;",j=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),k=new Uint16Array([0,1,2,0,2,3]);m0=N.createBuffer();o0=N.createBuffer();N.bindBuffer(N.ARRAY_BUFFER,m0);N.bufferData(N.ARRAY_BUFFER,j,N.STATIC_DRAW);N.bindBuffer(N.ELEMENT_ARRAY_BUFFER,o0);N.bufferData(N.ELEMENT_ARRAY_BUFFER,k,N.STATIC_DRAW);y0=N.createTexture();x0=N.createTexture();l0.bindTexture(N.TEXTURE_2D,y0);N.texImage2D(N.TEXTURE_2D,0,N.RGB,16,16,0,N.RGB,N.UNSIGNED_BYTE,m2r.r4);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,N.CLAMP_TO_EDGE);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,N.CLAMP_TO_EDGE);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,N.NEAREST);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,N.NEAREST);l0.bindTexture(N.TEXTURE_2D,x0);N.texImage2D(N.TEXTURE_2D,0,N.RGBA,16,16,0,N.RGBA,N.UNSIGNED_BYTE,m2r.r4);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,N.CLAMP_TO_EDGE);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,N.CLAMP_TO_EDGE);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,N.NEAREST);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,N.NEAREST);n0={vertexShader:[i,"uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;",f,e,d,"vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:[i,"uniform sampler2D map;","uniform float opacity;","uniform vec3 color;",f,e,d,"if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")};s0=J0(n0);z0={vertex:N.getAttribLocation(s0,"position"),uv:N.getAttribLocation(s0,"uv")};B0={renderType:N.getUniformLocation(s0,"renderType"),map:N.getUniformLocation(s0,"map"),occlusionMap:N.getUniformLocation(s0,"occlusionMap"),opacity:N.getUniformLocation(s0,"opacity"),color:N.getUniformLocation(s0,"color"),scale:N.getUniformLocation(s0,"scale"),rotation:N.getUniformLocation(s0,"rotation"),screenPosition:N.getUniformLocation(s0,"screenPosition")};}this.render=function(d,e,f){if(b0.length===0)return ;var i=new THREE.Vector3(),j=f.w/f.z,k=f.z*m2r.K2,m=f.w*m2r.K2,n=16/f.w,u=new THREE.Vector2(n*j,n),v=new THREE.Vector3(1,1,0),A=new THREE.Vector2(1,1),B=new THREE.Box2();B.min.set(0,0);B.max.set(f.z-16,f.w-16);if(s0===undefined){w0();}N.useProgram(s0);l0.initAttributes();l0.enableAttribute(z0.vertex);l0.enableAttribute(z0.uv);l0.disableUnusedAttributes();N.uniform1i(B0.occlusionMap,0);N.uniform1i(B0.map,1);N.bindBuffer(N.ARRAY_BUFFER,m0);N.vertexAttribPointer(z0.vertex,2,N.FLOAT,m2r.e5,2*8,0);N.vertexAttribPointer(z0.uv,2,N.FLOAT,m2r.e5,2*8,8);N.bindBuffer(N.ELEMENT_ARRAY_BUFFER,o0);l0.disable(N.CULL_FACE);l0.setDepthWrite(m2r.e5);for(var F=0,G=b0.length;F<G;F++){n=16/f.w;u.set(n*j,n);var L=b0[F];i.set(L.matrixWorld.elements[12],L.matrixWorld.elements[13],L.matrixWorld.elements[14]);i.applyMatrix4(e.matrixWorldInverse);i.applyProjection(e.projectionMatrix);v.copy(i);A.x=f.x+(v.x*k)+k-8;A.y=f.y+(v.y*m)+m-8;if(B.containsPoint(A)===m2r.t4){l0.activeTexture(N.TEXTURE0);l0.bindTexture(N.TEXTURE_2D,m2r.r4);l0.activeTexture(N.TEXTURE1);l0.bindTexture(N.TEXTURE_2D,y0);N.copyTexImage2D(N.TEXTURE_2D,0,N.RGB,A.x,A.y,16,16,0);N.uniform1i(B0.renderType,0);N.uniform2f(B0.scale,u.x,u.y);N.uniform3f(B0.screenPosition,v.x,v.y,v.z);l0.disable(N.BLEND);l0.enable(N.DEPTH_TEST);N.drawElements(N.TRIANGLES,6,N.UNSIGNED_SHORT,0);l0.activeTexture(N.TEXTURE0);l0.bindTexture(N.TEXTURE_2D,x0);N.copyTexImage2D(N.TEXTURE_2D,0,N.RGBA,A.x,A.y,16,16,0);N.uniform1i(B0.renderType,1);l0.disable(N.DEPTH_TEST);l0.activeTexture(N.TEXTURE1);l0.bindTexture(N.TEXTURE_2D,y0);N.drawElements(N.TRIANGLES,6,N.UNSIGNED_SHORT,0);L.positionScreen.copy(v);if(L.customUpdateCallback){L.customUpdateCallback(L);}else{L.updateLensFlares();}N.uniform1i(B0.renderType,2);l0.enable(N.BLEND);for(var H=0,J=L.lensFlares.length;H<J;H++){var T=L.lensFlares[H];if(T.opacity>0.001&&T.scale>0.001){v.x=T.x;v.y=T.y;v.z=T.z;n=T.size*T.scale/f.w;u.x=n*j;u.y=n;N.uniform3f(B0.screenPosition,v.x,v.y,v.z);N.uniform2f(B0.scale,u.x,u.y);N.uniform1f(B0.rotation,T.rotation);N.uniform1f(B0.opacity,T.opacity);N.uniform3f(B0.color,T.color.r,T.color.g,T.color.b);l0.setBlending(T.blending,T.blendEquation,T.blendSrc,T.blendDst);i0.setTexture2D(T.texture,1);N.drawElements(N.TRIANGLES,6,N.UNSIGNED_SHORT,0);}}}}l0.enable(N.CULL_FACE);l0.enable(N.DEPTH_TEST);l0.setDepthWrite(m2r.t4);i0.resetGLState();};function J0(d){var e=N.createProgram(),f=N.createShader(N.FRAGMENT_SHADER),i=N.createShader(N.VERTEX_SHADER),j="precision "+i0.getPrecision()+" float;\n";N.shaderSource(f,j+d.fragmentShader);N.shaderSource(i,j+d.vertexShader);N.compileShader(f);N.compileShader(i);N.attachShader(e,f);N.attachShader(e,i);N.linkProgram(e);return e;}};THREE.SpritePlugin=function(B,F){var G=B.context,L=B.state,H,J,T,i0,b0,N,l0=new THREE.Vector3(),m0=new THREE.Quaternion(),o0=new THREE.Vector3();function n0(){var d=new Float32Array([-m2r.K2,-m2r.K2,0,0,m2r.K2,-m2r.K2,1,0,m2r.K2,m2r.K2,1,1,-m2r.K2,m2r.K2,0,1]),e=new Uint16Array([0,1,2,0,2,3]);H=G.createBuffer();J=G.createBuffer();G.bindBuffer(G.ARRAY_BUFFER,H);G.bufferData(G.ARRAY_BUFFER,d,G.STATIC_DRAW);G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,J);G.bufferData(G.ELEMENT_ARRAY_BUFFER,e,G.STATIC_DRAW);T=s0();i0={position:G.getAttribLocation(T,m2r.H2),uv:G.getAttribLocation(T,m2r.M4)};b0={uvOffset:G.getUniformLocation(T,'uvOffset'),uvScale:G.getUniformLocation(T,'uvScale'),rotation:G.getUniformLocation(T,'rotation'),scale:G.getUniformLocation(T,'scale'),color:G.getUniformLocation(T,m2r.q3),map:G.getUniformLocation(T,'map'),opacity:G.getUniformLocation(T,'opacity'),modelViewMatrix:G.getUniformLocation(T,m2r.I3),projectionMatrix:G.getUniformLocation(T,m2r.x4),fogType:G.getUniformLocation(T,'fogType'),fogDensity:G.getUniformLocation(T,'fogDensity'),fogNear:G.getUniformLocation(T,'fogNear'),fogFar:G.getUniformLocation(T,'fogFar'),fogColor:G.getUniformLocation(T,'fogColor'),alphaTest:G.getUniformLocation(T,'alphaTest')};var f=document.createElement(m2r.h1);f.width=8;f.height=8;var i=f.getContext('2d');i.fillStyle='white';i.fillRect(0,0,8,8);N=new THREE.Texture(f);N.needsUpdate=m2r.t4;}this.render=function(d,e){if(F.length===0)return ;if(T===undefined){n0();}G.useProgram(T);L.initAttributes();L.enableAttribute(i0.position);L.enableAttribute(i0.uv);L.disableUnusedAttributes();L.disable(G.CULL_FACE);L.enable(G.BLEND);G.bindBuffer(G.ARRAY_BUFFER,H);G.vertexAttribPointer(i0.position,2,G.FLOAT,m2r.e5,2*8,0);G.vertexAttribPointer(i0.uv,2,G.FLOAT,m2r.e5,2*8,8);G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,J);G.uniformMatrix4fv(b0.projectionMatrix,m2r.e5,e.projectionMatrix.elements);L.activeTexture(G.TEXTURE0);G.uniform1i(b0.map,0);var f=0,i=0,j=d.fog;if(j){G.uniform3f(b0.fogColor,j.color.r,j.color.g,j.color.b);if(j instanceof THREE.Fog){G.uniform1f(b0.fogNear,j.near);G.uniform1f(b0.fogFar,j.far);G.uniform1i(b0.fogType,1);f=1;i=1;}else if(j instanceof THREE.FogExp2){G.uniform1f(b0.fogDensity,j.density);G.uniform1i(b0.fogType,2);f=2;i=2;}}else{G.uniform1i(b0.fogType,0);f=0;i=0;}for(var k=0,m=F.length;k<m;k++){var n=F[k];n.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,n.matrixWorld);n.z=-n.modelViewMatrix.elements[14];}F.sort(z0);var u=[];for(var k=0,m=F.length;k<m;k++){var n=F[k],v=n.material;G.uniform1f(b0.alphaTest,v.alphaTest);G.uniformMatrix4fv(b0.modelViewMatrix,m2r.e5,n.modelViewMatrix.elements);n.matrixWorld.decompose(l0,m0,o0);u[0]=o0.x;u[1]=o0.y;var A=0;if(d.fog&&v.fog){A=i;}if(f!==A){G.uniform1i(b0.fogType,A);f=A;}if(v.map!==m2r.r4){G.uniform2f(b0.uvOffset,v.map.offset.x,v.map.offset.y);G.uniform2f(b0.uvScale,v.map.repeat.x,v.map.repeat.y);}else{G.uniform2f(b0.uvOffset,0,0);G.uniform2f(b0.uvScale,1,1);}G.uniform1f(b0.opacity,v.opacity);G.uniform3f(b0.color,v.color.r,v.color.g,v.color.b);G.uniform1f(b0.rotation,v.rotation);G.uniform2fv(b0.scale,u);L.setBlending(v.blending,v.blendEquation,v.blendSrc,v.blendDst);L.setDepthTest(v.depthTest);L.setDepthWrite(v.depthWrite);L.setPolygonOffset(v.polygonOffset,v.polygonOffsetFactor,v.polygonOffsetUnits);if(v.map){B.setTexture2D(v.map,0);}else{B.setTexture2D(N,0);}G.drawElements(G.TRIANGLES,6,G.UNSIGNED_SHORT,0);}L.enable(G.CULL_FACE);B.resetGLState();};function s0(){var d='void main() {',e='varying vec2 vUV;',f=G.createProgram(),i=G.createShader(G.VERTEX_SHADER),j=G.createShader(G.FRAGMENT_SHADER);G.shaderSource(i,[m2r.Y4+B.getPrecision()+m2r.C1,m2r.C3,m2r.u3,'uniform float rotation;','uniform vec2 scale;','uniform vec2 uvOffset;','uniform vec2 uvScale;','attribute vec2 position;',m2r.T2,e,d,'vUV = uvOffset + uv * uvScale;','vec2 alignedPosition = position * scale;','vec2 rotatedPosition;','rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;','rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;','vec4 finalPosition;','finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );','finalPosition.xy += rotatedPosition;','finalPosition = projectionMatrix * finalPosition;','gl_Position = finalPosition;','}'].join(m2r.A3));G.shaderSource(j,[m2r.Y4+B.getPrecision()+m2r.C1,'uniform vec3 color;','uniform sampler2D map;','uniform float opacity;','uniform int fogType;','uniform vec3 fogColor;','uniform float fogDensity;','uniform float fogNear;','uniform float fogFar;','uniform float alphaTest;',e,d,'vec4 texture = texture2D( map, vUV );','if ( texture.a < alphaTest ) discard;','gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );','if ( fogType > 0 ) {','float depth = gl_FragCoord.z / gl_FragCoord.w;','float fogFactor = 0.0;','if ( fogType == 1 ) {','fogFactor = smoothstep( fogNear, fogFar, depth );','} else {','const float LOG2 = 1.442695;','fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );','fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );','}','gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );','}','}'].join(m2r.A3));G.compileShader(i);G.compileShader(j);G.attachShader(f,i);G.attachShader(f,j);G.linkProgram(f);return f;}function z0(d,e){if(d.renderOrder!==e.renderOrder){return d.renderOrder-e.renderOrder;}else if(d.z!==e.z){return e.z-d.z;}else{return e.id-d.id;}}};Object.defineProperties(THREE.Box2.prototype,{empty:{value:function(){console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().');return this.isEmpty();}},isIntersectionBox:{value:function(d){console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().');return this.intersectsBox(d);}}});Object.defineProperties(THREE.Box3.prototype,{empty:{value:function(){console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().');return this.isEmpty();}},isIntersectionBox:{value:function(d){console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().');return this.intersectsBox(d);}},isIntersectionSphere:{value:function(d){console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().');return this.intersectsSphere(d);}}});Object.defineProperties(THREE.Matrix3.prototype,{multiplyVector3:{value:function(d){console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');return d.applyMatrix3(this);}},multiplyVector3Array:{value:function(d){console.warn('THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.');return this.applyToVector3Array(d);}}});Object.defineProperties(THREE.Matrix4.prototype,{extractPosition:{value:function(d){console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');return this.copyPosition(d);}},setRotationFromQuaternion:{value:function(d){console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');return this.makeRotationFromQuaternion(d);}},multiplyVector3:{value:function(d){console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.');return d.applyProjection(this);}},multiplyVector4:{value:function(d){console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');return d.applyMatrix4(this);}},multiplyVector3Array:{value:function(d){console.warn('THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.');return this.applyToVector3Array(d);}},rotateAxis:{value:function(d){console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');d.transformDirection(this);}},crossVector:{value:function(d){console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');return d.applyMatrix4(this);}},translate:{value:function(d){console.error('THREE.Matrix4: .translate() has been removed.');}},rotateX:{value:function(d){console.error('THREE.Matrix4: .rotateX() has been removed.');}},rotateY:{value:function(d){console.error('THREE.Matrix4: .rotateY() has been removed.');}},rotateZ:{value:function(d){console.error('THREE.Matrix4: .rotateZ() has been removed.');}},rotateByAxis:{value:function(d,e){console.error('THREE.Matrix4: .rotateByAxis() has been removed.');}}});Object.defineProperties(THREE.Plane.prototype,{isIntersectionLine:{value:function(d){console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().');return this.intersectsLine(d);}}});Object.defineProperties(THREE.Quaternion.prototype,{multiplyVector3:{value:function(d){console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');return d.applyQuaternion(this);}}});Object.defineProperties(THREE.Ray.prototype,{isIntersectionBox:{value:function(d){console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().');return this.intersectsBox(d);}},isIntersectionPlane:{value:function(d){console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().');return this.intersectsPlane(d);}},isIntersectionSphere:{value:function(d){console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().');return this.intersectsSphere(d);}}});Object.defineProperties(THREE.Vector3.prototype,{setEulerFromRotationMatrix:{value:function(){console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');}},setEulerFromQuaternion:{value:function(){console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');}},getPositionFromMatrix:{value:function(d){console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');return this.setFromMatrixPosition(d);}},getScaleFromMatrix:{value:function(d){console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');return this.setFromMatrixScale(d);}},getColumnFromMatrix:{value:function(d,e){console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');return this.setFromMatrixColumn(d,e);}}});THREE.Face4=function(d,e,f,i,j,k,m){console.warn('THREE.Face4 has been removed. A THREE.Face3 will be created instead.');return new THREE.Face3(d,e,f,j,k,m);};THREE.Vertex=function(d,e,f){console.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.');return new THREE.Vector3(d,e,f);};Object.defineProperties(THREE.Object3D.prototype,{eulerOrder:{get:function(){console.warn(m2r.J2);return this.rotation.order;},set:function(d){console.warn(m2r.J2);this.rotation.order=d;}},getChildByName:{value:function(d){console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');return this.getObjectByName(d);}},renderDepth:{set:function(d){console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.');}},translate:{value:function(d,e){console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');return this.translateOnAxis(e,d);}},useQuaternion:{get:function(){console.warn(m2r.Y2);},set:function(d){console.warn(m2r.Y2);}}});Object.defineProperties(THREE,{PointCloud:{value:function(d,e){console.warn('THREE.PointCloud has been renamed to THREE.Points.');return new THREE.Points(d,e);}},ParticleSystem:{value:function(d,e){console.warn('THREE.ParticleSystem has been renamed to THREE.Points.');return new THREE.Points(d,e);}}});Object.defineProperties(THREE.Light.prototype,{onlyShadow:{set:function(d){console.warn('THREE.Light: .onlyShadow has been removed.');}},shadowCameraFov:{set:function(d){console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.');this.shadow.camera.fov=d;}},shadowCameraLeft:{set:function(d){console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.');this.shadow.camera.left=d;}},shadowCameraRight:{set:function(d){console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.');this.shadow.camera.right=d;}},shadowCameraTop:{set:function(d){console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.');this.shadow.camera.top=d;}},shadowCameraBottom:{set:function(d){console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.');this.shadow.camera.bottom=d;}},shadowCameraNear:{set:function(d){console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.');this.shadow.camera.near=d;}},shadowCameraFar:{set:function(d){console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.');this.shadow.camera.far=d;}},shadowCameraVisible:{set:function(d){console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.');}},shadowBias:{set:function(d){console.warn('THREE.Light: .shadowBias is now .shadow.bias.');this.shadow.bias=d;}},shadowDarkness:{set:function(d){console.warn('THREE.Light: .shadowDarkness has been removed.');}},shadowMapWidth:{set:function(d){console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.');this.shadow.mapSize.width=d;}},shadowMapHeight:{set:function(d){console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.');this.shadow.mapSize.height=d;}}});Object.defineProperties(THREE.BufferAttribute.prototype,{length:{get:function(){console.warn(m2r.c5);return this.array.length;}}});Object.defineProperties(THREE.BufferGeometry.prototype,{drawcalls:{get:function(){console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.');return this.groups;}},offsets:{get:function(){console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.');return this.groups;}},addIndex:{value:function(d){console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().');this.setIndex(d);}},addDrawCall:{value:function(d,e,f){if(f!==undefined){console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.');}console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().');this.addGroup(d,e);}},clearDrawCalls:{value:function(){console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().');this.clearGroups();}},computeTangents:{value:function(){console.warn('THREE.BufferGeometry: .computeTangents() has been removed.');}},computeOffsets:{value:function(){console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.');}}});Object.defineProperties(THREE.Material.prototype,{wrapAround:{get:function(){console.warn(m2r.X2+this.type+m2r.u2);},set:function(d){console.warn(m2r.X2+this.type+m2r.u2);}},wrapRGB:{get:function(){console.warn(m2r.X2+this.type+': .wrapRGB has been removed.');return new THREE.Color();}}});Object.defineProperties(THREE,{PointCloudMaterial:{value:function(d){console.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.');return new THREE.PointsMaterial(d);}},ParticleBasicMaterial:{value:function(d){console.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.');return new THREE.PointsMaterial(d);}},ParticleSystemMaterial:{value:function(d){console.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.');return new THREE.PointsMaterial(d);}}});Object.defineProperties(THREE.MeshPhongMaterial.prototype,{metal:{get:function(){console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.');return m2r.e5;},set:function(d){console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead');}}});Object.defineProperties(THREE.ShaderMaterial.prototype,{derivatives:{get:function(){console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');return this.extensions.derivatives;},set:function(d){console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');this.extensions.derivatives=d;}}});Object.defineProperties(THREE.WebGLRenderer.prototype,{supportsFloatTextures:{value:function(){console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \'OES_texture_float\' ).');return this.extensions.get(m2r.B1);}},supportsHalfFloatTextures:{value:function(){console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \'OES_texture_half_float\' ).');return this.extensions.get(m2r.j1);}},supportsStandardDerivatives:{value:function(){console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \'OES_standard_derivatives\' ).');return this.extensions.get(m2r.J4);}},supportsCompressedTextureS3TC:{value:function(){console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \'WEBGL_compressed_texture_s3tc\' ).');return this.extensions.get(m2r.q4);}},supportsCompressedTexturePVRTC:{value:function(){console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \'WEBGL_compressed_texture_pvrtc\' ).');return this.extensions.get(m2r.R4);}},supportsBlendMinMax:{value:function(){console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \'EXT_blend_minmax\' ).');return this.extensions.get(m2r.q5);}},supportsVertexTextures:{value:function(){return this.capabilities.vertexTextures;}},supportsInstancedArrays:{value:function(){console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \'ANGLE_instanced_arrays\' ).');return this.extensions.get(m2r.e4);}},enableScissorTest:{value:function(d){console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().');this.setScissorTest(d);}},initMaterial:{value:function(){console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');}},addPrePlugin:{value:function(){console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');}},addPostPlugin:{value:function(){console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');}},updateShadowMap:{value:function(){console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');}},shadowMapEnabled:{get:function(){return this.shadowMap.enabled;},set:function(d){console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.');this.shadowMap.enabled=d;}},shadowMapType:{get:function(){return this.shadowMap.type;},set:function(d){console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.');this.shadowMap.type=d;}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace;},set:function(d){console.warn('THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.');this.shadowMap.cullFace=d;}}});Object.defineProperties(THREE.WebGLRenderTarget.prototype,{wrapS:{get:function(){console.warn(m2r.X1);return this.texture.wrapS;},set:function(d){console.warn(m2r.X1);this.texture.wrapS=d;}},wrapT:{get:function(){console.warn(m2r.D2);return this.texture.wrapT;},set:function(d){console.warn(m2r.D2);this.texture.wrapT=d;}},magFilter:{get:function(){console.warn(m2r.O3);return this.texture.magFilter;},set:function(d){console.warn(m2r.O3);this.texture.magFilter=d;}},minFilter:{get:function(){console.warn(m2r.j3);return this.texture.minFilter;},set:function(d){console.warn(m2r.j3);this.texture.minFilter=d;}},anisotropy:{get:function(){console.warn(m2r.U1);return this.texture.anisotropy;},set:function(d){console.warn(m2r.U1);this.texture.anisotropy=d;}},offset:{get:function(){console.warn(m2r.O4);return this.texture.offset;},set:function(d){console.warn(m2r.O4);this.texture.offset=d;}},repeat:{get:function(){console.warn(m2r.j5);return this.texture.repeat;},set:function(d){console.warn(m2r.j5);this.texture.repeat=d;}},format:{get:function(){console.warn(m2r.F3);return this.texture.format;},set:function(d){console.warn(m2r.F3);this.texture.format=d;}},type:{get:function(){console.warn(m2r.H3);return this.texture.type;},set:function(d){console.warn(m2r.H3);this.texture.type=d;}},generateMipmaps:{get:function(){console.warn(m2r.V2);return this.texture.generateMipmaps;},set:function(d){console.warn(m2r.V2);this.texture.generateMipmaps=d;}}});Object.defineProperties(THREE.Audio.prototype,{load:{value:function(e){console.warn('THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.');var f=this,i=new THREE.AudioLoader();i.load(e,function(d){f.setBuffer(d);});return this;}}});THREE.GeometryUtils={merge:function(d,e,f){console.warn('THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.');var i;if(e instanceof THREE.Mesh){e.matrixAutoUpdate&&e.updateMatrix();i=e.matrix;e=e.geometry;}d.merge(e,i,f);},center:function(d){console.warn('THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.');return d.center();}};THREE.ImageUtils={crossOrigin:undefined,loadTexture:function(d,e,f,i){console.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');var j=new THREE.TextureLoader();j.setCrossOrigin(this.crossOrigin);var k=j.load(d,f,undefined,i);if(e)k.mapping=e;return k;},loadTextureCube:function(d,e,f,i){console.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');var j=new THREE.CubeTextureLoader();j.setCrossOrigin(this.crossOrigin);var k=j.load(d,f,undefined,i);if(e)k.mapping=e;return k;},loadCompressedTexture:function(){console.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.');},loadCompressedTextureCube:function(){console.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.');}};THREE.Projector=function(){console.error('THREE.Projector has been moved to /examples/js/renderers/Projector.js.');this.projectVector=function(d,e){console.warn('THREE.Projector: .projectVector() is now vector.project().');d.project(e);};this.unprojectVector=function(d,e){console.warn('THREE.Projector: .unprojectVector() is now vector.unproject().');d.unproject(e);};this.pickingRay=function(d,e){console.error('THREE.Projector: .pickingRay() is now raycaster.setFromCamera().');};};THREE.CanvasRenderer=function(){console.error('THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js');this.domElement=document.createElement(m2r.h1);this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){};};THREE.MeshFaceMaterial=THREE.MultiMaterial;Object.defineProperties(THREE.LOD.prototype,{objects:{get:function(){console.warn('THREE.LOD: .objects has been renamed to .levels.');return this.levels;}}});THREE.CurveUtils={tangentQuadraticBezier:function(d,e,f,i){return 2*(1-d)*(f-e)+2*d*(i-f);},tangentCubicBezier:function(d,e,f,i,j){return -3*e*(1-d)*(1-d)+3*f*(1-d)*(1-d)-6*d*f*(1-d)+6*d*i*(1-d)-3*d*d*i+3*d*d*j;},tangentSpline:function(d,e,f,i,j){var k=6*d*d-6*d,m=3*d*d-4*d+1,n=-6*d*d+6*d,u=3*d*d-2*d;return k+m+n+u;},interpolate:function(d,e,f,i,j){var k=(f-d)*m2r.K2,m=(i-e)*m2r.K2,n=j*j,u=j*n;return (2*e-2*f+k+m)*u+(-3*e+3*f-2*k-m)*n+k*j+e;}};THREE.SceneUtils={createMultiMaterialObject:function(d,e){var f=new THREE.Group();for(var i=0,j=e.length;i<j;i++){f.add(new THREE.Mesh(d,e[i]));}return f;},detach:function(d,e,f){d.applyMatrix(e.matrixWorld);e.remove(d);f.add(d);},attach:function(d,e,f){var i=new THREE.Matrix4();i.getInverse(f.matrixWorld);d.applyMatrix(i);e.remove(d);f.add(d);}};THREE.ShapeUtils={area:function(d){var e=d.length,f=m2r.L2;for(var i=e-1,j=0;j<e;i=j++){f+=d[i].x*d[j].y-d[j].x*d[i].y;}return f*m2r.K2;},triangulate:(function(){function w0(d,e,f,i,j,k){var m,n,u,v,A,B,F,G,L;n=d[k[e]].x;u=d[k[e]].y;v=d[k[f]].x;A=d[k[f]].y;B=d[k[i]].x;F=d[k[i]].y;if(Number.EPSILON>(((v-n)*(F-u))-((A-u)*(B-n))))return m2r.e5;var H,J,T,i0,b0,N,l0,m0,o0,n0,s0,z0,B0,y0,x0;H=B-v;J=F-A;T=n-B;i0=u-F;b0=v-n;N=A-u;for(m=0;m<j;m++){G=d[k[m]].x;L=d[k[m]].y;if(((G===n)&&(L===u))||((G===v)&&(L===A))||((G===B)&&(L===F)))continue;l0=G-n;m0=L-u;o0=G-v;n0=L-A;s0=G-B;z0=L-F;x0=H*n0-J*o0;B0=b0*m0-N*l0;y0=T*z0-i0*s0;if((x0>=-Number.EPSILON)&&(y0>=-Number.EPSILON)&&(B0>=-Number.EPSILON))return m2r.e5;}return m2r.t4;}return function(d,e){var f=d.length;if(f<3)return m2r.r4;var i=[],j=[],k=[],m,n,u;if(THREE.ShapeUtils.area(d)>m2r.L2){for(n=0;n<f;n++)j[n]=n;}else{for(n=0;n<f;n++)j[n]=(f-1)-n;}var v=f,A=2*v;for(n=v-1;v>2;){if((A--)<=0){console.warn('THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()');if(e)return k;return i;}m=n;if(v<=m)m=0;n=m+1;if(v<=n)n=0;u=n+1;if(v<=u)u=0;if(w0(d,m,n,u,v,j)){var B,F,G,L,H;B=j[m];F=j[n];G=j[u];i.push([d[B],d[F],d[G]]);k.push([j[m],j[n],j[u]]);for(L=n,H=n+1;H<v;L++,H++){j[L]=j[H];}v--;A=2*v;}}if(e)return k;return i;};})(),triangulateShape:function(A0,M0){function H0(d,e,f){if(d.x!==e.x){if(d.x<e.x){return ((d.x<=f.x)&&(f.x<=e.x));}else{return ((e.x<=f.x)&&(f.x<=d.x));}}else{if(d.y<e.y){return ((d.y<=f.y)&&(f.y<=e.y));}else{return ((e.y<=f.y)&&(f.y<=d.y));}}}function E0(d,e,f,i,j){var k=e.x-d.x,m=e.y-d.y,n=i.x-f.x,u=i.y-f.y,v=d.x-f.x,A=d.y-f.y,B=m*n-k*u,F=m*v-k*A;if(Math.abs(B)>Number.EPSILON){var G;if(B>0){if((F<0)||(F>B))return [];G=u*v-n*A;if((G<0)||(G>B))return [];}else{if((F>0)||(F<B))return [];G=u*v-n*A;if((G>0)||(G<B))return [];}if(G===0){if((j)&&((F===0)||(F===B)))return [];return [d];}if(G===B){if((j)&&((F===0)||(F===B)))return [];return [e];}if(F===0)return [f];if(F===B)return [i];var L=G/B;return [{x:d.x+L*k,y:d.y+L*m}];}else{if((F!==0)||(u*v!==n*A))return [];var H=((k===0)&&(m===0)),J=((n===0)&&(u===0));if(H&&J){if((d.x!==f.x)||(d.y!==f.y))return [];return [d];}if(H){if(!H0(f,i,d))return [];return [d];}if(J){if(!H0(d,e,f))return [];return [f];}var T,i0,b0,N,l0,m0,o0,n0;if(k!==0){if(d.x<e.x){T=d;b0=d.x;i0=e;N=e.x;}else{T=e;b0=e.x;i0=d;N=d.x;}if(f.x<i.x){l0=f;o0=f.x;m0=i;n0=i.x;}else{l0=i;o0=i.x;m0=f;n0=f.x;}}else{if(d.y<e.y){T=d;b0=d.y;i0=e;N=e.y;}else{T=e;b0=e.y;i0=d;N=d.y;}if(f.y<i.y){l0=f;o0=f.y;m0=i;n0=i.y;}else{l0=i;o0=i.y;m0=f;n0=f.y;}}if(b0<=o0){if(N<o0)return [];if(N===o0){if(j)return [];return [l0];}if(N<=n0)return [l0,i0];return [l0,m0];}else{if(b0>n0)return [];if(b0===n0){if(j)return [];return [T];}if(N<=n0)return [T,i0];return [T,m0];}}}function U0(d,e,f,i){var j=e.x-d.x,k=e.y-d.y,m=f.x-d.x,n=f.y-d.y,u=i.x-d.x,v=i.y-d.y,A=j*n-k*m,B=j*v-k*u;if(Math.abs(A)>Number.EPSILON){var F=u*n-v*m;if(A>0){return ((B>=0)&&(F>=0));}else{return ((B>=0)||(F>=0));}}else{return (B>0);}}function D0(v,A){var B=v.concat(),F;function G(d,e){var f=B.length-1,i=d-1;if(i<0)i=f;var j=d+1;if(j>f)j=0;var k=U0(B[d],B[i],B[j],F[e]);if(!k){return m2r.e5;}var m=F.length-1,n=e-1;if(n<0)n=m;var u=e+1;if(u>m)u=0;k=U0(F[e],F[n],F[u],B[d]);if(!k){return m2r.e5;}return m2r.t4;}function L(d,e){var f,i,j;for(f=0;f<B.length;f++){i=f+1;i%=B.length;j=E0(d,e,B[f],B[i],m2r.t4);if(j.length>0)return m2r.t4;}return m2r.e5;}var H=[];function J(d,e){var f,i,j,k,m;for(f=0;f<H.length;f++){i=A[H[f]];for(j=0;j<i.length;j++){k=j+1;k%=i.length;m=E0(d,e,i[j],i[k],m2r.t4);if(m.length>0)return m2r.t4;}}return m2r.e5;}var T,i0,b0,N,l0,m0,o0=[],n0,s0,z0,B0;for(var y0=0,x0=A.length;y0<x0;y0++){H.push(y0);}var w0=0,J0=H.length*2;while(H.length>0){J0--;if(J0<0){console.log("Infinite Loop! Holes left:"+H.length+", Probably Hole outside Shape!");break;}for(i0=w0;i0<B.length;i0++){b0=B[i0];T=-1;for(var y0=0;y0<H.length;y0++){l0=H[y0];m0=b0.x+":"+b0.y+":"+l0;if(o0[m0]!==undefined)continue;F=A[l0];for(var O0=0;O0<F.length;O0++){N=F[O0];if(!G(i0,O0))continue;if(L(b0,N))continue;if(J(b0,N))continue;T=O0;H.splice(y0,1);n0=B.slice(0,i0+1);s0=B.slice(i0);z0=F.slice(T);B0=F.slice(0,T+1);B=n0.concat(z0).concat(B0).concat(s0);w0=i0;break;}if(T>=0)break;o0[m0]=m2r.t4;}if(T>=0)break;}}return B;}var L0,S0,g1,W0,l1,d1,i1={},n1=A0.concat();for(var s1=0,o1=M0.length;s1<o1;s1++){Array.prototype.push.apply(n1,M0[s1]);}for(L0=0,S0=n1.length;L0<S0;L0++){l1=n1[L0].x+":"+n1[L0].y;if(i1[l1]!==undefined){console.warn("THREE.Shape: Duplicate point",l1);}i1[l1]=L0;}var t1=D0(A0,M0),w1=THREE.ShapeUtils.triangulate(t1,m2r.e5);for(L0=0,S0=w1.length;L0<S0;L0++){W0=w1[L0];for(g1=0;g1<3;g1++){l1=W0[g1].x+":"+W0[g1].y;d1=i1[l1];if(d1!==undefined){W0[g1]=d1;}}}return w1.concat();},isClockWise:function(d){return THREE.ShapeUtils.area(d)<0;},b2:(function(){function j(d,e){var f=1-d;return f*f*e;}function k(d,e){return 2*(1-d)*d*e;}function m(d,e){return d*d*e;}return function(d,e,f,i){return j(d,e)+k(d,f)+m(d,i);};})(),b3:(function(){function k(d,e){var f=1-d;return f*f*f*e;}function m(d,e){var f=1-d;return 3*f*f*d*e;}function n(d,e){var f=1-d;return 3*f*d*d*e;}function u(d,e){return d*d*d*e;}return function(d,e,f,i,j){return k(d,e)+m(d,f)+n(d,i)+u(d,j);};})()};THREE.Curve=function(){};THREE.Curve.prototype={constructor:THREE.Curve,getPoint:function(d){console.warn("THREE.Curve: Warning, getPoint() not implemented!");return m2r.r4;},getPointAt:function(d){var e=this.getUtoTmapping(d);return this.getPoint(e);},getPoints:function(d){if(!d)d=5;var e,f=[];for(e=0;e<=d;e++){f.push(this.getPoint(e/d));}return f;},getSpacedPoints:function(d){if(!d)d=5;var e,f=[];for(e=0;e<=d;e++){f.push(this.getPointAt(e/d));}return f;},getLength:function(){var d=this.getLengths();return d[d.length-1];},getLengths:function(d){if(!d)d=(this.__arcLengthDivisions)?(this.__arcLengthDivisions):200;if(this.cacheArcLengths&&(this.cacheArcLengths.length===d+1)&&!this.needsUpdate){return this.cacheArcLengths;}this.needsUpdate=m2r.e5;var e=[],f,i=this.getPoint(0),j,k=0;e.push(0);for(j=1;j<=d;j++){f=this.getPoint(j/d);k+=f.distanceTo(i);e.push(k);i=f;}this.cacheArcLengths=e;return e;},updateArcLengths:function(){this.needsUpdate=m2r.t4;this.getLengths();},getUtoTmapping:function(d,e){var f=this.getLengths(),i=0,j=f.length,k;if(e){k=e;}else{k=d*f[j-1];}var m=0,n=j-1,u;while(m<=n){i=Math.floor(m+(n-m)/2);u=f[i]-k;if(u<0){m=i+1;}else if(u>0){n=i-1;}else{n=i;break;}}i=n;if(f[i]===k){var v=i/(j-1);return v;}var A=f[i],B=f[i+1],F=B-A,G=(k-A)/F,v=(i+G)/(j-1);return v;},getTangent:function(d){var e=0.0001,f=d-e,i=d+e;if(f<0)f=0;if(i>1)i=1;var j=this.getPoint(f),k=this.getPoint(i),m=k.clone().sub(j);return m.normalize();},getTangentAt:function(d){var e=this.getUtoTmapping(d);return this.getTangent(e);}};THREE.Curve.create=function(d,e){d.prototype=Object.create(THREE.Curve.prototype);d.prototype.constructor=d;d.prototype.getPoint=e;return d;};THREE.CurvePath=function(){this.curves=[];this.autoClose=m2r.e5;};THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype);THREE.CurvePath.prototype.constructor=THREE.CurvePath;THREE.CurvePath.prototype.add=function(d){this.curves.push(d);};THREE.CurvePath.prototype.closePath=function(){var d=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!d.equals(e)){this.curves.push(new THREE.LineCurve(e,d));}};THREE.CurvePath.prototype.getPoint=function(d){var e=d*this.getLength(),f=this.getCurveLengths(),i=0;while(i<f.length){if(f[i]>=e){var j=f[i]-e,k=this.curves[i],m=1-j/k.getLength();return k.getPointAt(m);}i++;}return m2r.r4;};THREE.CurvePath.prototype.getLength=function(){var d=this.getCurveLengths();return d[d.length-1];};THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length){return this.cacheLengths;}var d=[],e=0;for(var f=0,i=this.curves.length;f<i;f++){e+=this.curves[f].getLength();d.push(e);}this.cacheLengths=d;return d;};THREE.CurvePath.prototype.createPointsGeometry=function(d){var e=this.getPoints(d);return this.createGeometry(e);};THREE.CurvePath.prototype.createSpacedPointsGeometry=function(d){var e=this.getSpacedPoints(d);return this.createGeometry(e);};THREE.CurvePath.prototype.createGeometry=function(d){var e=new THREE.Geometry();for(var f=0,i=d.length;f<i;f++){var j=d[f];e.vertices.push(new THREE.Vector3(j.x,j.y,j.z||0));}return e;};THREE.Font=function(d){this.data=d;};THREE.Font.prototype={constructor:THREE.Font,generateShapes:function(s0,z0,B0){function y0(d){var e=String(d).split(''),f=z0/w0.resolution,i=0,j=[];for(var k=0;k<e.length;k++){var m=x0(e[k],f,i);i+=m.offset;j.push(m.path);}return j;}function x0(d,e,f){var i=w0.glyphs[d]||w0.glyphs['?'];if(!i)return ;var j=new THREE.Path(),k=[],m=THREE.ShapeUtils.b2,n=THREE.ShapeUtils.b3,u,v,A,B,F,G,L,H,J,T,i0;if(i.o){var b0=i._cachedOutline||(i._cachedOutline=i.o.split(' '));for(var N=0,l0=b0.length;N<l0;){var m0=b0[N++];switch(m0){case 'm':u=b0[N++]*e+f;v=b0[N++]*e;j.moveTo(u,v);break;case 'l':u=b0[N++]*e+f;v=b0[N++]*e;j.lineTo(u,v);break;case 'q':A=b0[N++]*e+f;B=b0[N++]*e;L=b0[N++]*e+f;H=b0[N++]*e;j.quadraticCurveTo(L,H,A,B);i0=k[k.length-1];if(i0){F=i0.x;G=i0.y;for(var o0=1;o0<=B0;o0++){var n0=o0/B0;m(n0,F,L,A);m(n0,G,H,B);}}break;case 'b':A=b0[N++]*e+f;B=b0[N++]*e;L=b0[N++]*e+f;H=b0[N++]*e;J=b0[N++]*e+f;T=b0[N++]*e;j.bezierCurveTo(L,H,J,T,A,B);i0=k[k.length-1];if(i0){F=i0.x;G=i0.y;for(var o0=1;o0<=B0;o0++){var n0=o0/B0;n(n0,F,L,J,A);n(n0,G,H,T,B);}}break;}}}return {offset:i.ha*e,path:j};}if(z0===undefined)z0=m2r.h5;if(B0===undefined)B0=4;var w0=this.data,J0=y0(s0),O0=[];for(var A0=0,M0=J0.length;A0<M0;A0++){Array.prototype.push.apply(O0,J0[A0].toShapes());}return O0;}};THREE.Path=function(d){THREE.CurvePath.call(this);this.actions=[];if(d){this.fromPoints(d);}};THREE.Path.prototype=Object.create(THREE.CurvePath.prototype);THREE.Path.prototype.constructor=THREE.Path;THREE.Path.prototype.fromPoints=function(d){this.moveTo(d[0].x,d[0].y);for(var e=1,f=d.length;e<f;e++){this.lineTo(d[e].x,d[e].y);}};THREE.Path.prototype.moveTo=function(d,e){this.actions.push({action:m2r.a5,args:[d,e]});};THREE.Path.prototype.lineTo=function(d,e){var f=this.actions[this.actions.length-1].args,i=f[f.length-2],j=f[f.length-1],k=new THREE.LineCurve(new THREE.Vector2(i,j),new THREE.Vector2(d,e));this.curves.push(k);this.actions.push({action:'lineTo',args:[d,e]});};THREE.Path.prototype.quadraticCurveTo=function(d,e,f,i){var j=this.actions[this.actions.length-1].args,k=j[j.length-2],m=j[j.length-1],n=new THREE.QuadraticBezierCurve(new THREE.Vector2(k,m),new THREE.Vector2(d,e),new THREE.Vector2(f,i));this.curves.push(n);this.actions.push({action:m2r.J1,args:[d,e,f,i]});};THREE.Path.prototype.bezierCurveTo=function(d,e,f,i,j,k){var m=this.actions[this.actions.length-1].args,n=m[m.length-2],u=m[m.length-1],v=new THREE.CubicBezierCurve(new THREE.Vector2(n,u),new THREE.Vector2(d,e),new THREE.Vector2(f,i),new THREE.Vector2(j,k));this.curves.push(v);this.actions.push({action:m2r.A2,args:[d,e,f,i,j,k]});};THREE.Path.prototype.splineThru=function(d){var e=Array.prototype.slice.call(arguments),f=this.actions[this.actions.length-1].args,i=f[f.length-2],j=f[f.length-1],k=[new THREE.Vector2(i,j)];Array.prototype.push.apply(k,d);var m=new THREE.SplineCurve(k);this.curves.push(m);this.actions.push({action:'splineThru',args:e});};THREE.Path.prototype.arc=function(d,e,f,i,j,k){var m=this.actions[this.actions.length-1].args,n=m[m.length-2],u=m[m.length-1];this.absarc(d+n,e+u,f,i,j,k);};THREE.Path.prototype.absarc=function(d,e,f,i,j,k){this.absellipse(d,e,f,f,i,j,k);};THREE.Path.prototype.ellipse=function(d,e,f,i,j,k,m,n){var u=this.actions[this.actions.length-1].args,v=u[u.length-2],A=u[u.length-1];this.absellipse(d+v,e+A,f,i,j,k,m,n);};THREE.Path.prototype.absellipse=function(d,e,f,i,j,k,m,n){var u=[d,e,f,i,j,k,m,n||0],v=new THREE.EllipseCurve(d,e,f,i,j,k,m,n);this.curves.push(v);var A=v.getPoint(1);u.push(A.x);u.push(A.y);this.actions.push({action:'ellipse',args:u});};THREE.Path.prototype.getSpacedPoints=function(d){if(!d)d=40;var e=[];for(var f=0;f<d;f++){e.push(this.getPoint(f/d));}if(this.autoClose){e.push(e[0]);}return e;};THREE.Path.prototype.getPoints=function(d){d=d||12;var e=THREE.ShapeUtils.b2,f=THREE.ShapeUtils.b3,i=[],j,k,m,n,u,v,A,B,F,G,L;for(var H=0,J=this.actions.length;H<J;H++){var T=this.actions[H],i0=T.action,b0=T.args;switch(i0){case m2r.a5:i.push(new THREE.Vector2(b0[0],b0[1]));break;case 'lineTo':i.push(new THREE.Vector2(b0[0],b0[1]));break;case m2r.J1:j=b0[2];k=b0[3];u=b0[0];v=b0[1];if(i.length>0){F=i[i.length-1];A=F.x;B=F.y;}else{F=this.actions[H-1].args;A=F[F.length-2];B=F[F.length-1];}for(var N=1;N<=d;N++){var l0=N/d;G=e(l0,A,u,j);L=e(l0,B,v,k);i.push(new THREE.Vector2(G,L));}break;case m2r.A2:j=b0[4];k=b0[5];u=b0[0];v=b0[1];m=b0[2];n=b0[3];if(i.length>0){F=i[i.length-1];A=F.x;B=F.y;}else{F=this.actions[H-1].args;A=F[F.length-2];B=F[F.length-1];}for(var N=1;N<=d;N++){var l0=N/d;G=f(l0,A,u,m,j);L=f(l0,B,v,n,k);i.push(new THREE.Vector2(G,L));}break;case 'splineThru':F=this.actions[H-1].args;var m0=new THREE.Vector2(F[F.length-2],F[F.length-1]),o0=[m0],n0=d*b0[0].length;o0=o0.concat(b0[0]);var s0=new THREE.SplineCurve(o0);for(var N=1;N<=n0;N++){i.push(s0.getPointAt(N/n0));}break;case 'arc':var z0=b0[0],B0=b0[1],y0=b0[2],x0=b0[3],w0=b0[4],J0=!!b0[5],O0=w0-x0,A0,M0=d*2;for(var N=1;N<=M0;N++){var l0=N/M0;if(!J0){l0=1-l0;}A0=x0+l0*O0;G=z0+y0*Math.cos(A0);L=B0+y0*Math.sin(A0);i.push(new THREE.Vector2(G,L));}break;case 'ellipse':var z0=b0[0],B0=b0[1],H0=b0[2],E0=b0[3],x0=b0[4],w0=b0[5],J0=!!b0[6],U0=b0[7],O0=w0-x0,A0,M0=d*2,D0,L0;if(U0!==0){D0=Math.cos(U0);L0=Math.sin(U0);}for(var N=1;N<=M0;N++){var l0=N/M0;if(!J0){l0=1-l0;}A0=x0+l0*O0;G=z0+H0*Math.cos(A0);L=B0+E0*Math.sin(A0);if(U0!==0){var S0=G,g1=L;G=(S0-z0)*D0-(g1-B0)*L0+z0;L=(S0-z0)*L0+(g1-B0)*D0+B0;}i.push(new THREE.Vector2(G,L));}break;}}var W0=i[i.length-1];if(Math.abs(W0.x-i[0].x)<Number.EPSILON&&Math.abs(W0.y-i[0].y)<Number.EPSILON)i.splice(i.length-1,1);if(this.autoClose){i.push(i[0]);}return i;};THREE.Path.prototype.toShapes=function(B,F){function G(d){var e=[],f=new THREE.Path();for(var i=0,j=d.length;i<j;i++){var k=d[i],m=k.args,n=k.action;if(n===m2r.a5){if(f.actions.length!==0){e.push(f);f=new THREE.Path();}}f[n].apply(f,m);}if(f.actions.length!==0){e.push(f);}return e;}function L(d){var e=[];for(var f=0,i=d.length;f<i;f++){var j=d[f],k=new THREE.Shape();k.actions=j.actions;k.curves=j.curves;e.push(k);}return e;}function H(d,e){var f=e.length,i=m2r.e5;for(var j=f-1,k=0;k<f;j=k++){var m=e[j],n=e[k],u=n.x-m.x,v=n.y-m.y;if(Math.abs(v)>Number.EPSILON){if(v<0){m=e[k];u=-u;n=e[j];v=-v;}if((d.y<m.y)||(d.y>n.y))continue;if(d.y===m.y){if(d.x===m.x)return m2r.t4;}else{var A=v*(d.x-m.x)-u*(d.y-m.y);if(A===0)return m2r.t4;if(A<0)continue;i=!i;}}else{if(d.y!==m.y)continue;if(((n.x<=d.x)&&(d.x<=m.x))||((m.x<=d.x)&&(d.x<=n.x)))return m2r.t4;}}return i;}var J=THREE.ShapeUtils.isClockWise,T=G(this.actions);if(T.length===0)return [];if(F===m2r.t4)return L(T);var i0,b0,N,l0=[];if(T.length===1){b0=T[0];N=new THREE.Shape();N.actions=b0.actions;N.curves=b0.curves;l0.push(N);return l0;}var m0=!J(T[0].getPoints());m0=B?!m0:m0;var o0=[],n0=[],s0=[],z0=0,B0;n0[z0]=undefined;s0[z0]=[];for(var y0=0,x0=T.length;y0<x0;y0++){b0=T[y0];B0=b0.getPoints();i0=J(B0);i0=B?!i0:i0;if(i0){if((!m0)&&(n0[z0]))z0++;n0[z0]={s:new THREE.Shape(),p:B0};n0[z0].s.actions=b0.actions;n0[z0].s.curves=b0.curves;if(m0)z0++;s0[z0]=[];}else{s0[z0].push({h:b0,p:B0[0]});}}if(!n0[0])return L(T);if(n0.length>1){var w0=m2r.e5,J0=[];for(var O0=0,A0=n0.length;O0<A0;O0++){o0[O0]=[];}for(var O0=0,A0=n0.length;O0<A0;O0++){var M0=s0[O0];for(var H0=0;H0<M0.length;H0++){var E0=M0[H0],U0=m2r.t4;for(var D0=0;D0<n0.length;D0++){if(H(E0.p,n0[D0].p)){if(O0!==D0)J0.push({froms:O0,tos:D0,hole:H0});if(U0){U0=m2r.e5;o0[D0].push(E0);}else{w0=m2r.t4;}}}if(U0){o0[O0].push(E0);}}}if(J0.length>0){if(!w0)s0=o0;}}var L0;for(var y0=0,S0=n0.length;y0<S0;y0++){N=n0[y0].s;l0.push(N);L0=s0[y0];for(var g1=0,W0=L0.length;g1<W0;g1++){N.holes.push(L0[g1].h);}}return l0;};THREE.Shape=function(){THREE.Path.apply(this,arguments);this.holes=[];};THREE.Shape.prototype=Object.create(THREE.Path.prototype);THREE.Shape.prototype.constructor=THREE.Shape;THREE.Shape.prototype.extrude=function(d){return new THREE.ExtrudeGeometry(this,d);};THREE.Shape.prototype.makeGeometry=function(d){return new THREE.ShapeGeometry(this,d);};THREE.Shape.prototype.getPointsHoles=function(d){var e=[];for(var f=0,i=this.holes.length;f<i;f++){e[f]=this.holes[f].getPoints(d);}return e;};THREE.Shape.prototype.extractAllPoints=function(d){return {shape:this.getPoints(d),holes:this.getPointsHoles(d)};};THREE.Shape.prototype.extractPoints=function(d){return this.extractAllPoints(d);};THREE.LineCurve=function(d,e){this.v1=d;this.v2=e;};THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.LineCurve.prototype.constructor=THREE.LineCurve;THREE.LineCurve.prototype.getPoint=function(d){var e=this.v2.clone().sub(this.v1);e.multiplyScalar(d).add(this.v1);return e;};THREE.LineCurve.prototype.getPointAt=function(d){return this.getPoint(d);};THREE.LineCurve.prototype.getTangent=function(d){var e=this.v2.clone().sub(this.v1);return e.normalize();};THREE.QuadraticBezierCurve=function(d,e,f){this.v0=d;this.v1=e;this.v2=f;};THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.QuadraticBezierCurve.prototype.constructor=THREE.QuadraticBezierCurve;THREE.QuadraticBezierCurve.prototype.getPoint=function(d){var e=THREE.ShapeUtils.b2;return new THREE.Vector2(e(d,this.v0.x,this.v1.x,this.v2.x),e(d,this.v0.y,this.v1.y,this.v2.y));};THREE.QuadraticBezierCurve.prototype.getTangent=function(d){var e=THREE.CurveUtils.tangentQuadraticBezier;return new THREE.Vector2(e(d,this.v0.x,this.v1.x,this.v2.x),e(d,this.v0.y,this.v1.y,this.v2.y)).normalize();};THREE.CubicBezierCurve=function(d,e,f,i){this.v0=d;this.v1=e;this.v2=f;this.v3=i;};THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.CubicBezierCurve.prototype.constructor=THREE.CubicBezierCurve;THREE.CubicBezierCurve.prototype.getPoint=function(d){var e=THREE.ShapeUtils.b3;return new THREE.Vector2(e(d,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(d,this.v0.y,this.v1.y,this.v2.y,this.v3.y));};THREE.CubicBezierCurve.prototype.getTangent=function(d){var e=THREE.CurveUtils.tangentCubicBezier;return new THREE.Vector2(e(d,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(d,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize();};THREE.SplineCurve=function(d){this.points=(d==undefined)?[]:d;};THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.SplineCurve.prototype.constructor=THREE.SplineCurve;THREE.SplineCurve.prototype.getPoint=function(d){var e=this.points,f=(e.length-1)*d,i=Math.floor(f),j=f-i,k=e[i===0?i:i-1],m=e[i],n=e[i>e.length-2?e.length-1:i+1],u=e[i>e.length-3?e.length-1:i+2],v=THREE.CurveUtils.interpolate;return new THREE.Vector2(v(k.x,m.x,n.x,u.x,j),v(k.y,m.y,n.y,u.y,j));};THREE.EllipseCurve=function(d,e,f,i,j,k,m,n){this.aX=d;this.aY=e;this.xRadius=f;this.yRadius=i;this.aStartAngle=j;this.aEndAngle=k;this.aClockwise=m;this.aRotation=n||0;};THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype);THREE.EllipseCurve.prototype.constructor=THREE.EllipseCurve;THREE.EllipseCurve.prototype.getPoint=function(d){var e=this.aEndAngle-this.aStartAngle;if(e<0)e+=Math.PI*2;if(e>Math.PI*2)e-=Math.PI*2;var f;if(this.aClockwise===m2r.t4){f=this.aEndAngle+(1-d)*(Math.PI*2-e);}else{f=this.aStartAngle+d*e;}var i=this.aX+this.xRadius*Math.cos(f),j=this.aY+this.yRadius*Math.sin(f);if(this.aRotation!==0){var k=Math.cos(this.aRotation),m=Math.sin(this.aRotation),n=i,u=j;i=(n-this.aX)*k-(u-this.aY)*m+this.aX;j=(n-this.aX)*m+(u-this.aY)*k+this.aY;}return new THREE.Vector2(i,j);};THREE.ArcCurve=function(d,e,f,i,j,k){THREE.EllipseCurve.call(this,d,e,f,f,i,j,k);};THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype);THREE.ArcCurve.prototype.constructor=THREE.ArcCurve;THREE.LineCurve3=THREE.Curve.create(function(d,e){this.v1=d;this.v2=e;},function(d){var e=new THREE.Vector3();e.subVectors(this.v2,this.v1);e.multiplyScalar(d);e.add(this.v1);return e;});THREE.QuadraticBezierCurve3=THREE.Curve.create(function(d,e,f){this.v0=d;this.v1=e;this.v2=f;},function(d){var e=THREE.ShapeUtils.b2;return new THREE.Vector3(e(d,this.v0.x,this.v1.x,this.v2.x),e(d,this.v0.y,this.v1.y,this.v2.y),e(d,this.v0.z,this.v1.z,this.v2.z));});THREE.CubicBezierCurve3=THREE.Curve.create(function(d,e,f,i){this.v0=d;this.v1=e;this.v2=f;this.v3=i;},function(d){var e=THREE.ShapeUtils.b3;return new THREE.Vector3(e(d,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(d,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e(d,this.v0.z,this.v1.z,this.v2.z,this.v3.z));});THREE.SplineCurve3=THREE.Curve.create(function(d){console.warn('THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3');this.points=(d==undefined)?[]:d;},function(d){var e=this.points,f=(e.length-1)*d,i=Math.floor(f),j=f-i,k=e[i==0?i:i-1],m=e[i],n=e[i>e.length-2?e.length-1:i+1],u=e[i>e.length-3?e.length-1:i+2],v=THREE.CurveUtils.interpolate;return new THREE.Vector3(v(k.x,m.x,n.x,u.x,j),v(k.y,m.y,n.y,u.y,j),v(k.z,m.z,n.z,u.z,j));});THREE.CatmullRomCurve3=(function(){var J=new THREE.Vector3(),T=new N(),i0=new N(),b0=new N();function N(){}N.prototype.init=function(d,e,f,i){this.c0=d;this.c1=f;this.c2=-3*d+3*e-2*f-i;this.c3=2*d-2*e+f+i;};N.prototype.initNonuniformCatmullRom=function(d,e,f,i,j,k,m){var n=(e-d)/j-(f-d)/(j+k)+(f-e)/k,u=(f-e)/k-(i-e)/(k+m)+(i-f)/m;n*=k;u*=k;this.init(e,f,n,u);};N.prototype.initCatmullRom=function(d,e,f,i,j){this.init(e,f,j*(f-d),j*(i-e));};N.prototype.calc=function(d){var e=d*d,f=e*d;return this.c0+this.c1*d+this.c2*e+this.c3*f;};return THREE.Curve.create(function(d){this.points=d||[];this.closed=m2r.e5;},function(d){var e=this.points,f,i,j,k;k=e.length;if(k<2)console.log('duh, you need at least 2 points');f=(k-(this.closed?0:1))*d;i=Math.floor(f);j=f-i;if(this.closed){i+=i>0?0:(Math.floor(Math.abs(i)/e.length)+1)*e.length;}else if(j===0&&i===k-1){i=k-2;j=1;}var m,n,u,v;if(this.closed||i>0){m=e[(i-1)%k];}else{J.subVectors(e[0],e[1]).add(e[0]);m=J;}n=e[i%k];u=e[(i+1)%k];if(this.closed||i+2<k){v=e[(i+2)%k];}else{J.subVectors(e[k-1],e[k-2]).add(e[k-1]);v=J;}if(this.type===undefined||this.type==='centripetal'||this.type==='chordal'){var A=this.type==='chordal'?m2r.K2:m2r.I1,B=Math.pow(m.distanceToSquared(n),A),F=Math.pow(n.distanceToSquared(u),A),G=Math.pow(u.distanceToSquared(v),A);if(F<1e-4)F=m2r.d5;if(B<1e-4)B=F;if(G<1e-4)G=F;T.initNonuniformCatmullRom(m.x,n.x,u.x,v.x,B,F,G);i0.initNonuniformCatmullRom(m.y,n.y,u.y,v.y,B,F,G);b0.initNonuniformCatmullRom(m.z,n.z,u.z,v.z,B,F,G);}else if(this.type==='catmullrom'){var L=this.tension!==undefined?this.tension:m2r.K2;T.initCatmullRom(m.x,n.x,u.x,v.x,L);i0.initCatmullRom(m.y,n.y,u.y,v.y,L);b0.initCatmullRom(m.z,n.z,u.z,v.z,L);}var H=new THREE.Vector3(T.calc(j),i0.calc(j),b0.calc(j));return H;});})();THREE.ClosedSplineCurve3=function(d){console.warn('THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.');THREE.CatmullRomCurve3.call(this,d);this.type='catmullrom';this.closed=m2r.t4;};THREE.ClosedSplineCurve3.prototype=Object.create(THREE.CatmullRomCurve3.prototype);THREE.BoxGeometry=function(d,e,f,i,j,k){THREE.Geometry.call(this);this.type=m2r.N3;this.parameters={width:d,height:e,depth:f,widthSegments:i,heightSegments:j,depthSegments:k};this.fromBufferGeometry(new THREE.BoxBufferGeometry(d,e,f,i,j,k));this.mergeVertices();};THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.BoxGeometry.prototype.constructor=THREE.BoxGeometry;THREE.CubeGeometry=THREE.BoxGeometry;THREE.BoxBufferGeometry=function(x0,w0,J0,O0,A0,M0){THREE.BufferGeometry.call(this);this.type=m2r.y4;this.parameters={width:x0,height:w0,depth:J0,widthSegments:O0,heightSegments:A0,depthSegments:M0};var H0=this;O0=Math.floor(O0)||1;A0=Math.floor(A0)||1;M0=Math.floor(M0)||1;var E0=s1(O0,A0,M0),U0=(E0/4)*6,D0=new (U0>m2r.P4?Uint32Array:Uint16Array)(U0),L0=new Float32Array(E0*3),S0=new Float32Array(E0*3),g1=new Float32Array(E0*2),W0=0,l1=0,d1=0,i1=0,n1=0;o1('z','y','x',-1,-1,J0,w0,x0,M0,A0,0);o1('z','y','x',1,-1,J0,w0,-x0,M0,A0,1);o1('x','z','y',1,1,x0,J0,w0,O0,M0,2);o1('x','z','y',1,-1,x0,J0,-w0,O0,M0,3);o1('x','y','z',1,-1,x0,w0,J0,O0,A0,4);o1('x','y','z',-1,-1,x0,w0,-J0,O0,A0,5);this.setIndex(new THREE.BufferAttribute(D0,1));this.addAttribute(m2r.H2,new THREE.BufferAttribute(L0,3));this.addAttribute(m2r.Y3,new THREE.BufferAttribute(S0,3));this.addAttribute(m2r.M4,new THREE.BufferAttribute(g1,2));function s1(d,e,f){var i=0;i+=d*e*2;i+=d*f*2;i+=f*e*2;return i*4;}function o1(d,e,f,i,j,k,m,n,u,v,A){var B=k/u,F=m/v,G=k/2,L=m/2,H=n/2,J=u+1,T=v+1,i0=0,b0=0,N=new THREE.Vector3();for(var l0=0;l0<T;l0++){var m0=l0*F-L;for(var o0=0;o0<J;o0++){var n0=o0*B-G;N[d]=n0*i;N[e]=m0*j;N[f]=H;L0[W0]=N.x;L0[W0+1]=N.y;L0[W0+2]=N.z;N[d]=0;N[e]=0;N[f]=n>0?1:-1;S0[W0]=N.x;S0[W0+1]=N.y;S0[W0+2]=N.z;g1[l1]=o0/u;g1[l1+1]=1-(l0/v);W0+=3;l1+=2;i0+=1;}}for(l0=0;l0<v;l0++){for(o0=0;o0<u;o0++){var s0=i1+o0+J*l0,z0=i1+o0+J*(l0+1),B0=i1+(o0+1)+J*(l0+1),y0=i1+(o0+1)+J*l0;D0[d1]=s0;D0[d1+1]=z0;D0[d1+2]=y0;D0[d1+3]=z0;D0[d1+4]=B0;D0[d1+5]=y0;d1+=6;b0+=6;}}H0.addGroup(n1,b0,A);n1+=b0;i1+=i0;}};THREE.BoxBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.BoxBufferGeometry.prototype.constructor=THREE.BoxBufferGeometry;THREE.CircleGeometry=function(d,e,f,i){THREE.Geometry.call(this);this.type=m2r.T3;this.parameters={radius:d,segments:e,thetaStart:f,thetaLength:i};this.fromBufferGeometry(new THREE.CircleBufferGeometry(d,e,f,i));};THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CircleGeometry.prototype.constructor=THREE.CircleGeometry;THREE.CircleBufferGeometry=function(d,e,f,i){THREE.BufferGeometry.call(this);this.type=m2r.M1;this.parameters={radius:d,segments:e,thetaStart:f,thetaLength:i};d=d||50;e=e!==undefined?Math.max(3,e):8;f=f!==undefined?f:0;i=i!==undefined?i:Math.PI*2;var j=e+2,k=new Float32Array(j*3),m=new Float32Array(j*3),n=new Float32Array(j*2);m[2]=m2r.d5;n[0]=m2r.K2;n[1]=m2r.K2;for(var u=0,v=3,A=2;u<=e;u++,v+=3,A+=2){var B=f+u/e*i;k[v]=d*Math.cos(B);k[v+1]=d*Math.sin(B);m[v+2]=1;n[A]=(k[v]/d+1)/2;n[A+1]=(k[v+1]/d+1)/2;}var F=[];for(var v=1;v<=e;v++){F.push(v,v+1,0);}this.setIndex(new THREE.BufferAttribute(new Uint16Array(F),1));this.addAttribute(m2r.H2,new THREE.BufferAttribute(k,3));this.addAttribute(m2r.Y3,new THREE.BufferAttribute(m,3));this.addAttribute(m2r.M4,new THREE.BufferAttribute(n,2));this.boundingSphere=new THREE.Sphere(new THREE.Vector3(),d);};THREE.CircleBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.CircleBufferGeometry.prototype.constructor=THREE.CircleBufferGeometry;THREE.CylinderBufferGeometry=function(L,H,J,T,i0,b0,N,l0){THREE.BufferGeometry.call(this);this.type=m2r.e2;this.parameters={radiusTop:L,radiusBottom:H,height:J,radialSegments:T,heightSegments:i0,openEnded:b0,thetaStart:N,thetaLength:l0};var m0=this;L=L!==undefined?L:20;H=H!==undefined?H:20;J=J!==undefined?J:m2r.h5;T=Math.floor(T)||8;i0=Math.floor(i0)||1;b0=b0!==undefined?b0:m2r.e5;N=N!==undefined?N:0;l0=l0!==undefined?l0:2*Math.PI;var o0=M0(),n0=H0(),s0=new THREE.BufferAttribute(new (n0>m2r.P4?Uint32Array:Uint16Array)(n0),1),z0=new THREE.BufferAttribute(new Float32Array(o0*3),3),B0=new THREE.BufferAttribute(new Float32Array(o0*3),3),y0=new THREE.BufferAttribute(new Float32Array(o0*2),2),x0=0,w0=0,J0=[],O0=J/2,A0=0;E0();if(b0===m2r.e5){if(L>0)U0(m2r.t4);if(H>0)U0(m2r.e5);}this.setIndex(s0);this.addAttribute(m2r.H2,z0);this.addAttribute(m2r.Y3,B0);this.addAttribute(m2r.M4,y0);function M0(){var d=(T+1)*(i0+1);if(b0===m2r.e5){d+=((T+1)*2)+(T*2);}return d;}function H0(){var d=T*i0*2*3;if(b0===m2r.e5){d+=T*2*3;}return d;}function E0(){var d,e,f=new THREE.Vector3(),i=new THREE.Vector3(),j=0,k=(H-L)/J;for(e=0;e<=i0;e++){var m=[],n=e/i0,u=n*(H-L)+L;for(d=0;d<=T;d++){var v=d/T;i.x=u*Math.sin(v*l0+N);i.y=-n*J+O0;i.z=u*Math.cos(v*l0+N);z0.setXYZ(x0,i.x,i.y,i.z);f.copy(i);if((L===0&&e===0)||(H===0&&e===i0)){f.x=Math.sin(v*l0+N);f.z=Math.cos(v*l0+N);}f.setY(Math.sqrt(f.x*f.x+f.z*f.z)*k).normalize();B0.setXYZ(x0,f.x,f.y,f.z);y0.setXY(x0,v,1-n);m.push(x0);x0++;}J0.push(m);}for(d=0;d<T;d++){for(e=0;e<i0;e++){var A=J0[e][d],B=J0[e+1][d],F=J0[e+1][d+1],G=J0[e][d+1];s0.setX(w0,A);w0++;s0.setX(w0,B);w0++;s0.setX(w0,G);w0++;s0.setX(w0,B);w0++;s0.setX(w0,F);w0++;s0.setX(w0,G);w0++;j+=6;}}m0.addGroup(A0,j,0);A0+=j;}function U0(d){var e,f,i,j=new THREE.Vector2(),k=new THREE.Vector3(),m=0,n=(d===m2r.t4)?L:H,u=(d===m2r.t4)?1:-1;f=x0;for(e=1;e<=T;e++){z0.setXYZ(x0,0,O0*u,0);B0.setXYZ(x0,0,u,0);if(d===m2r.t4){j.x=e/T;j.y=0;}else{j.x=(e-1)/T;j.y=1;}y0.setXY(x0,j.x,j.y);x0++;}i=x0;for(e=0;e<=T;e++){var v=e/T;k.x=n*Math.sin(v*l0+N);k.y=O0*u;k.z=n*Math.cos(v*l0+N);z0.setXYZ(x0,k.x,k.y,k.z);B0.setXYZ(x0,0,u,0);y0.setXY(x0,v,(d===m2r.t4)?1:0);x0++;}for(e=0;e<T;e++){var A=f+e,B=i+e;if(d===m2r.t4){s0.setX(w0,B);w0++;s0.setX(w0,B+1);w0++;s0.setX(w0,A);w0++;}else{s0.setX(w0,B+1);w0++;s0.setX(w0,B);w0++;s0.setX(w0,A);w0++;}m+=3;}m0.addGroup(A0,m,d===m2r.t4?1:2);A0+=m;}};THREE.CylinderBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.CylinderBufferGeometry.prototype.constructor=THREE.CylinderBufferGeometry;THREE.CylinderGeometry=function(d,e,f,i,j,k,m,n){THREE.Geometry.call(this);this.type=m2r.w4;this.parameters={radiusTop:d,radiusBottom:e,height:f,radialSegments:i,heightSegments:j,openEnded:k,thetaStart:m,thetaLength:n};this.fromBufferGeometry(new THREE.CylinderBufferGeometry(d,e,f,i,j,k,m,n));this.mergeVertices();};THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry;THREE.EdgesGeometry=function(f,i){THREE.BufferGeometry.call(this);i=(i!==undefined)?i:1;var j=Math.cos(THREE.Math.DEG2RAD*i),k=[0,0],m={};function n(d,e){return d-e;}var u=['a','b','c'],v;if(f instanceof THREE.BufferGeometry){v=new THREE.Geometry();v.fromBufferGeometry(f);}else{v=f.clone();}v.mergeVertices();v.computeFaceNormals();var A=v.vertices,B=v.faces;for(var F=0,G=B.length;F<G;F++){var L=B[F];for(var H=0;H<3;H++){k[0]=L[u[H]];k[1]=L[u[(H+1)%3]];k.sort(n);var J=k.toString();if(m[J]===undefined){m[J]={vert1:k[0],vert2:k[1],face1:F,face2:undefined};}else{m[J].face2=F;}}}var T=[];for(var J in m){var i0=m[J];if(i0.face2===undefined||B[i0.face1].normal.dot(B[i0.face2].normal)<=j){var b0=A[i0.vert1];T.push(b0.x);T.push(b0.y);T.push(b0.z);b0=A[i0.vert2];T.push(b0.x);T.push(b0.y);T.push(b0.z);}}this.addAttribute(m2r.H2,new THREE.BufferAttribute(new Float32Array(T),3));};THREE.EdgesGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.EdgesGeometry.prototype.constructor=THREE.EdgesGeometry;THREE.ExtrudeGeometry=function(d,e){if(typeof (d)==="undefined"){d=[];return ;}THREE.Geometry.call(this);this.type='ExtrudeGeometry';d=Array.isArray(d)?d:[d];this.addShapeList(d,e);this.computeFaceNormals();};THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ExtrudeGeometry.prototype.constructor=THREE.ExtrudeGeometry;THREE.ExtrudeGeometry.prototype.addShapeList=function(d,e){var f=d.length;for(var i=0;i<f;i++){var j=d[i];this.addShape(j,e);}};THREE.ExtrudeGeometry.prototype.addShape=function(l0,m0){var o0=m0.amount!==undefined?m0.amount:m2r.h5,n0=m0.bevelThickness!==undefined?m0.bevelThickness:6,s0=m0.bevelSize!==undefined?m0.bevelSize:n0-2,z0=m0.bevelSegments!==undefined?m0.bevelSegments:3,B0=m0.bevelEnabled!==undefined?m0.bevelEnabled:m2r.t4,y0=m0.curveSegments!==undefined?m0.curveSegments:12,x0=m0.steps!==undefined?m0.steps:1,w0=m0.extrudePath,J0,O0=m2r.e5,A0=m0.UVGenerator!==undefined?m0.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator,M0,H0,E0,U0;if(w0){J0=w0.getSpacedPoints(x0);O0=m2r.t4;B0=m2r.e5;M0=m0.frames!==undefined?m0.frames:new THREE.TubeGeometry.FrenetFrames(w0,x0,m2r.e5);H0=new THREE.Vector3();E0=new THREE.Vector3();U0=new THREE.Vector3();}if(!B0){z0=0;n0=0;s0=0;}var D0,L0,S0,g1=this,W0=this.vertices.length,l1=l0.extractPoints(y0),d1=l1.shape,i1=l1.holes,n1=!THREE.ShapeUtils.isClockWise(d1);if(n1){d1=d1.reverse();for(L0=0,S0=i1.length;L0<S0;L0++){D0=i1[L0];if(THREE.ShapeUtils.isClockWise(D0)){i1[L0]=D0.reverse();}}n1=m2r.e5;}var s1=THREE.ShapeUtils.triangulateShape(d1,i1),o1=d1;for(L0=0,S0=i1.length;L0<S0;L0++){D0=i1[L0];d1=d1.concat(D0);}function t1(d,e,f){if(!e)console.error("THREE.ExtrudeGeometry: vec does not exist");return e.clone().multiplyScalar(f).add(d);}var w1,m1,W1,E1,p1,T1=d1.length,x1,d2=s1.length;function n2(d,e,f){var i,j,k=1,m=d.x-e.x,n=d.y-e.y,u=f.x-d.x,v=f.y-d.y,A=(m*m+n*n),B=(m*v-n*u);if(Math.abs(B)>Number.EPSILON){var F=Math.sqrt(A),G=Math.sqrt(u*u+v*v),L=(e.x-n/F),H=(e.y+m/F),J=(f.x-v/G),T=(f.y+u/G),i0=((J-L)*v-(T-H)*u)/(m*v-n*u);i=(L+m*i0-d.x);j=(H+n*i0-d.y);var b0=(i*i+j*j);if(b0<=2){return new THREE.Vector2(i,j);}else{k=Math.sqrt(b0/2);}}else{var N=m2r.e5;if(m>Number.EPSILON){if(u>Number.EPSILON){N=m2r.t4;}}else{if(m<-Number.EPSILON){if(u<-Number.EPSILON){N=m2r.t4;}}else{if(Math.sign(n)===Math.sign(v)){N=m2r.t4;}}}if(N){i=-n;j=m;k=Math.sqrt(A);}else{i=m;j=n;k=Math.sqrt(A/2);}}return new THREE.Vector2(i/k,j/k);}var g2=[];for(var R0=0,P1=o1.length,a2=P1-1,l2=R0+1;R0<P1;R0++,a2++,l2++){if(a2===P1)a2=0;if(l2===P1)l2=0;g2[R0]=n2(o1[R0],o1[a2],o1[l2]);}var B2=[],s2,h2=g2.concat();for(L0=0,S0=i1.length;L0<S0;L0++){D0=i1[L0];s2=[];for(R0=0,P1=D0.length,a2=P1-1,l2=R0+1;R0<P1;R0++,a2++,l2++){if(a2===P1)a2=0;if(l2===P1)l2=0;s2[R0]=n2(D0[R0],D0[a2],D0[l2]);}B2.push(s2);h2=h2.concat(s2);}for(w1=0;w1<z0;w1++){W1=w1/z0;E1=n0*(1-W1);m1=s0*(Math.sin(W1*Math.PI/2));for(R0=0,P1=o1.length;R0<P1;R0++){p1=t1(o1[R0],g2[R0],m1);y2(p1.x,p1.y,-E1);}for(L0=0,S0=i1.length;L0<S0;L0++){D0=i1[L0];s2=B2[L0];for(R0=0,P1=D0.length;R0<P1;R0++){p1=t1(D0[R0],s2[R0],m1);y2(p1.x,p1.y,-E1);}}}m1=s0;for(R0=0;R0<T1;R0++){p1=B0?t1(d1[R0],h2[R0],m1):d1[R0];if(!O0){y2(p1.x,p1.y,0);}else{E0.copy(M0.normals[0]).multiplyScalar(p1.x);H0.copy(M0.binormals[0]).multiplyScalar(p1.y);U0.copy(J0[0]).add(E0).add(H0);y2(U0.x,U0.y,U0.z);}}var x2;for(x2=1;x2<=x0;x2++){for(R0=0;R0<T1;R0++){p1=B0?t1(d1[R0],h2[R0],m1):d1[R0];if(!O0){y2(p1.x,p1.y,o0/x0*x2);}else{E0.copy(M0.normals[x2]).multiplyScalar(p1.x);H0.copy(M0.binormals[x2]).multiplyScalar(p1.y);U0.copy(J0[x2]).add(E0).add(H0);y2(U0.x,U0.y,U0.z);}}}for(w1=z0-1;w1>=0;w1--){W1=w1/z0;E1=n0*(1-W1);m1=s0*Math.sin(W1*Math.PI/2);for(R0=0,P1=o1.length;R0<P1;R0++){p1=t1(o1[R0],g2[R0],m1);y2(p1.x,p1.y,o0+E1);}for(L0=0,S0=i1.length;L0<S0;L0++){D0=i1[L0];s2=B2[L0];for(R0=0,P1=D0.length;R0<P1;R0++){p1=t1(D0[R0],s2[R0],m1);if(!O0){y2(p1.x,p1.y,o0+E1);}else{y2(p1.x,p1.y+J0[x0-1].y,J0[x0-1].x+E1);}}}}a3();C2();function a3(){if(B0){var d=0,e=T1*d;for(R0=0;R0<d2;R0++){x1=s1[R0];N2(x1[2]+e,x1[1]+e,x1[0]+e);}d=x0+z0*2;e=T1*d;for(R0=0;R0<d2;R0++){x1=s1[R0];N2(x1[0]+e,x1[1]+e,x1[2]+e);}}else{for(R0=0;R0<d2;R0++){x1=s1[R0];N2(x1[2],x1[1],x1[0]);}for(R0=0;R0<d2;R0++){x1=s1[R0];N2(x1[0]+T1*x0,x1[1]+T1*x0,x1[2]+T1*x0);}}}function C2(){var d=0;t3(o1,d);d+=o1.length;for(L0=0,S0=i1.length;L0<S0;L0++){D0=i1[L0];t3(D0,d);d+=D0.length;}}function t3(d,e){var f,i;R0=d.length;while(--R0>=0){f=R0;i=R0-1;if(i<0)i=d.length-1;var j=0,k=x0+z0*2;for(j=0;j<k;j++){var m=T1*j,n=T1*(j+1),u=e+f+m,v=e+i+m,A=e+i+n,B=e+f+n;k3(u,v,A,B,d,j,k,f,i);}}}function y2(d,e,f){g1.vertices.push(new THREE.Vector3(d,e,f));}function N2(d,e,f){d+=W0;e+=W0;f+=W0;g1.faces.push(new THREE.Face3(d,e,f,m2r.r4,m2r.r4,0));var i=A0.generateTopUV(g1,d,e,f);g1.faceVertexUvs[0].push(i);}function k3(d,e,f,i,j,k,m,n,u){d+=W0;e+=W0;f+=W0;i+=W0;g1.faces.push(new THREE.Face3(d,e,i,m2r.r4,m2r.r4,1));g1.faces.push(new THREE.Face3(e,f,i,m2r.r4,m2r.r4,1));var v=A0.generateSideWallUV(g1,d,e,f,i);g1.faceVertexUvs[0].push([v[0],v[1],v[3]]);g1.faceVertexUvs[0].push([v[1],v[2],v[3]]);}};THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(d,e,f,i){var j=d.vertices,k=j[e],m=j[f],n=j[i];return [new THREE.Vector2(k.x,k.y),new THREE.Vector2(m.x,m.y),new THREE.Vector2(n.x,n.y)];},generateSideWallUV:function(d,e,f,i,j){var k=d.vertices,m=k[e],n=k[f],u=k[i],v=k[j];if(Math.abs(m.y-n.y)<0.01){return [new THREE.Vector2(m.x,1-m.z),new THREE.Vector2(n.x,1-n.z),new THREE.Vector2(u.x,1-u.z),new THREE.Vector2(v.x,1-v.z)];}else{return [new THREE.Vector2(m.y,1-m.z),new THREE.Vector2(n.y,1-n.z),new THREE.Vector2(u.y,1-u.z),new THREE.Vector2(v.y,1-v.z)];}}};THREE.ShapeGeometry=function(d,e){THREE.Geometry.call(this);this.type='ShapeGeometry';if(Array.isArray(d)===m2r.e5)d=[d];this.addShapeList(d,e);this.computeFaceNormals();};THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ShapeGeometry.prototype.constructor=THREE.ShapeGeometry;THREE.ShapeGeometry.prototype.addShapeList=function(d,e){for(var f=0,i=d.length;f<i;f++){this.addShape(d[f],e);}return this;};THREE.ShapeGeometry.prototype.addShape=function(d,e){if(e===undefined)e={};var f=e.curveSegments!==undefined?e.curveSegments:12,i=e.material,j=e.UVGenerator===undefined?THREE.ExtrudeGeometry.WorldUVGenerator:e.UVGenerator,k,m,n,u=this.vertices.length,v=d.extractPoints(f),A=v.shape,B=v.holes,F=!THREE.ShapeUtils.isClockWise(A);if(F){A=A.reverse();for(k=0,m=B.length;k<m;k++){n=B[k];if(THREE.ShapeUtils.isClockWise(n)){B[k]=n.reverse();}}F=m2r.e5;}var G=THREE.ShapeUtils.triangulateShape(A,B);for(k=0,m=B.length;k<m;k++){n=B[k];A=A.concat(n);}var L,H=A.length,J,T=G.length;for(k=0;k<H;k++){L=A[k];this.vertices.push(new THREE.Vector3(L.x,L.y,0));}for(k=0;k<T;k++){J=G[k];var i0=J[0]+u,b0=J[1]+u,N=J[2]+u;this.faces.push(new THREE.Face3(i0,b0,N,m2r.r4,m2r.r4,i));this.faceVertexUvs[0].push(j.generateTopUV(this,i0,b0,N));}};THREE.LatheBufferGeometry=function(d,e,f,i){THREE.BufferGeometry.call(this);this.type=m2r.X3;this.parameters={points:d,segments:e,phiStart:f,phiLength:i};e=Math.floor(e)||12;f=f||0;i=i||Math.PI*2;i=THREE.Math.clamp(i,0,Math.PI*2);var j=(e+1)*d.length,k=e*d.length*2*3,m=new THREE.BufferAttribute(new (k>m2r.P4?Uint32Array:Uint16Array)(k),1),n=new THREE.BufferAttribute(new Float32Array(j*3),3),u=new THREE.BufferAttribute(new Float32Array(j*2),2),v=0,A=0,B,F=m2r.d5/(d.length-1),G=m2r.d5/e,L=new THREE.Vector3(),H=new THREE.Vector2(),J,T;for(J=0;J<=e;J++){var i0=f+J*G*i,b0=Math.sin(i0),N=Math.cos(i0);for(T=0;T<=(d.length-1);T++){L.x=d[T].x*b0;L.y=d[T].y;L.z=d[T].x*N;n.setXYZ(v,L.x,L.y,L.z);H.x=J/e;H.y=T/(d.length-1);u.setXY(v,H.x,H.y);v++;}}for(J=0;J<e;J++){for(T=0;T<(d.length-1);T++){B=T+J*d.length;var l0=B,m0=B+d.length,o0=B+d.length+1,n0=B+1;m.setX(A,l0);A++;m.setX(A,m0);A++;m.setX(A,n0);A++;m.setX(A,m0);A++;m.setX(A,o0);A++;m.setX(A,n0);A++;}}this.setIndex(m);this.addAttribute(m2r.H2,n);this.addAttribute(m2r.M4,u);this.computeVertexNormals();if(i===Math.PI*2){var s0=this.attributes.normal.array,z0=new THREE.Vector3(),B0=new THREE.Vector3(),y0=new THREE.Vector3();B=e*d.length*3;for(J=0,T=0;J<d.length;J++,T+=3){z0.x=s0[T+0];z0.y=s0[T+1];z0.z=s0[T+2];B0.x=s0[B+T+0];B0.y=s0[B+T+1];B0.z=s0[B+T+2];y0.addVectors(z0,B0).normalize();s0[T+0]=s0[B+T+0]=y0.x;s0[T+1]=s0[B+T+1]=y0.y;s0[T+2]=s0[B+T+2]=y0.z;}}};THREE.LatheBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.LatheBufferGeometry.prototype.constructor=THREE.LatheBufferGeometry;THREE.LatheGeometry=function(d,e,f,i){THREE.Geometry.call(this);this.type=m2r.Z2;this.parameters={points:d,segments:e,phiStart:f,phiLength:i};this.fromBufferGeometry(new THREE.LatheBufferGeometry(d,e,f,i));this.mergeVertices();};THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.LatheGeometry.prototype.constructor=THREE.LatheGeometry;THREE.PlaneGeometry=function(d,e,f,i){THREE.Geometry.call(this);this.type=m2r.n5;this.parameters={width:d,height:e,widthSegments:f,heightSegments:i};this.fromBufferGeometry(new THREE.PlaneBufferGeometry(d,e,f,i));};THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry;THREE.PlaneBufferGeometry=function(d,e,f,i){THREE.BufferGeometry.call(this);this.type=m2r.G2;this.parameters={width:d,height:e,widthSegments:f,heightSegments:i};var j=d/2,k=e/2,m=Math.floor(f)||1,n=Math.floor(i)||1,u=m+1,v=n+1,A=d/m,B=e/n,F=new Float32Array(u*v*3),G=new Float32Array(u*v*3),L=new Float32Array(u*v*2),H=0,J=0;for(var T=0;T<v;T++){var i0=T*B-k;for(var b0=0;b0<u;b0++){var N=b0*A-j;F[H]=N;F[H+1]=-i0;G[H+2]=1;L[J]=b0/m;L[J+1]=1-(T/n);H+=3;J+=2;}}H=0;var l0=new ((F.length/3)>m2r.P4?Uint32Array:Uint16Array)(m*n*6);for(var T=0;T<n;T++){for(var b0=0;b0<m;b0++){var m0=b0+u*T,o0=b0+u*(T+1),n0=(b0+1)+u*(T+1),s0=(b0+1)+u*T;l0[H]=m0;l0[H+1]=o0;l0[H+2]=s0;l0[H+3]=o0;l0[H+4]=n0;l0[H+5]=s0;H+=6;}}this.setIndex(new THREE.BufferAttribute(l0,1));this.addAttribute(m2r.H2,new THREE.BufferAttribute(F,3));this.addAttribute(m2r.Y3,new THREE.BufferAttribute(G,3));this.addAttribute(m2r.M4,new THREE.BufferAttribute(L,2));};THREE.PlaneBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.PlaneBufferGeometry.prototype.constructor=THREE.PlaneBufferGeometry;THREE.RingBufferGeometry=function(d,e,f,i,j,k){THREE.BufferGeometry.call(this);this.type=m2r.R3;this.parameters={innerRadius:d,outerRadius:e,thetaSegments:f,phiSegments:i,thetaStart:j,thetaLength:k};d=d||20;e=e||50;j=j!==undefined?j:0;k=k!==undefined?k:Math.PI*2;f=f!==undefined?Math.max(3,f):8;i=i!==undefined?Math.max(1,i):1;var m=(f+1)*(i+1),n=f*i*2*3,u=new THREE.BufferAttribute(new (n>m2r.P4?Uint32Array:Uint16Array)(n),1),v=new THREE.BufferAttribute(new Float32Array(m*3),3),A=new THREE.BufferAttribute(new Float32Array(m*3),3),B=new THREE.BufferAttribute(new Float32Array(m*2),2),F=0,G=0,L,H=d,J=((e-d)/i),T=new THREE.Vector3(),i0=new THREE.Vector2(),b0,N;for(b0=0;b0<=i;b0++){for(N=0;N<=f;N++){L=j+N/f*k;T.x=H*Math.cos(L);T.y=H*Math.sin(L);v.setXYZ(F,T.x,T.y,T.z);A.setXYZ(F,0,0,1);i0.x=(T.x/e+1)/2;i0.y=(T.y/e+1)/2;B.setXY(F,i0.x,i0.y);F++;}H+=J;}for(b0=0;b0<i;b0++){var l0=b0*(f+1);for(N=0;N<f;N++){L=N+l0;var m0=L,o0=L+f+1,n0=L+f+2,s0=L+1;u.setX(G,m0);G++;u.setX(G,o0);G++;u.setX(G,n0);G++;u.setX(G,m0);G++;u.setX(G,n0);G++;u.setX(G,s0);G++;}}this.setIndex(u);this.addAttribute(m2r.H2,v);this.addAttribute(m2r.Y3,A);this.addAttribute(m2r.M4,B);};THREE.RingBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.RingBufferGeometry.prototype.constructor=THREE.RingBufferGeometry;THREE.RingGeometry=function(d,e,f,i,j,k){THREE.Geometry.call(this);this.type=m2r.V4;this.parameters={innerRadius:d,outerRadius:e,thetaSegments:f,phiSegments:i,thetaStart:j,thetaLength:k};this.fromBufferGeometry(new THREE.RingBufferGeometry(d,e,f,i,j,k));};THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.RingGeometry.prototype.constructor=THREE.RingGeometry;THREE.SphereGeometry=function(d,e,f,i,j,k,m){THREE.Geometry.call(this);this.type=m2r.U3;this.parameters={radius:d,widthSegments:e,heightSegments:f,phiStart:i,phiLength:j,thetaStart:k,thetaLength:m};this.fromBufferGeometry(new THREE.SphereBufferGeometry(d,e,f,i,j,k,m));};THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry;THREE.SphereBufferGeometry=function(d,e,f,i,j,k,m){THREE.BufferGeometry.call(this);this.type=m2r.U4;this.parameters={radius:d,widthSegments:e,heightSegments:f,phiStart:i,phiLength:j,thetaStart:k,thetaLength:m};d=d||50;e=Math.max(3,Math.floor(e)||8);f=Math.max(2,Math.floor(f)||6);i=i!==undefined?i:0;j=j!==undefined?j:Math.PI*2;k=k!==undefined?k:0;m=m!==undefined?m:Math.PI;var n=k+m,u=((e+1)*(f+1)),v=new THREE.BufferAttribute(new Float32Array(u*3),3),A=new THREE.BufferAttribute(new Float32Array(u*3),3),B=new THREE.BufferAttribute(new Float32Array(u*2),2),F=0,G=[],L=new THREE.Vector3();for(var H=0;H<=f;H++){var J=[],T=H/f;for(var i0=0;i0<=e;i0++){var b0=i0/e,N=-d*Math.cos(i+b0*j)*Math.sin(k+T*m),l0=d*Math.cos(k+T*m),m0=d*Math.sin(i+b0*j)*Math.sin(k+T*m);L.set(N,l0,m0).normalize();v.setXYZ(F,N,l0,m0);A.setXYZ(F,L.x,L.y,L.z);B.setXY(F,b0,1-T);J.push(F);F++;}G.push(J);}var o0=[];for(var H=0;H<f;H++){for(var i0=0;i0<e;i0++){var n0=G[H][i0+1],s0=G[H][i0],z0=G[H+1][i0],B0=G[H+1][i0+1];if(H!==0||k>0)o0.push(n0,s0,B0);if(H!==f-1||n<Math.PI)o0.push(s0,z0,B0);}}this.setIndex(new (v.count>m2r.P4?THREE.Uint32Attribute:THREE.Uint16Attribute)(o0,1));this.addAttribute(m2r.H2,v);this.addAttribute(m2r.Y3,A);this.addAttribute(m2r.M4,B);this.boundingSphere=new THREE.Sphere(new THREE.Vector3(),d);};THREE.SphereBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.SphereBufferGeometry.prototype.constructor=THREE.SphereBufferGeometry;THREE.TextGeometry=function(d,e){e=e||{};var f=e.font;if(f instanceof THREE.Font===m2r.e5){console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.');return new THREE.Geometry();}var i=f.generateShapes(d,e.size,e.curveSegments);e.amount=e.height!==undefined?e.height:50;if(e.bevelThickness===undefined)e.bevelThickness=10;if(e.bevelSize===undefined)e.bevelSize=8;if(e.bevelEnabled===undefined)e.bevelEnabled=m2r.e5;THREE.ExtrudeGeometry.call(this,i,e);this.type='TextGeometry';};THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype);THREE.TextGeometry.prototype.constructor=THREE.TextGeometry;THREE.TorusBufferGeometry=function(d,e,f,i,j){THREE.BufferGeometry.call(this);this.type=m2r.D1;this.parameters={radius:d,tube:e,radialSegments:f,tubularSegments:i,arc:j};d=d||m2r.h5;e=e||40;f=Math.floor(f)||8;i=Math.floor(i)||6;j=j||Math.PI*2;var k=((f+1)*(i+1)),m=f*i*2*3,n=new (m>m2r.P4?Uint32Array:Uint16Array)(m),u=new Float32Array(k*3),v=new Float32Array(k*3),A=new Float32Array(k*2),B=0,F=0,G=0,L=new THREE.Vector3(),H=new THREE.Vector3(),J=new THREE.Vector3(),T,i0;for(T=0;T<=f;T++){for(i0=0;i0<=i;i0++){var b0=i0/i*j,N=T/f*Math.PI*2;H.x=(d+e*Math.cos(N))*Math.cos(b0);H.y=(d+e*Math.cos(N))*Math.sin(b0);H.z=e*Math.sin(N);u[B]=H.x;u[B+1]=H.y;u[B+2]=H.z;L.x=d*Math.cos(b0);L.y=d*Math.sin(b0);J.subVectors(H,L).normalize();v[B]=J.x;v[B+1]=J.y;v[B+2]=J.z;A[F]=i0/i;A[F+1]=T/f;B+=3;F+=2;}}for(T=1;T<=f;T++){for(i0=1;i0<=i;i0++){var l0=(i+1)*T+i0-1,m0=(i+1)*(T-1)+i0-1,o0=(i+1)*(T-1)+i0,n0=(i+1)*T+i0;n[G]=l0;n[G+1]=m0;n[G+2]=n0;n[G+3]=m0;n[G+4]=o0;n[G+5]=n0;G+=6;}}this.setIndex(new THREE.BufferAttribute(n,1));this.addAttribute(m2r.H2,new THREE.BufferAttribute(u,3));this.addAttribute(m2r.Y3,new THREE.BufferAttribute(v,3));this.addAttribute(m2r.M4,new THREE.BufferAttribute(A,2));};THREE.TorusBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.TorusBufferGeometry.prototype.constructor=THREE.TorusBufferGeometry;THREE.TorusGeometry=function(d,e,f,i,j){THREE.Geometry.call(this);this.type=m2r.l5;this.parameters={radius:d,tube:e,radialSegments:f,tubularSegments:i,arc:j};this.fromBufferGeometry(new THREE.TorusBufferGeometry(d,e,f,i,j));};THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusGeometry.prototype.constructor=THREE.TorusGeometry;THREE.TorusKnotBufferGeometry=function(v,A,B,F,G,L){THREE.BufferGeometry.call(this);this.type=m2r.M2;this.parameters={radius:v,tube:A,tubularSegments:B,radialSegments:F,p:G,q:L};v=v||m2r.h5;A=A||40;B=Math.floor(B)||64;F=Math.floor(F)||8;G=G||2;L=L||3;var H=((F+1)*(B+1)),J=F*B*2*3,T=new THREE.BufferAttribute(new (J>m2r.P4?Uint32Array:Uint16Array)(J),1),i0=new THREE.BufferAttribute(new Float32Array(H*3),3),b0=new THREE.BufferAttribute(new Float32Array(H*3),3),N=new THREE.BufferAttribute(new Float32Array(H*2),2),l0,m0,o0=0,n0=0,s0=new THREE.Vector3(),z0=new THREE.Vector3(),B0=new THREE.Vector2(),y0=new THREE.Vector3(),x0=new THREE.Vector3(),w0=new THREE.Vector3(),J0=new THREE.Vector3(),O0=new THREE.Vector3();for(l0=0;l0<=B;++l0){var A0=l0/B*G*Math.PI*2;g1(A0,G,L,v,y0);g1(A0+0.01,G,L,v,x0);J0.subVectors(x0,y0);O0.addVectors(x0,y0);w0.crossVectors(J0,O0);O0.crossVectors(w0,J0);w0.normalize();O0.normalize();for(m0=0;m0<=F;++m0){var M0=m0/F*Math.PI*2,H0=-A*Math.cos(M0),E0=A*Math.sin(M0);s0.x=y0.x+(H0*O0.x+E0*w0.x);s0.y=y0.y+(H0*O0.y+E0*w0.y);s0.z=y0.z+(H0*O0.z+E0*w0.z);i0.setXYZ(o0,s0.x,s0.y,s0.z);z0.subVectors(s0,y0).normalize();b0.setXYZ(o0,z0.x,z0.y,z0.z);B0.x=l0/B;B0.y=m0/F;N.setXY(o0,B0.x,B0.y);o0++;}}for(m0=1;m0<=B;m0++){for(l0=1;l0<=F;l0++){var U0=(F+1)*(m0-1)+(l0-1),D0=(F+1)*m0+(l0-1),L0=(F+1)*m0+l0,S0=(F+1)*(m0-1)+l0;T.setX(n0,U0);n0++;T.setX(n0,D0);n0++;T.setX(n0,S0);n0++;T.setX(n0,D0);n0++;T.setX(n0,L0);n0++;T.setX(n0,S0);n0++;}}this.setIndex(T);this.addAttribute(m2r.H2,i0);this.addAttribute(m2r.Y3,b0);this.addAttribute(m2r.M4,N);function g1(d,e,f,i,j){var k=Math.cos(d),m=Math.sin(d),n=f/e*d,u=Math.cos(n);j.x=i*(2+u)*m2r.K2*k;j.y=i*(2+u)*m*m2r.K2;j.z=i*Math.sin(n)*m2r.K2;}};THREE.TorusKnotBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.TorusKnotBufferGeometry.prototype.constructor=THREE.TorusKnotBufferGeometry;THREE.TorusKnotGeometry=function(d,e,f,i,j,k,m){THREE.Geometry.call(this);this.type=m2r.I4;this.parameters={radius:d,tube:e,tubularSegments:f,radialSegments:i,p:j,q:k};if(m!==undefined)console.warn('THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.');this.fromBufferGeometry(new THREE.TorusKnotBufferGeometry(d,e,f,i,j,k));this.mergeVertices();};THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusKnotGeometry.prototype.constructor=THREE.TorusKnotGeometry;THREE.TubeGeometry=function(i,j,k,m,n,u){THREE.Geometry.call(this);this.type='TubeGeometry';this.parameters={path:i,segments:j,radius:k,radialSegments:m,closed:n,taper:u};j=j||64;k=k||1;m=m||8;n=n||m2r.e5;u=u||THREE.TubeGeometry.NoTaper;var v=[],A=this,B,F,G,L=j+1,H,J,T,i0,b0,N,l0=new THREE.Vector3(),m0,o0,n0,s0,z0,B0,y0,x0,w0,J0,O0,A0,M0=new THREE.TubeGeometry.FrenetFrames(i,j,n),H0=M0.tangents,E0=M0.normals,U0=M0.binormals;this.tangents=H0;this.normals=E0;this.binormals=U0;function D0(d,e,f){return A.vertices.push(new THREE.Vector3(d,e,f))-1;}for(m0=0;m0<L;m0++){v[m0]=[];H=m0/(L-1);N=i.getPointAt(H);B=H0[m0];F=E0[m0];G=U0[m0];T=k*u(H);for(o0=0;o0<m;o0++){J=o0/m*2*Math.PI;i0=-T*Math.cos(J);b0=T*Math.sin(J);l0.copy(N);l0.x+=i0*F.x+b0*G.x;l0.y+=i0*F.y+b0*G.y;l0.z+=i0*F.z+b0*G.z;v[m0][o0]=D0(l0.x,l0.y,l0.z);}}for(m0=0;m0<j;m0++){for(o0=0;o0<m;o0++){n0=(n)?(m0+1)%j:m0+1;s0=(o0+1)%m;z0=v[m0][o0];B0=v[n0][o0];y0=v[n0][s0];x0=v[m0][s0];w0=new THREE.Vector2(m0/j,o0/m);J0=new THREE.Vector2((m0+1)/j,o0/m);O0=new THREE.Vector2((m0+1)/j,(o0+1)/m);A0=new THREE.Vector2(m0/j,(o0+1)/m);this.faces.push(new THREE.Face3(z0,B0,x0));this.faceVertexUvs[0].push([w0,J0,A0]);this.faces.push(new THREE.Face3(B0,y0,x0));this.faceVertexUvs[0].push([J0.clone(),O0,A0.clone()]);}}this.computeFaceNormals();this.computeVertexNormals();};THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TubeGeometry.prototype.constructor=THREE.TubeGeometry;THREE.TubeGeometry.NoTaper=function(d){return 1;};THREE.TubeGeometry.SinusoidalTaper=function(d){return Math.sin(Math.PI*d);};THREE.TubeGeometry.FrenetFrames=function(d,e,f){var i=new THREE.Vector3(),j=[],k=[],m=[],n=new THREE.Vector3(),u=new THREE.Matrix4(),v=e+1,A,B,F,G,L,H,J;this.tangents=j;this.normals=k;this.binormals=m;for(H=0;H<v;H++){J=H/(v-1);j[H]=d.getTangentAt(J);j[H].normalize();}T();function T(){k[0]=new THREE.Vector3();m[0]=new THREE.Vector3();B=Number.MAX_VALUE;F=Math.abs(j[0].x);G=Math.abs(j[0].y);L=Math.abs(j[0].z);if(F<=B){B=F;i.set(1,0,0);}if(G<=B){B=G;i.set(0,1,0);}if(L<=B){i.set(0,0,1);}n.crossVectors(j[0],i).normalize();k[0].crossVectors(j[0],n);m[0].crossVectors(j[0],k[0]);}for(H=1;H<v;H++){k[H]=k[H-1].clone();m[H]=m[H-1].clone();n.crossVectors(j[H-1],j[H]);if(n.length()>Number.EPSILON){n.normalize();A=Math.acos(THREE.Math.clamp(j[H-1].dot(j[H]),-1,1));k[H].applyMatrix4(u.makeRotationAxis(n,A));}m[H].crossVectors(j[H],k[H]);}if(f){A=Math.acos(THREE.Math.clamp(k[0].dot(k[v-1]),-1,1));A/=(v-1);if(j[0].dot(n.crossVectors(k[0],k[v-1]))>0){A=-A;}for(H=1;H<v;H++){k[H].applyMatrix4(u.makeRotationAxis(j[H],A*H));m[H].crossVectors(j[H],k[H]);}}};THREE.PolyhedronGeometry=function(L,H,J,T){THREE.Geometry.call(this);this.type='PolyhedronGeometry';this.parameters={vertices:L,indices:H,radius:J,detail:T};J=J||1;T=T||0;var i0=this;for(var b0=0,N=L.length;b0<N;b0+=3){M0(new THREE.Vector3(L[b0],L[b0+1],L[b0+2]));}var l0=this.vertices,m0=[];for(var b0=0,o0=0,N=H.length;b0<N;b0+=3,o0++){var n0=l0[H[b0]],s0=l0[H[b0+1]],z0=l0[H[b0+2]];m0[o0]=new THREE.Face3(n0.index,s0.index,z0.index,[n0.clone(),s0.clone(),z0.clone()],undefined,o0);}var B0=new THREE.Vector3();for(var b0=0,N=m0.length;b0<N;b0++){E0(m0[b0],T);}for(var b0=0,N=this.faceVertexUvs[0].length;b0<N;b0++){var y0=this.faceVertexUvs[0][b0],x0=y0[0].x,w0=y0[1].x,J0=y0[2].x,O0=Math.max(x0,w0,J0),A0=Math.min(x0,w0,J0);if(O0>0.9&&A0<0.1){if(x0<0.2)y0[0].x+=1;if(w0<0.2)y0[1].x+=1;if(J0<0.2)y0[2].x+=1;}}for(var b0=0,N=this.vertices.length;b0<N;b0++){this.vertices[b0].multiplyScalar(J);}this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3(),J);function M0(d){var e=d.normalize().clone();e.index=i0.vertices.push(e)-1;var f=U0(d)/2/Math.PI+m2r.K2,i=D0(d)/Math.PI+m2r.K2;e.uv=new THREE.Vector2(f,1-i);return e;}function H0(d,e,f,i){var j=new THREE.Face3(d.index,e.index,f.index,[d.clone(),e.clone(),f.clone()],undefined,i);i0.faces.push(j);B0.copy(d).add(e).add(f).divideScalar(3);var k=U0(B0);i0.faceVertexUvs[0].push([L0(d.uv,d,k),L0(e.uv,e,k),L0(f.uv,f,k)]);}function E0(d,e){var f=Math.pow(2,e),i=M0(i0.vertices[d.a]),j=M0(i0.vertices[d.b]),k=M0(i0.vertices[d.c]),m=[],n=d.materialIndex;for(var u=0;u<=f;u++){m[u]=[];var v=M0(i.clone().lerp(k,u/f)),A=M0(j.clone().lerp(k,u/f)),B=f-u;for(var F=0;F<=B;F++){if(F===0&&u===f){m[u][F]=v;}else{m[u][F]=M0(v.clone().lerp(A,F/B));}}}for(var u=0;u<f;u++){for(var F=0;F<2*(f-u)-1;F++){var G=Math.floor(F/2);if(F%2===0){H0(m[u][G+1],m[u+1][G],m[u][G],n);}else{H0(m[u][G+1],m[u+1][G+1],m[u+1][G],n);}}}}function U0(d){return Math.atan2(d.z,-d.x);}function D0(d){return Math.atan2(-d.y,Math.sqrt((d.x*d.x)+(d.z*d.z)));}function L0(d,e,f){if((f<0)&&(d.x===1))d=new THREE.Vector2(d.x-1,d.y);if((e.x===0)&&(e.z===0))d=new THREE.Vector2(f/2/Math.PI+m2r.K2,d.y);return d.clone();}};THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PolyhedronGeometry.prototype.constructor=THREE.PolyhedronGeometry;THREE.DodecahedronGeometry=function(d,e){var f=(1+Math.sqrt(5))/2,i=1/f,j=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-f,0,-i,f,0,i,-f,0,i,f,-i,-f,0,-i,f,0,i,-f,0,i,f,0,-f,0,-i,f,0,-i,-f,0,i,f,0,i],k=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];THREE.PolyhedronGeometry.call(this,j,k,d,e);this.type=m2r.N1;this.parameters={radius:d,detail:e};};THREE.DodecahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.DodecahedronGeometry.prototype.constructor=THREE.DodecahedronGeometry;THREE.IcosahedronGeometry=function(d,e){var f=(1+Math.sqrt(5))/2,i=[-1,f,0,1,f,0,-1,-f,0,1,-f,0,0,-1,f,0,1,f,0,-1,-f,0,1,-f,f,0,-1,f,0,1,-f,0,-1,-f,0,1],j=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];THREE.PolyhedronGeometry.call(this,i,j,d,e);this.type=m2r.e1;this.parameters={radius:d,detail:e};};THREE.IcosahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry;THREE.OctahedronGeometry=function(d,e){var f=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];THREE.PolyhedronGeometry.call(this,f,i,d,e);this.type=m2r.B3;this.parameters={radius:d,detail:e};};THREE.OctahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.OctahedronGeometry.prototype.constructor=THREE.OctahedronGeometry;THREE.TetrahedronGeometry=function(d,e){var f=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];THREE.PolyhedronGeometry.call(this,f,i,d,e);this.type=m2r.R2;this.parameters={radius:d,detail:e};};THREE.TetrahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.TetrahedronGeometry.prototype.constructor=THREE.TetrahedronGeometry;THREE.ParametricGeometry=function(d,e,f){THREE.Geometry.call(this);this.type='ParametricGeometry';this.parameters={func:d,slices:e,stacks:f};var i=this.vertices,j=this.faces,k=this.faceVertexUvs[0],m,n,u,v,A,B=e+1;for(m=0;m<=f;m++){A=m/f;for(n=0;n<=e;n++){v=n/e;u=d(v,A);i.push(u);}}var F,G,L,H,J,T,i0,b0;for(m=0;m<f;m++){for(n=0;n<e;n++){F=m*B+n;G=m*B+n+1;L=(m+1)*B+n+1;H=(m+1)*B+n;J=new THREE.Vector2(n/e,m/f);T=new THREE.Vector2((n+1)/e,m/f);i0=new THREE.Vector2((n+1)/e,(m+1)/f);b0=new THREE.Vector2(n/e,(m+1)/f);j.push(new THREE.Face3(F,G,H));k.push([J,T,b0]);j.push(new THREE.Face3(G,L,H));k.push([T.clone(),i0,b0.clone()]);}}this.computeFaceNormals();this.computeVertexNormals();};THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ParametricGeometry.prototype.constructor=THREE.ParametricGeometry;THREE.WireframeGeometry=function(f){THREE.BufferGeometry.call(this);var i=[0,0],j={};function k(d,e){return d-e;}var m=['a','b','c'];if(f instanceof THREE.Geometry){var n=f.vertices,u=f.faces,v=0,A=new Uint32Array(6*u.length);for(var B=0,F=u.length;B<F;B++){var G=u[B];for(var L=0;L<3;L++){i[0]=G[m[L]];i[1]=G[m[(L+1)%3]];i.sort(k);var H=i.toString();if(j[H]===undefined){A[2*v]=i[0];A[2*v+1]=i[1];j[H]=m2r.t4;v++;}}}var J=new Float32Array(v*2*3);for(var B=0,F=v;B<F;B++){for(var L=0;L<2;L++){var T=n[A[2*B+L]],i0=6*B+3*L;J[i0+0]=T.x;J[i0+1]=T.y;J[i0+2]=T.z;}}this.addAttribute(m2r.H2,new THREE.BufferAttribute(J,3));}else if(f instanceof THREE.BufferGeometry){if(f.index!==m2r.r4){var b0=f.index.array,n=f.attributes.position,N=f.groups,v=0;if(N.length===0){f.addGroup(0,b0.length);}var A=new Uint32Array(2*b0.length);for(var l0=0,m0=N.length;l0<m0;++l0){var o0=N[l0],n0=o0.start,s0=o0.count;for(var B=n0,z0=n0+s0;B<z0;B+=3){for(var L=0;L<3;L++){i[0]=b0[B+L];i[1]=b0[B+(L+1)%3];i.sort(k);var H=i.toString();if(j[H]===undefined){A[2*v]=i[0];A[2*v+1]=i[1];j[H]=m2r.t4;v++;}}}}var J=new Float32Array(v*2*3);for(var B=0,F=v;B<F;B++){for(var L=0;L<2;L++){var i0=6*B+3*L,B0=A[2*B+L];J[i0+0]=n.getX(B0);J[i0+1]=n.getY(B0);J[i0+2]=n.getZ(B0);}}this.addAttribute(m2r.H2,new THREE.BufferAttribute(J,3));}else{var n=f.attributes.position.array,v=n.length/3,y0=v/3,J=new Float32Array(v*2*3);for(var B=0,F=y0;B<F;B++){for(var L=0;L<3;L++){var i0=18*B+6*L,x0=9*B+3*L;J[i0+0]=n[x0];J[i0+1]=n[x0+1];J[i0+2]=n[x0+2];var B0=9*B+3*((L+1)%3);J[i0+3]=n[B0];J[i0+4]=n[B0+1];J[i0+5]=n[B0+2];}}this.addAttribute(m2r.H2,new THREE.BufferAttribute(J,3));}}};THREE.WireframeGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.WireframeGeometry.prototype.constructor=THREE.WireframeGeometry;THREE.AxisHelper=function(d){d=d||1;var e=new Float32Array([0,0,0,d,0,0,0,0,0,0,d,0,0,0,0,0,0,d]),f=new Float32Array([1,0,0,1,0.6,0,0,1,0,0.6,1,0,0,0,1,0,0.6,1]),i=new THREE.BufferGeometry();i.addAttribute(m2r.H2,new THREE.BufferAttribute(e,3));i.addAttribute(m2r.q3,new THREE.BufferAttribute(f,3));var j=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.LineSegments.call(this,i,j);};THREE.AxisHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.AxisHelper.prototype.constructor=THREE.AxisHelper;THREE.ArrowHelper=(function(){var m=new THREE.Geometry();m.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,1,0));var n=new THREE.CylinderGeometry(0,m2r.K2,1,5,1);n.translate(0,-m2r.K2,0);return function u(d,e,f,i,j,k){THREE.Object3D.call(this);if(i===undefined)i=0xffff00;if(f===undefined)f=1;if(j===undefined)j=0.2*f;if(k===undefined)k=0.2*j;this.position.copy(e);this.line=new THREE.Line(m,new THREE.LineBasicMaterial({color:i}));this.line.matrixAutoUpdate=m2r.e5;this.add(this.line);this.cone=new THREE.Mesh(n,new THREE.MeshBasicMaterial({color:i}));this.cone.matrixAutoUpdate=m2r.e5;this.add(this.cone);this.setDirection(d);this.setLength(f,j,k);};}());THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.ArrowHelper.prototype.constructor=THREE.ArrowHelper;THREE.ArrowHelper.prototype.setDirection=(function(){var e=new THREE.Vector3(),f;return function i(d){if(d.y>m2r.n3){this.quaternion.set(0,0,0,1);}else if(d.y<-m2r.n3){this.quaternion.set(1,0,0,0);}else{e.set(d.z,0,-d.x).normalize();f=Math.acos(d.y);this.quaternion.setFromAxisAngle(e,f);}};}());THREE.ArrowHelper.prototype.setLength=function(d,e,f){if(e===undefined)e=0.2*d;if(f===undefined)f=0.2*e;this.line.scale.set(1,Math.max(0,d-e),1);this.line.updateMatrix();this.cone.scale.set(f,e,f);this.cone.position.y=d;this.cone.updateMatrix();};THREE.ArrowHelper.prototype.setColor=function(d){this.line.material.color.set(d);this.cone.material.color.set(d);};THREE.ArrowHelper2=(function(){var m=new THREE.CylinderGeometry(m2r.K2,m2r.K2,1,5,5);m.translate(0,m2r.K2,0);var n=new THREE.CylinderGeometry(0,1.5,1,5,5);n.translate(0,-m2r.K2,0);return function u(d,e,f,i,j,k){THREE.Object3D.call(this);if(i===undefined)i=0xffff00;if(f===undefined)f=1;if(j===undefined)j=0.3*f;if(k===undefined)k=0.3*j;this.position.copy(e);this.line=new THREE.Mesh(m,new THREE.MeshPhongMaterial({color:i}));this.line.matrixAutoUpdate=m2r.e5;this.add(this.line);this.cone=new THREE.Mesh(n,new THREE.MeshPhongMaterial({color:i}));this.cone.matrixAutoUpdate=m2r.e5;this.add(this.cone);this.setDirection(d);this.setLength(f,j,k);};}());THREE.ArrowHelper2.prototype=Object.create(THREE.Object3D.prototype);THREE.ArrowHelper2.prototype.constructor=THREE.ArrowHelper2;THREE.ArrowHelper2.prototype.setDirection=(function(){var e=new THREE.Vector3(),f;return function i(d){if(d.y>m2r.n3){this.quaternion.set(0,0,0,1);}else if(d.y<-m2r.n3){this.quaternion.set(1,0,0,0);}else{e.set(d.z,0,-d.x).normalize();f=Math.acos(d.y);this.quaternion.setFromAxisAngle(e,f);}};}());THREE.ArrowHelper2.prototype.setLength=function(d,e,f){if(e===undefined)e=0.2*d;if(f===undefined)f=0.2*e;this.line.scale.set(1,Math.max(0,d-e),1);this.line.updateMatrix();this.cone.scale.set(f,e,f);this.cone.position.y=d;this.cone.updateMatrix();};THREE.ArrowHelper2.prototype.setColor=function(d){this.line.material.color.set(d);this.cone.material.color.set(d);};THREE.BoxHelper=function(d){var e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),f=new Float32Array(8*3),i=new THREE.BufferGeometry();i.setIndex(new THREE.BufferAttribute(e,1));i.addAttribute(m2r.H2,new THREE.BufferAttribute(f,3));THREE.LineSegments.call(this,i,new THREE.LineBasicMaterial({color:0xffff00}));if(d!==undefined){this.update(d);}};THREE.BoxHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.BoxHelper.prototype.constructor=THREE.BoxHelper;THREE.BoxHelper.prototype.update=(function(){var k=new THREE.Box3();return function(d){if(d instanceof THREE.Box3){k.copy(d);}else{k.setFromObject(d);}if(k.isEmpty())return ;var e=k.min,f=k.max,i=this.geometry.attributes.position,j=i.array;j[0]=f.x;j[1]=f.y;j[2]=f.z;j[3]=e.x;j[4]=f.y;j[5]=f.z;j[6]=e.x;j[7]=e.y;j[8]=f.z;j[9]=f.x;j[10]=e.y;j[11]=f.z;j[12]=f.x;j[13]=f.y;j[14]=e.z;j[15]=e.x;j[16]=f.y;j[17]=e.z;j[18]=e.x;j[19]=e.y;j[20]=e.z;j[21]=f.x;j[22]=e.y;j[23]=e.z;i.needsUpdate=m2r.t4;this.geometry.computeBoundingSphere();};})();THREE.BoundingBoxHelper=function(d,e){var f=(e!==undefined)?e:0x888888;this.object=d;this.box=new THREE.Box3();THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:f,wireframe:m2r.t4}));};THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.BoundingBoxHelper.prototype.constructor=THREE.BoundingBoxHelper;THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position);};THREE.CameraHelper=function(i){var j=new THREE.Geometry(),k=new THREE.LineBasicMaterial({color:0xffffff,vertexColors:THREE.FaceColors}),m={},n=0xffaa00,u=0xff0000,v=0x00aaff,A=0xffffff,B=0x333333;F("n1","n2",n);F("n2","n4",n);F("n4","n3",n);F("n3","n1",n);F("f1","f2",n);F("f2","f4",n);F("f4","f3",n);F("f3","f1",n);F("n1","f1",n);F("n2","f2",n);F("n3","f3",n);F("n4","f4",n);F("p","n1",u);F("p","n2",u);F("p","n3",u);F("p","n4",u);F("u1","u2",v);F("u2","u3",v);F("u3","u1",v);F(m2r.m2,m2r.y3,A);F("p",m2r.m2,B);F("cn1","cn2",B);F("cn3","cn4",B);F("cf1","cf2",B);F("cf3","cf4",B);function F(d,e,f){G(d,f);G(e,f);}function G(d,e){j.vertices.push(new THREE.Vector3());j.colors.push(new THREE.Color(e));if(m[d]===undefined){m[d]=[];}m[d].push(j.vertices.length-1);}THREE.LineSegments.call(this,j,k);this.camera=i;this.camera.updateProjectionMatrix();this.matrix=i.matrixWorld;this.matrixAutoUpdate=m2r.e5;this.pointMap=m;this.update();};THREE.CameraHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.CameraHelper.prototype.constructor=THREE.CameraHelper;THREE.CameraHelper.prototype.update=function(){var n,u,v=new THREE.Vector3(),A=new THREE.Camera();function B(d,e,f,i){v.set(e,f,i).unproject(A);var j=u[d];if(j!==undefined){for(var k=0,m=j.length;k<m;k++){n.vertices[j[k]].copy(v);}}}return function(){n=this.geometry;u=this.pointMap;var d=1,e=1;A.projectionMatrix.copy(this.camera.projectionMatrix);B(m2r.m2,0,0,-1);B(m2r.y3,0,0,1);B("n1",-d,-e,-1);B("n2",d,-e,-1);B("n3",-d,e,-1);B("n4",d,e,-1);B("f1",-d,-e,1);B("f2",d,-e,1);B("f3",-d,e,1);B("f4",d,e,1);B("u1",d*0.7,e*1.1,-1);B("u2",-d*0.7,e*1.1,-1);B("u3",0,e*2,-1);B("cf1",-d,0,1);B("cf2",d,0,1);B("cf3",0,-e,1);B("cf4",0,e,1);B("cn1",-d,0,-1);B("cn2",d,0,-1);B("cn3",0,-e,-1);B("cn4",0,e,-1);n.verticesNeedUpdate=m2r.t4;};}();THREE.DirectionalLightHelper=function(d,e){THREE.Object3D.call(this);this.light=d;this.light.updateMatrixWorld();this.matrix=d.matrixWorld;this.matrixAutoUpdate=m2r.e5;e=e||1;var f=new THREE.Geometry();f.vertices.push(new THREE.Vector3(-e,e,0),new THREE.Vector3(e,e,0),new THREE.Vector3(e,-e,0),new THREE.Vector3(-e,-e,0),new THREE.Vector3(-e,e,0));var i=new THREE.LineBasicMaterial({fog:m2r.e5});i.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.lightPlane=new THREE.Line(f,i);this.add(this.lightPlane);f=new THREE.Geometry();f.vertices.push(new THREE.Vector3(),new THREE.Vector3());i=new THREE.LineBasicMaterial({fog:m2r.e5});i.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine=new THREE.Line(f,i);this.add(this.targetLine);this.update();};THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.DirectionalLightHelper.prototype.constructor=THREE.DirectionalLightHelper;THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose();};THREE.DirectionalLightHelper.prototype.update=function(){var d=new THREE.Vector3(),e=new THREE.Vector3(),f=new THREE.Vector3();return function(){d.setFromMatrixPosition(this.light.matrixWorld);e.setFromMatrixPosition(this.light.target.matrixWorld);f.subVectors(e,d);this.lightPlane.lookAt(f);this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine.geometry.vertices[1].copy(f);this.targetLine.geometry.verticesNeedUpdate=m2r.t4;this.targetLine.material.color.copy(this.lightPlane.material.color);};}();THREE.EdgesHelper=function(d,e,f){var i=(e!==undefined)?e:0xffffff;THREE.LineSegments.call(this,new THREE.EdgesGeometry(d.geometry,f),new THREE.LineBasicMaterial({color:i}));this.matrix=d.matrixWorld;this.matrixAutoUpdate=m2r.e5;};THREE.EdgesHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.EdgesHelper.prototype.constructor=THREE.EdgesHelper;THREE.FaceNormalsHelper=function(d,e,f,i){this.object=d;this.size=(e!==undefined)?e:1;var j=(f!==undefined)?f:0xffff00,k=(i!==undefined)?i:1,m=0,n=this.object.geometry;if(n instanceof THREE.Geometry){m=n.faces.length;}else{console.warn('THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.');}var u=new THREE.BufferGeometry(),v=new THREE.Float32Attribute(m*2*3,3);u.addAttribute(m2r.H2,v);THREE.LineSegments.call(this,u,new THREE.LineBasicMaterial({color:j,linewidth:k}));this.matrixAutoUpdate=m2r.e5;this.update();};THREE.FaceNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.FaceNormalsHelper.prototype.constructor=THREE.FaceNormalsHelper;THREE.FaceNormalsHelper.prototype.update=(function(){var A=new THREE.Vector3(),B=new THREE.Vector3(),F=new THREE.Matrix3();return function G(){this.object.updateMatrixWorld(m2r.t4);F.getNormalMatrix(this.object.matrixWorld);var d=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,i=f.vertices,j=f.faces,k=0;for(var m=0,n=j.length;m<n;m++){var u=j[m],v=u.normal;A.copy(i[u.a]).add(i[u.b]).add(i[u.c]).divideScalar(3).applyMatrix4(d);B.copy(v).applyMatrix3(F).normalize().multiplyScalar(this.size).add(A);e.setXYZ(k,A.x,A.y,A.z);k=k+1;e.setXYZ(k,B.x,B.y,B.z);k=k+1;}e.needsUpdate=m2r.t4;return this;};}());THREE.GridHelper=function(d,e){var f=new THREE.Geometry(),i=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(0x444444);this.color2=new THREE.Color(0x888888);for(var j=-d;j<=d;j+=e){f.vertices.push(new THREE.Vector3(-d,0,j),new THREE.Vector3(d,0,j),new THREE.Vector3(j,0,-d),new THREE.Vector3(j,0,d));var k=j===0?this.color1:this.color2;f.colors.push(k,k,k,k);}THREE.LineSegments.call(this,f,i);};THREE.GridHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.GridHelper.prototype.constructor=THREE.GridHelper;THREE.GridHelper.prototype.setColors=function(d,e){this.color1.set(d);this.color2.set(e);this.geometry.colorsNeedUpdate=m2r.t4;};THREE.HemisphereLightHelper=function(d,e){THREE.Object3D.call(this);this.light=d;this.light.updateMatrixWorld();this.matrix=d.matrixWorld;this.matrixAutoUpdate=m2r.e5;this.colors=[new THREE.Color(),new THREE.Color()];var f=new THREE.SphereGeometry(e,4,2);f.rotateX(-Math.PI/2);for(var i=0,j=8;i<j;i++){f.faces[i].color=this.colors[i<4?0:1];}var k=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:m2r.t4});this.lightSphere=new THREE.Mesh(f,k);this.add(this.lightSphere);this.update();};THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.HemisphereLightHelper.prototype.constructor=THREE.HemisphereLightHelper;THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose();};THREE.HemisphereLightHelper.prototype.update=function(){var d=new THREE.Vector3();return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(d.setFromMatrixPosition(this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=m2r.t4;};}();THREE.PointLightHelper=function(d,e){this.light=d;this.light.updateMatrixWorld();var f=new THREE.SphereGeometry(e,4,2),i=new THREE.MeshBasicMaterial({wireframe:m2r.t4,fog:m2r.e5});i.color.copy(this.light.color).multiplyScalar(this.light.intensity);THREE.Mesh.call(this,f,i);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=m2r.e5;};THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.PointLightHelper.prototype.constructor=THREE.PointLightHelper;THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose();};THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);};THREE.SkeletonHelper=function(d){this.bones=this.getBoneList(d);var e=new THREE.Geometry();for(var f=0;f<this.bones.length;f++){var i=this.bones[f];if(i.parent instanceof THREE.Bone){e.vertices.push(new THREE.Vector3());e.vertices.push(new THREE.Vector3());e.colors.push(new THREE.Color(0,0,1));e.colors.push(new THREE.Color(0,1,0));}}e.dynamic=m2r.t4;var j=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:m2r.e5,depthWrite:m2r.e5,transparent:m2r.t4});THREE.LineSegments.call(this,e,j);this.root=d;this.matrix=d.matrixWorld;this.matrixAutoUpdate=m2r.e5;this.update();};THREE.SkeletonHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.SkeletonHelper.prototype.constructor=THREE.SkeletonHelper;THREE.SkeletonHelper.prototype.getBoneList=function(d){var e=[];if(d instanceof THREE.Bone){e.push(d);}for(var f=0;f<d.children.length;f++){e.push.apply(e,this.getBoneList(d.children[f]));}return e;};THREE.SkeletonHelper.prototype.update=function(){var d=this.geometry,e=new THREE.Matrix4().getInverse(this.root.matrixWorld),f=new THREE.Matrix4(),i=0;for(var j=0;j<this.bones.length;j++){var k=this.bones[j];if(k.parent instanceof THREE.Bone){f.multiplyMatrices(e,k.matrixWorld);d.vertices[i].setFromMatrixPosition(f);f.multiplyMatrices(e,k.parent.matrixWorld);d.vertices[i+1].setFromMatrixPosition(f);i+=2;}}d.verticesNeedUpdate=m2r.t4;d.computeBoundingSphere();};THREE.SpotLightHelper=function(d){THREE.Object3D.call(this);this.light=d;this.light.updateMatrixWorld();this.matrix=d.matrixWorld;this.matrixAutoUpdate=m2r.e5;var e=new THREE.BufferGeometry(),f=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var i=0,j=1,k=32;i<k;i++,j++){var m=(i/k)*Math.PI*2,n=(j/k)*Math.PI*2;f.push(Math.cos(m),Math.sin(m),1,Math.cos(n),Math.sin(n),1);}e.addAttribute(m2r.H2,new THREE.Float32Attribute(f,3));var u=new THREE.LineBasicMaterial({fog:m2r.e5});this.cone=new THREE.LineSegments(e,u);this.add(this.cone);this.update();};THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.SpotLightHelper.prototype.constructor=THREE.SpotLightHelper;THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose();};THREE.SpotLightHelper.prototype.update=function(){var f=new THREE.Vector3(),i=new THREE.Vector3();return function(){var d=this.light.distance?this.light.distance:1000,e=d*Math.tan(this.light.angle);this.cone.scale.set(e,e,d);f.setFromMatrixPosition(this.light.matrixWorld);i.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(i.sub(f));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);};}();THREE.VertexNormalsHelper=function(d,e,f,i){this.object=d;this.size=(e!==undefined)?e:1;var j=(f!==undefined)?f:0xff0000,k=(i!==undefined)?i:1,m=0,n=this.object.geometry;if(n instanceof THREE.Geometry){m=n.faces.length*3;}else if(n instanceof THREE.BufferGeometry){m=n.attributes.normal.count;}var u=new THREE.BufferGeometry(),v=new THREE.Float32Attribute(m*2*3,3);u.addAttribute(m2r.H2,v);THREE.LineSegments.call(this,u,new THREE.LineBasicMaterial({color:j,linewidth:k}));this.matrixAutoUpdate=m2r.e5;this.update();};THREE.VertexNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.VertexNormalsHelper.prototype.constructor=THREE.VertexNormalsHelper;THREE.VertexNormalsHelper.prototype.update=(function(){var J=new THREE.Vector3(),T=new THREE.Vector3(),i0=new THREE.Matrix3();return function b0(){var d=['a','b','c'];this.object.updateMatrixWorld(m2r.t4);i0.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,f=this.geometry.attributes.position,i=this.object.geometry;if(i instanceof THREE.Geometry){var j=i.vertices,k=i.faces,m=0;for(var n=0,u=k.length;n<u;n++){var v=k[n];for(var A=0,B=v.vertexNormals.length;A<B;A++){var F=j[v[d[A]]],G=v.vertexNormals[A];J.copy(F).applyMatrix4(e);T.copy(G).applyMatrix3(i0).normalize().multiplyScalar(this.size).add(J);f.setXYZ(m,J.x,J.y,J.z);m=m+1;f.setXYZ(m,T.x,T.y,T.z);m=m+1;}}}else if(i instanceof THREE.BufferGeometry){var L=i.attributes.position,H=i.attributes.normal,m=0;for(var A=0,B=L.count;A<B;A++){J.set(L.getX(A),L.getY(A),L.getZ(A)).applyMatrix4(e);T.set(H.getX(A),H.getY(A),H.getZ(A));T.applyMatrix3(i0).normalize().multiplyScalar(this.size).add(J);f.setXYZ(m,J.x,J.y,J.z);m=m+1;f.setXYZ(m,T.x,T.y,T.z);m=m+1;}}f.needsUpdate=m2r.t4;return this;};}());THREE.WireframeHelper=function(d,e){var f=(e!==undefined)?e:0xffffff;THREE.LineSegments.call(this,new THREE.WireframeGeometry(d.geometry),new THREE.LineBasicMaterial({color:f}));this.matrix=d.matrixWorld;this.matrixAutoUpdate=m2r.e5;};THREE.WireframeHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.WireframeHelper.prototype.constructor=THREE.WireframeHelper;THREE.ImmediateRenderObject=function(e){THREE.Object3D.call(this);this.material=e;this.render=function(d){};};THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype);THREE.ImmediateRenderObject.prototype.constructor=THREE.ImmediateRenderObject;THREE.MorphBlendMesh=function(d,e){THREE.Mesh.call(this,d,e);this.animationsMap={};this.animationsList=[];var f=this.geometry.morphTargets.length,i="__default",j=0,k=f-1,m=f/1;this.createAnimation(i,j,k,m);this.setAnimationWeight(i,1);};THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.MorphBlendMesh.prototype.constructor=THREE.MorphBlendMesh;THREE.MorphBlendMesh.prototype.createAnimation=function(d,e,f,i){var j={start:e,end:f,length:f-e+1,fps:i,duration:(f-e)/i,lastFrame:0,currentFrame:0,active:m2r.e5,time:0,direction:1,weight:1,directionBackwards:m2r.e5,mirroredLoop:m2r.e5};this.animationsMap[d]=j;this.animationsList.push(j);};THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(d){var e=/([a-z]+)_?(\d+)/i,f,i={},j=this.geometry;for(var k=0,m=j.morphTargets.length;k<m;k++){var n=j.morphTargets[k],u=n.name.match(e);if(u&&u.length>1){var v=u[1];if(!i[v])i[v]={start:Infinity,end:-Infinity};var A=i[v];if(k<A.start)A.start=k;if(k>A.end)A.end=k;if(!f)f=v;}}for(var v in i){var A=i[v];this.createAnimation(v,A.start,A.end,d);}this.firstAnimation=f;};THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(d){var e=this.animationsMap[d];if(e){e.direction=1;e.directionBackwards=m2r.e5;}};THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(d){var e=this.animationsMap[d];if(e){e.direction=-1;e.directionBackwards=m2r.t4;}};THREE.MorphBlendMesh.prototype.setAnimationFPS=function(d,e){var f=this.animationsMap[d];if(f){f.fps=e;f.duration=(f.end-f.start)/f.fps;}};THREE.MorphBlendMesh.prototype.setAnimationDuration=function(d,e){var f=this.animationsMap[d];if(f){f.duration=e;f.fps=(f.end-f.start)/f.duration;}};THREE.MorphBlendMesh.prototype.setAnimationWeight=function(d,e){var f=this.animationsMap[d];if(f){f.weight=e;}};THREE.MorphBlendMesh.prototype.setAnimationTime=function(d,e){var f=this.animationsMap[d];if(f){f.time=e;}};THREE.MorphBlendMesh.prototype.getAnimationTime=function(d){var e=0,f=this.animationsMap[d];if(f){e=f.time;}return e;};THREE.MorphBlendMesh.prototype.getAnimationDuration=function(d){var e=-1,f=this.animationsMap[d];if(f){e=f.duration;}return e;};THREE.MorphBlendMesh.prototype.playAnimation=function(d){var e=this.animationsMap[d];if(e){e.time=0;e.active=m2r.t4;}else{console.warn("THREE.MorphBlendMesh: animation["+d+"] undefined in .playAnimation()");}};THREE.MorphBlendMesh.prototype.stopAnimation=function(d){var e=this.animationsMap[d];if(e){e.active=m2r.e5;}};THREE.MorphBlendMesh.prototype.update=function(d){for(var e=0,f=this.animationsList.length;e<f;e++){var i=this.animationsList[e];if(!i.active)continue;var j=i.duration/i.length;i.time+=i.direction*d;if(i.mirroredLoop){if(i.time>i.duration||i.time<0){i.direction*=-1;if(i.time>i.duration){i.time=i.duration;i.directionBackwards=m2r.t4;}if(i.time<0){i.time=0;i.directionBackwards=m2r.e5;}}}else{i.time=i.time%i.duration;if(i.time<0)i.time+=i.duration;}var k=i.start+THREE.Math.clamp(Math.floor(i.time/j),0,i.length-1),m=i.weight;if(k!==i.currentFrame){this.morphTargetInfluences[i.lastFrame]=0;this.morphTargetInfluences[i.currentFrame]=1*m;this.morphTargetInfluences[k]=0;i.lastFrame=i.currentFrame;i.currentFrame=k;}var n=(i.time%j)/j;if(i.directionBackwards)n=1-n;if(i.currentFrame!==i.lastFrame){this.morphTargetInfluences[i.currentFrame]=n*m;this.morphTargetInfluences[i.lastFrame]=(1-n)*m;}else{this.morphTargetInfluences[i.currentFrame]=m;}}};var S5Y6={'l1':function(D,E){return D===E;},'F3':function(D,E,b8,G,i){return D*E*b8/G*i;},'S6i':"defineProperties",'j9':function(D,E){return D*E;},'C3':function(D,E){return D-E;},'f9i':'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.','E1':function(D,E){return D===E;},'T8i':"constraint",'J3':function(D,E){return D!==E;},'K1':function(D,E){return D===E;},'q2':function(D,E){return D===E;},'R2':function(D,E){return D*E;},'p7':function(D,E){return D!==E;},'R9':function(D,E){return D*E;},'m1':function(D,E){return D===E;},'V2':function(D,E){return D===E;},'J7':function(D,E){return D===E;},'O7':function(D,E){return D===E;},'F6':function(D,E){return D!==E;},'m9h':(function(z9h){return (function(r9h,Q9h){return (function(N9h){return {u9h:N9h,f9h:N9h,};})(function(P9h){var W9h,M9h=0;for(var e9h=r9h;M9h<P9h["length"];M9h++){var A9h=Q9h(P9h,M9h);W9h=M9h===0?A9h:W9h^A9h;}return W9h?e9h:!e9h;});})((function(l9h,a9h,J9h,d9h){var n9h=25;return l9h(z9h,n9h)-d9h(a9h,J9h)>n9h;})(parseInt,Date,(function(a9h){return (''+a9h)["substring"](1,(a9h+'')["length"]-1);})('_getTime2'),function(a9h,J9h){return new a9h()[J9h]();}),function(P9h,M9h){var y9h=parseInt(P9h["charAt"](M9h),16)["toString"](2);return y9h["charAt"](y9h["length"]-1);});})('1m9020nf00'),'d9':function(D,E){return D>E;},'h2':function(D,E){return D!==E;},'b3':function(D,E){return D<E;},'z7':function(D,E){return D!==E;},'V9':function(D,E){return D instanceof E;},'U2':function(D,E){return D===E;},'W3':function(D,E){return D<E;},'y7':function(D,E){return D!==E;},'D2':function(D,E){return D*E;},'x9':function(D,E){return D*E;},'G1':function(D,E){return D===E;},'T5':function(D,E){return D===E;},'k0G':"target",'i2':function(D,E){return D-E;},'x2':function(D,E){return D-E;},'M9':function(D,E){return D-E;},'z3':function(D,E){return D>E;},'t1':function(D,E){return D===E;},'O5':function(D,E,b8,G){return D*E/b8/G;},'j0G':'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.','K4G':'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.','Z7':function(D,E){return D===E;},'X3':function(D,E){return D===E;},'D9':function(D,E){return D===E;},'f6i':"enableZoom",'c1':function(D,E){return D===E;},'q9':function(D,E){return D===E;},'v3':function(D,E){return D==E;},'v7':function(D,E){return D===E;},'P5':function(D,E){return D instanceof E;},'f1':function(D,E){return D===E;},'L5':function(D,E,b8,G,i){return D*E*b8/G*i;},'k1':function(D,E){return D===E;},'f5':function(D,E){return D/E;},'I1':function(D,E){return D===E;},'B2':function(D,E){return D===E;},'a1':function(D,E){return D===E;},'Q9':function(D,E){return D>E;},'w9':function(D,E,b8,G){return D*E*b8/G;},'H3':function(D,E){return D*E;},'o6':function(D,E){return D*E;},'M2':function(D,E){return D<E;},'q9i':"enablePan",'A5':function(D,E){return D instanceof E;},'S7':function(D,E){return D===E;},'b5i':'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.','u9':function(D,E){return D===E;},'r5':function(D,E){return D instanceof E;},'e3':function(D,E){return D-E;},'L1':function(D,E){return D===E;},'A1':function(D,E){return D!==E;},'c5':function(D,E,b8,G,i){return D*E*b8/G*i;},'l5':function(D,E){return D*E;},'i9':function(D,E){return D*E;},'b7':function(D,E){return D!==E;},'l9i':"enableDamping",'V4G':"enableRotate",'O3':function(D,E){return D!=E;},'g3':function(D,E){return D*E;},'a5':function(D,E){return D instanceof E;},'P1':function(D,E){return D===E;},'E5':function(D,E,b8,G){return D*E*b8/G;},'Q2':function(D,E){return D===E;},'W7':function(D,E){return D===E;},'N2':function(D,E){return D===E;},'y5i':"enableKeys",'p3':function(D,E){return D-E;},'s1':function(D,E){return D===E;},'T1':function(D,E){return D===E;},'u2':function(D,E){return D>E;},'u0G':"dampingFactor",'N9':function(D,E,b8,G,i){return D*E/b8/G*i;},'s9i':"warn",'d2':function(D,E){return D==E;},'S3':function(D,E){return D<=E;},'Z3':function(D,E){return D>E;},'w6':function(D,E){return D*E;},'Y9':function(D,E,b8){return D*E/b8;},'n9':function(D,E){return D-E;},'r1':function(D,E){return D!==E;},'P9i':'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.','Y2':function(D,E){return D===E;},'y3':function(D,E){return D!==E;},'D5':function(D,E,b8,G){return D*E/b8/G;},'a4G':"create",'v5':function(D,E){return D instanceof E;},'g8i':'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.','z4G':"OrbitControls",'o3':function(D,E,b8,G,i){return D*E*b8/G*i;},'n2':function(D,E){return D===E;}};S5Y6.Q5h=function(i){for(;S5Y6;)return S5Y6.m9h.u9h(i);};S5Y6.A5h=function(i){while(i)return S5Y6.m9h.f9h(i);};S5Y6.W5h=function(b){while(b)return S5Y6.m9h.f9h(b);};S5Y6.d5h=function(j){for(;S5Y6;)return S5Y6.m9h.f9h(j);};S5Y6.l5h=function(d){while(d)return S5Y6.m9h.f9h(d);};S5Y6.z5h=function(a){if(S5Y6&&a)return S5Y6.m9h.u9h(a);};S5Y6.n5h=function(m){if(S5Y6&&m)return S5Y6.m9h.u9h(m);};S5Y6.P5h=function(n){for(;S5Y6;)return S5Y6.m9h.f9h(n);};S5Y6.m5h=function(m){for(;S5Y6;)return S5Y6.m9h.u9h(m);};S5Y6.S5h=function(e){while(e)return S5Y6.m9h.f9h(e);};S5Y6.D5h=function(b){if(S5Y6&&b)return S5Y6.m9h.u9h(b);};S5Y6.p5h=function(k){while(k)return S5Y6.m9h.u9h(k);};S5Y6.R5h=function(d){if(S5Y6&&d)return S5Y6.m9h.u9h(d);};S5Y6.I5h=function(i){for(;S5Y6;)return S5Y6.m9h.u9h(i);};S5Y6.O5h=function(n){while(n)return S5Y6.m9h.f9h(n);};S5Y6.i5h=function(a){while(a)return S5Y6.m9h.f9h(a);};S5Y6.x5h=function(k){while(k)return S5Y6.m9h.f9h(k);};S5Y6.b5h=function(l){while(l)return S5Y6.m9h.f9h(l);};S5Y6.E5h=function(n){while(n)return S5Y6.m9h.u9h(n);};S5Y6.B9h=function(n){if(S5Y6&&n)return S5Y6.m9h.u9h(n);};S5Y6.w9h=function(a){if(S5Y6&&a)return S5Y6.m9h.u9h(a);};S5Y6.K9h=function(h){while(h)return S5Y6.m9h.u9h(h);};S5Y6.V9h=function(e){for(;S5Y6;)return S5Y6.m9h.u9h(e);};S5Y6.L9h=function(g){while(g)return S5Y6.m9h.f9h(g);};S5Y6.H9h=function(h){for(;S5Y6;)return S5Y6.m9h.f9h(h);};S5Y6.T9h=function(m){if(S5Y6&&m)return S5Y6.m9h.f9h(m);};S5Y6.U9h=function(e){for(;S5Y6;)return S5Y6.m9h.u9h(e);};THREE[S5Y6.z4G]=S5Y6.U9h("c78")?function(G5,Z8,j8,Z9){S5Y6.e5h=function(e){if(S5Y6&&e)return S5Y6.m9h.f9h(e);};S5Y6.a5h=function(f){if(S5Y6&&f)return S5Y6.m9h.u9h(f);};S5Y6.J5h=function(j){if(S5Y6&&j)return S5Y6.m9h.u9h(j);};S5Y6.M5h=function(e){if(S5Y6&&e)return S5Y6.m9h.f9h(e);};S5Y6.y5h=function(k){while(k)return S5Y6.m9h.f9h(k);};S5Y6.u5h=function(m){if(S5Y6&&m)return S5Y6.m9h.u9h(m);};S5Y6.t5h=function(e){if(S5Y6&&e)return S5Y6.m9h.f9h(e);};S5Y6.G5h=function(b){for(;S5Y6;)return S5Y6.m9h.f9h(b);};S5Y6.v5h=function(h){while(h)return S5Y6.m9h.f9h(h);};S5Y6.s5h=function(n){for(;S5Y6;)return S5Y6.m9h.u9h(n);};S5Y6.j5h=function(i){if(S5Y6&&i)return S5Y6.m9h.f9h(i);};S5Y6.Z5h=function(n){while(n)return S5Y6.m9h.u9h(n);};S5Y6.o9h=function(i){for(;S5Y6;)return S5Y6.m9h.f9h(i);};S5Y6.k9h=function(f){for(;S5Y6;)return S5Y6.m9h.u9h(f);};S5Y6.h9h=function(c){if(S5Y6&&c)return S5Y6.m9h.f9h(c);};S5Y6.c9h=function(l){while(l)return S5Y6.m9h.f9h(l);};S5Y6.F9h=function(d){if(S5Y6&&d)return S5Y6.m9h.f9h(d);};S5Y6.Y9h=function(h){for(;S5Y6;)return S5Y6.m9h.u9h(h);};S5Y6.X9h=function(b){if(S5Y6&&b)return S5Y6.m9h.u9h(b);};S5Y6.q9h=function(n){if(S5Y6&&n)return S5Y6.m9h.u9h(n);};S5Y6.g9h=function(i){if(S5Y6&&i)return S5Y6.m9h.f9h(i);};var h6=S5Y6.g9h("37")?"frontFaceDirection":"setFromMatrixColumn",k=S5Y6.T9h("51c")?"depthPacking":"Vector2",o=S5Y6.q9h("76c")?"Spherical":"rotateAround",L=S5Y6.H9h("6372")?"script":0.000001,O8=S5Y6.L9h("8e84")?0x00008B:5,x8=S5Y6.V9h("3ba")?'#define USE_MAP':4,i8=S5Y6.X9h("13")?'text/plain':'end',u8='start',R8='change',p8=S5Y6.K9h("e4de")?'touchmove':'		attribute vec3 morphTarget6;',y8='touchend',P8='touchstart',z8=S5Y6.Y9h("c5")?'MozMousePixelScroll':'[',S8=S5Y6.F9h("cfc")?'mousewheel':10000.0,a8='mousedown',v8='contextmenu',D8="dispose",f8="reset",W8=S5Y6.c9h("dd38")?"updateCamera":"LinearToneMapping",g8="multiplyScalar",J8="quaternion",e8="applyQuaternion",A8="flyViewPoint",H8=S5Y6.h9h("2f6")?"start":"positions",w8=S5Y6.w9h("3e46")?"onComplete":"websocket",X8="z",o8="onUpdate",K8="InOut",T8="Quadratic",C8=S5Y6.k9h("a61")?"Easing":"IfcBuildingElementProxy",L8=S5Y6.B9h("a1")?"easing":"threshold",O6="to",b6=S5Y6.o9h("811d")?"Tween":"coords",l8="sub",c8="flyFromTo",x6=S5Y6.Z5h("d1e")?"OnSelectElementGeometryList":"lookAt",i6=S5Y6.E5h("bcc")?"lookFromTo":"me8",j6="getAzimuthalAngle",F8="getPolarAngle",v6=S5Y6.j5h("dbb")?"isAnimate":"m23",y6="moved",n6="Quaternion",p6=S5Y6.b5h("de1")?'metalnessmap':"zoom0",J6=S5Y6.s5h("715")?"position0":0xF0E68C,D6=S5Y6.x5h("28b")?"clone":"taper",z6=S5Y6.v5h("cb22")?"target0":"position",R6="MIDDLE",Z6="MOUSE",S6=40,q6=S5Y6.G5h("f34c")?'OES_texture_float':39,d6=38,K6=37,U6=2.0,C6=S5Y6.i5h("cedb")?"bindMode":"autoRotate",b9=S5Y6.O5h("a3e")?7.0:"const float pi = 3.141592653589793238462643383279502884197169;",u6=1.0,E9=S5Y6.I5h("1f6")?"coneCos":0.25,Q6=S5Y6.R5h("8ec8")?"lineUVs":"maxAzimuthAngle",F9=S5Y6.p5h("524")?"minAzimuthAngle":"crossVector",c6="maxPolarAngle",H6="minPolarAngle",s9="maxDistance",k6="minDistance",L6=S5Y6.t5h("4f")?"Vector3":"logarithmicDepthBuffer",g6="F6",r9="phi",J9="zoomSpeed",S9="removeEventListener",m9="sqrt",t9="stopPropagation",j5="RIGHT",T9=S5Y6.D5h("f5")?"addNormal":"LEFT",z9="keyPanSpeed",C9="keys",H9="theta",o9='mouseout',b5=S5Y6.S5h("157")?'mouseup':0.303922,i5=S5Y6.m5h("dc8")?'mousemove':'seagreen',W9="addEventListener",x5=S5Y6.u5h("1b6d")?"mouseButtons":"subVectors",s5=S5Y6.y5h("3c")?"which":"currentClearDepth",G3=S5Y6.P5h("2be")?null:"prefixFragment",t3=S5Y6.M5h("16d6")?"lastIndexOf":"centerMesh",x3="add",W6="position",w5=200,P9=S5Y6.J5h("2e")?"deltaTime":"autoRotateSpeed",K5='WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.',S5=true,A3=S5Y6.a5h("bc3")?"holesFirst":"updateProjectionMatrix",Y6="maxZoom",I3="min",M5="minZoom",k5=S5Y6.n5h("ba")?"max":"cols",X5="zoom",i3="OrthographicCamera",V5="PerspectiveCamera",N6="object",R5=S5Y6.z5h("2824")?"castShadow":"pageY",U9=S5Y6.l5h("fb3d")?"updateMatrixWorld":"pageX",e6=0,c9=S5Y6.d5h("3a7a")?"n42":"PAN",h9=S5Y6.W5h("81a1")?"intersectionPointWorld":"DOLLY",m5=S5Y6.A5h("2f")?"ROTATE":"shapePoints",I5="preventDefault",A9=S5Y6.Q5h("ef")?"update":"debug",O9="copy",W5="clientHeight",p5="y",f9=S5Y6.e5h("f4")?"rotateSpeed":"pointMap",B5="clientWidth",I9="x",Q5="PI",e9="body",G9="domElement",J5="subVectors",K9="clientY",Y5="clientX",d5="set",X6="dispatchEvent",X9="NONE",u5="TOUCH_PAN",N5=3,F5="TOUCH_DOLLY",n5=2,o5="TOUCH_ROTATE",l9=1,y5="touches",B6=false,Q3="enabled";function v1(D){var E="b7",b8="Z7",G="k1",i="c1",I="K1";if(S5Y6[I](k8[Q3],B6))return ;switch(D[y5].length){case l9:if(S5Y6[i](k8[S5Y6.V4G],B6))return ;g2(D);L9=a9[o5];break;case n5:if(S5Y6[G](k8[S5Y6.f6i],B6))return ;Z1(D);L9=a9[F5];break;case N5:if(S5Y6[b8](k8[S5Y6.q9i],B6))return ;w3(D);L9=a9[u5];break;default:L9=a9[X9];}if(S5Y6[E](L9,a9[X9])){k8[X6](s3);}}function c3(D){}function c2(D){O2[d5](D[Y5],D[K9]);}function k9(D){var E="c5",b8="L5",G="T5";B3[d5](D[Y5],D[K9]);L2[J5](B3,m2);var i=S5Y6[G](k8[G9],document)?k8[G9][e9]:k8[G9];e2(S5Y6[b8](n5,Math[Q5],L2[I9],i[B5],k8[f9]));W2(S5Y6[E](n5,Math[Q5],L2[p5],i[W5],k8[f9]));m2[O9](B3);k8[A9]();}function U5(D){var E="m1",b8="t1",G="I1",i="G1",I="s1",R="E1",m="B2";if(S5Y6[m](k8[Q3],B6))return ;D[I5]();if(S5Y6[R](L9,a9[m5])){if(S5Y6[I](k8[S5Y6.V4G],B6))return ;k9(D);}else if(S5Y6[i](L9,a9[h9])){if(S5Y6[G](k8[S5Y6.f6i],B6))return ;E3(D);}else if(S5Y6[b8](L9,a9[c9])){if(S5Y6[E](k8[S5Y6.q9i],B6))return ;q3(D);}}function u3(D){var E="W7";if(S5Y6[E](k8[Q3],B6))return ;c3(D);k8[X6](r2);L9=a9[X9];}function g2(D){m2[d5](D[y5][e6][U9],D[y5][e6][R5]);}function m3(D){var E="l5",b8="a5",G="P5";if(S5Y6[G](k8[N6],THREE[V5])){j1/=D;}else if(S5Y6[b8](k8[N6],THREE[i3])){k8[N6][X5]=Math[k5](k8[M5],Math[I3](k8[Y6],S5Y6[E](k8[N6][X5],D)));k8[N6][A3]();p2=S5;}else{console[S5Y6.s9i](K5);k8[S5Y6.f6i]=B6;}}function p9(D){var E="f5",b8="r5",G="A5";if(S5Y6[G](k8[N6],THREE[V5])){j1*=D;}else if(S5Y6[b8](k8[N6],THREE[i3])){k8[N6][X5]=Math[k5](k8[M5],Math[I3](k8[Y6],S5Y6[E](k8[N6][X5],D)));k8[N6][A3]();p2=S5;}else{console[S5Y6.s9i](K5);k8[S5Y6.f6i]=B6;}}function E3(D){var E="b3",b8="Z3";N3[d5](D[Y5],D[K9]);Z2[J5](N3,O2);if(S5Y6[b8](Z2[p5],e6)){m3(n3());}else if(S5Y6[E](Z2[p5],e6)){p9(n3());}O2[O9](N3);k8[A9]();}function D3(D){var E="L1",b8="T1",G="f1";if(S5Y6[G](k8[Q3],B6)||S5Y6[b8](k8[S5Y6.y5i],B6)||S5Y6[E](k8[S5Y6.q9i],B6))return ;a3(D);}function w2(){var D=60,E="N9";return S5Y6[E](n5,Math[Q5],D,D,k8[P9]);}function C5(D){m2[d5](D[Y5],D[K9]);}function w3(D){t2[d5](D[y5][e6][U9],D[y5][e6][R5]);}function M3(){var D="Mesh",E="MeshLambertMaterial",b8="BoxBufferGeometry",G=new THREE[b8](w5,w5,w5),i=new THREE[E]({color:0xff3300,depthWrite:B6,depthTest:B6}),I=new THREE[D](G,i);I[W6][d5](e6,e6,e6);j8[x3](I);k8[t3]=I;}function o2(D){t2[d5](D[Y5],D[K9]);}function J1(D){var E="h2",b8="Y2",G="V2",i="q2",I="ZOOM",R="U2",m="N2",u="ORBIT",M="button",J="Q2",n="d2",A="focus",M6="n2";if(S5Y6[M6](k8[Q3],B6))return ;k8[G9][A]();D[I5]();k3=G3;if(S5Y6[n](D[s5],l9)){k3=new Date();}if(S5Y6[J](D[M],k8[x5][u])){if(S5Y6[m](k8[S5Y6.V4G],B6))return ;C5(D);L9=a9[m5];}else if(S5Y6[R](D[M],k8[x5][I])){if(S5Y6[i](k8[S5Y6.f6i],B6))return ;c2(D);L9=a9[h9];}else if(S5Y6[G](D[M],k8[x5][c9])){if(S5Y6[b8](k8[S5Y6.q9i],B6))return ;o2(D);L9=a9[c9];}if(S5Y6[E](L9,a9[X9])){document[W9](i5,U5,B6);document[W9](b5,G2,B6);document[W9](o9,G2,B6);k8[X6](s3);}}function e2(D){I2[H9]-=D;}function T2(D){D[I5]();}function U3(D){q5[d5](D[y5][e6][U9],D[y5][e6][R5]);L3[J5](q5,t2);g9(L3[I9],L3[p5]);t2[O9](q5);k8[A9]();}function Z5(D){var E="W3",b8="z3",G="detail",i="J3",I="wheelDelta",R="y3",m=e6;if(S5Y6[R](D[I],undefined)){m=D[I];}else if(S5Y6[i](D[G],undefined)){m=-D[G];}if(S5Y6[b8](m,e6)){p9(n3());}else if(S5Y6[E](m,e6)){m3(n3());}k8[A9]();}function a3(D){var E="BOTTOM",b8="UP",G="keyCode";switch(D[G]){case k8[C9][b8]:g9(e6,k8[z9]);k8[A9]();break;case k8[C9][E]:g9(e6,-k8[z9]);k8[A9]();break;case k8[C9][T9]:g9(k8[z9],e6);k8[A9]();break;case k8[C9][j5]:g9(-k8[z9],e6);k8[A9]();break;}}function T3(D){var E="z7",b8="J7",G="y7",i="S7",I="p7",R="O7",m="v7";if(S5Y6[m](k8[Q3],B6))return ;D[I5]();D[t9]();switch(D[y5].length){case l9:if(S5Y6[R](k8[S5Y6.V4G],B6))return ;if(S5Y6[I](L9,a9[o5]))return ;k2(D);break;case n5:if(S5Y6[i](k8[S5Y6.f6i],B6))return ;if(S5Y6[G](L9,a9[F5]))return ;H2(D);break;case N5:if(S5Y6[b8](k8[S5Y6.q9i],B6))return ;if(S5Y6[E](L9,a9[u5]))return ;U3(D);break;default:L9=a9[X9];}}function H2(D){var E="M2",b8="u2",G="D2",i="R2",I="i2",R="x2",m=S5Y6[R](D[y5][e6][U9],D[y5][l9][U9]),u=S5Y6[I](D[y5][e6][R5],D[y5][l9][R5]),M=Math[m9](S5Y6[i](m,m)+S5Y6[G](u,u));N3[d5](e6,M);Z2[J5](N3,O2);if(S5Y6[b8](Z2[p5],e6)){p9(n3());}else if(S5Y6[E](Z2[p5],e6)){m3(n3());}O2[O9](N3);k8[A9]();}function Z1(D){var E="H3",b8="g3",G="C3",i="e3",I=S5Y6[i](D[y5][e6][U9],D[y5][l9][U9]),R=S5Y6[G](D[y5][e6][R5],D[y5][l9][R5]),m=Math[m9](S5Y6[b8](I,I)+S5Y6[E](R,R));O2[d5](e6,m);}function q3(D){q5[d5](D[Y5],D[K9]);L3[J5](q5,t2);g9(L3[I9],L3[p5]);t2[O9](q5);k8[A9]();}function G2(D){var E="P1";if(S5Y6[E](k8[Q3],B6))return ;g5(D);document[S9](i5,U5,B6);document[S9](b5,G2,B6);document[S9](o9,G2,B6);k8[X6](r2);L9=a9[X9];}function g5(D){var E="S3",b8="getTime",G="p3",i="O3",I="v3";if(S5Y6[I](D[s5],l9)&&S5Y6[i](k3,G3)&&Z9){var R=new Date(),m=S5Y6[G](R[b8](),k3[b8]());if(S5Y6[E](m,w5)){Z9(D,m);}}}function n3(){var D=0.95,E="pow";return Math[E](D,k8[J9]);}function v2(D){var E="r1",b8="A1",G="l1",i="a1";if(S5Y6[i](k8[Q3],B6)||S5Y6[G](k8[S5Y6.f6i],B6)||(S5Y6[b8](L9,a9[X9])&&S5Y6[E](L9,a9[m5])))return ;D[I5]();D[t9]();Z5(D);k8[X6](s3);k8[X6](r2);}function k2(D){var E="o3",b8="F3",G="X3";B3[d5](D[y5][e6][U9],D[y5][e6][R5]);L2[J5](B3,m2);var i=S5Y6[G](k8[G9],document)?k8[G9][e9]:k8[G9];e2(S5Y6[b8](n5,Math[Q5],L2[I9],i[B5],k8[f9]));W2(S5Y6[E](n5,Math[Q5],L2[p5],i[W5],k8[f9]));m2[O9](B3);k8[A9]();}function W2(D){I2[r9]-=D;}this[N6]=G5;this[G9]=(S5Y6[g6](Z8,undefined))?Z8:document;this[Q3]=S5;this[S5Y6.k0G]=new THREE[L6]();this[k6]=e6;this[s9]=Infinity;this[M5]=e6;this[Y6]=Infinity;this[H6]=e6;this[c6]=Math[Q5];this[F9]=-Infinity;this[Q6]=Infinity;this[S5Y6.l9i]=B6;this[S5Y6.u0G]=E9;this[S5Y6.f6i]=S5;this[J9]=u6;this[S5Y6.V4G]=S5;this[f9]=u6;this[S5Y6.q9i]=S5;this[z9]=b9;this[C6]=B6;this[P9]=U6;this[S5Y6.y5i]=S5;this[C9]={LEFT:K6,UP:d6,RIGHT:q6,BOTTOM:S6};this[x5]={ORBIT:THREE[Z6][T9],ZOOM:THREE[Z6][R6],PAN:THREE[Z6][j5]};this[z6]=this[S5Y6.k0G][D6]();this[J6]=this[N6][W6][D6]();this[p6]=this[N6][X5];var k3=G3,j3=new THREE[L6](),l3=new THREE[n6]();this[t3]=G3;this[y6]=B6;this[v6]=B6;this[F8]=function(){return phi;};this[j6]=function(){return theta;};this[i6]=function(D,E){var b8=new THREE[L6]()[O9](E),G=new THREE[L6]()[O9](D);k8[N6][W6][O9](G);k8[N6][x6](b8);k8[S5Y6.k0G][O9](b8);j3[O9](G);};this[c8]=function(m,u,M){var J=2000,n=new THREE[L6]()[O9](u),A=new THREE[L6]()[O9](m),M6=new THREE[L6]()[O9](n)[l8](k8[S5Y6.k0G]),W=new THREE[L6]()[O9](A)[l8](k8[N6][W6]),e=new THREE[L6]()[O9](k8[N6][W6]),C=new THREE[L6]()[O9](k8[S5Y6.k0G]),f={t:e6},H=new TWEEN[b6](f)[O6]({t:l9},J)[L8](TWEEN[C8][T8][K8])[o8](function(){var D="R9";var E="i9";var b8="x9";var G="j9";var i="o6";var I="t";var R="w6";k8[N6][W6][I9]=e[I9]+S5Y6[R](W[I9],f[I]);k8[N6][W6][p5]=e[p5]+S5Y6[i](W[p5],f[I]);k8[N6][W6][X8]=e[X8]+S5Y6[G](W[X8],f[I]);k8[S5Y6.k0G][I9]=C[I9]+S5Y6[b8](M6[I9],f[I]);k8[S5Y6.k0G][p5]=C[p5]+S5Y6[E](M6[p5],f[I]);k8[S5Y6.k0G][X8]=C[X8]+S5Y6[D](M6[X8],f[I]);k8[N6][x6](k8[S5Y6.k0G]);})[w8](function(){j3[O9](k8[N6][W6]);k8[v6]=B6;if(M){M();}})[H8]();k8[v6]=S5;};this[A8]=function(D,E,b8){var G=1000,i=new THREE[L6](),I=new THREE[L6](e6,e6,l9),R=k8[S5Y6.k0G][D6]()[l8](j3).length();i[O9](I)[e8](k8[N6][J8]);i=i[g8](R);var m=new THREE[L6]()[O9](D)[x3](E),u=new THREE[L6]()[O9](m)[x3](i),M=new TWEEN[b6](k8[N6][W6])[O6]({x:u[I9],y:u[p5],z:u[X8],},G)[L8](TWEEN[C8][T8][K8])[o8](function(){})[w8](function(){j3[O9](k8[N6][W6]);k8[S5Y6.k0G][O9](m);k8[N6][x6](k8[S5Y6.k0G]);k8[v6]=B6;})[H8]();k8[v6]=S5;};this[W8]=function(){if(k8[v6])return ;var D=new THREE[L6](),E=new THREE[L6](e6,e6,-l9);D[O9](E)[e8](k8[N6][J8]);var b8=k8[S5Y6.k0G][D6]()[l8](j3).length();D=D[g8](b8);k8[S5Y6.k0G][O9](k8[N6][W6])[x3](D);j3[O9](k8[N6][W6]);};this[f8]=function(){k8[S5Y6.k0G][O9](k8[z6]);k8[N6][W6][O9](k8[J6]);k8[N6][X5]=k8[p6];k8[N6][A3]();k8[X6](A2);k8[A9]();L9=a9[X9];};this[A9]=function(){var W="inverse",e="up",C="setFromUnitVectors",f=new THREE[L6](),H=new THREE[n6]()[C](G5[e],new THREE[L6](e6,l9,e6)),T=H[D6]()[W]();return function(){var D="dot",E=8,b8="Q9",G="distanceToSquared",i="d9",I="n9",R="M9",m="u9",u="setFromSpherical",M="radius",J="makeSafe",n="D9",A="setFromVector3";if(k8[v6])return ;var M6=k8[N6][W6];f[O9](M6)[l8](k8[S5Y6.k0G]);f[e8](H);d3[A](f);if(k8[C6]&&S5Y6[n](L9,a9[X9])){e2(w2());}d3[H9]+=I2[H9];d3[r9]+=I2[r9];d3[H9]=Math[k5](k8[F9],Math[I3](k8[Q6],d3[H9]));d3[r9]=Math[k5](k8[H6],Math[I3](k8[c6],d3[r9]));d3[J]();d3[M]*=j1;d3[M]=Math[k5](k8[k6],Math[I3](k8[s9],d3[M]));k8[S5Y6.k0G][x3](h5);f[u](d3);f[e8](T);M6[O9](k8[S5Y6.k0G])[x3](f);k8[N6][x6](k8[S5Y6.k0G]);if(S5Y6[m](k8[S5Y6.l9i],S5)){I2[H9]*=(S5Y6[R](l9,k8[S5Y6.u0G]));I2[r9]*=(S5Y6[I](l9,k8[S5Y6.u0G]));}else{I2[d5](e6,e6,e6);}j1=l9;h5[d5](e6,e6,e6);if(p2||S5Y6[i](j3[G](k8[N6][W6]),f3)||S5Y6[b8](E*(l9-l3[D](k8[N6][J8])),f3)){k8[X6](A2);j3[O9](k8[N6][W6]);l3[O9](k8[N6][J8]);p2=B6;k8[y6]=S5;return S5;}k8[y6]=B6;return B6;};}();this[D8]=function(){k8[G9][S9](v8,T2,B6);k8[G9][S9](a8,J1,B6);k8[G9][S9](S8,v2,B6);k8[G9][S9](z8,v2,B6);k8[G9][S9](P8,v1,B6);k8[G9][S9](y8,u3,B6);k8[G9][S9](p8,T3,B6);document[S9](i5,U5,B6);document[S9](b5,G2,B6);document[S9](o9,G2,B6);};var k8=this,A2={type:R8},s3={type:u8},r2={type:i8},a9={NONE:-l9,ROTATE:e6,DOLLY:l9,PAN:n5,TOUCH_ROTATE:N5,TOUCH_DOLLY:x8,TOUCH_PAN:O8},L9=a9[X9],f3=L,d3=new THREE[o](),I2=new THREE[o](),j1=l9,h5=new THREE[L6](),p2=B6,m2=new THREE[k](),B3=new THREE[k](),L2=new THREE[k](),t2=new THREE[k](),q5=new THREE[k](),L3=new THREE[k](),O2=new THREE[k](),N3=new THREE[k](),Z2=new THREE[k](),S2=function(){var b8=new THREE[L6]();return function G(D,E){b8[h6](E,e6);b8[g8](-D);h5[x3](b8);};}(),h1=function(){var b8=new THREE[L6]();return function G(D,E){b8[h6](E,l9);b8[g8](D);h5[x3](b8);};}(),g9=function(){var F=new THREE[L6]();return function(D,E){var b8='WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.',G="bottom",i="D5",I="left",R="right",m="O5",u="v5",M="E5",J="matrix",n="w9",A=180.0,M6="fov",W="Y9",e="tan",C="V9",f="q9",H=S5Y6[f](k8[G9],document)?k8[G9][e9]:k8[G9];if(S5Y6[C](k8[N6],THREE[V5])){var T=k8[N6][W6];F[O9](T)[l8](k8[S5Y6.k0G]);var K=F.length();K*=Math[e](S5Y6[W]((k8[N6][M6]/n5),Math[Q5],A));S2(S5Y6[n](n5,D,K,H[W5]),k8[N6][J]);h1(S5Y6[M](n5,E,K,H[W5]),k8[N6][J]);}else if(S5Y6[u](k8[N6],THREE[i3])){S2(S5Y6[m](D,(k8[N6][R]-k8[N6][I]),k8[N6][X5],H[B5]),k8[N6][J]);h1(S5Y6[i](E,(k8.object.top-k8[N6][G]),k8[N6][X5],H[W5]),k8[N6][J]);}else{console[S5Y6.s9i](b8);k8[S5Y6.q9i]=B6;}};}();k8[G9][W9](v8,T2,B6);k8[G9][W9](a8,J1,B6);k8[G9][W9](S8,v2,B6);k8[G9][W9](z8,v2,B6);k8[G9][W9](P8,v1,B6);k8[G9][W9](y8,u3,B6);k8[G9][W9](p8,T3,B6);this[A9]();}:204;THREE.OrbitControls.prototype=Object[S5Y6.a4G](THREE.EventDispatcher.prototype);THREE.OrbitControls.prototype.constructor=THREE[S5Y6.z4G];Object[S5Y6.S6i](THREE.OrbitControls.prototype,{center:{get:function(){var D='THREE.OrbitControls: .center has been renamed to .target';console[S5Y6.s9i](D);return this[S5Y6.k0G];}},noZoom:{get:function(){console[S5Y6.s9i](S5Y6.K4G);return !this[S5Y6.f6i];},set:function(D){console[S5Y6.s9i](S5Y6.K4G);this[S5Y6.f6i]=!D;}},noRotate:{get:function(){console[S5Y6.s9i](S5Y6.P9i);return !this[S5Y6.V4G];},set:function(D){console[S5Y6.s9i](S5Y6.P9i);this[S5Y6.V4G]=!D;}},noPan:{get:function(){console[S5Y6.s9i](S5Y6.j0G);return !this[S5Y6.q9i];},set:function(D){console[S5Y6.s9i](S5Y6.j0G);this[S5Y6.q9i]=!D;}},noKeys:{get:function(){console[S5Y6.s9i](S5Y6.f9i);return !this[S5Y6.y5i];},set:function(D){console[S5Y6.s9i](S5Y6.f9i);this[S5Y6.y5i]=!D;}},staticMoving:{get:function(){console[S5Y6.s9i](S5Y6.b5i);return !this[S5Y6.T8i][S5Y6.l9i];},set:function(D){console[S5Y6.s9i](S5Y6.b5i);this[S5Y6.T8i][S5Y6.l9i]=!D;}},dynamicDampingFactor:{get:function(){console[S5Y6.s9i](S5Y6.g8i);return this[S5Y6.T8i][S5Y6.u0G];},set:function(D){console[S5Y6.s9i](S5Y6.g8i);this[S5Y6.T8i][S5Y6.u0G]=D;}}});var H7E={'V':function(D,E){return D!=E;},'O':function(D,E){return D>E;},'P':function(D,E){return D-E;},'q':function(D,E){return D!=E;},'N':function(D,E){return D!=E;},'h':function(D,E){return D!=E;},'p':function(D,E){return D/E;},'Q':function(D,E){return D*E;},'Y':function(D,E){return D!=E;},'m8':function(D,E){return D!=E;},'G8':function(D,E){return D*E;},'I8':function(D,E){return D*E;},'B':function(D,E){return D*E;},'s8':function(D,E){return D*E;},'v':function(D,E){return D!==E;},'E8':function(D,E){return D*E;},'U':function(D,E){return D!=E;},'S':function(D,E){return D/E;},'j':function(D,E){return D!==E;},'a':function(D,E){return D/E;},'t8':function(D,E){return D*E;},'A2G':"KeyControls",'R0F':(function(P0F){return (function(d0F,z0F){return (function(W0F){return {p0F:W0F,Q0F:W0F,};})(function(D0F){var a0F,S0F=0;for(var l0F=d0F;S0F<D0F["length"];S0F++){var n0F=z0F(D0F,S0F);a0F=S0F===0?n0F:a0F^n0F;}return a0F?l0F:!l0F;});})((function(M0F,u0F,m0F,J0F){var y0F=27;return M0F(P0F,y0F)-J0F(u0F,m0F)>y0F;})(parseInt,Date,(function(u0F){return (''+u0F)["substring"](1,(u0F+'')["length"]-1);})('_getTime2'),function(u0F,m0F){return new u0F()[m0F]();}),function(D0F,S0F){var t0F=parseInt(D0F["charAt"](S0F),16)["toString"](2);return t0F["charAt"](t0F["length"]-1);});})('pfn1pjdb0'),'d':function(D,E){return D*E;}};H7E.l8h=function(i){for(;H7E;)return H7E.R0F.Q0F(i);};H7E.z8h=function(b){while(b)return H7E.R0F.Q0F(b);};H7E.n8h=function(n){for(;H7E;)return H7E.R0F.p0F(n);};H7E.M8h=function(e){if(H7E&&e)return H7E.R0F.Q0F(e);};H7E.y8h=function(e){if(H7E&&e)return H7E.R0F.Q0F(e);};H7E.t8h=function(d){if(H7E&&d)return H7E.R0F.Q0F(d);};H7E.p8h=function(b){if(H7E&&b)return H7E.R0F.p0F(b);};H7E.R8h=function(j){for(;H7E;)return H7E.R0F.Q0F(j);};H7E.I8h=function(g){while(g)return H7E.R0F.p0F(g);};H7E.i8h=function(g){while(g)return H7E.R0F.p0F(g);};H7E.v8h=function(i){if(H7E&&i)return H7E.R0F.Q0F(i);};H7E.x8h=function(k){for(;H7E;)return H7E.R0F.Q0F(k);};H7E.s8h=function(m){if(H7E&&m)return H7E.R0F.p0F(m);};H7E.b8h=function(l){for(;H7E;)return H7E.R0F.Q0F(l);};H7E.E8h=function(m){for(;H7E;)return H7E.R0F.p0F(m);};H7E.Z8h=function(m){for(;H7E;)return H7E.R0F.p0F(m);};H7E.o0F=function(l){while(l)return H7E.R0F.p0F(l);};H7E.B0F=function(c){while(c)return H7E.R0F.Q0F(c);};H7E.w0F=function(a){while(a)return H7E.R0F.p0F(a);};H7E.F0F=function(c){for(;H7E;)return H7E.R0F.p0F(c);};H7E.K0F=function(b){for(;H7E;)return H7E.R0F.p0F(b);};H7E.X0F=function(m){if(H7E&&m)return H7E.R0F.Q0F(m);};H7E.V0F=function(k){while(k)return H7E.R0F.p0F(k);};H7E.L0F=function(a){for(;H7E;)return H7E.R0F.Q0F(a);};H7E.H0F=function(j){for(;H7E;)return H7E.R0F.Q0F(j);};H7E.C0F=function(n){while(n)return H7E.R0F.Q0F(n);};H7E.N0F=function(f){if(H7E&&f)return H7E.R0F.Q0F(f);};H7E.r0F=function(l){if(H7E&&l)return H7E.R0F.p0F(l);};H7E.e0F=function(f){while(f)return H7E.R0F.Q0F(f);};THREE[H7E.A2G]=H7E.e0F("be")?function(G5,Z8){H7E.a8h=function(l){for(;H7E;)return H7E.R0F.Q0F(l);};H7E.J8h=function(d){for(;H7E;)return H7E.R0F.p0F(d);};H7E.P8h=function(h){while(h)return H7E.R0F.p0F(h);};H7E.u8h=function(m){while(m)return H7E.R0F.p0F(m);};H7E.m8h=function(d){for(;H7E;)return H7E.R0F.Q0F(d);};H7E.S8h=function(b){if(H7E&&b)return H7E.R0F.p0F(b);};H7E.D8h=function(l){if(H7E&&l)return H7E.R0F.p0F(l);};H7E.O8h=function(i){for(;H7E;)return H7E.R0F.Q0F(i);};H7E.G8h=function(l){for(;H7E;)return H7E.R0F.p0F(l);};H7E.j8h=function(i){if(H7E&&i)return H7E.R0F.p0F(i);};H7E.k0F=function(i){while(i)return H7E.R0F.p0F(i);};H7E.h0F=function(f){if(H7E&&f)return H7E.R0F.p0F(f);};H7E.c0F=function(e){if(H7E&&e)return H7E.R0F.Q0F(e);};H7E.Y0F=function(a){if(H7E&&a)return H7E.R0F.p0F(a);};H7E.q0F=function(a){if(H7E&&a)return H7E.R0F.p0F(a);};H7E.T0F=function(k){if(H7E&&k)return H7E.R0F.Q0F(k);};H7E.g0F=function(j){for(;H7E;)return H7E.R0F.Q0F(j);};H7E.U0F=function(k){for(;H7E;)return H7E.R0F.Q0F(k);};H7E.f0F=function(h){if(H7E&&h)return H7E.R0F.p0F(h);};var j8=H7E.r0F("12")?"addEventListener":"localRoot",Z9=H7E.N0F("788")?'keyup':'touchmove',h6=H7E.C0F("822")?'slategray':'keydown',k=H7E.f0F("2d3")?"parseMaterials":"dispose",o=H7E.U0F("e7e3")?"bigcount":"z",L=H7E.g0F("38")?"y":"raycaster",O8=H7E.T0F("5dc")?"morphTarget":"x",x8=H7E.R8h("3f")?"SOCKETURL":"update",i8=H7E.q0F("35b")?"mouseup":"mergeVertices",u8=H7E.H0F("437c")?"TopBackRight":"getContainerDimensions",R8=H7E.L0F("e5")?"mousemove":"node3d",p8=2,y8="button",P8=H7E.V0F("e51b")?"stopPropagation":"me",z8="mousedown",S8="keyup",a8="clearState",v8="updateRotationVector",D8="updateMovementVector",C7="rollRight",f8=H7E.p8h("75")?'PickElementByRay':69,W8=H7E.t8h("7f2")?"onGeometryDispose":"rollLeft",a4=H7E.D8h("f22")?81:'mapLightAnisotropy',g8=H7E.X0F("644")?"getSettings_":"yawRight",J8=H7E.K0F("75")?'is no longer supported.':39,F1=H7E.Y0F("44db")?"bindTexture":"yawLeft",e8=H7E.S8h("c57b")?37:'pos',A8=H7E.m8h("3d")?"set":"pitchDown",l4=40,H8=H7E.F0F("748")?"pitchUp":"targetObject",w8=H7E.c0F("67")?38:0x8b60,U7=H7E.h0F("f1e")?"contour":"down",X8=H7E.w0F("ae")?301:70,o8="up",n4=82,K8=H7E.k0F("647")?"right":"shadowDarkness",T8=68,g7=H7E.u8h("f71e")?"left":"markUniformsLightsNeedsUpdate",C8=H7E.y8h("1e")?65:'DataServerDataBlockReceived',L8=H7E.B0F("3c")?"back":"throwOnDegenerate",d4=H7E.o0F("83")?83:'navy',O6=H7E.Z8h("eacd")?"forward":"z1",b6=87,r4=H7E.P8h("7b")?"Interpolant":"movementSpeedMultiplier",l8=H7E.E8h("2ae")?"morphTargets":16,c8=H7E.j8h("f54")?"getDelta":"keyCode",Q4="keydown",x6=H7E.b8h("dd52")?"handleEvent":"bindingsByName",i6=H7E.M8h("f84")?"rotationVector":"FindBigMeshByFile",A4="Vector3",j6=H7E.J8h("8f")?"moveVector":"matrix4",F8="moveState",y9=H7E.s8h("3a3c")?'float depth = gl_FragCoord.z / gl_FragCoord.w;':0,v6=H7E.a8h("65")?"mouseStatus":"destTracks",y6=H7E.x8h("c73")?"seg1min":"Quaternion",R4=H7E.v8h("1d")?"tempNormals":"tmpQuaternion",n6=H7E.n8h("1c23")?"framebufferTexture2D":"autoForward",p6=false,q7="dragToLook",J6=0.005,D6=H7E.z8h("24")?"n34":"rollSpeed",B4=H7E.l8h("fcc")?10000.0:'DataServerBigMeshLoaded',z6=H7E.G8h("ba")?"movementSpeed":"multiplyVectors",R6=H7E.i8h("1a8")?1:'ENVMAP_MODE_REFRACTION',k4='tabindex',Z6=H7E.O8h("6f")?"setAttribute":"normalmap",S6=H7E.I8h("478")?"j":"IfcFooting",f2="domElement",q6="object",d6="preventDefault";function i7(E,z5){return function(){var D="apply";z5[D](E,arguments);};}function K6(D){D[d6]();}this[q6]=G5;this[f2]=(H7E[S6](Z8,undefined))?Z8:document;if(Z8)this[f2][Z6](k4,-R6);this[z6]=B4;this[D6]=J6;this[q7]=p6;this[n6]=p6;this[R4]=new THREE[y6]();this[v6]=y9;this[F8]={up:y9,down:y9,left:y9,right:y9,forward:y9,back:y9,pitchUp:y9,pitchDown:y9,yawLeft:y9,yawRight:y9,rollLeft:y9,rollRight:y9};this[j6]=new THREE[A4](y9,y9,y9);this[i6]=new THREE[A4](y9,y9,y9);this[x6]=function(D){var E='function',z5="type";if(typeof this[D[z5]]==E){this[D[z5]](D);}};this[Q4]=function(D){var E=.1,z5="altKey";if(D[z5]){return ;}switch(D[c8]){case l8:this[r4]=E;break;case b6:this[F8][O6]=R6;break;case d4:this[F8][L8]=R6;break;case C8:this[F8][g7]=R6;break;case T8:this[F8][K8]=R6;break;case n4:this[F8][o8]=R6;break;case X8:this[F8][U7]=R6;break;case w8:this[F8][H8]=R6;break;case l4:this[F8][A8]=R6;break;case e8:this[F8][F1]=R6;break;case J8:this[F8][g8]=R6;break;case a4:this[F8][W8]=R6;break;case f8:this[F8][C7]=R6;break;}this[D8]();this[v8]();};this[a8]=function(){this[F8][O6]=y9;this[F8][L8]=y9;this[F8][g7]=y9;this[F8][K8]=y9;this[F8][o8]=y9;this[F8][U7]=y9;this[F8][H8]=y9;this[F8][A8]=y9;this[F8][F1]=y9;this[F8][g8]=y9;this[F8][W8]=y9;this[F8][C7]=y9;this[D8]();this[v8]();};this[S8]=function(D){switch(D[c8]){case l8:this[r4]=R6;break;case b6:this[F8][O6]=y9;break;case d4:this[F8][L8]=y9;break;case C8:this[F8][g7]=y9;break;case T8:this[F8][K8]=y9;break;case n4:this[F8][o8]=y9;break;case X8:this[F8][U7]=y9;break;case w8:this[F8][H8]=y9;break;case l4:this[F8][A8]=y9;break;case e8:this[F8][F1]=y9;break;case J8:this[F8][g8]=y9;break;case a4:this[F8][W8]=y9;break;case f8:this[F8][C7]=y9;break;}this[D8]();this[v8]();};this[z8]=function(D){var E="focus",z5="v";if(H7E[z5](this[f2],document)){this[f2][E]();}D[d6]();D[P8]();if(this[q7]){this[v6]++;}else{switch(D[y8]){case y9:this[F8][O6]=R6;break;case p8:this[F8][L8]=R6;break;}this[D8]();}};this[R8]=function(D){var E="pageY",z5="a",b8="offset",Y3="pageX",G="P",i="S",I="size",R="p",s2="O";if(!this[q7]||H7E[s2](this[v6],y9)){var m=this[u8](),u=H7E[R](m[I][y9],p8),M=H7E[i](m[I][R6],p8);this[F8][F1]=-(H7E[G]((D[Y3]-m[b8][y9]),u))/u;this[F8][A8]=H7E[z5](((D[E]-m[b8][R6])-M),M);this[v8]();}};this[i8]=function(D){D[d6]();D[P8]();if(this[q7]){this[v6]--;this[F8][F1]=this[F8][A8]=y9;}else{switch(D[y8]){case y9:this[F8][O6]=y9;break;case p8:this[F8][L8]=y9;break;}this[D8]();}this[v8]();};this[x8]=function(D){var E="order",z5="setFromQuaternion",b8="rotation",Y3="multiply",G="quaternion",i="normalize",I="t8",R="I8",s2="G8",m="set",u="s8",M="translateZ",F2="E8",J="translateY",n="B",A="translateX",D1=true,M6="h",W="Y",e="V",C="q",Y1="U",f="N",H="Q",C1="d",T=H7E[C1](D,this[z6]),K=H7E[H](D,this[D6]),F=p6;if(H7E[f](this[i6][O8],y9)||H7E[Y1](this[i6][L],y9)||H7E[C](this[i6][o],y9)||H7E[e](this[j6][O8],y9)||H7E[W](this[j6][L],y9)||H7E[M6](this[j6][o],y9)){F=D1;}this[q6][A](H7E[n](this[j6][O8],T));this[q6][J](H7E[F2](this[j6][L],T));this[q6][M](H7E[u](this[j6][o],T));this[R4][m](H7E[s2](this[i6][O8],K),H7E[R](this[i6][L],K),H7E[I](this[i6][o],K),R6)[i]();this[q6][G][Y3](this[R4]);this[q6][b8][z5](this[q6][G],this[q6][b8][E]);this[a8]();return F;};this[D8]=function(){var D=(this[F8][O6]||(this[n6]&&!this[F8][L8]))?R6:y9;this[j6][O8]=(-this[F8][g7]+this[F8][K8]);this[j6][L]=(-this[F8][U7]+this[F8][o8]);this[j6][o]=(-D+this[F8][L8]);};this[v8]=function(){this[i6][O8]=(-this[F8][A8]+this[F8][H8]);this[i6][L]=(-this[F8][g8]+this[F8][F1]);this[i6][o]=(-this[F8][C7]+this[F8][W8]);};this[u8]=function(){var D="innerHeight",E="innerWidth",z5="offsetTop",b8="offsetLeft",Y3="offsetHeight",G="offsetWidth",i="m8";if(H7E[i](this[f2],document)){return {size:[this[f2][G],this[f2][Y3]],offset:[this[f2][b8],this[f2][z5]]};}else{return {size:[window[E],window[D]],offset:[y9,y9]};}};this[k]=function(){var D="removeEventListener";this[f2][D](h6,b9,p6);this[f2][D](Z9,N4,p6);};var U6=i7(this,this[R8]),I0=i7(this,this[z8]),C6=i7(this,this[i8]),b9=i7(this,this[Q4]),N4=i7(this,this[S8]);this[f2][j8](h6,b9,p6);this[f2][j8](Z9,N4,p6);this[D8]();this[v8]();}:'darkturquoise';var u1P8={'j7G':"materials",'B8':function(D,E){return D/E;},'q8':function(D,E){return D===E;},'Y2G':"create",'q7G':"path",'n1G':"options",'I7G':"toLowerCase",'G6':function(D,E){return D===E;},'y7G':"materialsArray",'P6':function(D,E){return D===E;},'N7G':"nameLookup",'I6':function(D,E){return D===E;},'l6':function(D,E){return D>E;},'s6':function(D,E){return D/E;},'m1G':0,'Y8':function(D,E){return D===E;},'d8':function(D,E){return D===E;},'m6':function(D,E){return D===E;},'B1G':"manager",'V8':function(D,E){return D===E;},'U8':function(D,E){return D>=E;},'r1G':true,'T6':function(D,E){return D!==E;},'G7G':"side",'M7G':"MTLLoader",'B2G':'ks','S1G':1,'a6':function(D,E){return D<E;},'J7G':"MaterialCreator",'N8':function(D,E){return D>=E;},'U7G':"baseUrl",'T7G':"DefaultLoadingManager",'t7G':"crossOrigin",'h8':function(D,E){return D===E;},'E6':function(D,E){return D/E;},'M8':function(D,E){return D!==E;},'n8':function(D,E){return D<E;},'E1G':"materialsInfo",'Q7G':"wrap",'Q8':function(D,E){return D===E;},'Z7G':"materialOptions",'A6':function(D,E){return D-E;},'T1G':'kd','t6':function(D,E){return D===E;},'r6':function(D,E){return D!==E;},'c2G':"setCrossOrigin",'f6':function(D,E){return D===E;},'d8h':(function(f8h){return (function(V8h,H8h){return (function(X8h){return {W8h:X8h,Y8h:X8h,};})(function(Q8h){var T8h,e8h=0;for(var L8h=V8h;e8h<Q8h["length"];e8h++){var q8h=H8h(Q8h,e8h);T8h=e8h===0?q8h:T8h^q8h;}return T8h?L8h:!L8h;});})((function(U8h,N8h,r8h,g8h){var C8h=25;return U8h(f8h,C8h)-g8h(N8h,r8h)>C8h;})(parseInt,Date,(function(N8h){return (''+N8h)["substring"](1,(N8h+'')["length"]-1);})('_getTime2'),function(N8h,r8h){return new N8h()[r8h]();}),function(Q8h,e8h){var A8h=parseInt(Q8h["charAt"](e8h),16)["toString"](2);return A8h["charAt"](A8h["length"]-1);});})('1m9020nf00'),'D1G':2};u1P8.L6h=function(m){while(m)return u1P8.d8h.Y8h(m);};u1P8.H6h=function(h){while(h)return u1P8.d8h.Y8h(h);};u1P8.g6h=function(g){for(;u1P8;)return u1P8.d8h.W8h(g);};u1P8.U6h=function(g){while(g)return u1P8.d8h.Y8h(g);};u1P8.f6h=function(g){if(u1P8&&g)return u1P8.d8h.Y8h(g);};u1P8.C6h=function(j){if(u1P8&&j)return u1P8.d8h.W8h(j);};u1P8.N6h=function(c){for(;u1P8;)return u1P8.d8h.W8h(c);};u1P8.r6h=function(d){while(d)return u1P8.d8h.W8h(d);};u1P8.e6h=function(l){for(;u1P8;)return u1P8.d8h.W8h(l);};u1P8.Q6h=function(c){for(;u1P8;)return u1P8.d8h.Y8h(c);};u1P8.d6h=function(e){if(u1P8&&e)return u1P8.d8h.Y8h(e);};u1P8.z6h=function(k){if(u1P8&&k)return u1P8.d8h.Y8h(k);};u1P8.n6h=function(k){if(u1P8&&k)return u1P8.d8h.Y8h(k);};u1P8.a6h=function(b){for(;u1P8;)return u1P8.d8h.Y8h(b);};u1P8.J6h=function(n){if(u1P8&&n)return u1P8.d8h.Y8h(n);};u1P8.M6h=function(m){for(;u1P8;)return u1P8.d8h.W8h(m);};u1P8.P6h=function(b){for(;u1P8;)return u1P8.d8h.W8h(b);};u1P8.y6h=function(m){for(;u1P8;)return u1P8.d8h.Y8h(m);};u1P8.m6h=function(m){while(m)return u1P8.d8h.Y8h(m);};u1P8.S6h=function(a){if(u1P8&&a)return u1P8.d8h.Y8h(a);};u1P8.D6h=function(h){if(u1P8&&h)return u1P8.d8h.W8h(h);};u1P8.t6h=function(b){for(;u1P8;)return u1P8.d8h.W8h(b);};u1P8.p6h=function(c){for(;u1P8;)return u1P8.d8h.Y8h(c);};u1P8.R6h=function(n){if(u1P8&&n)return u1P8.d8h.Y8h(n);};u1P8.O6h=function(m){if(u1P8&&m)return u1P8.d8h.W8h(m);};u1P8.G6h=function(i){if(u1P8&&i)return u1P8.d8h.Y8h(i);};u1P8.v6h=function(j){for(;u1P8;)return u1P8.d8h.W8h(j);};u1P8.x6h=function(e){if(u1P8&&e)return u1P8.d8h.W8h(e);};u1P8.s6h=function(e){if(u1P8&&e)return u1P8.d8h.Y8h(e);};u1P8.Z6h=function(b){if(u1P8&&b)return u1P8.d8h.W8h(b);};u1P8.o8h=function(d){if(u1P8&&d)return u1P8.d8h.Y8h(d);};u1P8.w8h=function(i){if(u1P8&&i)return u1P8.d8h.Y8h(i);};u1P8.h8h=function(n){for(;u1P8;)return u1P8.d8h.W8h(n);};u1P8.F8h=function(b){if(u1P8&&b)return u1P8.d8h.Y8h(b);};THREE[u1P8.M7G]=u1P8.F8h("74b3")?function(D){u1P8.c8h=function(a){for(;u1P8;)return u1P8.d8h.W8h(a);};var E=u1P8.c8h("271")?' ]':"M8";this[u1P8.B1G]=u1P8.h8h("1a")?(u1P8[E](D,undefined))?D:THREE[u1P8.T7G]:'WEBKIT_WEBGL_compressed_texture_s3tc';}:'darkviolet';THREE.MTLLoader.prototype=u1P8.w8h("15")?'renderTarget.depthTexture must be an instance of THREE.DepthTexture':{constructor:THREE[u1P8.M7G],load:function(z5,b8,Y3,G){u1P8.B8h=function(m){while(m)return u1P8.d8h.Y8h(m);};u1P8.k8h=function(a){while(a)return u1P8.d8h.W8h(a);};var i=u1P8.k8h("fce")?"setPath":"setRenderTarget",I=u1P8.B8h("c7f")?"optionalNormalMatrix":"XHRLoader",R=u1P8.o8h("1a26")?this:"getFilmWidth",s2=u1P8.Z6h("6b")?new THREE[I](this[u1P8.B1G]):1003;s2[i](this[u1P8.q7G]);s2.load(z5,function(D){var E=u1P8.H6h("be")?"parse":"internalFormat";b8(R[E](D));},Y3,G);},setPath:function(D){u1P8.E6h=function(g){if(u1P8&&g)return u1P8.d8h.W8h(g);};this[u1P8.q7G]=u1P8.E6h("cee7")?D:"tubularSegments";},setBaseUrl:function(D){this[u1P8.U7G]=u1P8.N6h("48d8")?D:"isCommonjs";},setCrossOrigin:function(D){this[u1P8.t7G]=u1P8.C6h("7f")?"currentDepthWrite":D;},setMaterialOptions:function(D){u1P8.j6h=function(j){if(u1P8&&j)return u1P8.d8h.W8h(j);};this[u1P8.Z7G]=u1P8.j6h("7ca")?D:"z";},parse:function(D){u1P8.A6h=function(a){for(;u1P8;)return u1P8.d8h.W8h(a);};u1P8.W6h=function(k){for(;u1P8;)return u1P8.d8h.Y8h(k);};u1P8.l6h=function(n){while(n)return u1P8.d8h.W8h(n);};u1P8.u6h=function(j){if(u1P8&&j)return u1P8.d8h.W8h(j);};u1P8.I6h=function(d){if(u1P8&&d)return u1P8.d8h.Y8h(d);};u1P8.i6h=function(i){for(;u1P8;)return u1P8.d8h.Y8h(i);};u1P8.b6h=function(d){for(;u1P8;)return u1P8.d8h.W8h(d);};var E=u1P8.b6h("efb")?"onEndSelectProcess":"setMaterials",z5=u1P8.Q6h("5efe")?"wireframe":"setManager",b8=u1P8.M6h("3aef")?'morphNormal':3,Y3=u1P8.J6h("fa")?"ks":"pl",G=u1P8.s6h("3f6")?"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_template>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n":"h8",i=u1P8.d6h("f5c")?"WorldUVGenerator":"kd",I=u1P8.W6h("8d")?"Y8":'THREE.Loader.createMaterial: Unsupported',R=u1P8.e6h("211b")?"ka":"mergetime",s2=u1P8.m6h("e7d8")?'DirectGeometry':"V8",m=u1P8.x6h("ff7")?"newmtl":"shape",u=u1P8.f6h("1d87")?"q8":0x02,M=u1P8.v6h("f1e")?"materialCreator":"",F2=u1P8.a6h("fc5")?'bindMatrix':"U8",J=u1P8.G6h("2bd")?"addClass":"substring",n=u1P8.i6h("74a2")?"N8":'values',A=u1P8.O6h("af8")?' ':'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.',D1=u1P8.I6h("8b")?"indexOf":"getWorldScale",M6=u1P8.A6h("ed7")?"vec3 betaMTheta = betaM * mPhase;":'#',W=u1P8.R6h("31")?"dir":"charAt",e=u1P8.n6h("e3b7")?"Q8":' texture units while this GPU supports only ',C=u1P8.p6h("d6de")?'default':"d8",Y1=u1P8.t6h("4eaa")?"FrontFaceDirectionCW":"trim",f=u1P8.D6h("21a")?"n8":1002,H=u1P8.u6h("81")?"\n":"emissive",C1=u1P8.y6h("ed")?"split":"minFilter",T=u1P8.z6h("285b")?"vector2":D[C1](H),K=u1P8.P6h("8b3c")?"attribute vec2 uv;":{},F=u1P8.S6h("22")?180:/\s+/,G5=u1P8.l6h("56eb")?200:{};for(var Z8=u1P8.m1G;u1P8[f](Z8,T.length);Z8++){var j8=T[Z8];j8=j8[Y1]();if(u1P8[C](j8.length,u1P8.m1G)||u1P8[e](j8[W](u1P8.m1G),M6)){continue;}var Z9=j8[D1](A),h6=(u1P8[n](Z9,u1P8.m1G))?j8[J](u1P8.m1G,Z9):j8;h6=h6[u1P8.I7G]();var k=(u1P8[F2](Z9,u1P8.m1G))?j8[J](Z9+u1P8.S1G):M;k=k[Y1]();if(u1P8[u](h6,m)){K={name:k};G5[k]=K;}else if(K){if(u1P8[s2](h6,R)||u1P8[I](h6,i)||u1P8[G](h6,Y3)){var o=k[C1](F,b8);K[h6]=[parseFloat(o[u1P8.m1G]),parseFloat(o[u1P8.S1G]),parseFloat(o[u1P8.D1G])];}else{K[h6]=k;}}}var L=u1P8.r6h("7d")?'.scale':new THREE[u1P8.M7G][u1P8.J7G](this[u1P8.U7G],this[u1P8.Z7G]);L[u1P8.c2G](this[u1P8.t7G]);L[z5](this[u1P8.B1G]);L[E](G5);return L;}};THREE[u1P8.M7G][u1P8.J7G]=function(D,E){u1P8.q6h=function(k){if(u1P8&&k)return u1P8.d8h.Y8h(k);};u1P8.T6h=function(n){for(;u1P8;)return u1P8.d8h.W8h(n);};var z5=u1P8.U6h("daf8")?"_depth":"RepeatWrapping",b8="FrontSide";this[u1P8.U7G]=u1P8.L6h("dbc")?"DEPTH_TEST":D;this[u1P8.n1G]=u1P8.g6h("b2ab")?"ImageLoader":E;this[u1P8.E1G]={};this[u1P8.j7G]=u1P8.T6h("4a6")?'worldpos_vertex':{};this[u1P8.y7G]=[];this[u1P8.N7G]={};this[u1P8.G7G]=(this[u1P8.n1G]&&this[u1P8.n1G][u1P8.G7G])?this[u1P8.n1G][u1P8.G7G]:THREE[b8];this[u1P8.Q7G]=u1P8.q6h("c8")?0x5F9EA0:(this[u1P8.n1G]&&this[u1P8.n1G][u1P8.Q7G])?this[u1P8.n1G][u1P8.Q7G]:THREE[z5];};THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE[u1P8.M7G][u1P8.J7G],setCrossOrigin:function(D){this[u1P8.t7G]=D;},setManager:function(D){this[u1P8.B1G]=D;},setMaterials:function(D){var E="convert";this[u1P8.E1G]=this[E](D);this[u1P8.j7G]={};this[u1P8.y7G]=[];this[u1P8.N7G]={};},convert:function(D){var E=false,z5="t6",b8="I6",Y3="G6",G="ignoreZeroRGBs",i="s6",I="E6",R=255,s2="B8",m="normalizeRGB",u='ka';if(!this[u1P8.n1G])return D;var M={};for(var F2 in D){var J=D[F2],n={};M[F2]=n;for(var A in J){var D1=u1P8.r1G,M6=J[A],W=A[u1P8.I7G]();switch(W){case u1P8.T1G:case u:case u1P8.B2G:if(this[u1P8.n1G]&&this[u1P8.n1G][m]){M6=[u1P8[s2](M6[u1P8.m1G],R),u1P8[I](M6[u1P8.S1G],R),u1P8[i](M6[u1P8.D1G],R)];}if(this[u1P8.n1G]&&this[u1P8.n1G][G]){if(u1P8[Y3](M6[u1P8.m1G],u1P8.m1G)&&u1P8[b8](M6[u1P8.S1G],u1P8.m1G)&&u1P8[z5](M6[u1P8.S1G],u1P8.m1G)){D1=E;}}break;default:break;}if(D1){n[W]=M6;}}}return M;},preload:function(){for(var D in this[u1P8.E1G]){this[u1P8.Y2G](D);}},getIndex:function(D){return this[u1P8.N7G][D];},getAsArray:function(){var D=u1P8.m1G;for(var E in this[u1P8.E1G]){this[u1P8.y7G][D]=this[u1P8.Y2G](E);this[u1P8.N7G][E]=D;D++;}return this[u1P8.y7G];},create:function(D){var E="createMaterial_",z5="m6";if(u1P8[z5](this[u1P8.j7G][D],undefined)){this[E](D);}return this[u1P8.j7G][D];},createMaterial_:function(D){var E="MeshPhongMaterial",z5='bumpMap',b8='bump',Y3='map_bump',G="A6",i="l6",I='Tr',R='transparent',s2='opacity',m="a6",u='d',M='shininess',F2='ns',J="wrapT",n="wrapS",A="loadTexture",D1='map',M6='map_kd',W='specular',e="fromArray",C="Color",Y1='color',f='',H="P6",C1=this[u1P8.E1G][D],T={name:D,side:this[u1P8.G7G]};for(var K in C1){var F=C1[K];if(u1P8[H](F,f))continue;switch(K[u1P8.I7G]()){case u1P8.T1G:T[Y1]=new THREE[C]()[e](F);break;case u1P8.B2G:T[W]=new THREE[C]()[e](F);break;case M6:T[D1]=this[A](this[u1P8.U7G]+F);T[D1][n]=this[u1P8.Q7G];T[D1][J]=this[u1P8.Q7G];break;case F2:T[M]=parseFloat(F);break;case u:if(u1P8[m](F,u1P8.S1G)){T[s2]=F;T[R]=u1P8.r1G;}break;case I:if(u1P8[i](F,u1P8.m1G)){T[s2]=u1P8[G](u1P8.S1G,F);T[R]=u1P8.r1G;}break;case Y3:case b8:if(T[z5])break;T[z5]=this[A](this[u1P8.U7G]+F);T[z5][n]=this[u1P8.Q7G];T[z5][J]=this[u1P8.Q7G];break;default:break;}}this[u1P8.j7G][D]=new THREE[E](T);return this[u1P8.j7G][D];},loadTexture:function(D,E,z5,b8,Y3){var G="mapping",i="T6",I="TextureLoader",R=null,s2="f6",m="r6",u="get",M="Handlers",F2="Loader",J,n=THREE[F2][M][u](D),A=(u1P8[m](this[u1P8.B1G],undefined))?this[u1P8.B1G]:THREE[u1P8.T7G];if(u1P8[s2](n,R)){n=new THREE[I](A);}if(n[u1P8.c2G])n[u1P8.c2G](this[u1P8.t7G]);J=n.load(D,z5,b8,Y3);if(u1P8[i](E,undefined))J[G]=E;return J;}};THREE.EventDispatcher.prototype.apply(THREE.MTLLoader.prototype);var c4m6U={'z9S':'','Y6U':function(D,E){return D===E;},'Y8S':"OBJLoader",'d6U':function(D,E){return D!==E;},'t5S':"path",'J5U':function(D,E){return D!==E;},'C5U':function(D,E){return D<E;},'L9U':function(D,E){return D!==E;},'H5U':function(D,E){return D===E;},'B9S':"name",'X6S':"startObject",'u6U':function(D,E){return D!==E;},'B8S':0,'g5U':function(D,E){return D===E;},'c8S':2,'i5S':"objects",'F8S':3,'s9U':function(D,E){return D===E;},'U6U':function(D,E){return D*E;},'c9U':function(D,E){return D!==E;},'O8S':"normals",'e5U':function(D,E){return D===E;},'O5U':function(D,E){return D<E;},'M6U':function(D,E){return D===E;},'q6U':function(D,E){return D===E;},'t9U':function(D,E){return D<E;},'S5U':function(D,E){return D!==E;},'X9S':"uvs",'G9U':function(D,E){return D<E;},'A9U':function(D,E){return D!==E;},'W5U':function(D,E){return D===E;},'P9U':function(D,E){return D===E;},'b5U':function(D,E){return D!==E;},'T9U':function(D,E){return D===E;},'y9S':"materials",'L9S':"geometry",'c3h':(function(j2h){return (function(O2h,G2h){return (function(I2h){return {h3h:I2h,p2h:I2h,};})(function(k3h){var x2h,B3h=0;for(var i2h=O2h;B3h<k3h["length"];B3h++){var v2h=G2h(k3h,B3h);x2h=B3h===0?v2h:x2h^v2h;}return x2h?i2h:!i2h;});})((function(b2h,Z2h,o3h,s2h){var E2h=30;return b2h(j2h,E2h)-s2h(Z2h,o3h)>E2h;})(parseInt,Date,(function(Z2h){return (''+Z2h)["substring"](1,(Z2h+'')["length"]-1);})('_getTime2'),function(Z2h,o3h){return new Z2h()[o3h]();}),function(k3h,B3h){var w3h=parseInt(k3h["charAt"](B3h),16)["toString"](2);return w3h["charAt"](w3h["length"]-1);});})('b0d06k000'),'r9U':function(D,E){return D===E;},'y5U':function(D,E){return D!==E;},'w5U':function(D,E){return D!==E;},'v5U':function(D,E){return D===E;},'d8S':"vertices",'n6U':function(D,E){return D!==E;},'m9U':function(D,E){return D===E;},'Z5U':function(D,E){return D!==E;},'x9S':"manager",'Q6U':function(D,E){return D*E;},'F5U':function(D,E){return D>E;},'p5U':function(D,E){return D!==E;},'h6U':function(D,E){return D!==E;},'I9U':function(D,E){return D<E;},'r6S':"type",'z5U':function(D,E){return D===E;},'N6U':function(D,E){return D*E;},'Q6S':null,'l9U':function(D,E){return D===E;},'B6U':function(D,E){return D===E;},'S8S':"object",'K8S':"regexp",'E9U':function(D,E){return D===E;},'k9U':function(D,E){return D!==E;},'h8S':1,'K9U':function(D,E){return D===E;},'a6S':'Line','K6S':10,'a9U':function(D,E){return D===E;},'X5U':function(D,E){return D>E;},'k6S':"push",'V6U':function(D,E){return D!==E;},'f9U':function(D,E){return D!==E;},'o5U':function(D,E){return D instanceof E;}};c4m6U.x1h=function(a){if(c4m6U&&a)return c4m6U.c3h.h3h(a);};c4m6U.s1h=function(k){for(;c4m6U;)return c4m6U.c3h.p2h(k);};c4m6U.j1h=function(m){for(;c4m6U;)return c4m6U.c3h.h3h(m);};c4m6U.Z1h=function(b){if(c4m6U&&b)return c4m6U.c3h.p2h(b);};c4m6U.B2h=function(a){for(;c4m6U;)return c4m6U.c3h.h3h(a);};c4m6U.k2h=function(e){if(c4m6U&&e)return c4m6U.c3h.p2h(e);};c4m6U.X2h=function(n){while(n)return c4m6U.c3h.p2h(n);};c4m6U.H2h=function(e){if(c4m6U&&e)return c4m6U.c3h.h3h(e);};c4m6U.q2h=function(f){if(c4m6U&&f)return c4m6U.c3h.h3h(f);};c4m6U.T2h=function(a){if(c4m6U&&a)return c4m6U.c3h.h3h(a);};c4m6U.U2h=function(l){for(;c4m6U;)return c4m6U.c3h.h3h(l);};c4m6U.r2h=function(e){for(;c4m6U;)return c4m6U.c3h.h3h(e);};c4m6U.e2h=function(e){for(;c4m6U;)return c4m6U.c3h.p2h(e);};c4m6U.Q2h=function(i){if(c4m6U&&i)return c4m6U.c3h.h3h(i);};c4m6U.A2h=function(c){if(c4m6U&&c)return c4m6U.c3h.p2h(c);};c4m6U.l2h=function(c){if(c4m6U&&c)return c4m6U.c3h.p2h(c);};c4m6U.z2h=function(b){if(c4m6U&&b)return c4m6U.c3h.p2h(b);};c4m6U.n2h=function(k){for(;c4m6U;)return c4m6U.c3h.h3h(k);};c4m6U.M2h=function(g){while(g)return c4m6U.c3h.h3h(g);};c4m6U.P2h=function(g){if(c4m6U&&g)return c4m6U.c3h.p2h(g);};c4m6U.y2h=function(g){if(c4m6U&&g)return c4m6U.c3h.h3h(g);};c4m6U.u2h=function(e){while(e)return c4m6U.c3h.p2h(e);};c4m6U.m2h=function(j){while(j)return c4m6U.c3h.p2h(j);};c4m6U.S2h=function(b){for(;c4m6U;)return c4m6U.c3h.h3h(b);};c4m6U.D2h=function(c){if(c4m6U&&c)return c4m6U.c3h.h3h(c);};c4m6U.t2h=function(h){while(h)return c4m6U.c3h.h3h(h);};THREE[c4m6U.Y8S]=c4m6U.t2h("3b74")?function(D){var E=c4m6U.D2h("fe")?"DefaultLoadingManager":"cameraPosDef",b8=c4m6U.S2h("2ea6")?"float fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (g_fMaxLuminance * g_fMaxLuminance)))) / (1.0 + fLumScaled); ":"u6U";this[c4m6U.x9S]=c4m6U.m2h("cc75")?'THREE.WebGLRenderer: .addPostPlugin() has been removed.':(c4m6U[b8](D,undefined))?D:THREE[E];this[c4m6U.y9S]=c4m6U.u2h("78c")?c4m6U.Q6S:'DodecahedronGeometry';this[c4m6U.K8S]=c4m6U.y2h("f8a7")?0x8B4513:{vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /};}:0xF08080;THREE.OBJLoader.prototype=c4m6U.P2h("2e62")?'THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.':{constructor:THREE[c4m6U.Y8S],load:function(b8,G,i,I){c4m6U.a2h=function(e){for(;c4m6U;)return c4m6U.c3h.p2h(e);};c4m6U.J2h=function(l){while(l)return c4m6U.c3h.h3h(l);};var R=c4m6U.M2h("533a")?"setPath":"onTextureDispose",m=c4m6U.J2h("b6")?"XHRLoader":"lightPos",u=this,M=c4m6U.a2h("71b3")?":":new THREE[m](u[c4m6U.x9S]);M[R](this[c4m6U.t5S]);M.load(b8,function(D){var E="parse";G(u[E](D));},i,I);},setPath:function(D){this[c4m6U.t5S]=c4m6U.n2h("38a")?D:"_repeat";},setMaterials:function(D){this[c4m6U.y9S]=D;},_createParserState:function(){c4m6U.i1h=function(f){for(;c4m6U;)return c4m6U.c3h.p2h(f);};c4m6U.b1h=function(d){while(d)return c4m6U.c3h.p2h(d);};c4m6U.E1h=function(d){if(c4m6U&&d)return c4m6U.c3h.h3h(d);};c4m6U.c2h=function(n){if(c4m6U&&n)return c4m6U.c3h.h3h(n);};c4m6U.Y2h=function(i){for(;c4m6U;)return c4m6U.c3h.p2h(i);};c4m6U.C2h=function(h){while(h)return c4m6U.c3h.h3h(h);};var O8=c4m6U.Z1h("85")?"parseUVIndex":"percent",x8="parseVertexIndex",i8=c4m6U.E1h("35")?"customDefines":false,u8={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(D,E){c4m6U.W2h=function(k){while(k)return c4m6U.c3h.h3h(k);};var b8="d6U";var G=c4m6U.z2h("28")?"isEmpty":true;var i=c4m6U.j1h("a44")?'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.':"n6U";var I="fromDeclaration";var R=c4m6U.l2h("574")?'fog_fragment':"M6U";if(this[c4m6U.S8S]&&c4m6U[R](this[c4m6U.S8S][I],i8)){c4m6U.d2h=function(d){for(;c4m6U;)return c4m6U.c3h.h3h(d);};this[c4m6U.S8S][c4m6U.B9S]=c4m6U.d2h("ca32")?D:"v_next_x";this[c4m6U.S8S][I]=c4m6U.W2h("735")?(c4m6U[i](E,i8)):"arraybuffer";return ;}this[c4m6U.S8S]=c4m6U.b1h("caea")?'fragment':{name:D||c4m6U.z9S,geometry:{vertices:[],normals:[],uvs:[]},material:{name:c4m6U.z9S,smooth:G},fromDeclaration:(c4m6U[b8](E,i8))};this[c4m6U.i5S][c4m6U.k6S](this[c4m6U.S8S]);},parseVertexIndex:function(D,E){var b8="Q6U";var G=parseInt(D,c4m6U.K6S);return c4m6U[b8]((G>=c4m6U.B8S?G-c4m6U.h8S:G+E/c4m6U.F8S),c4m6U.F8S);},parseNormalIndex:function(D,E){var b8="N6U";var G=c4m6U.A2h("a5")?parseInt(D,c4m6U.K6S):'depthTest';return c4m6U[b8]((G>=c4m6U.B8S?G-c4m6U.h8S:G+E/c4m6U.F8S),c4m6U.F8S);},parseUVIndex:function(D,E){var b8="U6U";var G=c4m6U.Q2h("fdc")?'float fogFactor = 0.0;':parseInt(D,c4m6U.K6S);return c4m6U[b8]((G>=c4m6U.B8S?G-c4m6U.h8S:G+E/c4m6U.c8S),c4m6U.c8S);},addVertex:function(D,E,b8){var G=c4m6U.e2h("15")?'	attribute vec4 skinWeight;':this[c4m6U.d8S];var i=c4m6U.r2h("6723")?'	attribute vec4 skinIndex;':this[c4m6U.S8S][c4m6U.L9S][c4m6U.d8S];i[c4m6U.k6S](G[D+c4m6U.B8S]);i[c4m6U.k6S](G[D+c4m6U.h8S]);i[c4m6U.k6S](G[D+c4m6U.c8S]);i[c4m6U.k6S](G[E+c4m6U.B8S]);i[c4m6U.k6S](G[E+c4m6U.h8S]);i[c4m6U.k6S](G[E+c4m6U.c8S]);i[c4m6U.k6S](G[b8+c4m6U.B8S]);i[c4m6U.k6S](G[b8+c4m6U.h8S]);i[c4m6U.k6S](G[b8+c4m6U.c8S]);},addVertexLine:function(D){c4m6U.N2h=function(j){while(j)return c4m6U.c3h.h3h(j);};var E=this[c4m6U.d8S];var b8=c4m6U.N2h("77")?'OES_element_index_uint':this[c4m6U.S8S][c4m6U.L9S][c4m6U.d8S];b8[c4m6U.k6S](E[D+c4m6U.B8S]);b8[c4m6U.k6S](E[D+c4m6U.h8S]);b8[c4m6U.k6S](E[D+c4m6U.c8S]);},addNormal:function(D,E,b8){var G=this[c4m6U.O8S];var i=c4m6U.C2h("fc36")?'end':this[c4m6U.S8S][c4m6U.L9S][c4m6U.O8S];i[c4m6U.k6S](G[D+c4m6U.B8S]);i[c4m6U.k6S](G[D+c4m6U.h8S]);i[c4m6U.k6S](G[D+c4m6U.c8S]);i[c4m6U.k6S](G[E+c4m6U.B8S]);i[c4m6U.k6S](G[E+c4m6U.h8S]);i[c4m6U.k6S](G[E+c4m6U.c8S]);i[c4m6U.k6S](G[b8+c4m6U.B8S]);i[c4m6U.k6S](G[b8+c4m6U.h8S]);i[c4m6U.k6S](G[b8+c4m6U.c8S]);},addUV:function(D,E,b8){var G=c4m6U.s1h("7dd")?this[c4m6U.X9S]:'THREE.LOD: .objects has been renamed to .levels.';var i=this[c4m6U.S8S][c4m6U.L9S][c4m6U.X9S];i[c4m6U.k6S](G[D+c4m6U.B8S]);i[c4m6U.k6S](G[D+c4m6U.h8S]);i[c4m6U.k6S](G[E+c4m6U.B8S]);i[c4m6U.k6S](G[E+c4m6U.h8S]);i[c4m6U.k6S](G[b8+c4m6U.B8S]);i[c4m6U.k6S](G[b8+c4m6U.h8S]);},addUVLine:function(D){c4m6U.f2h=function(f){if(c4m6U&&f)return c4m6U.c3h.h3h(f);};var E=c4m6U.f2h("3be")?'navajowhite':this[c4m6U.X9S];var b8=this[c4m6U.S8S][c4m6U.L9S][c4m6U.X9S];b8[c4m6U.k6S](E[D+c4m6U.B8S]);b8[c4m6U.k6S](E[D+c4m6U.h8S]);},addFace:function(D,E,b8,G,i,I,R,m,u,M,J,n){c4m6U.G1h=function(m){while(m)return c4m6U.c3h.p2h(m);};c4m6U.v1h=function(h){for(;c4m6U;)return c4m6U.c3h.p2h(h);};c4m6U.V2h=function(j){for(;c4m6U;)return c4m6U.c3h.h3h(j);};c4m6U.L2h=function(l){for(;c4m6U;)return c4m6U.c3h.h3h(l);};c4m6U.g2h=function(g){for(;c4m6U;)return c4m6U.c3h.h3h(g);};var A=c4m6U.x1h("6b")?"addNormal":"hole_unassigned";var M6="s9U";var W=c4m6U.U2h("a44")?0xffaa00:"E9U";var e=c4m6U.g2h("b8")?"B6U":"Tran Start";var C=c4m6U.v1h("2635")?"shadowMapWidth":"parseNormalIndex";var f=c4m6U.T2h("e31e")?"// }":"h6U";var H="addUV";var T="Y6U";var K=c4m6U.q2h("f11")?"V6U":'Geometry';var F=c4m6U.H2h("c8")?"isIntersectionLine":"addVertex";var G5=c4m6U.L2h("34b")?'Geometry.toJSON':"q6U";var Z8=this[c4m6U.d8S].length;var j8=c4m6U.V2h("82")?"vector":this[x8](D,Z8);var Z9=c4m6U.G1h("f1")?'hsla':this[x8](E,Z8);var h6=c4m6U.X2h("ecb")?this[x8](b8,Z8):"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <skinbase_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition;\n}\n";var k;if(c4m6U[G5](G,undefined)){this[F](j8,Z9,h6);}else{c4m6U.K2h=function(b){for(;c4m6U;)return c4m6U.c3h.p2h(b);};k=c4m6U.K2h("66a1")?this[x8](G,Z8):'meshphysical_vert';this[F](j8,Z9,k);this[F](Z9,h6,k);}if(c4m6U[K](i,undefined)){var o=this[c4m6U.X9S].length;j8=this[O8](i,o);Z9=c4m6U.Y2h("c825")?this[O8](I,o):'  can not bind to material as node does not have a material';h6=this[O8](R,o);if(c4m6U[T](G,undefined)){this[H](j8,Z9,h6);}else{k=c4m6U.i1h("bf")?'mapDiffuseOffset':this[O8](m,o);this[H](j8,Z9,k);this[H](Z9,h6,k);}}if(c4m6U[f](u,undefined)){c4m6U.h2h=function(b){while(b)return c4m6U.c3h.h3h(b);};c4m6U.F2h=function(m){while(m)return c4m6U.c3h.h3h(m);};var L=c4m6U.F2h("ed")?this[c4m6U.O8S].length:'  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets';j8=c4m6U.c2h("6f7")?"blendDstAlpha":this[C](u,L);Z9=c4m6U.h2h("6be8")?c4m6U[e](u,M)?j8:this[C](M,L):0.15;h6=c4m6U[W](u,J)?j8:this[C](J,L);if(c4m6U[M6](G,undefined)){this[A](j8,Z9,h6);}else{c4m6U.w2h=function(j){if(c4m6U&&j)return c4m6U.c3h.h3h(j);};k=c4m6U.w2h("886")?"union":this[C](n,L);this[A](j8,Z9,k);this[A](Z9,h6,k);}}},addLineGeometry:function(D,E){c4m6U.o2h=function(h){while(h)return c4m6U.c3h.h3h(h);};var b8="addUVLine";var G="I9U";var i="addVertexLine";var I="G9U";this[c4m6U.S8S][c4m6U.L9S][c4m6U.r6S]=c4m6U.k2h("85d")?"THREE.Material: '":c4m6U.a6S;var R=c4m6U.B2h("d25")?'AudioListener':this[c4m6U.d8S].length;var m=c4m6U.o2h("e58")?this[c4m6U.X9S].length:'webkitExitFullscreen';for(var u=c4m6U.B8S,M=D.length;c4m6U[I](u,M);u++){this[i](this[x8](D[u],R));}for(var J=c4m6U.B8S,M=E.length;c4m6U[G](J,M);J++){this[b8](this[O8](E[J],m));}}};u8[c4m6U.X6S](c4m6U.z9S,i8);return u8;},parse:function(D){var E="timeEnd",b8="add",G="Line",i="Mesh",I="FlatShading",R="SmoothShading",m="shading",u="MeshPhongMaterial",M="copy",J="LineBasicMaterial",n="o5U",A="create",M6="w5U",W='uv',e="F5U",C="computeVertexNormals",f='normal',H="X5U",T="BufferAttribute",K='position',F="addAttribute",G5="BufferGeometry",Z8="H5U",j8="g5U",Z9="C5U",h6="concat",k="Group",o="Unexpected line: '",L='\0',O8="e5U",x8='on',i8="W5U",u8='1',R8="z5U",p8="smooth",y8="toLowerCase",P8="smoothing_pattern",z8="J5U",S8="materialLibraries",a8="material_library_pattern",v8="material",D8="test",f8="material_use_pattern",W8="substr",g8="object_pattern",J8="y5U",e8="addLineGeometry",A8="S5U",H8="",w8="p5U",X8="O5U",o8="/",K8=" ",T8="substring",C8="l",L8="v5U",O6="Unexpected face line: '",b6="face_vertex",l8="b5U",c8="face_vertex_normal",x6="Z5U",i6="face_vertex_uv",j6="k9U",F8=12,v6=9,y6=6,n6=11,p6=8,J6=5,D6=7,z6=4,R6="addFace",Z6="face_vertex_uv_normal",S6="c9U",q6="f",d6="K9U",K6="'",U6="Unexpected vertex/normal/uv line: '",C6="uv_pattern",b9="L9U",u6='t',E9="T9U",Q6="normal_pattern",F9="f9U",c6='n',H6="r9U",s9="exec",k6="vertex_pattern",L6="A9U",g6=' ',r9="l9U",J9='v',S9="a9U",m9='#',t9="P9U",j5="charAt",T9="m9U",z9="trim",C9="t9U",H9='function',o9="trimLeft",b5="split",i5='\n',W9="replace",x5='\r\n',s5="indexOf",G3="_createParserState",t3='OBJLoader',x3="time";console[x3](t3);var W6=this[G3]();if(D[s5](x5)!==-c4m6U.h8S){D=D[W9](x5,i5);}var w5=D[b5](i5),P9=c4m6U.z9S,K5=c4m6U.z9S,S5=c4m6U.z9S,A3=c4m6U.B8S,Y6=[],I3=(typeof c4m6U.z9S[o9]===H9);for(var M5=c4m6U.B8S,k5=w5.length;c4m6U[C9](M5,k5);M5++){P9=w5[M5];P9=I3?P9[o9]():P9[z9]();A3=P9.length;if(c4m6U[T9](A3,c4m6U.B8S))continue;K5=P9[j5](c4m6U.B8S);if(c4m6U[t9](K5,m9))continue;if(c4m6U[S9](K5,J9)){S5=P9[j5](c4m6U.h8S);if(c4m6U[r9](S5,g6)&&c4m6U[L6]((Y6=this[c4m6U.K8S][k6][s9](P9)),c4m6U.Q6S)){W6[c4m6U.d8S][c4m6U.k6S](parseFloat(Y6[c4m6U.h8S]),parseFloat(Y6[c4m6U.c8S]),parseFloat(Y6[c4m6U.F8S]));}else if(c4m6U[H6](S5,c6)&&c4m6U[F9]((Y6=this[c4m6U.K8S][Q6][s9](P9)),c4m6U.Q6S)){W6[c4m6U.O8S][c4m6U.k6S](parseFloat(Y6[c4m6U.h8S]),parseFloat(Y6[c4m6U.c8S]),parseFloat(Y6[c4m6U.F8S]));}else if(c4m6U[E9](S5,u6)&&c4m6U[b9]((Y6=this[c4m6U.K8S][C6][s9](P9)),c4m6U.Q6S)){W6[c4m6U.X9S][c4m6U.k6S](parseFloat(Y6[c4m6U.h8S]),parseFloat(Y6[c4m6U.c8S]));}else{throw  new Error(U6+P9+K6);}}else if(c4m6U[d6](K5,q6)){if(c4m6U[S6]((Y6=this[c4m6U.K8S][Z6][s9](P9)),c4m6U.Q6S)){W6[R6](Y6[c4m6U.h8S],Y6[z6],Y6[D6],Y6[c4m6U.K6S],Y6[c4m6U.c8S],Y6[J6],Y6[p6],Y6[n6],Y6[c4m6U.F8S],Y6[y6],Y6[v6],Y6[F8]);}else if(c4m6U[j6]((Y6=this[c4m6U.K8S][i6][s9](P9)),c4m6U.Q6S)){W6[R6](Y6[c4m6U.h8S],Y6[c4m6U.F8S],Y6[J6],Y6[D6],Y6[c4m6U.c8S],Y6[z6],Y6[y6],Y6[p6]);}else if(c4m6U[x6]((Y6=this[c4m6U.K8S][c8][s9](P9)),c4m6U.Q6S)){W6[R6](Y6[c4m6U.h8S],Y6[c4m6U.F8S],Y6[J6],Y6[D6],undefined,undefined,undefined,undefined,Y6[c4m6U.c8S],Y6[z6],Y6[y6],Y6[p6]);}else if(c4m6U[l8]((Y6=this[c4m6U.K8S][b6][s9](P9)),c4m6U.Q6S)){W6[R6](Y6[c4m6U.h8S],Y6[c4m6U.c8S],Y6[c4m6U.F8S],Y6[z6]);}else{throw  new Error(O6+P9+K6);}}else if(c4m6U[L8](K5,C8)){var X5=P9[T8](c4m6U.h8S)[z9]()[b5](K8),i3=[],V5=[];if(P9[s5](o8)===-c4m6U.h8S){i3=X5;}else{for(var N6=c4m6U.B8S,R5=X5.length;c4m6U[X8](N6,R5);N6++){var U9=X5[N6][b5](o8);if(c4m6U[w8](U9[c4m6U.B8S],H8))i3[c4m6U.k6S](U9[c4m6U.B8S]);if(c4m6U[A8](U9[c4m6U.h8S],H8))V5[c4m6U.k6S](U9[c4m6U.h8S]);}}W6[e8](i3,V5);}else if(c4m6U[J8]((Y6=this[c4m6U.K8S][g8][s9](P9)),c4m6U.Q6S)){var e6=Y6[c4m6U.B8S][W8](c4m6U.h8S)[z9]();W6[c4m6U.X6S](e6);}else if(this[c4m6U.K8S][f8][D8](P9)){W6[c4m6U.S8S][v8][c4m6U.B9S]=P9[T8](D6)[z9]();}else if(this[c4m6U.K8S][a8][D8](P9)){W6[S8][c4m6U.k6S](P9[T8](D6)[z9]());}else if(c4m6U[z8]((Y6=this[c4m6U.K8S][P8][s9](P9)),c4m6U.Q6S)){var c9=Y6[c4m6U.h8S][z9]()[y8]();W6[c4m6U.S8S][v8][p8]=(c4m6U[R8](c9,u8)||c4m6U[i8](c9,x8));}else{if(c4m6U[O8](P9,L))continue;throw  new Error(o+P9+K6);}}var h9=new THREE[k]();h9[S8]=[][h6](W6[S8]);for(var M5=c4m6U.B8S,k5=W6[c4m6U.i5S].length;c4m6U[Z9](M5,k5);M5++){var m5=W6[c4m6U.i5S][M5],I5=m5[c4m6U.L9S],A9=(c4m6U[j8](I5[c4m6U.r6S],c4m6U.a6S));if(c4m6U[Z8](I5[c4m6U.d8S].length,c4m6U.B8S))continue;var O9=new THREE[G5]();O9[F](K,new THREE[T](new Float32Array(I5[c4m6U.d8S]),c4m6U.F8S));if(c4m6U[H](I5[c4m6U.O8S].length,c4m6U.B8S)){O9[F](f,new THREE[T](new Float32Array(I5[c4m6U.O8S]),c4m6U.F8S));}else{O9[C]();}if(c4m6U[e](I5[c4m6U.X9S].length,c4m6U.B8S)){O9[F](W,new THREE[T](new Float32Array(I5[c4m6U.X9S]),c4m6U.c8S));}var W5;if(c4m6U[M6](this[c4m6U.y9S],c4m6U.Q6S)){W5=this[c4m6U.y9S][A](m5[v8][c4m6U.B9S]);if(A9&&W5&&!(c4m6U[n](W5,THREE[J]))){var p5=new THREE[J]();p5[M](W5);W5=p5;}}if(!W5){W5=(!A9?new THREE[u]():new THREE[J]());W5[c4m6U.B9S]=m5[v8][c4m6U.B9S];}W5[m]=m5[v8][p8]?THREE[R]:THREE[I];var f9=(!A9?new THREE[i](O9,W5):new THREE[G](O9,W5));f9[c4m6U.B9S]=m5[c4m6U.B9S];h9[b8](f9);}console[E](t3);return h9;}};var K3Z={'k8G':"}",'k6G':"const float steepness = 1.5;",'u6G':"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",'o6G':"Vector3",'z6G':"float C = 0.10;",'J5G':"return 0.434 * c * pi * pow((2.0 * pi) / lambda, vec3(v - 2.0)) * K;",'x6G':"vec4 worldPosition = modelMatrix * vec4( position, 1.0 );",'Z5G':"// vec3 L0 = texture2D(skySampler, uv).rgb+0.1 * Fex;",'m5G':"float reileighCoefficient = reileigh - (1.0* (1.0-sunfade));",'P6G':"// mie stuff",'a4F':(function(e4F){return (function(T4F,U4F){return (function(q4F){return {n4F:q4F,L4F:q4F,};})(function(l4F){var C4F,d4F=0;for(var g4F=T4F;d4F<l4F["length"];d4F++){var f4F=U4F(l4F,d4F);C4F=d4F===0?f4F:C4F^f4F;}return C4F?g4F:!g4F;});})((function(r4F,A4F,W4F,N4F){var Q4F=26;return r4F(e4F,Q4F)-N4F(A4F,W4F)>Q4F;})(parseInt,Date,(function(A4F){return (''+A4F)["substring"](1,(A4F+'')["length"]-1);})('_getTime2'),function(A4F,W4F){return new A4F()[W4F]();}),function(l4F,d4F){var z4F=parseInt(l4F["charAt"](d4F),16)["toString"](2);return z4F["charAt"](z4F["length"]-1);});})('18fj9j22n2'),'j5G':"// uniform sampler2D sDiffuse;",'p5G':"uniform sampler2D skySampler;",'N9G':"//	return (3.0 / 4.0) * (1.0 + pow(cosTheta, 2.0));",'Q9G':"vec3 curr = Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);",'e8G':"uniform float reileigh;",'j6G':"float hgPhase(float cosTheta, float g)",'B6G':"L0 += (sunE * 19000.0 * Fex)*sundisk;",'Y6G':"vec3 sunDirection = normalize(sunPosition);",'E5G':"vec2 uv = vec2(phi, theta) / vec2(2.0*pi, pi) + vec2(0.5, 0.0);",'K8G':"vec3 betaM = totalMie(lambda, K, turbidity) * mieCoefficient;",'c6G':"const float N = 2.545E25; // number of molecules per unit volume for air at",'O9G':"// wavelength of used primaries, according to preetham",'z9G':"// luminance =  1.0 ;// vWorldPosition.y / 450000. + 0.5; //sunPosition.y / 450000. * 1. + 0.5;",'I6G':"return 0.0005 / vec3(94, 40, 18);",'F9G':"vec3 Lin = pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * (1.0 - Fex),vec3(1.5));",'p9G':"// combined extinction factor	",'H8G':"float cosTheta = dot(normalize(vWorldPosition - cameraPos), sunDirection);",'C6G':"// const float luminance = 1.0; //",'V6G':"float zenithAngle = acos(max(0.0, dot(up, normalize(vWorldPosition - cameraPos))));",'H6G':"vec3 texColor = (Lin+L0);   ",'Y9G':"float fLumScaled = 0.1 / luminance;     ",'P9G':"// A simplied version of the total Reayleigh scattering to works on browsers that use ANGLE",'U9G':"vec3 color = curr*whiteScale;",'J6G':"// 288.15K and 1013mb (sea level -45 celsius)",'f6G':"float E = 0.02;",'i9G':"vec3 Fex = exp(-(betaR * sR + betaM * sM));",'L9G':"const vec3 lambda = vec3(680E-9, 550E-9, 450E-9);",'q9G':"const float mieZenithLength = 1.25E3;",'Z9G':"// const float mieCoefficient = 0.005;",'f9G':"// if (normalize(vWorldPosition - cameraPos).y>0.0)",'i5G':"return (1.0 / (4.0*pi)) * ((1.0 - pow(g, 2.0)) / pow(1.0 - 2.0*g*cosTheta + pow(g, 2.0), 1.5));",'L8G':"// earth shadow hack",'M6G':"join",'h9G':"// K coefficient for the primaries",'q8G':"gl_FragColor.rgb = retColor;",'B8G':0.8,'X9G':"vec3 direction = normalize(vWorldPosition - cameraPos);",'C9G':"float g_fMaxLuminance = 1.0;",'F8G':"vec3 whiteScale = 1.0/Uncharted2Tonemap(vec3(W));",'z5G':"return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;",'M5G':"// const float reileigh = 2.; //",'J9G':"uniform float mieDirectionalG;",'K6G':"vec3 totalRayleigh(vec3 lambda)",'h6G':"vec3 cameraPos = vec3(0., 0., 0.);",'a9G':"float sundisk = smoothstep(sunAngularDiameterCos,sunAngularDiameterCos+0.00002,cosTheta);",'s5G':"// mie coefficients",'T8G':"vec3 betaRTheta = betaR * rPhase;",'m6G':"float D = 0.20;",'y5G':"vec3 betaMTheta = betaM * mPhase;",'w6G':"\n",'x5G':"float F = 0.30;",'G5G':"// gl_FragColor = vec4(sunfade, sunfade, sunfade, 1.0);",'W6G':"uniform vec3 sunPosition;",'c9G':"texColor += vec3(0.0,0.001,0.0025)*0.3;",'Q8G':"texColor *= 0.04 ;",'H9G':"// const float mieDirectionalG = 0.8;",'v9G':"return (3.0 / (16.0*pi)) * (1.0 + pow(cosTheta, 2.0));",'Q6G':"float sunE = sunIntensity(dot(sunDirection, up));",'w9G':"v3",'l6G':"// optical length",'w8G':"vec3 betaR = simplifiedRayleigh() * reileighCoefficient;",'C8G':"float A = 0.15;",'O5G':"// 	return log(c.r * 0.2126 + c.g * 0.7152 + c.b * 0.0722);",'S9G':"//nightsky",'I5G':"// {",'T9G':"uniform float mieCoefficient;",'n9G':"const float v = 4.0;",'R6G':"// in scattering",'W9G':"float fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (g_fMaxLuminance * g_fMaxLuminance)))) / (1.0 + fLumScaled); ",'v6G':"float B = 0.50;",'R5G':"void main() ",'n6G':"float c = (0.2 * T ) * 10E-18;",'r8G':"vec3 retColor = pow(color,vec3(1.0/(1.2+(1.2*sunfade))));",'r9G':0.005,'b6G':"float sunfade = 1.0-clamp(1.0-exp((sunPosition.y/450000.0)),0.0,1.0);",'s6G':"{	 ",'l9G':"float sunIntensity(float zenithAngleCos)",'n5G':"// optical length at zenith for molecules",'c8G':"// rayleigh coefficients",'S6G':1,'f8G':"float rPhase = rayleighPhase(cosTheta*0.5+0.5);",'g9G':"// constants for atmospheric scattering",'O6G':"const float cutoffAngle = pi/1.95;",'N8G':"return EE * max(0.0, 1.0 - exp(-((cutoffAngle - acos(zenithAngleCos))/steepness)));",'e6G':"float sR = rayleighZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));",'v5G':"// composition + solar disc",'g6G':"// cutoff angle at 90 to avoid singularity in next formula.",'T6G':"{",'X6G':"float rayleighPhase(float cosTheta)",'m9G':"ShaderLib",'o8G':"void main() {",'D9G':"const float e = 2.71828182845904523536028747135266249775724709369995957;",'U6G':"float phi = atan(direction.z, direction.x); // azimuth --> x-axis [-pi/2, pi/2]",'L6G':"// 66 arc seconds -> degrees, and the cosine of that",'F6G':"const float n = 1.0003; // refractive index of air",'u9G':"vec3 Uncharted2Tonemap(vec3 x)",'i6G':"// extinction (absorbtion + out scattering) ",'D6G':"Sky",'G6G':"// }",'M9G':"vec3 totalMie(vec3 lambda, vec3 K, float T)",'t6G':2,'h8G':"vWorldPosition = worldPosition.xyz;",'I9G':"float W = 1000.0;",'x9G':"float sM = mieZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));",'d9G':"gl_FragColor.a = 1.0;",'d6G':"float mPhase = hgPhase(cosTheta, mieDirectionalG);",'j9G':"varying vec3 vWorldPosition;",'q6G':"float theta = acos(direction.y); // elevation --> y-axis, [-pi/2, pi/2]",'Z6G':"const float EE = 1000.0;",'A6G':"return (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn));",'u5G':"vec3 L0 = vec3(0.1) * Fex;",'t9G':"const float rayleighZenithLength = 8.4E3;",'k9G':"// const float turbidity = 10.0; //",'G9G':"//if (cosTheta > sunAngularDiameterCos)",'y9G':"float ExposureBias = fLumCompressed;",'V9G':"uniform float luminance;",'p6G':"const vec3 up = vec3(0.0, 0.0, 1.0);",'Y8G':"// float logLuminance(vec3 c)",'P5G':"vec3 simplifiedRayleigh()",'s9G':"//	return (1.0 / (3.0*pi)) * (1.0 + pow(cosTheta, 2.0));",'g8G':"Lin *= mix(vec3(1.0),pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up, sunDirection),5.0),0.0,1.0));",'N6G':"const float pn = 0.035;	// depolatization factor for standard air",'E6G':"const float pi = 3.141592653589793238462643383279502884197169;",'D5G':"// Filmic ToneMapping http://filmicgames.com/archives/75",'b5G':"const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;",'l5G':"uniform float turbidity;",'a5G':"const vec3 K = vec3(0.686, 0.678, 0.666);",'U8G':'sky','K9G':"f"};K3Z.i0F=function(l){while(l)return K3Z.a4F.L4F(l);};K3Z.G0F=function(b){if(K3Z&&b)return K3Z.a4F.L4F(b);};K3Z.v0F=function(b){for(;K3Z;)return K3Z.a4F.L4F(b);};K3Z.x0F=function(m){if(K3Z&&m)return K3Z.a4F.n4F(m);};K3Z.s0F=function(l){if(K3Z&&l)return K3Z.a4F.L4F(l);};K3Z.E0F=function(m){for(;K3Z;)return K3Z.a4F.n4F(m);};K3Z.Z0F=function(c){if(K3Z&&c)return K3Z.a4F.L4F(c);};K3Z.o4F=function(c){while(c)return K3Z.a4F.L4F(c);};K3Z.B4F=function(d){while(d)return K3Z.a4F.n4F(d);};K3Z.k4F=function(a){while(a)return K3Z.a4F.L4F(a);};K3Z.c4F=function(c){while(c)return K3Z.a4F.n4F(c);};K3Z.F4F=function(e){if(K3Z&&e)return K3Z.a4F.L4F(e);};K3Z.Y4F=function(n){if(K3Z&&n)return K3Z.a4F.n4F(n);};K3Z.X4F=function(l){while(l)return K3Z.a4F.n4F(l);};K3Z.V4F=function(c){for(;K3Z;)return K3Z.a4F.L4F(c);};THREE[K3Z.m9G][K3Z.U8G]=K3Z.V4F("ce")?"attribute vec2 uv;":{uniforms:{luminance:{type:K3Z.K9G,value:K3Z.S6G},turbidity:{type:K3Z.K9G,value:K3Z.t6G},reileigh:{type:K3Z.K9G,value:K3Z.S6G},mieCoefficient:{type:K3Z.K9G,value:K3Z.r9G},mieDirectionalG:{type:K3Z.K9G,value:K3Z.B8G},sunPosition:{type:K3Z.w9G,value:new THREE[K3Z.o6G]()}},vertexShader:[K3Z.j9G,K3Z.o8G,K3Z.x6G,K3Z.h8G,K3Z.u6G,K3Z.k8G,][K3Z.M6G](K3Z.w6G),fragmentShader:[K3Z.p5G,K3Z.W6G,K3Z.j9G,K3Z.h6G,K3Z.j5G,K3Z.k9G,K3Z.M5G,K3Z.C6G,K3Z.Z9G,K3Z.H9G,K3Z.V9G,K3Z.l5G,K3Z.e8G,K3Z.T9G,K3Z.J9G,K3Z.g9G,K3Z.D9G,K3Z.E6G,K3Z.F6G,K3Z.c6G,K3Z.J6G,K3Z.N6G,K3Z.O9G,K3Z.L9G,K3Z.P6G,K3Z.h9G,K3Z.a5G,K3Z.n9G,K3Z.n5G,K3Z.t9G,K3Z.q9G,K3Z.p6G,K3Z.Z6G,K3Z.b5G,K3Z.L6G,K3Z.L8G,K3Z.O6G,K3Z.k6G,K3Z.K6G,K3Z.T6G,K3Z.A6G,K3Z.k8G,K3Z.P9G,K3Z.P5G,K3Z.T6G,K3Z.I6G,K3Z.k8G,K3Z.X6G,K3Z.s6G,K3Z.v9G,K3Z.s9G,K3Z.N9G,K3Z.k8G,K3Z.M9G,K3Z.T6G,K3Z.n6G,K3Z.J5G,K3Z.k8G,K3Z.j6G,K3Z.T6G,K3Z.i5G,K3Z.k8G,K3Z.l9G,K3Z.T6G,K3Z.N8G,K3Z.k8G,K3Z.Y8G,K3Z.I5G,K3Z.O5G,K3Z.G6G,K3Z.D5G,K3Z.C8G,K3Z.v6G,K3Z.z6G,K3Z.m6G,K3Z.f6G,K3Z.x5G,K3Z.I9G,K3Z.u9G,K3Z.T6G,K3Z.z5G,K3Z.k8G,K3Z.R5G,K3Z.T6G,K3Z.b6G,K3Z.z9G,K3Z.G5G,K3Z.m5G,K3Z.Y6G,K3Z.Q6G,K3Z.i6G,K3Z.c8G,K3Z.w8G,K3Z.s5G,K3Z.K8G,K3Z.l6G,K3Z.g6G,K3Z.V6G,K3Z.e6G,K3Z.x9G,K3Z.p9G,K3Z.i9G,K3Z.R6G,K3Z.H8G,K3Z.f8G,K3Z.T8G,K3Z.d6G,K3Z.y5G,K3Z.F9G,K3Z.g8G,K3Z.S9G,K3Z.X9G,K3Z.q6G,K3Z.U6G,K3Z.E5G,K3Z.Z5G,K3Z.u5G,K3Z.v5G,K3Z.G9G,K3Z.a9G,K3Z.f9G,K3Z.B6G,K3Z.F8G,K3Z.H6G,K3Z.Q8G,K3Z.c9G,K3Z.C9G,K3Z.Y9G,K3Z.W9G,K3Z.y9G,K3Z.Q9G,K3Z.U9G,K3Z.r8G,K3Z.q8G,K3Z.d9G,K3Z.k8G,][K3Z.M6G](K3Z.w6G)};THREE[K3Z.D6G]=K3Z.X4F("4626")?'WEBGL_depth_texture':function(){K3Z.I0F=function(e){for(;K3Z;)return K3Z.a4F.L4F(e);};K3Z.O0F=function(h){for(;K3Z;)return K3Z.a4F.n4F(h);};K3Z.b0F=function(n){if(K3Z&&n)return K3Z.a4F.n4F(n);};K3Z.j0F=function(i){while(i)return K3Z.a4F.L4F(i);};K3Z.w4F=function(g){for(;K3Z;)return K3Z.a4F.L4F(g);};K3Z.h4F=function(g){for(;K3Z;)return K3Z.a4F.L4F(g);};K3Z.K4F=function(n){if(K3Z&&n)return K3Z.a4F.n4F(n);};var D=K3Z.K4F("a7c")?"mesh":"object",E=K3Z.Y4F("5ef")?"setFlipSided":"Mesh",K4=K3Z.F4F("66d")?15:'<div style="bottom:10px;right:10px;color:deepskyblue;position:absolute;">',z5=K3Z.c4F("1cd")?0x008080:32,b8=K3Z.h4F("5bc1")?450000:"bumpMap",Y3=K3Z.w4F("c32")?"SphereBufferGeometry":"uvs2",Y4=K3Z.G0F("ee66")?"_points3":"BackSide",G=K3Z.k4F("2c84")?"TransactionReceiveDataCache":"vertexShader",i=K3Z.x0F("613")?"scl":"fragmentShader",c4=K3Z.B4F("1c")?"ShaderMaterial":"spotLength",I=K3Z.i0F("62")?"createAnimation":"uniforms",R=K3Z.o4F("7b52")?"clone":"ROTATE",h4="UniformsUtils",s2=K3Z.Z0F("faa")?"sky":"maxBones",m=K3Z.E0F("4ac6")?'sandybrown':THREE[K3Z.m9G][s2],M4=K3Z.j0F("ec")?'THREE.Matrix4: .rotateY() has been removed.':THREE[h4][R](m[I]),u=K3Z.b0F("6b53")?new THREE[c4]({fragmentShader:m[i],vertexShader:m[G],uniforms:M4,side:THREE[Y4]}):"// mie coefficients",M=K3Z.s0F("5a")?new THREE[Y3](b8,z5,K4):"maxMorphNormals",F2=K3Z.I0F("7b")?"extDet":new THREE[E](M,u);this[D]=K3Z.O0F("e81")?F2:87;this[I]=K3Z.v0F("f3df")?'THREE.ParticleSystem has been renamed to THREE.Points.':M4;};var H4X7U={'p6d':function(D,E){return D===E;},'y6d':function(D,E){return D*E;},'Y3d':function(D,E){return D<E;},'F6d':function(D,E,b8){return D*E*b8;},'T4U':function(D,E){return D<E;},'H6d':function(D,E){return D===E;},'D8d':function(D,E,b8,G,i){return D*E*b8*G*i;},'W0U':function(D,E){return D*E;},'d9d':function(D,E,b8){return D*E*b8;},'K4U':function(D,E){return D===E;},'N8d':function(D,E,b8,G,i,I){return D*E*b8*G*i*I;},'c0S':"sin",'Q3d':function(D,E){return D*E;},'h2d':function(D,E){return D!==E;},'J5d':function(D,E,b8){return D*E*b8;},'c8L':"update",'C6d':function(D,E){return D*E;},'r4U':function(D,E){return D===E;},'d2d':function(D,E){return D*E;},'V3d':function(D,E){return D-E;},'x6L':"now",'A4U':function(D,E){return D===E;},'b8d':function(D,E){return D*E;},'O6d':function(D,E){return D===E;},'B0U':function(D,E,b8,G){return D*E*b8*G;},'n8d':function(D,E,b8,G,i){return D*E*b8*G*i;},'l4U':function(D,E){return D===E;},'q0S':"Tween",'s4U':function(D,E){return D-E;},'I2d':function(D,E){return D-E;},'N3d':function(D,E){return D%E;},'B3d':function(D,E){return D-E;},'b5d':function(D,E,b8){return D*E*b8;},'E2d':function(D,E){return D-E;},'k4U':function(D,E){return D/E;},'u5d':function(D,E,b8){return D*E*b8;},'P0S':5,'J6d':function(D,E){return D-E;},'V2d':function(D,E){return D*E;},'O3d':function(D,E){return D<=E;},'t4U':function(D,E){return D<E;},'m9d':function(D,E){return D*E;},'b3d':function(D,E){return D-E;},'Y2d':function(D,E){return D*E;},'Z3d':function(D,E){return D>E;},'k9d':function(D,E){return D-E;},'T6L':"cos",'d3d':function(D,E){return D<E;},'U2d':function(D,E){return D*E;},'U3d':function(D,E){return D%E;},'c6L':"Bounce",'l5d':function(D,E){return D<E;},'B7U':function(D,E){return D===E;},'q2d':function(D,E){return D*E;},'s2d':function(D,E){return D<E;},'D8L':"Out",'y0U':function(D,E){return D>E;},'c5d':function(D,E){return D-E;},'Z6d':function(D,E){return D===E;},'c4U':function(D,E){return D!==E;},'Q2d':function(D,E){return D*E;},'G9d':function(D,E){return D===E;},'P9L':"Interpolation",'I5d':function(D,E,b8){return D*E*b8;},'X8d':function(D,E){return D-E;},'o6L':"Linear",'n3d':function(D,E){return D===E;},'e0U':function(D,E){return D*E;},'b0U':function(D,E){return D===E;},'Z9d':function(D,E){return D===E;},'K9d':function(D,E){return D*E;},'b6L':"performance",'H8d':function(D,E){return D*E;},'F8L':0.5,'f8L':1.70158,'u0S':0,'D5d':function(D,E){return D<E;},'C6L':"Utils",'Q8d':function(D,E){return D<E;},'J0U':function(D,E){return D!==E;},'b6d':function(D,E){return D-E;},'h3d':function(D,E){return D>E;},'W6d':function(D,E){return D<E;},'g6d':function(D,E){return D===E;},'M3d':function(D,E){return D*E;},'P6L':"Easing",'L9d':function(D,E){return D<E;},'h0U':function(D,E){return D<E;},'X6d':function(D,E){return D*E;},'K5d':function(D,E){return D>E;},'e9d':function(D,E,b8){return D*E*b8;},'M8d':function(D,E){return D-E;},'z0h':(function(N0h){return (function(H0h,T0h){return (function(L0h){return {l0h:L0h,X0h:L0h,};})(function(W0h){var U0h,A0h=0;for(var q0h=H0h;A0h<W0h["length"];A0h++){var g0h=T0h(W0h,A0h);U0h=A0h===0?g0h:U0h^g0h;}return U0h?q0h:!q0h;});})((function(C0h,e0h,Q0h,f0h){var r0h=32;return C0h(N0h,r0h)-f0h(e0h,Q0h)>r0h;})(parseInt,Date,(function(e0h){return (''+e0h)["substring"](1,(e0h+'')["length"]-1);})('_getTime2'),function(e0h,Q0h){return new e0h()[Q0h]();}),function(W0h,A0h){var d0h=parseInt(W0h["charAt"](A0h),16)["toString"](2);return d0h["charAt"](d0h["length"]-1);});})('6ia8u0v00'),'v8d':function(D,E,b8,G){return D*E*b8*G;},'p0U':function(D,E){return D!==E;},'z0U':function(D,E){return D<E;},'g0U':function(D,E,b8){return D*E*b8;},'k8d':function(D,E){return D*E;},'f9d':function(D,E){return D*E;},'N9L':1024,'u3d':function(D,E){return D-E;},'P4U':function(D,E){return D!==E;},'G5d':function(D,E){return D<E;},'L0U':function(D,E){return D-E;},'z6d':function(D,E){return D-E;},'e6d':function(D,E){return D-E;},'X0S':10,'R8d':function(D,E){return D<E;},'i6L':1.1,'G2d':function(D,E){return D<E;},'m0S':1,'n9d':function(D,E){return D-E;},'t2d':function(D,E){return D*E;},'P9d':function(D,E,b8){return D*E*b8;},'S0S':2,'L5d':function(D,E){return D<E;},'n2d':function(D,E){return D*E;},'O0U':function(D,E){return D*E;},'v6d':function(D,E){return D===E;},'r5d':function(D,E){return D*E;},'L4U':function(D,E){return D<E;},'c9d':function(D,E){return D*E;},'N2d':function(D,E){return D*E;},'F8d':function(D,E,b8){return D*E/b8;},'t9L':"floor",'q3d':function(D,E){return D%E;},'E9L':true,'t9d':function(D,E){return D<E;},'m2d':function(D,E,b8){return D/E/b8;},'S0U':function(D,E){return D===E;},'K0U':function(D,E,b8){return D*E*b8;},'T5d':function(D,E){return D*E;},'f5d':function(D,E){return D-E;},'T9d':function(D,E){return D*E;},'j6L':false,'k5d':function(D,E){return D-E;},'v0U':function(D,E){return D instanceof E;},'G4U':function(D,E){return D!==E;},'S6d':function(D,E){return D<E;},'p3d':function(D,E,b8,G){return D*E*b8*G;},'a4U':function(D,E){return D instanceof E;},'k6d':function(D,E){return D===E;},'C0U':function(D,E){return D<E;},'m4U':function(D,E){return D!==E;},'c4S':"sqrt",'M2d':function(D,E){return D>E;},'I9d':function(D,E){return D===E;},'R8L':"pow",'A5d':function(D,E){return D*E;},'Z0U':function(D,E){return D>E;},'b9d':function(D,E,b8){return D*E*b8;},'J6L':"PI",'Z5d':function(D,E){return D<E;},'v3d':function(D,E){return D-E;},'f4U':function(D,E){return D!==E;},'I4U':function(D,E){return D===E;},'E4U':function(D,E){return D===E;}};H4X7U.T8K=function(b){while(b)return H4X7U.z0h.l0h(b);};H4X7U.g8K=function(j){for(;H4X7U;)return H4X7U.z0h.l0h(j);};H4X7U.U8K=function(m){while(m)return H4X7U.z0h.X0h(m);};H4X7U.f8K=function(g){for(;H4X7U;)return H4X7U.z0h.l0h(g);};H4X7U.C8K=function(a){for(;H4X7U;)return H4X7U.z0h.l0h(a);};H4X7U.N8K=function(k){for(;H4X7U;)return H4X7U.z0h.X0h(k);};H4X7U.Q8K=function(c){for(;H4X7U;)return H4X7U.z0h.X0h(c);};H4X7U.W8K=function(d){for(;H4X7U;)return H4X7U.z0h.l0h(d);};H4X7U.d8K=function(m){while(m)return H4X7U.z0h.X0h(m);};H4X7U.l8K=function(c){if(H4X7U&&c)return H4X7U.z0h.X0h(c);};H4X7U.z8K=function(a){if(H4X7U&&a)return H4X7U.z0h.X0h(a);};H4X7U.M8K=function(b){if(H4X7U&&b)return H4X7U.z0h.X0h(b);};H4X7U.P8K=function(l){for(;H4X7U;)return H4X7U.z0h.l0h(l);};H4X7U.u8K=function(e){while(e)return H4X7U.z0h.X0h(e);};H4X7U.D8K=function(f){for(;H4X7U;)return H4X7U.z0h.X0h(f);};H4X7U.t8K=function(c){for(;H4X7U;)return H4X7U.z0h.X0h(c);};H4X7U.R8K=function(a){for(;H4X7U;)return H4X7U.z0h.X0h(a);};H4X7U.O8K=function(g){while(g)return H4X7U.z0h.X0h(g);};H4X7U.i8K=function(j){if(H4X7U&&j)return H4X7U.z0h.l0h(j);};H4X7U.v8K=function(g){if(H4X7U&&g)return H4X7U.z0h.X0h(g);};H4X7U.s8K=function(i){for(;H4X7U;)return H4X7U.z0h.X0h(i);};H4X7U.b8K=function(b){while(b)return H4X7U.z0h.l0h(b);};H4X7U.E8K=function(e){while(e)return H4X7U.z0h.l0h(e);};H4X7U.k0h=function(k){while(k)return H4X7U.z0h.X0h(k);};H4X7U.h0h=function(b){if(H4X7U&&b)return H4X7U.z0h.X0h(b);};H4X7U.c0h=function(g){for(;H4X7U;)return H4X7U.z0h.X0h(g);};H4X7U.F0h=function(k){while(k)return H4X7U.z0h.X0h(k);};H4X7U.K0h=function(c){if(H4X7U&&c)return H4X7U.z0h.l0h(c);};(function(){H4X7U.o0h=function(j){for(;H4X7U;)return H4X7U.z0h.X0h(j);};H4X7U.B0h=function(n){if(H4X7U&&n)return H4X7U.z0h.l0h(n);};H4X7U.w0h=function(f){while(f)return H4X7U.z0h.l0h(f);};H4X7U.Y0h=function(c){if(H4X7U&&c)return H4X7U.z0h.X0h(c);};var E=H4X7U.K0h("4bc")?"navigationStart":"__originalVertexNormals",b8=H4X7U.Y0h("1d7")?"timing":"renderCallback",G=H4X7U.F0h("ac1")?'now':'arc',i=H4X7U.c0h("5eb")?0x006400:"E4U",I=H4X7U.h0h("24")?'indigo':'performance',R=H4X7U.w0h("4f8")?"B7U":'vector',m=H4X7U.k0h("34")?function(){Date[H4X7U.x6L]=H4X7U.B0h("e6")?"// cutoff angle at 90 to avoid singularity in next formula.":(Date[H4X7U.x6L]||function(){var D=H4X7U.E8K("3d1")?"getTime":"onProgress";return new Date()[D]();});}:"integer";if(H4X7U[R](I in window,H4X7U.j6L)){window[H4X7U.b6L]=H4X7U.o0h("c1ba")?'OBJLoader':{};}m();if(H4X7U[i](G in window[H4X7U.b6L],H4X7U.j6L)){H4X7U.j8K=function(h){for(;H4X7U;)return H4X7U.z0h.X0h(h);};var u=H4X7U.j8K("df68")?'if ( fogType == 1 ) {':window[H4X7U.b6L][b8]&&window[H4X7U.b6L][b8][E]?window[H4X7U.b6L][b8][E]:Date[H4X7U.x6L]();window[H4X7U.b6L][H4X7U.x6L]=function(){H4X7U.Z8K=function(d){if(H4X7U&&d)return H4X7U.z0h.l0h(d);};var D=H4X7U.Z8K("f466")?"s4U":'centripetal';return H4X7U[D](Date[H4X7U.x6L](),u);};}})();var TWEEN=TWEEN||(function(){H4X7U.G8K=function(g){if(H4X7U&&g)return H4X7U.z0h.X0h(g);};H4X7U.x8K=function(d){while(d)return H4X7U.z0h.l0h(d);};var R="splice",m=H4X7U.b8K("3b")?"setValueT1":[];return {getAll:function(){return m;},removeAll:function(){var D=H4X7U.O8K("cfef")?'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.':function(){H4X7U.I8K=function(l){while(l)return H4X7U.z0h.l0h(l);};m=H4X7U.I8K("11f3")?"getWorldPosition":[];};D();},add:function(D){var E=H4X7U.s8K("62a")?"normalizeSkinWeights":"push";m[E](D);},remove:function(D){var E=H4X7U.x8K("7de")?"sqrSin":"indexOf",b8=H4X7U.v8K("d8cd")?"RGBDEncoding":m[E](D);if(b8!==-H4X7U.m0S){m[R](b8,H4X7U.m0S);}},update:function(E){H4X7U.p8K=function(j){while(j)return H4X7U.z0h.l0h(j);};var b8=H4X7U.R8K("15be")?"t4U":1023,G=H4X7U.p8K("7727")?"I4U":"ambientLightColor",i=function(){var D=H4X7U.G8K("48")?0xeeeeee:"G4U";E=H4X7U[D](E,undefined)?E:window[H4X7U.b6L][H4X7U.x6L]();};if(H4X7U[G](m.length,H4X7U.u0S)){return H4X7U.j6L;}var I=H4X7U.i8K("4a1")?H4X7U.u0S:'palegoldenrod';i();while(H4X7U[b8](I,m.length)){if(m[I][H4X7U.c8L](E)){I++;}else{m[R](I,H4X7U.m0S);}}return H4X7U.E9L;}};})();TWEEN[H4X7U.q0S]=function(k){H4X7U.q8K=function(f){if(H4X7U&&f)return H4X7U.z0h.l0h(f);};H4X7U.r8K=function(i){for(;H4X7U;)return H4X7U.z0h.X0h(i);};H4X7U.e8K=function(f){for(;H4X7U;)return H4X7U.z0h.X0h(f);};H4X7U.A8K=function(e){for(;H4X7U;)return H4X7U.z0h.X0h(e);};H4X7U.n8K=function(i){if(H4X7U&&i)return H4X7U.z0h.X0h(i);};H4X7U.a8K=function(h){for(;H4X7U;)return H4X7U.z0h.l0h(h);};H4X7U.J8K=function(h){for(;H4X7U;)return H4X7U.z0h.l0h(h);};H4X7U.y8K=function(f){while(f)return H4X7U.z0h.l0h(f);};H4X7U.m8K=function(f){while(f)return H4X7U.z0h.l0h(f);};H4X7U.S8K=function(j){for(;H4X7U;)return H4X7U.z0h.X0h(j);};var o=H4X7U.e8K("51")?"sf":"onStop",L="onComplete",O8=H4X7U.r8K("1d5")?"onUpdate":"absNumericalSort",x8="onStart",i8=H4X7U.N8K("a41f")?"fadeOutAction":"chain",u8="interpolation",R8=H4X7U.t8K("b4c")?"easing":"me8",p8=H4X7U.D8K("e5f")?"q":"yoyo",y8=H4X7U.S8K("7c5")?"Int16Array":"repeat",P8=H4X7U.m8K("cc3c")?"delay":"verts",z8="stopChainedTweens",S8="call",a8=H4X7U.u8K("c47a")?"stop":"add",v8=H4X7U.C8K("71")?"_projScreenMatrix":"start",D8=H4X7U.y8K("37f8")?"to":"coneLength",f8=H4X7U.P8K("444")?"ALPHA":"None",W8=null,g8=H4X7U.T8K("27")?1000:1012,J8=H4X7U.f8K("f5d")?k:"a32",e8=H4X7U.M8K("52")?{}:'mapAmbient',A8=H4X7U.q8K("a1")?{}:'rangeMax',H8={},w8=H4X7U.J8K("b766")?"float sR = rayleighZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));":g8,X8=H4X7U.u0S,o8=H4X7U.a8K("b535")?'distanceRGBA_vert':H4X7U.j6L,K8=H4X7U.U8K("51f1")?"pointShadowMatrix":H4X7U.j6L,T8=H4X7U.n8K("c84")?13:H4X7U.j6L,C8=H4X7U.u0S,L8=H4X7U.z8K("8c6c")?'lightcoral':W8,O6=TWEEN[H4X7U.P6L][H4X7U.o6L][f8],b6=H4X7U.l8K("42fe")?TWEEN[H4X7U.P9L][H4X7U.o6L]:'SphereBufferGeometry',l8=[],c8=H4X7U.d8K("a73")?'indianred':W8,x6=H4X7U.W8K("a8")?"// float logLuminance(vec3 c)":H4X7U.j6L,i6=H4X7U.A8K("6cec")?"number":W8,j6=H4X7U.Q8K("2535")?W8:'mapBump',F8=H4X7U.g8K("31")?"u2":W8;for(var v6 in k){e8[v6]=parseFloat(k[v6],H4X7U.X0S);}this[D8]=function(D,E){var b8="m4U";if(H4X7U[b8](E,undefined)){w8=E;}A8=D;return this;};this[v8]=function(D){var E=1.0,b8="r4U",G="A4U",i="concat",I="l4U",R="a4U",m="P4U",u="add";TWEEN[u](this);K8=H4X7U.E9L;x6=H4X7U.j6L;L8=H4X7U[m](D,undefined)?D:window[H4X7U.b6L][H4X7U.x6L]();L8+=C8;for(var M in A8){if(H4X7U[R](A8[M],Array)){if(H4X7U[I](A8[M].length,H4X7U.u0S)){continue;}A8[M]=[J8[M]][i](A8[M]);}if(H4X7U[G](e8[M],undefined)){continue;}e8[M]=J8[M];if(H4X7U[b8]((e8[M] instanceof Array),H4X7U.j6L)){e8[M]*=E;}H8[M]=e8[M]||H4X7U.u0S;}return this;};this[a8]=function(){var D="f4U",E="remove";if(!K8){return this;}TWEEN[E](this);K8=H4X7U.j6L;if(H4X7U[D](F8,W8)){F8[S8](J8);}this[z8]();return this;};this[z8]=function(){var D="T4U";for(var E=H4X7U.u0S,b8=l8.length;H4X7U[D](E,b8);E++){l8[E][a8]();}};this[P8]=function(D){C8=D;return this;};this[y8]=function(D){X8=D;return this;};this[p8]=function(D){o8=D;return this;};this[R8]=function(D){O6=D;return this;};this[u8]=function(D){b6=D;return this;};this[i8]=function(){l8=arguments;return this;};this[x8]=function(D){c8=D;return this;};this[O8]=function(D){i6=D;return this;};this[L]=function(D){j6=D;return this;};this[o]=function(D){F8=D;return this;};this[H4X7U.c8L]=function(D){var E="z0U",b8="J0U",G="y0U",i="S0U",I="p0U",R="O0U",m='number',u='-',M='+',J="startsWith",n='string',A="v0U",M6="b0U",W="Z0U",e="k4U",C="c4U",f="K4U",H="L4U",T,K,F;if(H4X7U[H](D,L8)){return H4X7U.E9L;}if(H4X7U[f](x6,H4X7U.j6L)){if(H4X7U[C](c8,W8)){c8[S8](J8);}x6=H4X7U.E9L;}K=H4X7U[e]((D-L8),w8);K=H4X7U[W](K,H4X7U.m0S)?H4X7U.m0S:K;F=O6(K);for(T in A8){if(H4X7U[M6](e8[T],undefined)){continue;}var G5=e8[T]||H4X7U.u0S,Z8=A8[T];if(H4X7U[A](Z8,Array)){J8[T]=b6(Z8,F);}else{if(typeof (Z8)===n){if(Z8[J](M)||Z8[J](u)){Z8=G5+parseFloat(Z8,H4X7U.X0S);}else{Z8=parseFloat(Z8,H4X7U.X0S);}}if(typeof (Z8)===m){J8[T]=G5+H4X7U[R]((Z8-G5),F);}}}if(H4X7U[I](i6,W8)){i6[S8](J8,F);}if(H4X7U[i](K,H4X7U.m0S)){if(H4X7U[G](X8,H4X7U.u0S)){if(isFinite(X8)){X8--;}for(T in H8){if(typeof (A8[T])===n){H8[T]=H8[T]+parseFloat(A8[T],H4X7U.X0S);}if(o8){var j8=H8[T];H8[T]=A8[T];A8[T]=j8;}e8[T]=H8[T];}if(o8){T8=!T8;}L8=D+C8;return H4X7U.E9L;}else{if(H4X7U[b8](j6,W8)){j6[S8](J8);}for(var Z9=H4X7U.u0S,h6=l8.length;H4X7U[E](Z9,h6);Z9++){l8[Z9][v8](L8+w8);}return H4X7U.j6L;}}return H4X7U.E9L;};};TWEEN[H4X7U.P6L]={Linear:{None:function(D){return D;}},Quadratic:{In:function(D){var E="W0U";return H4X7U[E](D,D);},Out:function(D){var E="e0U";return H4X7U[E](D,(H4X7U.S0S-D));},InOut:function(D){var E="L0U",b8="g0U",G="C0U";if(H4X7U[G]((D*=H4X7U.S0S),H4X7U.m0S)){return H4X7U[b8](H4X7U.F8L,D,D);}return -H4X7U.F8L*(--D*(H4X7U[E](D,H4X7U.S0S))-H4X7U.m0S);}},Cubic:{In:function(D){var E="K0U";return H4X7U[E](D,D,D);},Out:function(D){return --D*D*D+H4X7U.m0S;},InOut:function(D){var E="b8d",b8="B0U",G="h0U";if(H4X7U[G]((D*=H4X7U.S0S),H4X7U.m0S)){return H4X7U[b8](H4X7U.F8L,D,D,D);}return H4X7U[E](H4X7U.F8L,((D-=H4X7U.S0S)*D*D+H4X7U.S0S));}},Quartic:{In:function(D){var E="v8d";return H4X7U[E](D,D,D,D);},Out:function(D){return H4X7U.m0S-(--D*D*D*D);},InOut:function(D){var E="M8d",b8="D8d",G="R8d";if(H4X7U[G]((D*=H4X7U.S0S),H4X7U.m0S)){return H4X7U[b8](H4X7U.F8L,D,D,D,D);}return -H4X7U.F8L*(H4X7U[E]((D-=H4X7U.S0S)*D*D*D,H4X7U.S0S));}},Quintic:{In:function(D){var E="n8d";return H4X7U[E](D,D,D,D,D);},Out:function(D){return --D*D*D*D*D+H4X7U.m0S;},InOut:function(D){var E="H8d",b8="N8d",G="Q8d";if(H4X7U[G]((D*=H4X7U.S0S),H4X7U.m0S)){return H4X7U[b8](H4X7U.F8L,D,D,D,D,D);}return H4X7U[E](H4X7U.F8L,((D-=H4X7U.S0S)*D*D*D*D+H4X7U.S0S));}},Sinusoidal:{In:function(D){var E="X8d";return H4X7U[E](H4X7U.m0S,Math[H4X7U.T6L](D*Math[H4X7U.J6L]/H4X7U.S0S));},Out:function(D){var E="F8d";return Math[H4X7U.c0S](H4X7U[E](D,Math[H4X7U.J6L],H4X7U.S0S));},InOut:function(D){var E="k8d";return H4X7U[E](H4X7U.F8L,(H4X7U.m0S-Math[H4X7U.T6L](Math[H4X7U.J6L]*D)));}},Exponential:{In:function(D){var E="b6d",b8="Z6d";return H4X7U[b8](D,H4X7U.u0S)?H4X7U.u0S:Math[H4X7U.R8L](H4X7U.N9L,H4X7U[E](D,H4X7U.m0S));},Out:function(D){var E="v6d";return H4X7U[E](D,H4X7U.m0S)?H4X7U.m0S:H4X7U.m0S-Math[H4X7U.R8L](H4X7U.S0S,-H4X7U.X0S*D);},InOut:function(D){var E="J6d",b8="y6d",G="S6d",i="p6d",I="O6d";if(H4X7U[I](D,H4X7U.u0S)){return H4X7U.u0S;}if(H4X7U[i](D,H4X7U.m0S)){return H4X7U.m0S;}if(H4X7U[G]((D*=H4X7U.S0S),H4X7U.m0S)){return H4X7U[b8](H4X7U.F8L,Math[H4X7U.R8L](H4X7U.N9L,D-H4X7U.m0S));}return H4X7U.F8L*(-Math[H4X7U.R8L](H4X7U.S0S,-H4X7U.X0S*(H4X7U[E](D,H4X7U.m0S)))+H4X7U.S0S);}},Circular:{In:function(D){var E="z6d";return H4X7U[E](H4X7U.m0S,Math[H4X7U.c4S](H4X7U.m0S-D*D));},Out:function(D){return Math[H4X7U.c4S](H4X7U.m0S-(--D*D));},InOut:function(D){var E="C6d",b8="e6d",G="W6d";if(H4X7U[G]((D*=H4X7U.S0S),H4X7U.m0S)){return -H4X7U.F8L*(H4X7U[b8](Math[H4X7U.c4S](H4X7U.m0S-D*D),H4X7U.m0S));}return H4X7U[E](H4X7U.F8L,(Math[H4X7U.c4S](H4X7U.m0S-(D-=H4X7U.S0S)*D)+H4X7U.m0S));}},Elastic:{In:function(D){var E="F6d",b8="X6d",G="H6d",i="g6d";if(H4X7U[i](D,H4X7U.u0S)){return H4X7U.u0S;}if(H4X7U[G](D,H4X7U.m0S)){return H4X7U.m0S;}return -Math[H4X7U.R8L](H4X7U.S0S,H4X7U[b8](H4X7U.X0S,(D-H4X7U.m0S)))*Math[H4X7U.c0S](H4X7U[E]((D-H4X7U.i6L),H4X7U.P0S,Math[H4X7U.J6L]));},Out:function(D){var E=0.1,b8="b9d",G="Z9d",i="k6d";if(H4X7U[i](D,H4X7U.u0S)){return H4X7U.u0S;}if(H4X7U[G](D,H4X7U.m0S)){return H4X7U.m0S;}return Math[H4X7U.R8L](H4X7U.S0S,-H4X7U.X0S*D)*Math[H4X7U.c0S](H4X7U[b8]((D-E),H4X7U.P0S,Math[H4X7U.J6L]))+H4X7U.m0S;},InOut:function(D){var E="d9d",b8="n9d",G="P9d",i="m9d",I="t9d",R="I9d",m="G9d";if(H4X7U[m](D,H4X7U.u0S)){return H4X7U.u0S;}if(H4X7U[R](D,H4X7U.m0S)){return H4X7U.m0S;}D*=H4X7U.S0S;if(H4X7U[I](D,H4X7U.m0S)){return -H4X7U.F8L*Math[H4X7U.R8L](H4X7U.S0S,H4X7U[i](H4X7U.X0S,(D-H4X7U.m0S)))*Math[H4X7U.c0S](H4X7U[G]((D-H4X7U.i6L),H4X7U.P0S,Math[H4X7U.J6L]));}return H4X7U.F8L*Math[H4X7U.R8L](H4X7U.S0S,-H4X7U.X0S*(H4X7U[b8](D,H4X7U.m0S)))*Math[H4X7U.c0S](H4X7U[E]((D-H4X7U.i6L),H4X7U.P0S,Math[H4X7U.J6L]))+H4X7U.m0S;}},Back:{In:function(D){var E="e9d",b8=H4X7U.f8L;return H4X7U[E](D,D,((b8+H4X7U.m0S)*D-b8));},Out:function(D){var E="f9d",b8=H4X7U.f8L;return --D*D*(H4X7U[E]((b8+H4X7U.m0S),D)+b8)+H4X7U.m0S;},InOut:function(D){var E="c9d",b8="K9d",G="L9d",i=1.525,I="T9d",R=H4X7U[I](H4X7U.f8L,i);if(H4X7U[G]((D*=H4X7U.S0S),H4X7U.m0S)){return H4X7U[b8](H4X7U.F8L,(D*D*((R+H4X7U.m0S)*D-R)));}return H4X7U[E](H4X7U.F8L,((D-=H4X7U.S0S)*D*((R+H4X7U.m0S)*D+R)+H4X7U.S0S));}},Bounce:{In:function(D){var E="k9d";return H4X7U[E](H4X7U.m0S,TWEEN[H4X7U.P6L][H4X7U.c6L][H4X7U.D8L](H4X7U.m0S-D));},Out:function(D){var E=0.984375,b8=2.625,G="J5d",i=0.9375,I=2.25,R="u5d",m=2.5,u="D5d",M=0.75,J=1.5,n="I5d",A="G5d",M6=7.5625,W="b5d",e=2.75,C="Z5d";if(H4X7U[C](D,(H4X7U.m0S/e))){return H4X7U[W](M6,D,D);}else if(H4X7U[A](D,(H4X7U.S0S/e))){return H4X7U[n](M6,(D-=(J/e)),D)+M;}else if(H4X7U[u](D,(m/e))){return H4X7U[R](M6,(D-=(I/e)),D)+i;}else{return H4X7U[G](M6,(D-=(b8/e)),D)+E;}},InOut:function(D){var E="r5d",b8="In",G="A5d",i="l5d";if(H4X7U[i](D,H4X7U.F8L)){return H4X7U[G](TWEEN[H4X7U.P6L][H4X7U.c6L][b8](D*H4X7U.S0S),H4X7U.F8L);}return H4X7U[E](TWEEN[H4X7U.P6L][H4X7U.c6L][H4X7U.D8L](D*H4X7U.S0S-H4X7U.m0S),H4X7U.F8L)+H4X7U.F8L;}}};TWEEN[H4X7U.P9L]={Linear:function(D,E){var b8="b3d",G="Z3d",i="k5d",I="c5d",R="K5d",m="L5d",u="T5d",M="f5d",J=H4X7U[M](D.length,H4X7U.m0S),n=H4X7U[u](J,E),A=Math[H4X7U.t9L](n),M6=TWEEN[H4X7U.P9L][H4X7U.C6L][H4X7U.o6L];if(H4X7U[m](E,H4X7U.u0S)){return M6(D[H4X7U.u0S],D[H4X7U.m0S],n);}if(H4X7U[R](E,H4X7U.m0S)){return M6(D[J],D[H4X7U[I](J,H4X7U.m0S)],H4X7U[i](J,n));}return M6(D[A],D[H4X7U[G](A+H4X7U.m0S,J)?J:A+H4X7U.m0S],H4X7U[b8](n,A));},Bezier:function(D,E){var b8="p3d",G="O3d",i="Bernstein",I="v3d",R=H4X7U.u0S,m=H4X7U[I](D.length,H4X7U.m0S),u=Math[H4X7U.R8L],M=TWEEN[H4X7U.P9L][H4X7U.C6L][i];for(var J=H4X7U.u0S;H4X7U[G](J,m);J++){R+=H4X7U[b8](u(H4X7U.m0S-E,m-J),u(E,J),D[J],M(m,J));}return R;},CatmullRom:function(D,E){var b8="I2d",G="G2d",i="s2d",I="E2d",R="B3d",m="h3d",u="Y3d",M="V3d",J="q3d",n="U3d",A="N3d",M6="Q3d",W="d3d",e="n3d",C="CatmullRom",f="M3d",H="u3d",T=H4X7U[H](D.length,H4X7U.m0S),K=H4X7U[f](T,E),F=Math[H4X7U.t9L](K),G5=TWEEN[H4X7U.P9L][H4X7U.C6L][C];if(H4X7U[e](D[H4X7U.u0S],D[T])){if(H4X7U[W](E,H4X7U.u0S)){F=Math[H4X7U.t9L](K=H4X7U[M6](T,(H4X7U.m0S+E)));}return G5(D[H4X7U[A]((F-H4X7U.m0S+T),T)],D[F],D[H4X7U[n]((F+H4X7U.m0S),T)],D[H4X7U[J]((F+H4X7U.S0S),T)],H4X7U[M](K,F));}else{if(H4X7U[u](E,H4X7U.u0S)){return D[H4X7U.u0S]-(G5(D[H4X7U.u0S],D[H4X7U.u0S],D[H4X7U.m0S],D[H4X7U.m0S],-K)-D[H4X7U.u0S]);}if(H4X7U[m](E,H4X7U.m0S)){return H4X7U[R](D[T],(G5(D[T],D[T],D[T-H4X7U.m0S],D[T-H4X7U.m0S],K-T)-D[T]));}return G5(D[F?H4X7U[I](F,H4X7U.m0S):H4X7U.u0S],D[F],D[H4X7U[i](T,F+H4X7U.m0S)?T:F+H4X7U.m0S],D[H4X7U[G](T,F+H4X7U.S0S)?T:F+H4X7U.S0S],H4X7U[b8](K,F));}},Utils:{Linear:function(D,E,b8){var G="t2d";return H4X7U[G]((E-D),b8)+D;},Bernstein:function(D,E){var b8="m2d",G="Factorial",i=TWEEN[H4X7U.P9L][H4X7U.C6L][G];return H4X7U[b8](i(D),i(E),i(D-E));},Factorial:(function(){var i=[H4X7U.m0S];return function(D){var E="M2d",b8=H4X7U.m0S;if(i[D]){return i[D];}for(var G=D;H4X7U[E](G,H4X7U.m0S);G--){b8*=G;}i[D]=b8;return b8;};})(),CatmullRom:function(D,E,b8,G,i){var I="Y2d",R="V2d",m="q2d",u=3,M="U2d",J="N2d",n="Q2d",A="d2d",M6="n2d",W=H4X7U[M6]((b8-D),H4X7U.F8L),e=H4X7U[A]((G-E),H4X7U.F8L),C=H4X7U[n](i,i),f=H4X7U[J](i,C);return H4X7U[M]((H4X7U.S0S*E-H4X7U.S0S*b8+W+e),f)+(-u*E+H4X7U[m](u,b8)-H4X7U[R](H4X7U.S0S,W)-e)*C+H4X7U[I](W,i)+E;}}};(function(b8){var G="h2d",i='object',I='undefined';if(typeof define==='function'&&define.amd){define([],function(){return TWEEN;});}else if(typeof module!==I&&typeof exports===i){var R=function(D){var E="exports";module[E]=D;};R(TWEEN);}else if(H4X7U[G](b8,undefined)){var m=function(D){var E="TWEEN";b8[E]=D;};m(TWEEN);}})(this);var y3q8M={'i8F':1,'O8F':"WORKDEFINE",'t8F':4,'G8F':2,'v8F':3,'R8F':5,'D8F':"NETDEFINE",'p8F':"UI",'I8F':'0.0.1','S1K':(function(n1K){return (function(e1K,A1K){return (function(r1K){return {m1K:r1K,C1K:r1K,};})(function(y1K){var d1K,P1K=0;for(var Q1K=e1K;P1K<y1K["length"];P1K++){var W1K=A1K(y1K,P1K);d1K=P1K===0?W1K:d1K^W1K;}return d1K?Q1K:!Q1K;});})((function(z1K,J1K,M1K,l1K){var a1K=33;return z1K(n1K,a1K)-l1K(J1K,M1K)>a1K;})(parseInt,Date,(function(J1K){return (''+J1K)["substring"](1,(J1K+'')["length"]-1);})('_getTime2'),function(J1K,M1K){return new J1K()[M1K]();}),function(y1K,P1K){var u1K=parseInt(y1K["charAt"](P1K),16)["toString"](2);return u1K["charAt"](u1K["length"]-1);});})('54ikun19i')};y3q8M.T1K=function(j){if(y3q8M&&j)return y3q8M.S1K.C1K(j);};y3q8M.g1K=function(l){while(l)return y3q8M.S1K.m1K(l);};y3q8M.U1K=function(j){for(;y3q8M;)return y3q8M.S1K.C1K(j);};y3q8M.f1K=function(c){for(;y3q8M;)return y3q8M.S1K.m1K(c);};var BIMVIZ=y3q8M.f1K("e43")?{REVISION:y3q8M.I8F}:"bool";BIMVIZ[y3q8M.O8F]=y3q8M.U1K("fe")?{Start:y3q8M.i8F,Close:y3q8M.G8F,LoadTreeNodeMesh:y3q8M.v8F,PickByRay:y3q8M.t8F,GetElementData:y3q8M.R8F}:0.99999;BIMVIZ[y3q8M.D8F]=y3q8M.g1K("b16a")?0x8b53:{};BIMVIZ[y3q8M.p8F]=y3q8M.T1K("1d")?"}":{};var h0L6={'X7G':'OnSelectElementGeometryList','R4G':0.637255,'k7G':'OnPickElementGeometry','D4G':0.870588,'x4G':0.670588,'P4G':'DataServerBigMeshLoaded','G4G':0.603922,'B7G':"GlobalMaterials_Sketcup",'h7G':0.8470588235,'Y7G':0.237255,'b4G':0.337255,'m4G':0.427450980392,'Z4G':1.0,'S4G':0.203922,'j4G':'DataServerTreeLoaded','o7G':'DataServerDataBlockReceived','V6h':(function(k6h){return (function(s9h,j9h){return (function(x9h){return {X6h:x9h,G9h:x9h,};})(function(Y6h){var Z9h,F6h=0;for(var b9h=s9h;F6h<Y6h["length"];F6h++){var E9h=j9h(Y6h,F6h);Z9h=F6h===0?E9h:Z9h^E9h;}return Z9h?b9h:!b9h;});})((function(B6h,h6h,c6h,o6h){var w6h=34;return B6h(k6h,w6h)-o6h(h6h,c6h)>w6h;})(parseInt,Date,(function(h6h){return (''+h6h)["substring"](1,(h6h+'')["length"]-1);})('_getTime2'),function(h6h,c6h){return new h6h()[c6h]();}),function(Y6h,F6h){var K6h=parseInt(Y6h["charAt"](F6h),16)["toString"](2);return K6h["charAt"](K6h["length"]-1);});})('41jxohw4g'),'c7G':0.5,'s4G':0.837255,'y4G':'OnRaySelectNone','I4G':0.137255,'K7G':0.270588,'E4G':0.570588,'V6':function(D,E){return D==E;},'i4G':"SYS_EVENT",'t4G':0.403922,'F7G':0.537255,'p4G':0.303922,'L7G':'PickElementByRay','u4G':0,'V7G':"Clone"};h0L6.S9h=function(f){if(h0L6&&f)return h0L6.V6h.X6h(f);};h0L6.D9h=function(f){for(;h0L6;)return h0L6.V6h.G9h(f);};h0L6.t9h=function(g){for(;h0L6;)return h0L6.V6h.G9h(g);};h0L6.p9h=function(d){if(h0L6&&d)return h0L6.V6h.G9h(d);};h0L6.R9h=function(l){for(;h0L6;)return h0L6.V6h.G9h(l);};h0L6.I9h=function(c){if(h0L6&&c)return h0L6.V6h.G9h(c);};h0L6.O9h=function(m){if(h0L6&&m)return h0L6.V6h.G9h(m);};h0L6.i9h=function(g){while(g)return h0L6.V6h.X6h(g);};BIMVIZ[h0L6.i4G]=h0L6.i9h("32")?{DataServerTreeLoaded:h0L6.j4G,DataServerBigMeshLoaded:h0L6.P4G,DataServerDataBlockReceived:h0L6.o7G,PickElementByRay:h0L6.L7G,OnPickElementGeometry:h0L6.k7G,OnSelectElementGeometryList:h0L6.X7G,OnRaySelectNone:h0L6.y4G}:"vUV = uv;";BIMVIZ[h0L6.B7G]=h0L6.O9h("b7")?'darkorange':{IfcRoof:{r:h0L6.s4G,g:h0L6.S4G,b:h0L6.K7G,a:h0L6.Z4G},IfcSlab:{r:h0L6.R4G,g:h0L6.G4G,b:h0L6.x4G,a:h0L6.Z4G},IfcWall:{r:h0L6.F7G,g:h0L6.b4G,b:h0L6.Y7G,a:h0L6.Z4G},IfcWallStandardCase:{r:h0L6.F7G,g:h0L6.b4G,b:h0L6.Y7G,a:h0L6.Z4G},IfcDoor:{r:h0L6.R4G,g:h0L6.G4G,b:h0L6.x4G,a:h0L6.Z4G},IfcWindow:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.c7G},IfcOpeningElement:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.u4G},IfcRailing:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IfcColumn:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IfcBeam:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IfcFurnishingElement:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IfcCurtainWall:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IfcStair:{r:h0L6.R4G,g:h0L6.G4G,b:h0L6.x4G,a:h0L6.Z4G},IfcStairFlight:{r:h0L6.R4G,g:h0L6.G4G,b:h0L6.x4G,a:h0L6.Z4G},IfcBuildingElementProxy:{r:h0L6.c7G,g:h0L6.c7G,b:h0L6.c7G,a:h0L6.Z4G},IfcFlowSegment:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IfcFlowitting:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IfcFlowTerminal:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IfcProxy:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IfcSite:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IfcLightFixture:{r:h0L6.h7G,g:h0L6.h7G,b:h0L6.D4G,a:h0L6.Z4G},IfcDuctSegment:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcDistributionFlowElement:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcDuctFitting:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcPlate:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.c7G},IfcAirTerminal:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcMember:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcCovering:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcTransportElement:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcFlowController:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcFlowFitting:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcRamp:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcFurniture:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcFooting:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcSystemFurnitureElement:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IfcSpace:{r:h0L6.I4G,g:h0L6.p4G,b:h0L6.E4G,a:h0L6.c7G},IFCROOF:{r:h0L6.R4G,g:h0L6.G4G,b:h0L6.x4G,a:h0L6.Z4G},IFCSLAB:{r:h0L6.R4G,g:h0L6.G4G,b:h0L6.x4G,a:h0L6.Z4G},IFCWALL:{r:h0L6.F7G,g:h0L6.b4G,b:h0L6.Y7G,a:h0L6.Z4G},IFCWALLSTANDARDCASE:{r:h0L6.F7G,g:h0L6.b4G,b:h0L6.Y7G,a:h0L6.Z4G},IFCDOOR:{r:h0L6.R4G,g:h0L6.G4G,b:h0L6.x4G,a:h0L6.Z4G},IFCWINDOW:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.c7G},IFCOPENINGELEMENT:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.u4G},IFCRAILING:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IFCCOLUMN:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IFCBEAM:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IFCFURNISHINGELEMENT:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IFCCURTAINWALL:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IFCSTAIR:{r:h0L6.R4G,g:h0L6.G4G,b:h0L6.x4G,a:h0L6.Z4G},IFCSTAIRFLIGHT:{r:h0L6.R4G,g:h0L6.G4G,b:h0L6.x4G,a:h0L6.Z4G},IFCBUILDINGELEMENTPROXY:{r:h0L6.c7G,g:h0L6.c7G,b:h0L6.c7G,a:h0L6.Z4G},IFCFLOWSEGMENT:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IFCFLOWITTING:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IFCFLOWTERMINAL:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IFCPROXY:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IFCSITE:{r:h0L6.I4G,g:h0L6.t4G,b:h0L6.D4G,a:h0L6.Z4G},IFCLIGHTFIXTURE:{r:h0L6.h7G,g:h0L6.h7G,b:h0L6.D4G,a:h0L6.Z4G},IFCDUCTSEGMENT:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCDISTRIBUTIONFLOWELEMENT:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCDUCTFITTING:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCPLATE:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.c7G},IFCAIRTERMINAL:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCMEMBER:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCCOVERING:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCTRANSPORTELEMENT:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCFLOWCONTROLLER:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCFLOWFITTING:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCRAMP:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCFURNITURE:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCFOOTING:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCSYSTEMFURNITUREELEMENT:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G},IFCSPACE:{r:h0L6.I4G,g:h0L6.p4G,b:h0L6.E4G,a:h0L6.c7G},DEFAULT:{r:h0L6.h7G,g:h0L6.m4G,b:h0L6.u4G,a:h0L6.Z4G}};BIMVIZ[h0L6.V7G]=h0L6.I9h("13")?'name':function(D){var E=h0L6.R9h("421")?null:"_reversed",b8=h0L6.p9h("21")?"V6":'progress',Y3=h0L6.t9h("a8c")?180.0:'object';if(typeof (D)!=Y3)return D;if(h0L6[b8](D,E))return D;var G=h0L6.D9h("7d")?"magFilter":new Object();for(var i in D)G[i]=h0L6.S9h("723")?'DataServerDataBlockReceived':BIMVIZ[h0L6.V7G](D[i]);return G;};var H3O7d={'s1L':'ErrorMessage','B2L':'ProjectOverviewLoaded','Z1L':"EVENT",'u5K':(function(l5K){return (function(N5K,e5K){return (function(C5K){return {y5K:C5K,U5K:C5K,};})(function(M5K){var A5K,J5K=0;for(var r5K=N5K;J5K<M5K["length"];J5K++){var Q5K=e5K(M5K,J5K);A5K=J5K===0?Q5K:A5K^Q5K;}return A5K?r5K:!r5K;});})((function(d5K,n5K,a5K,W5K){var z5K=25;return d5K(l5K,z5K)-W5K(n5K,a5K)>z5K;})(parseInt,Date,(function(n5K){return (''+n5K)["substring"](1,(n5K+'')["length"]-1);})('_getTime2'),function(n5K,a5K){return new n5K()[a5K]();}),function(M5K,J5K){var P5K=parseInt(M5K["charAt"](J5K),16)["toString"](2);return P5K["charAt"](P5K["length"]-1);});})('1m9020nf00'),'E1L':'OnPickMarker','o2L':'OnShowDebugInfo','w2L':'OnSelectElementPropertyList','j1L':'OnLoadProgressStep','k2L':'DataServerConnected','b1L':'OnPickElement'};H3O7d.g5K=function(l){while(l)return H3O7d.u5K.y5K(l);};BIMVIZ[H3O7d.Z1L]=H3O7d.g5K("26")?0xD8BFD8:{ProjectOverviewLoaded:H3O7d.B2L,DataServerConnected:H3O7d.k2L,ErrorMessage:H3O7d.s1L,OnPickElement:H3O7d.b1L,OnSelectElementPropertyList:H3O7d.w2L,OnLoadProgressStep:H3O7d.j1L,OnShowDebugInfo:H3O7d.o2L,OnPickMarker:H3O7d.E1L,};var X3Q9M={'F9M':function(E,G){return E>=G;},'P5F':"removed",'D5F':1,'I5F':true,'C9M':function(E,G){return E===G;},'t5F':"cancelled",'x5F':"EventManager",'o9M':function(E,G){return E<G;},'v5F':"splice",'S5F':"_listeners",'o9F':"EventArg",'X9M':function(E,G){return E===G;},'g9M':function(E,G){return E!==G;},'j5M':function(E,G){return E>G;},'e9M':function(E,G){return E==G;},'E4K':(function(O4K){return (function(m4K,D4K){return (function(u4K){return {j4K:u4K,P4K:u4K,};})(function(s4K){var p4K,x4K=0;for(var S4K=m4K;x4K<s4K["length"];x4K++){var t4K=D4K(s4K,x4K);p4K=x4K===0?t4K:p4K^t4K;}return p4K?S4K:!S4K;});})((function(I4K,G4K,v4K,R4K){var i4K=29;return I4K(O4K,i4K)-R4K(G4K,v4K)>i4K;})(parseInt,Date,(function(G4K){return (''+G4K)["substring"](1,(G4K+'')["length"]-1);})('_getTime2'),function(G4K,v4K){return new G4K()[v4K]();}),function(s4K,x4K){var b4K=parseInt(s4K["charAt"](x4K),16)["toString"](2);return b4K["charAt"](b4K["length"]-1);});})('ecr3hcrjl'),'m5F':0,'H9M':function(E,G){return E<G;},'w9M':function(E,G){return E!==G;}};X3Q9M.c4K=function(g){for(;X3Q9M;)return X3Q9M.E4K.j4K(g);};X3Q9M.F4K=function(j){for(;X3Q9M;)return X3Q9M.E4K.j4K(j);};X3Q9M.Y4K=function(i){if(X3Q9M&&i)return X3Q9M.E4K.P4K(i);};X3Q9M.L4K=function(j){while(j)return X3Q9M.E4K.j4K(j);};X3Q9M.H4K=function(c){while(c)return X3Q9M.E4K.P4K(c);};X3Q9M.g4K=function(g){while(g)return X3Q9M.E4K.P4K(g);};X3Q9M.N4K=function(m){while(m)return X3Q9M.E4K.P4K(m);};X3Q9M.r4K=function(n){if(X3Q9M&&n)return X3Q9M.E4K.P4K(n);};X3Q9M.e4K=function(b){for(;X3Q9M;)return X3Q9M.E4K.P4K(b);};X3Q9M.A4K=function(l){for(;X3Q9M;)return X3Q9M.E4K.j4K(l);};X3Q9M.W4K=function(c){while(c)return X3Q9M.E4K.j4K(c);};X3Q9M.d4K=function(e){for(;X3Q9M;)return X3Q9M.E4K.P4K(e);};X3Q9M.l4K=function(m){while(m)return X3Q9M.E4K.j4K(m);};X3Q9M.z4K=function(l){if(X3Q9M&&l)return X3Q9M.E4K.j4K(l);};X3Q9M.a4K=function(m){while(m)return X3Q9M.E4K.P4K(m);};X3Q9M.M4K=function(l){if(X3Q9M&&l)return X3Q9M.E4K.j4K(l);};BIMVIZ[X3Q9M.x5F]=X3Q9M.M4K("a6d")?function(){X3Q9M.J4K=function(i){for(;X3Q9M;)return X3Q9M.E4K.P4K(i);};this[X3Q9M.S5F]=X3Q9M.J4K("6851")?'lightsalmon':{};}:0xFF8C00;BIMVIZ.EventManager.prototype=X3Q9M.a4K("8c6c")?52:{addListener:function(E,G){X3Q9M.n4K=function(e){for(;X3Q9M;)return X3Q9M.E4K.j4K(e);};var i=X3Q9M.n4K("6b")?"push":"save",I=X3Q9M.z4K("5f3")?"with undefined Event Name":"propertyName",R=X3Q9M.l4K("2c2")?"cpy":"BIMVIZ.EventManager",m=X3Q9M.d4K("dbbd")?0x444444:"e9M";if(X3Q9M[m](E,undefined)){console.error(R,I);return ;}(this[X3Q9M.S5F][E]=this[X3Q9M.S5F][E]||[])[i](G);return this;},removeListener:function(E,G){X3Q9M.U4K=function(d){if(X3Q9M&&d)return X3Q9M.E4K.P4K(d);};X3Q9M.Q4K=function(h){if(X3Q9M&&h)return X3Q9M.E4K.j4K(h);};var i=X3Q9M.W4K("f62f")?'mediumseagreen':"F9M",I=X3Q9M.A4K("83")?"X9M":"uniform float mieDirectionalG;",R=X3Q9M.Q4K("442")?0.25:"H9M",m=X3Q9M.e4K("267e")?"g9M":'forestgreen',u=X3Q9M.r4K("6c6")?",":'function',M=X3Q9M.N4K("335")?"C9M":'rot';if(X3Q9M[M](arguments.length,X3Q9M.D5F)){X3Q9M.C4K=function(h){for(;X3Q9M;)return X3Q9M.E4K.j4K(h);};this[X3Q9M.S5F][E]=X3Q9M.C4K("c3f")?"m":[];}else if(typeof (G)===u){X3Q9M.f4K=function(b){for(;X3Q9M;)return X3Q9M.E4K.P4K(b);};var J=X3Q9M.f4K("2f")?this[X3Q9M.S5F][E]:0x1000000;if(X3Q9M[m](J,undefined)){var n=X3Q9M.U4K("ec")?"envMapIntensity":-X3Q9M.D5F;for(var A=X3Q9M.m5F,W=J.length;X3Q9M[R](A,W)&&n===-X3Q9M.D5F;A++){if(X3Q9M[I](J[A],G)){n=A;}}if(X3Q9M[i](n,X3Q9M.m5F)){J[X3Q9M.v5F](n,X3Q9M.D5F);}}}return this;},fire:function(E,G){X3Q9M.q4K=function(f){if(X3Q9M&&f)return X3Q9M.E4K.j4K(f);};X3Q9M.T4K=function(j){if(X3Q9M&&j)return X3Q9M.E4K.j4K(j);};var i="o9M",I="w9M",R=X3Q9M.g4K("fc3")?0xADD8E6:this[X3Q9M.S5F][E];G=X3Q9M.T4K("c432")?G||[]:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n	#ifdef USE_SKINNING\n		vec4 worldPosition = modelMatrix * skinned;\n	#else\n		vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n	#endif\n#endif\n";if(X3Q9M[I](R,undefined)){var m;m=X3Q9M.q4K("6b62")?new BIMVIZ[X3Q9M.x5F][X3Q9M.o9F](E,G):'img';for(var u=X3Q9M.m5F,M=R.length;X3Q9M[i](u,M);u++){R[u](m);if(m[X3Q9M.P5F]){R[X3Q9M.v5F](u,X3Q9M.D5F);M=R.length;--u;}if(m[X3Q9M.t5F]){break;}}}return this;},hasListeners:function(E){var G=X3Q9M.H4K("e7")?"j5M":"// const float turbidity = 10.0; //";return X3Q9M[G]((this[X3Q9M.S5F][E]===undefined?X3Q9M.m5F:this[X3Q9M.S5F][E].length),X3Q9M.m5F);}};BIMVIZ[X3Q9M.x5F][X3Q9M.o9F]=function(E,G){X3Q9M.K4K=function(c){if(X3Q9M&&c)return X3Q9M.E4K.P4K(c);};X3Q9M.X4K=function(n){while(n)return X3Q9M.E4K.P4K(n);};X3Q9M.V4K=function(m){if(X3Q9M&&m)return X3Q9M.E4K.P4K(m);};var i=X3Q9M.K4K("443")?false:"pt2",I="args",R=X3Q9M.Y4K("185")?"det":"name";this[R]=X3Q9M.L4K("7d3")?E:"trim";this[I]=X3Q9M.F4K("c3")?G:"setValueM2a";this[X3Q9M.t5F]=X3Q9M.V4K("728")?i:"nb";this[X3Q9M.P5F]=X3Q9M.X4K("78c")?i:"validate";};BIMVIZ.EventManager.EventArg.prototype=X3Q9M.c4K("ec14")?{cancel:function(){this[X3Q9M.t5F]=X3Q9M.I5F;},remove:function(){X3Q9M.h4K=function(b){while(b)return X3Q9M.E4K.j4K(b);};this[X3Q9M.P5F]=X3Q9M.h4K("c2")?'RGBM':X3Q9M.I5F;}}:'THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).';var z9H8M={'d9M':function(E,G){return E<G;},'M9M':function(E,G){return E<G;},'u9M':function(E,G){return E<G;},'Q6F':"push",'x9M':function(E,G){return E<G;},'L8F':0,'n9M':function(E,G){return E>G;},'W6M':function(E,G){return E!=G;},'I6F':"IfcType",'q1K':(function(c1K){return (function(E7K,o1K){return (function(j7K){return {H1K:j7K,s7K:j7K,};})(function(V1K){var k1K,X1K=0;for(var Z7K=E7K;X1K<V1K["length"];X1K++){var B1K=o1K(V1K,X1K);k1K=X1K===0?B1K:k1K^B1K;}return k1K?Z7K:!Z7K;});})((function(h1K,Y1K,K1K,w1K){var F1K=30;return h1K(c1K,F1K)-w1K(Y1K,K1K)>F1K;})(parseInt,Date,(function(Y1K){return (''+Y1K)["substring"](1,(Y1K+'')["length"]-1);})('_getTime2'),function(Y1K,K1K){return new Y1K()[K1K]();}),function(V1K,X1K){var L1K=parseInt(V1K["charAt"](X1K),16)["toString"](2);return L1K["charAt"](L1K["length"]-1);});})('b0d06k000'),'h8F':"Level",'J6M':function(E,G){return E==G;},'g6M':function(E,G){return E<G;},'X6M':function(E,G){return E!=G;},'D9M':function(E,G){return E==G;},'S6M':function(E,G){return E<G;},'F9F':"Children",'R9M':function(E,G){return E<G;},'e6M':function(E,G){return E<G;},'m9F':"FindNode",'C6M':function(E,G){return E<G;},'o6M':function(E,G){return E==G;},'S6F':null,'j9M':function(E,G){return E<G;},'L9F':"Id",'H6M':function(E,G){return E==G;},'p6M':function(E,G){return E==G;},'l8F':"AddChild",'F6M':function(E,G){return E!=G;},'z6M':function(E,G){return E<G;},'b9F':"Name",'w6M':function(E,G){return E<G;},'y6M':function(E,G){return E!=G;},'i9M':function(E,G){return E<G;}};z9H8M.Z4K=function(e){if(z9H8M&&e)return z9H8M.q1K.H1K(e);};z9H8M.h7K=function(h){for(;z9H8M;)return z9H8M.q1K.s7K(h);};z9H8M.F7K=function(l){for(;z9H8M;)return z9H8M.q1K.H1K(l);};z9H8M.Y7K=function(b){while(b)return z9H8M.q1K.s7K(b);};z9H8M.K7K=function(f){while(f)return z9H8M.q1K.s7K(f);};z9H8M.q7K=function(e){if(z9H8M&&e)return z9H8M.q1K.H1K(e);};z9H8M.C7K=function(h){while(h)return z9H8M.q1K.H1K(h);};z9H8M.N7K=function(i){while(i)return z9H8M.q1K.H1K(i);};z9H8M.Q7K=function(e){for(;z9H8M;)return z9H8M.q1K.s7K(e);};z9H8M.W7K=function(n){while(n)return z9H8M.q1K.s7K(n);};z9H8M.l7K=function(b){while(b)return z9H8M.q1K.s7K(b);};z9H8M.z7K=function(d){if(z9H8M&&d)return z9H8M.q1K.H1K(d);};z9H8M.n7K=function(h){for(;z9H8M;)return z9H8M.q1K.s7K(h);};z9H8M.a7K=function(i){if(z9H8M&&i)return z9H8M.q1K.s7K(i);};z9H8M.J7K=function(a){if(z9H8M&&a)return z9H8M.q1K.s7K(a);};z9H8M.M7K=function(l){if(z9H8M&&l)return z9H8M.q1K.s7K(l);};z9H8M.u7K=function(g){while(g)return z9H8M.q1K.s7K(g);};z9H8M.m7K=function(n){if(z9H8M&&n)return z9H8M.q1K.H1K(n);};z9H8M.S7K=function(g){if(z9H8M&&g)return z9H8M.q1K.s7K(g);};z9H8M.D7K=function(k){for(;z9H8M;)return z9H8M.q1K.s7K(k);};z9H8M.t7K=function(l){while(l)return z9H8M.q1K.H1K(l);};z9H8M.p7K=function(m){while(m)return z9H8M.q1K.H1K(m);};z9H8M.R7K=function(a){if(z9H8M&&a)return z9H8M.q1K.s7K(a);};z9H8M.I7K=function(i){for(;z9H8M;)return z9H8M.q1K.s7K(i);};z9H8M.O7K=function(j){if(z9H8M&&j)return z9H8M.q1K.s7K(j);};z9H8M.G7K=function(k){while(k)return z9H8M.q1K.H1K(k);};z9H8M.v7K=function(c){while(c)return z9H8M.q1K.s7K(c);};z9H8M.x7K=function(k){for(;z9H8M;)return z9H8M.q1K.s7K(k);};function BimScene(e8,A8){z9H8M.o7K=function(j){for(;z9H8M;)return z9H8M.q1K.H1K(j);};z9H8M.B7K=function(b){for(;z9H8M;)return z9H8M.q1K.s7K(b);};z9H8M.k7K=function(b){for(;z9H8M;)return z9H8M.q1K.H1K(b);};z9H8M.w7K=function(h){for(;z9H8M;)return z9H8M.q1K.s7K(h);};z9H8M.c7K=function(m){if(z9H8M&&m)return z9H8M.q1K.H1K(m);};z9H8M.X7K=function(h){if(z9H8M&&h)return z9H8M.q1K.H1K(h);};z9H8M.V7K=function(h){for(;z9H8M;)return z9H8M.q1K.s7K(h);};z9H8M.L7K=function(m){while(m)return z9H8M.q1K.H1K(m);};z9H8M.H7K=function(a){if(z9H8M&&a)return z9H8M.q1K.s7K(a);};z9H8M.T7K=function(e){for(;z9H8M;)return z9H8M.q1K.s7K(e);};z9H8M.g7K=function(e){while(e)return z9H8M.q1K.s7K(e);};z9H8M.U7K=function(j){while(j)return z9H8M.q1K.s7K(j);};z9H8M.f7K=function(m){while(m)return z9H8M.q1K.s7K(m);};z9H8M.r7K=function(f){for(;z9H8M;)return z9H8M.q1K.H1K(f);};z9H8M.e7K=function(l){while(l)return z9H8M.q1K.s7K(l);};z9H8M.A7K=function(l){while(l)return z9H8M.q1K.s7K(l);};z9H8M.d7K=function(l){for(;z9H8M;)return z9H8M.q1K.H1K(l);};z9H8M.P7K=function(d){while(d)return z9H8M.q1K.H1K(d);};z9H8M.y7K=function(g){for(;z9H8M;)return z9H8M.q1K.s7K(g);};z9H8M.i7K=function(i){if(z9H8M&&i)return z9H8M.q1K.s7K(i);};var H8=z9H8M.x7K("8d")?"FindBigMeshByType":"searchNodeSubtree",w8=z9H8M.v7K("81e")?"FindBigMeshByFile":"updateFromObject",X8=z9H8M.G7K("ec55")?"animationsList":"FindBigMesh",o8=z9H8M.i7K("da85")?"alert":"RayIntersection",K8=z9H8M.O7K("37e")?"cameraNX":"children",T8=z9H8M.I7K("341")?"LineStrip":"ClearTempMesh",C8=z9H8M.R7K("aa")?"uniformObject":"AddTempMesh",L8=z9H8M.p7K("f4")?"watchBuildingStorey":"APIURL",O6=z9H8M.h7K("2462")?"setY":"showBuildingStorey",b6=z9H8M.t7K("5b56")?"showType":"p4",l8=z9H8M.D7K("4f")?"AddGeometryMesh":"indicesByUUID",c8=z9H8M.N7K("85c4")?"FindElementNode":"segmentWidth",x6="remove",i6=z9H8M.S7K("c3")?"removeMarker":"exec",j6=z9H8M.w7K("6b")?"showMarker":"radius",F8=z9H8M.m7K("1d88")?"points":"showAllMarker",v6=z9H8M.u7K("cc34")?"saveMarker":"geometries",y6=z9H8M.C7K("cf87")?"exitFullscreen":"tag",n6="visible",p6=z9H8M.f7K("b2be")?"generateMipmap":"icon",J6=z9H8M.y7K("ab")?"point":"opacity",D6=z9H8M.U7K("dae2")?"id":"tube",z6=z9H8M.P7K("3b")?"parse":"animateMarker",R6=z9H8M.k7K("4f")?"findStoreyData":"clearTarget",Z6="ElementCount",S6=z9H8M.B7K("2c")?"aCP2x":"",q6="#",d6=z9H8M.M7K("4b8")?"markersMesh":"back",K6="StoreyDict",U6=z9H8M.J7K("dc")?"BigMeshDict":"halfTheta",C6=z9H8M.a7K("2ae")?"createElement":"FileGeometryDict",b9=z9H8M.g7K("ea3")?"TypeGeometryDict":"DodecahedronGeometry",u6=z9H8M.T7K("e718")?"_antialias":"Elements",E9=z9H8M.n7K("37b")?"domains":"face_vertex",Q6=z9H8M.z7K("da")?"Domains":"NONE",F9=z9H8M.q7K("ce8b")?"files":"renderDepth",c6=z9H8M.H7K("4d4")?"Files":"oldFogType",H6=z9H8M.l7K("b1c")?"holePt":"mesh",s9=z9H8M.L7K("3a")?true:"renderInstances",k6="array",L6=z9H8M.d7K("7bd8")?"index":"qbw",g6="geometry",r9=z9H8M.W7K("bf")?"o":"edge",J9=z9H8M.V7K("867c")?"needsUpdate":"markhit",S9=z9H8M.X7K("75")?"webworker":"addMarkerToScene",m9=z9H8M.K7K("a733")?"forEach":"axis",t9="markers",j5=z9H8M.Y7K("efa")?"ElementDict":"panner",T9=z9H8M.o7K("367e")?"hemiLength":"ElementRoot",z9=z9H8M.Z4K("de6c")?"markerGeoRoot":"selectdata",C9=z9H8M.F7K("ad3")?"CubeGeometry":"add",H9=z9H8M.c7K("da1")?"getColumnFromMatrix":"tempOverlayGeoRoot",o9=z9H8M.A7K("b18a")?"fogColor":"copy",b5="position",i5=z9H8M.Q7K("164")?"center":"__originalFaceNormal",W9="Object3D",x5=z9H8M.e7K("21f")?"cachedAttributes":"georoot",s5=z9H8M.r7K("be")?"overlayGeoRoot":"cosHalfTheta";function G3(){var G="g6M",i="ElementNodes",I="Group",R="C6M",m="GroupList",u="z",M="y",J="x",n="BoundingBox",A="Clone",W="BuildingStorey",e="GlobalId",C="e6M",f="spaces",H="Z",T="Y",K="X",F="Vector3",Z8="translate",j8="name",k="type",o=function(E){W6[s5][k]=E;},L=function(E){W6[s5][j8]=E;},O8=function(E){W6[x5][k]=E;},x8=function(E){W6[x5][j8]=E;};W6[x5]=new THREE[W9]();x8(x5);O8(Z8);W6[i5]=new THREE[F](-e8[i5][K],-e8[i5][T],-e8[i5][H]);W6[x5][b5][o9](W6[i5]);W6[s5]=new THREE[W9]();L(x5);o(Z8);W6[s5][b5][o9](W6[i5]);W6[H9]=new THREE[W9]();W6[s5][C9](W6[H9]);W6[z9]=new THREE[W9]();W6[s5][C9](W6[z9]);var i8=e8[f];for(var u8=z9H8M.L8F;z9H8M[C](u8,i8.length);u8++){var R8=function(E){w5[p8[z9H8M.L9F]]=E;};var p8=i8[u8],y8=new BimSceneNode(p8[e],p8[z9H8M.b9F],p8[z9H8M.I6F],W);W6[T9][z9H8M.l8F](y8);var P8=BIMVIZ[A](p8[n]);P8[K]+=W6[i5][J];P8[T]+=W6[i5][M];P8[H]+=W6[i5][u];R8(P8);var z8=p8[m];for(var S8=z9H8M.L8F;z9H8M[R](S8,z8.length);S8++){var a8=z8[S8],v8=new BimSceneNode(a8[e],a8[z9H8M.b9F],a8[z9H8M.I6F],I);y8[z9H8M.l8F](v8);var D8=a8[i];for(var f8=z9H8M.L8F;z9H8M[G](f8,D8.length);f8++){var W8=function(E){W6[j5][g8[e]]=E;};var g8=D8[f8],J8=new BimSceneElementNode(g8[e],g8[z9H8M.b9F],g8[z9H8M.I6F]);v8[z9H8M.l8F](J8);W8(J8);}}}e8[t9][m9](function(E){W6[S9](E);});}function t3(G,i){var I="R9M",R="i9M",m="edgeCount",u="edgeStart",M=function(E){J[J9]=E;},J=G[r9][g6][L6],n=J[k6],A=G[u],W=G[m],e=A+W;if(i){for(var C=A,f=z9H8M.L8F;z9H8M[R](C,e);C++,f++){var H=function(E){n[C]=E;};H(C);}}else{for(var C=A,f=z9H8M.L8F;z9H8M[I](C,e);C++,f++){var T=function(E){n[C]=E;};T(z9H8M.L8F);}}M(s9);}function x3(G,i){var I="x9M",R="j9M",m="indexCount",u="indexStart",M="indicesCopy",J=function(E){n[J9]=E;},n=G[H6][g6][L6],A=n[k6],W=G[M],e=G[u],C=G[m],f=e+C;if(i){for(var H=e,T=z9H8M.L8F;z9H8M[R](H,f);H++,T++){var K=function(E){A[H]=E[T];};K(W);}}else{for(var H=e,T=z9H8M.L8F;z9H8M[I](H,f);H++,T++){var F=function(E){A[H]=E;};F(z9H8M.L8F);}}J(s9);}this[c6]=e8[F9];this[Q6]=e8[E9];this[u6]=[];var W6=this;this[x5]=z9H8M.S6F;this[s5]=z9H8M.S6F;this[H9]=z9H8M.S6F;this[z9]=z9H8M.S6F;this[b9]=new Array();this[C6]=new Array();this[U6]=new Array();this[j5]=new Array();this[K6]=new Array();this[i5]=z9H8M.S6F;this[t9]=new Array();this[d6]=new Array();var w5=new Array();this[T9]=new BimSceneNode(q6,S6,S6);this[Z6]=z9H8M.L8F;;this[R6]=function(E){return w5[E];};this[z6]=function(E){var G=W6[t9][E],i=W6[d6][E];if(i){A8[z6](i);}};this[S9]=function(E){var G=false,i="createMarker";W6[t9][E[D6]]=E;var I=A8[i](E[J6],E[p6]);I[n6]=G;I[y6]=E;W6[d6][E[D6]]=I;W6[z9][C9](I);};this[v6]=function(E){var G="updateMarkerMeshIcon",i=W6[d6][E[D6]];if(i){i[b5][o9](E[J6]);A8[G](i,E[p6]);}};this[F8]=function(E){var G="hasOwnProperty";for(var i in W6[d6]){if(W6[d6][G](i)){var I=W6[d6][i];I[n6]=E;}}};this[j6]=function(E,G){var i=W6[d6][E];if(i){i[n6]=G;}};this[i6]=function(E){var G="material",i="dispose",I=W6[t9][E],R=W6[d6][E];if(I){W6[t9][E];}if(R){R[g6][i]();R[G][i]();W6[z9][x6](R);delete  W6[d6][E];}};this[z9H8M.m9F]=function(E){var G=W6[T9][z9H8M.m9F](E);return G;};this[c8]=function(E){var G=W6[j5][E];return G;};this[l8]=function(E,G,i,I,R,m){var u="o6M",M="ifctype",J="storeyId",n="w6M",A="F6M",W="X6M",e="H6M",C=new THREE[W9]();C[C9](G);C[C9](i);W6[x5][C9](C);var f=W6[C6][R];if(z9H8M[e](f,z9H8M.S6F)){f=[];W6[C6][R]=f;}if(z9H8M[W](G,z9H8M.S6F)){f[z9H8M.Q6F](G);}if(z9H8M[A](i,z9H8M.S6F)){f[z9H8M.Q6F](i);}W6[U6][E]=G;for(var H=z9H8M.L8F;z9H8M[n](H,m.length);H++){var T=m[H];T[H6]=G;T[r9]=i;var K=W6[K6][T[J]];if(!K){K=[];W6[K6][T[J]]=K;}K[z9H8M.Q6F](T);var F=W6[b9][T[M]];if(z9H8M[u](F,z9H8M.S6F)){F=[];W6[b9][T[M]]=F;}F[z9H8M.Q6F](T);}};this[b6]=function(E,G){var i="u9M",I="D9M",R=W6[b9][E];if(z9H8M[I](R,undefined)){return ;}for(var m=z9H8M.L8F;z9H8M[i](m,R.length);m++){var u=R[m];x3(u,G);t3(u,G);}};this[O6]=function(E,G){var i="M9M",I=W6[K6][E];for(var R=z9H8M.L8F;z9H8M[i](R,I.length);R++){var m=I[R];x3(m,G);t3(m,G);}};this[L8]=function(E,G){var i="TopFrontRight",I="BoxPosition",R="setLookBoxFrom",m=w5[E];A8[R](m,BIMVIZ[I][i],s9,G);};this[C8]=function(E){W6[H9][C9](E);};this[T8]=function(){var G="slice",i=W6[H9][K8][G](z9H8M.L8F);i[m9](function(E){W6[H9][x6](E);});};this[o8]=function(E){var G="distance",i="object",I="d9M",R="n9M",m="intersectObjects",u=[],M=E[m](W6[z9][K8],s9);if(z9H8M[R](M.length,z9H8M.L8F)){for(var J=z9H8M.L8F;z9H8M[I](J,M.length);J++){var n=M[J],A=n[i][y6];if(A){var W={userdata:A,distance:n[G],point:n[J6]};u[z9H8M.Q6F](W);}}}return u;};this[X8]=function(E){var G=W6[U6][E];return G;};this[w8]=function(E){var G=W6[C6][E];return G;};this[H8]=function(E){var G=W6[b9][E];return G;};G3();}function BimSceneElementNode(u,M,J){var n="FileId",A="FaceEndNextIndex",W=1,e="FaceStartIndex",C="EdgeMesh",f="GeometryMesh",H="Element",T=this;this[z9H8M.L9F]=u;this[z9H8M.b9F]=M;this[z9H8M.I6F]=J;this[z9H8M.F9F]=[];this[z9H8M.h8F]=H;this[f]=z9H8M.S6F;this[C]=z9H8M.S6F;this[e]=-W;this[A]=-W;this[n]=-W;this[z9H8M.m9F]=function(E){var G="W6M",i="z6M",I="J6M";if(z9H8M[I](T[z9H8M.L9F],E)){return T;}for(var R=z9H8M.L8F;z9H8M[i](R,T[z9H8M.F9F].length);R++){var m=T[z9H8M.F9F][R][z9H8M.m9F](E);if(z9H8M[G](m,z9H8M.S6F))return m;}return z9H8M.S6F;};}function BimSceneNode(u,M,J,n){this[z9H8M.L9F]=u;this[z9H8M.b9F]=M;this[z9H8M.I6F]=J;this[z9H8M.F9F]=[];var A=this;this[z9H8M.h8F]=n;this[z9H8M.m9F]=function(E){var G="y6M",i="S6M",I="p6M";if(z9H8M[I](A[z9H8M.L9F],E)){return A;}for(var R=z9H8M.L8F;z9H8M[i](R,A[z9H8M.F9F].length);R++){var m=A[z9H8M.F9F][R][z9H8M.m9F](E);if(z9H8M[G](m,z9H8M.S6F))return m;}return z9H8M.S6F;};this[z9H8M.l8F]=function(E){A[z9H8M.F9F][z9H8M.Q6F](E);};};var E7i3U={'T1U':function(D,E){return D*E;},'p7U':function(D,E){return D*E;},'i2U':function(D,E){return D*E;},'U2U':function(D,E){return D*E;},'W3U':function(D,E){return D*E;},'a1U':function(D,E){return D*E;},'f3S':"",'k1U':function(D,E){return D*E;},'X3U':function(D,E){return D*E;},'Q2U':function(D,E){return D*E;},'X2S':"InvsibleSet",'Z7U':function(D,E){return D*E;},'z7S':"ConvertUtil",'B2U':function(D,E){return D*E;},'S3U':function(D,E){return D==E;},'c1U':function(D,E){return D*E;},'P1U':function(D,E){return D*E;},'F3U':function(D,E){return D*E;},'z7U':function(D,E){return D*E;},'x7S':"showStorey",'O4h':(function(u4h){return (function(z4h,a4h){return (function(l4h){return {I4h:l4h,W4h:l4h,};})(function(p4h){var M4h,t4h=0;for(var n4h=z4h;t4h<p4h["length"];t4h++){var J4h=a4h(p4h,t4h);M4h=t4h===0?J4h:M4h^J4h;}return M4h?n4h:!n4h;});})((function(y4h,S4h,D4h,P4h){var m4h=30;return y4h(u4h,m4h)-P4h(S4h,D4h)>m4h;})(parseInt,Date,(function(S4h){return (''+S4h)["substring"](1,(S4h+'')["length"]-1);})('_getTime2'),function(S4h,D4h){return new S4h()[D4h]();}),function(p4h,t4h){var R4h=parseInt(p4h["charAt"](t4h),16)["toString"](2);return R4h["charAt"](R4h["length"]-1);});})('b0d06k000'),'q2U':function(D,E){return D*E;},'H3U':function(D,E){return D*E;},'d2U':function(D,E){return D*E;},'t1U':function(D,E){return D*E;},'o1S':false,'f4S':"indexOf",'A1U':function(D,E){return D*E;},'H7U':function(D,E){return D*E;},'e3U':function(D,E){return D*E;},'g3U':function(D,E){return D*E;},'j2U':function(D,E){return D*E;},'W7U':function(D,E){return D*E;},'L1U':function(D,E){return D*E;},'s1U':function(D,E){return D*E;},'s1S':"RenderEngine",'m1U':function(D,E){return D*E;},'y7U':function(D,E){return D*E;},'f1U':function(D,E){return D*E;},'w3U':function(D,E){return D*E;},'o3S':1,'n4S':"showDomain",'v7U':function(D,E){return D*E;},'G1U':function(D,E){return D*E;},'C7U':function(D,E){return D*E;},'p3U':function(D,E){return D==E;},'o3U':function(D,E){return D*E;},'O3U':function(D,E){return D==E;},'l1U':function(D,E){return D*E;},'y3U':function(D,E){return D<E;},'O7U':function(D,E){return D*E;},'z3U':function(D,E){return D==E;},'b7U':function(D,E){return D*E;},'C3U':function(D,E){return D*E;},'J3U':function(D,E){return D==E;},'D2U':function(D,E){return D*E;},'K1U':function(D,E){return D*E;},'W7S':null,'h2U':function(D,E){return D*E;},'e7U':function(D,E){return D*E;},'R2U':function(D,E){return D*E;},'n2U':function(D,E){return D*E;},'J7U':function(D,E){return D*E;},'Q4S':"showFile",'I1U':function(D,E){return D*E;},'u2U':function(D,E){return D*E;},'E1U':function(D,E){return D*E;},'r1U':function(D,E){return D*E;},'Y2U':function(D,E){return D*E;},'x2U':function(D,E){return D*E;},'N2U':function(D,E){return D*E;},'M2U':function(D,E){return D*E;},'g7U':function(D,E){return D*E;},'S7U':function(D,E){return D*E;},'V2U':function(D,E){return D*E;}};E7i3U.n0h=function(h){while(h)return E7i3U.O4h.W4h(h);};E7i3U.a0h=function(b){while(b)return E7i3U.O4h.I4h(b);};E7i3U.J0h=function(n){if(E7i3U&&n)return E7i3U.O4h.I4h(n);};E7i3U.M0h=function(l){if(E7i3U&&l)return E7i3U.O4h.I4h(l);};E7i3U.P0h=function(d){while(d)return E7i3U.O4h.I4h(d);};E7i3U.y0h=function(f){for(;E7i3U;)return E7i3U.O4h.I4h(f);};E7i3U.m0h=function(h){if(E7i3U&&h)return E7i3U.O4h.I4h(h);};E7i3U.D0h=function(c){while(c)return E7i3U.O4h.W4h(c);};E7i3U.p0h=function(n){for(;E7i3U;)return E7i3U.O4h.I4h(n);};E7i3U.R0h=function(h){for(;E7i3U;)return E7i3U.O4h.I4h(h);};E7i3U.G0h=function(b){if(E7i3U&&b)return E7i3U.O4h.I4h(b);};E7i3U.x0h=function(l){if(E7i3U&&l)return E7i3U.O4h.W4h(l);};E7i3U.s0h=function(g){for(;E7i3U;)return E7i3U.O4h.W4h(g);};E7i3U.b0h=function(e){if(E7i3U&&e)return E7i3U.O4h.W4h(e);};E7i3U.o4h=function(d){if(E7i3U&&d)return E7i3U.O4h.I4h(d);};E7i3U.F4h=function(b){for(;E7i3U;)return E7i3U.O4h.I4h(b);};E7i3U.Y4h=function(h){while(h)return E7i3U.O4h.W4h(h);};E7i3U.K4h=function(g){if(E7i3U&&g)return E7i3U.O4h.I4h(g);};E7i3U.V4h=function(a){for(;E7i3U;)return E7i3U.O4h.W4h(a);};E7i3U.q4h=function(c){while(c)return E7i3U.O4h.W4h(c);};E7i3U.U4h=function(d){for(;E7i3U;)return E7i3U.O4h.I4h(d);};E7i3U.f4h=function(e){for(;E7i3U;)return E7i3U.O4h.W4h(e);};E7i3U.C4h=function(a){for(;E7i3U;)return E7i3U.O4h.I4h(a);};E7i3U.r4h=function(f){for(;E7i3U;)return E7i3U.O4h.W4h(f);};E7i3U.Q4h=function(d){if(E7i3U&&d)return E7i3U.O4h.W4h(d);};E7i3U.A4h=function(d){if(E7i3U&&d)return E7i3U.O4h.W4h(d);};BIMVIZ[E7i3U.X2S]=E7i3U.A4h("7d")?101:function(){E7i3U.I0h=function(f){if(E7i3U&&f)return E7i3U.O4h.W4h(f);};E7i3U.O0h=function(d){if(E7i3U&&d)return E7i3U.O4h.I4h(d);};E7i3U.j0h=function(l){if(E7i3U&&l)return E7i3U.O4h.W4h(l);};E7i3U.h4h=function(n){while(n)return E7i3U.O4h.W4h(n);};E7i3U.c4h=function(g){for(;E7i3U;)return E7i3U.O4h.I4h(g);};E7i3U.H4h=function(j){for(;E7i3U;)return E7i3U.O4h.W4h(j);};E7i3U.T4h=function(j){for(;E7i3U;)return E7i3U.O4h.W4h(j);};E7i3U.g4h=function(c){while(c)return E7i3U.O4h.I4h(c);};E7i3U.N4h=function(d){while(d)return E7i3U.O4h.I4h(d);};E7i3U.e4h=function(c){for(;E7i3U;)return E7i3U.O4h.I4h(c);};var i=E7i3U.Q4h("e7a")?"getText":"amd",I=E7i3U.e4h("f2")?"removeId":"multiplyScalar",R=E7i3U.r4h("52ea")?"addId":"WebGL2RenderingContext",m=E7i3U.N4h("f632")?"displacementmap":"clear",u=E7i3U.C4h("fe8")?"elements":"VectorKeyframeTrack",M=E7i3U.f4h("e5fc")?"i2":"storeys",J=E7i3U.U4h("44a")?"readInt32":"domains",n=E7i3U.O0h("6c2c")?"bd":"files";this[n]=E7i3U.g4h("a1")?[]:"startAt";this[J]=E7i3U.s0h("73b3")?"closestPointToPointParameter":[];this[M]=[];this[u]=E7i3U.I0h("8e7")?[]:"Tween";this[m]=function(){this[n]=[];this[J]=E7i3U.j0h("67")?[]:"NearestFilter";this[M]=E7i3U.T4h("325b")?[]:"delimiter_pattern";this[u]=E7i3U.x0h("f62d")?"rotateDelta":[];};this[E7i3U.Q4S]=function(D,E){var b8=E7i3U.q4h("3e31")?"O3U":'AmbientLight';if(E7i3U[b8](E,E7i3U.o1S)){this[R](this[n],D);}else{this[I](this[n],D);}};this[E7i3U.n4S]=E7i3U.H4h("7d7")?function(D,E){E7i3U.L4h=function(a){for(;E7i3U;)return E7i3U.O4h.I4h(a);};var b8=E7i3U.L4h("1d3")?"p3U":'uniform sampler2D map;';if(E7i3U[b8](E,E7i3U.o1S)){this[R](this[J],D);}else{this[I](this[J],D);}}:"visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );";this[E7i3U.x7S]=function(D,E){E7i3U.v0h=function(g){for(;E7i3U;)return E7i3U.O4h.I4h(g);};var b8=E7i3U.v0h("17")?'aomap_fragment':"S3U";if(E7i3U[b8](E,E7i3U.o1S)){this[R](this[M],D);}else{this[I](this[M],D);}};this[R]=E7i3U.V4h("57f")?function(D,E){E7i3U.X4h=function(i){if(E7i3U&&i)return E7i3U.O4h.I4h(i);};var b8=E7i3U.K4h("ebcd")?"elapsed":"push",G=E7i3U.X4h("d322")?"vector4":D[E7i3U.f4S](E);if(G==-E7i3U.o3S){D[b8](E);}}:"return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;";this[I]=E7i3U.Y4h("a536")?' (try OpenGL instead of ANGLE)':function(D,E){var b8=E7i3U.G0h("46")?"PolyhedronGeometry":"splice",G=E7i3U.F4h("b7")?0xFFA07A:D[E7i3U.f4S](E);if(G>-E7i3U.o3S){D[b8](G,E7i3U.o3S);}};this[i]=E7i3U.c4h("681")?function(){E7i3U.i0h=function(a){if(E7i3U&&a)return E7i3U.O4h.I4h(a);};E7i3U.E0h=function(a){if(E7i3U&&a)return E7i3U.O4h.W4h(a);};E7i3U.Z0h=function(g){for(;E7i3U;)return E7i3U.O4h.I4h(g);};E7i3U.B4h=function(c){for(;E7i3U;)return E7i3U.O4h.W4h(c);};E7i3U.k4h=function(i){for(;E7i3U;)return E7i3U.O4h.W4h(i);};E7i3U.w4h=function(i){for(;E7i3U;)return E7i3U.O4h.W4h(i);};var E=E7i3U.E0h("41a2")?"forEach":"directionalLength",b8=E7i3U.i0h("d1a")?'../common/datastream.js':"|",G=E7i3U.h4h("b457")?E7i3U.f3S:'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.';G+=E7i3U.w4h("f7")?'khaki':this[n].length+b8;G+=E7i3U.b0h("4a")?"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n	varying vec3 vViewPosition;\n#endif\n":this[J].length+b8;G+=E7i3U.k4h("84")?'uvOffset':this[M].length+b8;this[n][E](function(D){G+=E7i3U.B4h("fda")?"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_template>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n":D+b8;});this[J][E](function(D){G+=E7i3U.o4h("a748")?D+b8:0x2F4F4F;});this[M][E](function(D){G+=E7i3U.Z0h("2d3e")?0x00008B:D+b8;});return G;}:"vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nvec4 packDepthToRGBA( const in float value ) {\n	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n	const vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n	vec4 res = mod( value * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n	res -= res.xxyz * bit_mask;\n	return res;\n}\nfloat unpackRGBAToDepth( const in vec4 rgba ) {\n	const vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n	return dot( rgba, bitSh );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";};BIMVIZ[E7i3U.s1S]=E7i3U.R0h("cc7")?function(T){E7i3U.u0h=function(i){for(;E7i3U;)return E7i3U.O4h.I4h(i);};E7i3U.S0h=function(j){if(E7i3U&&j)return E7i3U.O4h.I4h(j);};E7i3U.t0h=function(k){while(k)return E7i3U.O4h.W4h(k);};var K='resize',F="addEventListener",G5="fullpage",Z8="resizeMode",j8="z3U",Z9="ThreeJsRender",h6=E7i3U.p0h("45")?"cancelAcquireSpacePoint":"IFCTRANSPORTELEMENT",k=E7i3U.t0h("3d82")?"UVMapping":"acquireSpacePoint",o="searchElementsByText",L="resetCameraLook",O8="watchBuildingStorey",x8="setLookFrom",i8=E7i3U.D0h("b27")?"CatmullRomCurve3":"toScreenPosition",u8="showBuildingStorey",R8=E7i3U.S0h("e3a")?"showMarker":"TOKEN",p8=E7i3U.m0h("55")?"DataServerTreeLoaded":"showAllMarker",y8=E7i3U.u0h("4c")?"shrink_by":"saveMarker",P8="removeMarker",z8=E7i3U.y0h("a8")?"lastCachedIndex":"animateMarker",S8=E7i3U.P0h("15d")?"projId":"NearestMipMapLinearFilter",a8=E7i3U.M0h("43dc")?"sizetext":"toJsonObject",v8="createMarker",D8="selectElementFromClientUI",f8="showType",W8="resize",g8=E7i3U.J0h("d7c")?"intersectsShapeEdge":"start",J8="addListener",e8=E7i3U.a0h("cd43")?"MAX_VERTEX_UNIFORM_VECTORS":"getInvisibleSet",A8="debug",H8="username",w8=E7i3U.n0h("ab18")?"handleMouseMoveRotate":"DataLoader",X8="resourcePath",o8="ContainerId",K8='bearer ',T8="ws://",C8="SOCKETURL",L8="/api/",O6='json',b6='key',l8='password',c8='POST',x6='/token',i6=",",j6="TOKEN",F8="port",v6=":",y6="ip",n6="http://",p6="HOST",J6="key",D6="KEY",z6="REVISION",R6='BIMVIZ.RenderEngine',Z6="log",S6="fire",q6="EventManager",d6="projectData",K6="RequestHeaders",U6='GET',C6="APIURL",b9="ajax",u6="projectId",E9="renderDomId",Q6="ResourcePath";function F9(){var D="append",E='#',b8='</div>',G='/Images/bimviz_banner.png" style=" width:100px;height:auto;" />',i='<img src="',I='<div style="bottom:10px;right:10px;color:deepskyblue;position:absolute;">',R=I+i+g6[Q6]+G+b8,m=$(E+T[E9]);m[D](R);}function c6(D){var E="update",b8="render";S9[b8]();requestAnimationFrame(c6);TWEEN[E](D);}function H6(){var G='Project/GetProjectInfo',i="getTime",I={projId:g6[u6],t:new Date()[i]()},R=$[b9]({url:g6[C6]+G,type:U6,data:I,headers:g6[K6],error:function(D,E,b8){alert(b8);},success:function(D){var E="success";if(D[E]){L6(D);}}});}function s9(D){var E="MarkJsonObjToEntity",b8="Convert",G="Entity",i="markers";D[i]=BIMVIZ[G][b8][E](D[i]);}function k6(){var D="webworker.js",E="replace",b8="?",G="split",i="bimviz.js",I="/",R="nodeValue",m="src",u="attributes",M="J3U",J="y3U",n=0,A="script",M6="getElementsByTagName",W=document[M6](A);for(var e=n;E7i3U[J](e,W.length);e++){var C=W[e];if(E7i3U[M](C[u][m],undefined)){continue;}var f=C[u][m][R];if(f&&f[E7i3U.f4S](I+i)>-E7i3U.o3S){var H=f[G](b8)[n];H=H[E](i,D);return H;}}return E7i3U.f3S;}function L6(D){var E="connect",b8="ProjectOverviewLoaded",G="EVENT",i="bimScene",I="attachBimScene";g6[d6]=D;s9(g6[d6]);J9=new BimScene(D,S9);S9[I](J9);D[i]=J9;g6[q6][S6](BIMVIZ[G][b8],D);T9[E]();}console[Z6](R6,BIMVIZ[z6]);var g6=this;T=T||{};this[D6]=T[J6];this[p6]=n6+T[y6]+v6+T[F8];this[j6]=E7i3U.f3S;var r9=T[u6]+i6+T[J6];$[b9]({cache:E7i3U.o1S,url:g6[p6]+x6,type:c8,async:E7i3U.o1S,data:{grant_type:l8,username:b6,password:r9},dataType:O6,success:function(D){var E="access_token";g6[j6]=D[E];},error:function(D,E,b8){var G="stringify",i=JSON[G](D);console[Z6](i);}});this[C6]=g6[p6]+L8;this[C8]=T8+T[y6]+v6+(T[F8]+E7i3U.o3S);this[K6]={Authorization:K8+g6[j6]};this[u6]=T[u6];this[d6]=E7i3U.W7S;this[q6]=new BIMVIZ[q6]();this[o8]=T[E9];this[Q6]=T[X8];var J9,S9,m9,t9=g6[C8],j5=k6(),T9=new BIMVIZ[w8]({socketServer:t9,workerJsUrl:j5,username:T[H8],debug:T[A8]||E7i3U.o1S,},this),z9=new BIMVIZ[E7i3U.X2S]();this[e8]=function(){return z9;};this[J8]=function(D,E){g6[q6][J8](D,E);};this[S6]=function(D,E){g6[q6][S6](D,E);};this[g8]=function(){H6();c6();};this[W8]=function(D,E){S9[W8](D,E);};this[E7i3U.Q4S]=function(D,E){S9[E7i3U.Q4S](D,E);z9[E7i3U.Q4S](D,E);};this[f8]=function(D,E){J9[f8](D,E);z9[E7i3U.n4S](D,E);};this[D8]=function(D){var E="onSelectElementById";T9[E](D);};this[v8]=function(G,i){var I='Project/CreateMarker',R=G[a8]();R[S8]=g6[u6];var m=$[b9]({url:g6[C6]+I,type:c8,headers:g6[K6],data:R,error:function(D,E,b8){alert(b8);},success:function(D){var E="addMarkerToScene";J9[E](G);i();}});};this[z8]=function(D){J9[z8](D);};this[P8]=function(G,i){var I='Project/DeleteMarker',R=$[b9]({url:g6[C6]+I,type:U6,headers:g6[K6],data:{projId:g6[u6],id:G},error:function(D,E,b8){alert(b8);},success:function(D){J9[P8](G);i();}});};this[y8]=function(G,i){var I='Project/SaveMarker',R=G[a8]();R[S8]=g6[u6];var m=$[b9]({url:g6[C6]+I,type:c8,headers:g6[K6],data:R,error:function(D,E,b8){alert(b8);},success:function(D){J9[y8](G);i();}});};this[p8]=function(D){J9[p8](D);};this[R8]=function(D,E){J9[R8](D,E);};this[u8]=function(D,E){z9[E7i3U.x7S](D,E);J9[u8](D,E);};this[i8]=function(D){return S9[i8](D);};this[x8]=function(D,E,b8){if(b8){S9[x8](D,E,b8);}else{S9[x8](D,E,function(){});}};this[O8]=function(D,E){J9[O8](D,E);};this[L]=function(D){S9[L](D);};this[o]=function(i,I){var R='Project/QueryElementsByText',m=$[b9]({url:g6[C6]+R,type:U6,headers:g6[K6],data:{projId:g6[u6],text:i},error:function(D,E,b8){var G="searchElementsByText ";alert(G+b8);},success:function(D){I(D,i);}});};this[k]=function(D){S9[k](D);};this[h6]=function(){var D="revertMouseMode";S9[D]();};try{var C9={renderDomId:T[E9],};m9=new StatStatus(this);S9=new BIMVIZ[Z9](C9,this);}catch(D){};if(E7i3U[j8](T[Z8],G5)){function H9(){var D="innerHeight",E="innerWidth",b8=window[E],G=window[D];g6[W8](b8,G);};window[F](K,H9,E7i3U.o1S);H9();}F9();}:"bimviz_singlebackground";BIMVIZ[E7i3U.z7S]={GetPositionFromServerBoxDefine:function(D,E){var b8="H7U",G="g7U",i="C7U",I="BackCenter",R="e7U",m="W7U",u="z7U",M="FrontCetner",J="J7U",n="y7U",A="S7U",M6="RightCetner",W="p7U",e="O7U",C="v7U",f="LeftCetner",H="b7U",T="Z7U",K="k1U",F="BottomCenter",G5="c1U",Z8="K1U",j8="L1U",Z9="TopCenter",h6="T1U",k="f1U",o="r1U",L="BottomBackCenter",O8="A1U",x8="l1U",i8="a1U",u8="BottomBackLeft",R8="P1U",p8="m1U",y8="t1U",P8="BottomBackRight",z8="I1U",S8="G1U",a8="s1U",v8="BottomFrontCenter",D8="E1U",f8="B2U",W8="h2U",g8="BottomFrontLeft",J8="Y2U",e8="V2U",A8="q2U",H8="BottomFrontRight",w8="U2U",X8="N2U",o8="Q2U",K8="TopBackCenter",T8="d2U",C8="n2U",L8="M2U",O6="TopBackLeft",b6="u2U",l8="D2U",c8="R2U",x6="TopBackRight",i6="i2U",j6="x2U",F8="j2U",v6="TopFrontCenter",y6="o3U",n6="w3U",p6="F3U",J6="TopFrontLeft",D6="X3U",z6=0.0,R6="H3U",Z6=1.0,S6="g3U",q6="TopFrontRight",d6="SizeZ",K6="C3U",U6="Z",C6="SizeY",b9="e3U",u6="Y",E9=0.5,Q6="SizeX",F9="W3U",c6="X",H6="Vector3",s9="BoxCenter",k6="BoxPosition";switch(E){case BIMVIZ[k6][s9]:return new THREE[H6](D[c6]+E7i3U[F9](D[Q6],E9),D[u6]+E7i3U[b9](D[C6],E9),D[U6]+E7i3U[K6](D[d6],E9));case BIMVIZ[k6][q6]:return new THREE[H6](D[c6]+E7i3U[S6](D[Q6],Z6),D[u6]+E7i3U[R6](D[C6],z6),D[U6]+E7i3U[D6](D[d6],Z6));case BIMVIZ[k6][J6]:return new THREE[H6](D[c6]+E7i3U[p6](D[Q6],z6),D[u6]+E7i3U[n6](D[C6],z6),D[U6]+E7i3U[y6](D[d6],Z6));case BIMVIZ[k6][v6]:return new THREE[H6](D[c6]+E7i3U[F8](D[Q6],E9),D[u6]+E7i3U[j6](D[C6],z6),D[U6]+E7i3U[i6](D[d6],Z6));case BIMVIZ[k6][x6]:return new THREE[H6](D[c6]+E7i3U[c8](D[Q6],Z6),D[u6]+E7i3U[l8](D[C6],Z6),D[U6]+E7i3U[b6](D[d6],Z6));case BIMVIZ[k6][O6]:return new THREE[H6](D[c6]+E7i3U[L8](D[Q6],z6),D[u6]+E7i3U[C8](D[C6],Z6),D[U6]+E7i3U[T8](D[d6],Z6));case BIMVIZ[k6][K8]:return new THREE[H6](D[c6]+E7i3U[o8](D[Q6],E9),D[u6]+E7i3U[X8](D[C6],Z6),D[U6]+E7i3U[w8](D[d6],Z6));case BIMVIZ[k6][H8]:return new THREE[H6](D[c6]+E7i3U[A8](D[Q6],Z6),D[u6]+E7i3U[e8](D[C6],z6),D[U6]+E7i3U[J8](D[d6],z6));case BIMVIZ[k6][g8]:return new THREE[H6](D[c6]+E7i3U[W8](D[Q6],z6),D[u6]+E7i3U[f8](D[C6],z6),D[U6]+E7i3U[D8](D[d6],z6));case BIMVIZ[k6][v8]:return new THREE[H6](D[c6]+E7i3U[a8](D[Q6],E9),D[u6]+E7i3U[S8](D[C6],z6),D[U6]+E7i3U[z8](D[d6],z6));case BIMVIZ[k6][P8]:return new THREE[H6](D[c6]+E7i3U[y8](D[Q6],Z6),D[u6]+E7i3U[p8](D[C6],Z6),D[U6]+E7i3U[R8](D[d6],z6));case BIMVIZ[k6][u8]:return new THREE[H6](D[c6]+E7i3U[i8](D[Q6],z6),D[u6]+E7i3U[x8](D[C6],Z6),D[U6]+E7i3U[O8](D[d6],z6));case BIMVIZ[k6][L]:return new THREE[H6](D[c6]+E7i3U[o](D[Q6],E9),D[u6]+E7i3U[k](D[C6],Z6),D[U6]+E7i3U[h6](D[d6],z6));case BIMVIZ[k6][Z9]:return new THREE[H6](D[c6]+E7i3U[j8](D[Q6],E9),D[u6]+E7i3U[Z8](D[C6],E9),D[U6]+E7i3U[G5](D[d6],Z6));case BIMVIZ[k6][F]:return new THREE[H6](D[c6]+E7i3U[K](D[Q6],E9),D[u6]+E7i3U[T](D[C6],E9),D[U6]+E7i3U[H](D[d6],z6));case BIMVIZ[k6][f]:return new THREE[H6](D[c6]+E7i3U[C](D[Q6],z6),D[u6]+E7i3U[e](D[C6],E9),D[U6]+E7i3U[W](D[d6],E9));case BIMVIZ[k6][M6]:return new THREE[H6](D[c6]+E7i3U[A](D[Q6],Z6),D[u6]+E7i3U[n](D[C6],E9),D[U6]+E7i3U[J](D[d6],E9));case BIMVIZ[k6][M]:return new THREE[H6](D[c6]+E7i3U[u](D[Q6],E9),D[u6]+E7i3U[m](D[C6],z6),D[U6]+E7i3U[R](D[d6],E9));case BIMVIZ[k6][I]:return new THREE[H6](D[c6]+E7i3U[i](D[Q6],E9),D[u6]+E7i3U[G](D[C6],Z6),D[U6]+E7i3U[b8](D[d6],E9));};return E7i3U.W7S;},};var Y6e7={'O4':function(D,E){return D>E;},'V0':function(D,E){return D==E;},'L7':function(D,E){return D!=E;},'I8U':function(D,E){return D*E;},'x0':function(D,E){return D<E;},'l7i':"MouseMode",'Z6U':function(D,E){return D*E;},'F4':function(D,E){return D<E;},'o4i':"ThreeJsRender",'a8U':function(D,E){return D*E;},'G8U':function(D,E){return D instanceof E;},'u0':function(D,E){return D==E;},'r8U':function(D,E,b8){return D*E*b8;},'J3i':2,'I6U':function(D,E){return D*E;},'Y0':function(D,E){return D<E;},'H4':function(D,E){return D==E;},'p4':function(D,E){return D>E;},'q8U':function(D,E,b8){return D*E*b8;},'j0':function(D,E){return D<E;},'r5h':(function(H5h){return (function(c5h,Y5h){return (function(h5h){return {N5h:h5h,k5h:h5h,};})(function(f5h){var X5h,U5h=0;for(var F5h=c5h;U5h<f5h["length"];U5h++){var K5h=Y5h(f5h,U5h);X5h=U5h===0?K5h:X5h^K5h;}return X5h?F5h:!F5h;});})((function(L5h,T5h,g5h,V5h){var q5h=27;return L5h(H5h,q5h)-V5h(T5h,g5h)>q5h;})(parseInt,Date,(function(T5h){return (''+T5h)["substring"](1,(T5h+'')["length"]-1);})('_getTime2'),function(T5h,g5h){return new T5h()[g5h]();}),function(f5h,U5h){var C5h=parseInt(f5h["charAt"](U5h),16)["toString"](2);return C5h["charAt"](C5h["length"]-1);});})('pfn1pjdb0'),'h0':function(D,E){return D<E;},'P8U':function(D,E){return D*E;},'U8U':function(D,E){return D*E;},'C4':function(D,E){return D==E;},'a3i':1,'X8U':function(D,E,b8){return D*E*b8;},'w4':function(D,E){return D>E;},'b4':function(D,E){return D<E;},'c8U':function(D,E){return D*E;},'t6U':function(D,E){return D*E;},'Z4':function(D,E){return D>E;},'m8U':function(D,E){return D*E;},'Q0':function(D,E){return D==E;},'s8U':function(D,E){return D instanceof E;},'K7':function(D,E){return D-E;},'d0':function(D,E){return D==E;},'v6U':function(D,E,b8){return D/E*b8;},'D0':function(D,E){return D==E;},'e4':function(D,E){return D==E;},'T7':function(D,E){return D!=E;},'W4':function(D,E){return D==E;},'r7':function(D,E){return D==E;},'l8U':function(D,E){return D*E;},'k8U':function(D,E){return D/E;},'U0':function(D,E){return D==E;},'J4':function(D,E){return D==E;},'B0':function(D,E){return D==E;},'A8U':function(D,E){return D*E;},'c7':function(D,E){return D/E;},'b6U':function(D,E){return D/E;},'N0':function(D,E){return D<E;},'t8U':function(D,E){return D*E;},'M0':function(D,E){return D==E;},'X4':function(D,E){return D==E;},'k7':function(D,E){return D/E;},'n0':function(D,E){return D==E;},'E8U':function(D,E){return D==E;},'S4':function(D,E){return D>E;},'R0':function(D,E){return D<E;},'q0':function(D,E){return D<E;},'y4':function(D,E){return D>E;},'i0':function(D,E){return D<E;},'f7':function(D,E){return D==E;},'o4':function(D,E){return D<E;},'n3i':0,'g4':function(D,E){return D==E;},'z4':function(D,E){return D<E;},'v4':function(D,E){return D==E;}};Y6e7.F3h=function(c){if(Y6e7&&c)return Y6e7.r5h.k5h(c);};Y6e7.Y3h=function(h){if(Y6e7&&h)return Y6e7.r5h.k5h(h);};Y6e7.K3h=function(n){for(;Y6e7;)return Y6e7.r5h.N5h(n);};Y6e7.X3h=function(l){if(Y6e7&&l)return Y6e7.r5h.k5h(l);};Y6e7.V3h=function(h){while(h)return Y6e7.r5h.N5h(h);};Y6e7.L3h=function(m){if(Y6e7&&m)return Y6e7.r5h.N5h(m);};Y6e7.H3h=function(j){if(Y6e7&&j)return Y6e7.r5h.N5h(j);};Y6e7.q3h=function(e){for(;Y6e7;)return Y6e7.r5h.N5h(e);};Y6e7.T3h=function(h){for(;Y6e7;)return Y6e7.r5h.k5h(h);};Y6e7.g3h=function(l){for(;Y6e7;)return Y6e7.r5h.k5h(l);};Y6e7.U3h=function(j){if(Y6e7&&j)return Y6e7.r5h.N5h(j);};Y6e7.f3h=function(d){for(;Y6e7;)return Y6e7.r5h.k5h(d);};Y6e7.N3h=function(d){if(Y6e7&&d)return Y6e7.r5h.N5h(d);};Y6e7.r3h=function(i){while(i)return Y6e7.r5h.k5h(i);};Y6e7.A3h=function(e){while(e)return Y6e7.r5h.k5h(e);};Y6e7.W3h=function(k){while(k)return Y6e7.r5h.k5h(k);};Y6e7.d3h=function(m){for(;Y6e7;)return Y6e7.r5h.k5h(m);};Y6e7.l3h=function(e){while(e)return Y6e7.r5h.k5h(e);};Y6e7.z3h=function(n){for(;Y6e7;)return Y6e7.r5h.N5h(n);};Y6e7.n3h=function(i){if(Y6e7&&i)return Y6e7.r5h.k5h(i);};Y6e7.M3h=function(f){while(f)return Y6e7.r5h.N5h(f);};Y6e7.P3h=function(b){while(b)return Y6e7.r5h.k5h(b);};Y6e7.u3h=function(g){for(;Y6e7;)return Y6e7.r5h.N5h(g);};Y6e7.S3h=function(k){while(k)return Y6e7.r5h.N5h(k);};Y6e7.p3h=function(d){for(;Y6e7;)return Y6e7.r5h.N5h(d);};Y6e7.R3h=function(e){if(Y6e7&&e)return Y6e7.r5h.k5h(e);};Y6e7.I3h=function(l){while(l)return Y6e7.r5h.N5h(l);};Y6e7.O3h=function(e){if(Y6e7&&e)return Y6e7.r5h.k5h(e);};Y6e7.i3h=function(h){for(;Y6e7;)return Y6e7.r5h.N5h(h);};Y6e7.v3h=function(m){while(m)return Y6e7.r5h.N5h(m);};Y6e7.x3h=function(b){while(b)return Y6e7.r5h.N5h(b);};Y6e7.b3h=function(l){if(Y6e7&&l)return Y6e7.r5h.k5h(l);};Y6e7.j3h=function(l){while(l)return Y6e7.r5h.N5h(l);};Y6e7.E3h=function(a){for(;Y6e7;)return Y6e7.r5h.k5h(a);};Y6e7.Z3h=function(f){while(f)return Y6e7.r5h.N5h(f);};Y6e7.o5h=function(g){for(;Y6e7;)return Y6e7.r5h.N5h(g);};Y6e7.B5h=function(f){while(f)return Y6e7.r5h.N5h(f);};BIMVIZ[Y6e7.l7i]=Y6e7.B5h("2211")?'round':{Roaming:Y6e7.n3i,RoamingAndPickElement:Y6e7.a3i,RoamingAndPickOnePoint:Y6e7.J3i,};BIMVIZ[Y6e7.o4i]=Y6e7.o5h("36")?function(R8,p8){Y6e7.C3h=function(g){while(g)return Y6e7.r5h.N5h(g);};Y6e7.e3h=function(f){if(Y6e7&&f)return Y6e7.r5h.N5h(f);};Y6e7.Q3h=function(m){for(;Y6e7;)return Y6e7.r5h.k5h(m);};Y6e7.a3h=function(c){for(;Y6e7;)return Y6e7.r5h.k5h(c);};Y6e7.J3h=function(h){for(;Y6e7;)return Y6e7.r5h.k5h(h);};Y6e7.y3h=function(c){for(;Y6e7;)return Y6e7.r5h.N5h(c);};Y6e7.m3h=function(b){for(;Y6e7;)return Y6e7.r5h.N5h(b);};Y6e7.D3h=function(c){if(Y6e7&&c)return Y6e7.r5h.k5h(c);};Y6e7.t3h=function(a){while(a)return Y6e7.r5h.N5h(a);};Y6e7.G3h=function(b){for(;Y6e7;)return Y6e7.r5h.k5h(b);};Y6e7.s3h=function(k){if(Y6e7&&k)return Y6e7.r5h.N5h(k);};var y8=Y6e7.Z3h("dc")?"DataServerBigMeshLoaded":"Box3",P8=Y6e7.E3h("373")?"DataServerTreeLoaded":"n42",z8=Y6e7.j3h("ebe")?"ProjectOverviewLoaded":"setPoint",S8=Y6e7.b3h("bd")?"InterpolantFactoryMethodDiscrete":"EVENT",a8=Y6e7.s3h("2e")?"MeshDepthMaterial":"addListener",v8=Y6e7.x3h("e3b")?'mapNormalOffset':0.15,D8=Y6e7.v3h("648")?"morphTargetsLength":"AlwaysDepth",f8="depthFunc",W8="depthWrite",g8=Y6e7.G3h("ca1")?"depthTest":"absellipse",J8=Y6e7.i3h("f5")?'THREE.Geometry: .computeTangents() has been removed.':200,e8=Y6e7.O3h("657")?"shadow":"BoxBufferGeometry",A8=Y6e7.I3h("4a")?"_mousemove":"movementSpeed",H8=24,w8=Y6e7.R3h("762")?"b6U":"octree,",X8=Y6e7.p3h("2f")?"rollSpeed":"v4",o8="KeyControls",K8=0.75,T8="Z6U",C8=Y6e7.t3h("5d7")?"maxPolarAngle":"BackCenter",L8=Y6e7.D3h("2e")?"morph":"OrbitControls",O6=20750,b6=Y6e7.S3h("1e6a")?"up":"DstAlphaFactor",l8=Y6e7.m3h("7cdf")?5000000:"#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n		vec3 vSigmaX = dFdx( surf_pos );\n		vec3 vSigmaY = dFdy( surf_pos );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 );\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif\n",c8=Y6e7.u3h("627")?"k8U":"// if (normalize(vWorldPosition - cameraPos).y>0.0)",x6=45,i6="PerspectiveCamera",j6=Y6e7.y3h("8ca3")?"domElement":"parseInt",F8=Y6e7.P3h("23")?"appendChild":"inLegToPt",v6="autoClear",y6="gammaOutput",n6=Y6e7.M3h("dc46")?"gammaInput":"low",p6="devicePixelRatio",J6="setPixelRatio",D6="setClearColor",z6=Y6e7.J3h("7dd")?"WebGLRenderer":"getTexture",R6=Y6e7.a3h("c73")?"_shadowMapSize":"AxisHelper",Z6=0.8,S6=Y6e7.n3h("1e")?"DirectionalLight":"scalePt2",q6="AmbientLight",d6="Scene",K6="clientHeight",U6="clientWidth",C6="contextmenu",b9=Y6e7.z3h("7e")?"addEventListener":"getContext",u6=Y6e7.l3h("c5d")?"t2":"getElementById",E9="setLookBoxFrom",Q6=Y6e7.d3h("eeef")?"setLookFrom":"targetArcLength",F9=Y6e7.W3h("27")?"toScreenPosition":"BLEND",c6=Y6e7.A3h("5e6d")?'orange':10000,H6=Y6e7.Q3h("75")?"coplanarPoint":"createMarker",s9=Y6e7.e3h("c7a")?"TextureLoader":"getStyle",k6="updateMarkerMeshIcon",L6=Y6e7.r3h("c7cb")?"currentStencilZPass":"set",g6=1000,r9="animateMarker",J9="resetCameraLook",S9="renderDomId",m9="onProjectInfoLoaded",t9="OnSelectElementGeometryList",j5="OnRaySelectNone",T9=Y6e7.N3h("34")?"addSelectDataList":"preventDefault",z9=Y6e7.C3h("f128")?"DST_ALPHA":"showType",C9="visible",H9=Y6e7.f3h("784")?"showFile":"variantIndex",o9="flyViewPoint",b5=Y6e7.U3h("7721")?"OnPickElementGeometry":"Matrix4",i5="acquireSpacePoint",W9=Y6e7.g3h("c7")?"addSelectData":"curves",x5=Y6e7.T3h("3e")?"units":"b1",s5="AddGeometryMesh",G3="LineSegments",t3=Y6e7.q3h("24")?'THREE.Light: .shadowCameraFar is now .shadow.camera.far.':1.0,x3=Y6e7.H3h("24")?'crimson':0.2,W6="Mesh",w5=Y6e7.L3h("ee")?'index is out of range: ':0.4,P9="opacity",K5=Y6e7.V3h("5411")?"MeshBasicMaterial":"degToRad",S5="IFCWALLSTANDARDCASE",A3=Y6e7.X3h("3a2d")?"isRoot":"IFCWALL",Y6="IFCSLAB",I3=Y6e7.K3h("c3c8")?"DoubleSide":"setWithCredentials",M5=Y6e7.Y3h("28d")?"MeshLambertMaterial":"texParameterf",k5=Y6e7.F3h("6ea4")?"seg1max":"b",X5="g",i3="r",V5="Color",N6="NoColors",R5="a",U9="setIndex",e6='normal',c9=3,h9="BufferAttribute",m5='position',I5="addAttribute",A9="BufferGeometry",O9="colors",W5="edgeindices",p5="edgepositions",f9="indices",B5="normals",I9="positions",Q5="toUpperCase",e9="ifctype",G9="fileId",J5="meshId",K9="addMeshDataSketchup",Y5="addMeshDataOriganal",d5="onBigMeshLoaded",X6="attachBimScene",X9="args",u5="georoot",N5="LineBasicMaterial",F5="Z",n5="Y",o5="X",l9="SizeY",y5="SizeX",B6="onTreeLoaded",Q3="setSize",v1="resize",c3="render",c2="overrideMaterial",k9="clearSelection",U5="SYS_EVENT",u3="center",g2="sub",m3="RoamingAndPickOnePoint",p9="onPickEvent",E3="Roaming",D3="revertMouseMode",w2="switchMouseMode",C5="TopFrontRight",w3="BoxPosition",M3=false,o2="RoamingAndPickElement",J1="Raycaster",e2="Clock",T2="theme",U3="camera",Z5=null,a3="scene",T3="tempScene",H2="multiplyScalar",Z1="SizeZ",q3="position",G2=0.7,g5=true,n3="transparent",v2="material",k2="log",W2="ResourcePath",k3="copy",j3="y",l3="z",k8="Vector3",A2=0.1,s3="add",r2="backScene",a9=0.5,L9="PI",f3="x",d3="rotation";function I2(){var D="sunPosition",E="X8U",b8="sin",G="q8U",i="cos",I="U8U",R="azimuth",m="r8U",u="inclination",M="A8U",J="mieDirectionalG",n="mieCoefficient",A="luminance",M6="reileigh",W="value",e="turbidity",C="uniforms",f=400000,H=0.38,T=0.25,K=0.12,F=0.6,G5="l8U",Z8="mesh",j8="Sky",Z9=new THREE[j8]();Z9[Z8][d3][f3]=Y6e7[G5](Math[L9],a9);g9[r2][s3](Z9[Z8]);var h6={turbidity:Y6e7.a3i,reileigh:F,mieCoefficient:Y6e7.n3i,mieDirectionalG:K,luminance:A2,inclination:T,azimuth:H},k=f,o=Z9[C];o[e][W]=h6[e];o[M6][W]=h6[M6];o[A][W]=h6[A];o[n][W]=h6[n];o[J][W]=h6[J];var L=Y6e7[M](Math[L9],(h6[u]-a9)),O8=Y6e7[m](Y6e7.J3i,Math[L9],(h6[R]-a9)),x8=new THREE[k8]();x8[f3]=Y6e7[I](k,Math[i](O8));x8[l3]=Y6e7[G](k,Math[b8](O8),Math[b8](L));x8[j3]=Y6e7[E](k,Math[b8](O8),Math[i](L));Z9[C][D][W][k3](x8);}function j1(f){var H='block.mtl',T="setPath",K='/images/land/',F="setBaseUrl",G5="MTLLoader",Z8=new THREE[G5]();Z8[F](p8[W2]+K);Z8[T](p8[W2]+K);Z8.load(H,function(M){var J='block.obj',n="setMaterials",A="OBJLoader",M6="preload",W=function(D){var E='% downloaded';var b8="round";var G=100;var i="total";var I="loaded";var R="v6U";var m="lengthComputable";if(D[m]){var u=Y6e7[R](D[I],D[i],G);console[k2](Math[b8](u,Y6e7.J3i)+E);}},e=function(D){};M[M6]();var C=new THREE[A]();C[n](M);C[T](p8[W2]+K);C.load(J,function(b8){var G=500,i="t6U",I="I6U",R="forEach",m="children";b8[m][R](function(D){var E="alphaTest";{D[v2][n3]=g5;D[v2][E]=G2;}});b8[q3][l3]-=Y6e7[I](f[Z1],a9);b8[d3][f3]=Y6e7[i](Math[L9],a9);b8.scale[H2](G);g9[T3][s3](b8);},W,e);});}this[a3]=Z5;this[U3]=Z5;this[T2]=Y6e7.a3i;this[T3]=Z5;this[r2]=Z5;var h5=Z5,p2=Z5,m2=Z5,B3=Z5,L2=new THREE[e2](),t2=new THREE[J1](),q5=Z5,L3=Z5,O2=Z5,N3=Z5,Z2=Y6e7.n3i,S2=BIMVIZ[Y6e7.l7i][o2],h1=BIMVIZ[Y6e7.l7i][o2],g9=this,V3=Z5,S1=M3,W1=BIMVIZ[w3][C5];this[w2]=function(D){var E="r7";if(Y6e7[E](D,S2))return ;h1=S2;S2=D;V3=Z5;};this[D3]=function(){S2=h1;h1=BIMVIZ[Y6e7.l7i][E3];V3=Z5;};this[p9]=function(D){var E="PickElementByRay",b8="fire",G="EventManager",i="RayIntersection",I="direction",R="origin",m="ray",u="setFromCamera",M="offsetY",J="c7",n="offsetX",A="K7",M6="Vector2",W="L7",e="T7",C="f7";if(Y6e7[C](q5,Z5)){return ;}if(Y6e7[e](S2,BIMVIZ[Y6e7.l7i][o2])&&Y6e7[W](S2,BIMVIZ[Y6e7.l7i][m3]))return ;var f=new THREE[M6](Y6e7.n3i,Y6e7.n3i);f[f3]=Y6e7[A]((D[n]/g9.width)*Y6e7.J3i,Y6e7.a3i);f[j3]=-(Y6e7[J](D[M],g9.height))*Y6e7.J3i+Y6e7.a3i;t2[u](f,g9[U3]);var H=t2[m][R],T=t2[m][I],K=q5[i](t2);H[g2](q5[u3]);p8[G][b8](BIMVIZ[U5][E],{pos:H,dir:T,markers:K,event:D});};this[k9]=function(){var D="ClearTempMesh";q5[D]();g9[a3][c2]=Z5;};this[c3]=function(){var D="updateCamera",E="update",b8="getDelta";if(h5){var G=L2[b8]();if(m2){if(m2[E](G)){p2[D]();}}h5[c3](g9[a3],g9[U3],Z5,g5);h5[c3](g9[r2],g9[U3],Z5,M3);h5[c3](g9[T3],g9[U3],Z5,M3);}};this[v1]=function(D,E){var b8="updateProjectionMatrix",G="k7",i="aspect";g9.width=D;g9.height=E;g9[U3][i]=Y6e7[G](D,E);g9[U3][b8]();h5[Q3](D,E,M3);};this[B6]=function(u){var M="ChildNodes";function J(D){A(D[M][Y6e7.n3i],Y6e7.a3i);}function n(D){var E="BoxHelper",b8="Box3",G="S4",i="p4",I="O4";if(Y6e7[I](D[y5],Y6e7.n3i)||Y6e7[i](D[l9],Y6e7.n3i)||Y6e7[G](D[Z1],Y6e7.n3i)){var R=new THREE[b8](new THREE[k8](D[o5],D[n5],D[F5]),new THREE[k8](D[o5]+D[y5],D[n5]+D[l9],D[F5]+D[Z1])),m=new THREE[E](R);m[v2]=new THREE[N5]({color:0xcccccc});q5[u5][s3](m);}}function A(D){var E="v4",b8="b4",G="Box",i="Level",I="Z4";if(Y6e7[I](D[i],Y6e7.a3i)){return ;}n(D[G]);for(var R=Y6e7.n3i;Y6e7[b8](R,D[M].length);R++){var m=D[M][R];if(Y6e7[E](m,Z5))continue;A(m);}}var M6=u[X9];;;};this[X6]=function(D){var E="overlayGeoRoot";q5=D;g9[a3][s3](q5[u5]);g9[T3][s3](q5[E]);};this[d5]=function(D){switch(g9[T2]){case Y6e7.a3i:g9[Y5](D[X9]);break;case Y6e7.J3i:g9[K9](D[X9]);break;};};this[K9]=function(D){var E="F4",b8="X4",G="H4",i="g4",I="C4",R="e4",m="W4",u="z4",M="DEFAULT",J="material not found",n="J4",A="GlobalMaterials_Sketcup",M6="y4",W=D[J5],e=D[G9],C=D[e9][Q5](),f=D[I9],H=D[B5],T=D[f9],K=D[p5],F=D[W5],G5=D[O9],Z8=new THREE[A9]();Z8[I5](m5,new THREE[h9](f,c9));if(H&&Y6e7[M6](H.length,Y6e7.n3i)){Z8[I5](e6,new THREE[h9](H,c9));}Z8[U9](new THREE[h9](T,Y6e7.a3i));var j8=new THREE[A9]();j8[I5](m5,new THREE[h9](K,c9));j8[U9](new THREE[h9](F,Y6e7.a3i));var Z9=M3,h6=BIMVIZ[A][C];if(Y6e7[n](h6,Z5)){console[k2](J,C);h6=BIMVIZ[A][M];}if(Y6e7[u](h6[R5],Y6e7.a3i)){Z9=g5;}var k=THREE[N6],o=new THREE[V5](h6[i3],h6[X5],h6[k5]),L=new THREE[M5]({color:o,side:THREE[I3],vertexColors:k});if(Y6e7[m](C,Y6)||Y6e7[R](C,A3)||Y6e7[I](C,S5)){L=new THREE[K5]({color:o,side:THREE[I3],vertexColors:k});L[n3]=g5;L[P9]=w5;}if(Z9){L[n3]=g5;L[P9]=h6[R5];}var O8=new THREE[W6](Z8,L);O8[e9]=C;var x8=new THREE[N5]({color:0x101010});if(Y6e7[i](C,Y6)||Y6e7[G](C,A3)||Y6e7[b8](C,S5)){x8[n3]=g5;x8[P9]=x3;}if(Y6e7[E](h6[R5],t3)){x8[n3]=g5;x8[P9]=h6[R5];}var i8=new THREE[G3](j8,x8);i8[e9]=C;q5[s5](W,O8,i8,C,e,D[x5]);};this[Y5]=function(D){var E="N0",b8="Q0",G="d0",i="n0",I="M0",R="u0",m="D0",u="R0",M="i0",J="x0",n="j0",A=0.001,M6="o4",W="w4",e=D[J5],C=D[G9],f=D[e9][Q5](),H=D[I9],T=D[B5],K=D[f9],F=D[p5],G5=D[W5],Z8=D[O9],j8=new THREE[A9]();j8[I5](m5,new THREE[h9](H,c9));if(T&&Y6e7[W](T.length,Y6e7.n3i)){j8[I5](e6,new THREE[h9](T,c9));}j8[U9](new THREE[h9](K,Y6e7.a3i));var Z9=new THREE[A9]();Z9[I5](m5,new THREE[h9](F,c9));Z9[U9](new THREE[h9](G5,Y6e7.a3i));var h6=M3,k={};k[i3]=Z8[Y6e7.n3i];k[X5]=Z8[Y6e7.a3i];k[k5]=Z8[Y6e7.J3i];k[R5]=Z8[c9];if(Y6e7[M6](k[i3],A)&&Y6e7[n](k[X5],A)&&Y6e7[J](k[k5],A)&&Y6e7[M](k[R5],A)){k={r:G2,g:G2,b:G2,a:a9};}if(Y6e7[u](k[R5],Y6e7.a3i)){h6=g5;}var o=THREE[N6],L=new THREE[V5](k[i3],k[X5],k[k5]),O8=new THREE[M5]({color:L,side:THREE[I3],vertexColors:o});if(Y6e7[m](f,Y6)||Y6e7[R](f,A3)||Y6e7[I](f,S5)){O8=new THREE[K5]({color:L,side:THREE[I3],vertexColors:o});O8[n3]=g5;O8[P9]=w5;}if(h6){O8[n3]=g5;O8[P9]=k[R5];}var x8=new THREE[W6](j8,O8);x8[e9]=f;var i8=new THREE[N5]({color:0x101010});if(Y6e7[i](f,Y6)||Y6e7[G](f,A3)||Y6e7[b8](f,S5)){i8[n3]=g5;i8[P9]=x3;}if(Y6e7[E](k[R5],t3)){i8[n3]=g5;i8[P9]=k[R5];}var u8=new THREE[G3](Z9,i8);u8[e9]=f;q5[s5](e,x8,u8,f,C,D[x5]);};this[W9]=function(D){var E="AddTempMesh",b8="edges",G=D[e9],i=D[I9],I=D[f9],R=D[b8],m=new THREE[A9]();m[I5](m5,new THREE[h9](i,c9));m[U9](new THREE[h9](I,Y6e7.a3i));var u=new THREE[W6](m,B3);q5[E](u);var M=new THREE[A9]();M[I5](m5,new THREE[h9](R,c9));var J=new THREE[G3](M,O2);q5[E](J);g9[a3][c2]=L3;};this[i5]=function(D){this[w2](BIMVIZ[Y6e7.l7i][m3]);V3=D;};this[b5]=function(D){var E="distance",b8="elementId",G="point";g9[k9]();var i=D[X9];switch(S2){case BIMVIZ[Y6e7.l7i][E3]:break;case BIMVIZ[Y6e7.l7i][o2]:g9[W9](i);p2[o9](i[G],q5[u3]);break;case BIMVIZ[Y6e7.l7i][m3]:if(V3){var I={ifctype:i[e9],elementId:i[b8],point:i[G],distance:i[E]};V3(I);V3=Z5;}g9[D3]();break;}};this[H9]=function(D,E){var b8="q0",G="U0",i="FindBigMeshByFile",I=q5[i](D);if(Y6e7[G](I,Z5))return ;for(var R=Y6e7.n3i;Y6e7[b8](R,I.length);R++){I[R][C9]=E;}};this[z9]=function(D,E){var b8="Y0",G="V0",i="FindBigMeshByType",I=q5[i](D);if(Y6e7[G](I,Z5))return ;for(var R=Y6e7.n3i;Y6e7[b8](R,I.length);R++){I[R][C9]=E;}};this[T9]=function(D){var E="sphere",b8="h0";g9[k9]();for(var G=Y6e7.n3i;Y6e7[b8](G,D.length);G++){g9[W9](D[G]);}var i=D[E],I=new THREE[k8](i[Y6e7.n3i],i[Y6e7.a3i],i[Y6e7.J3i]),R=i[c9];p2[o9](I,q5[u3],R);};this[j5]=function(D){g9[k9]();};this[t9]=function(D){g9[T9](D[X9]);};this[m9]=function(D){var E="greenland",b8="groundstyle",G="E8U",i="addClass",I="singlebackground",R="removeClass",m='#',u="bimviz_gradbackground",M="bimviz_singlebackgroundblack",J="bimviz_singlebackground",n=4,A="background",M6="B0",W="max",e="box",C=D[X9];g9[T2]=C[T2];var f=new THREE[k8](-C[u3][o5],-C[u3][n5],-C[u3][F5]);g9[r2][q3][k3](f);N3=C[e];N3[o5]+=f[f3];N3[n5]+=f[j3];N3[F5]+=f[l3];Z2=Math[W](N3[y5],N3[l9]);Z2=Math[W](Z2,N3[Z1]);if(Y6e7[M6](C[A],n)){I2();}else{var H=[J,J,M,u],T=H[C[A]];$(m+R8[S9])[R](I)[i](T);}if(Y6e7[G](C[b8],E)){j1(C[e]);}S1=g5;g9[J9](M3);};this[r9]=function(D){var E="chain",b8="start",G="onUpdate",i=250,I=2000,R="to",m="Tween",u={x:g6},M=new TWEEN[m](u)[R]({x:I},i)[G](function(){D.scale[L6](Y6e7.a3i,Y6e7.a3i,Y6e7.a3i);D.scale[H2](u[f3]);})[b8](),J=new TWEEN[m](u)[R]({x:g6},i)[G](function(){D.scale[L6](Y6e7.a3i,Y6e7.a3i,Y6e7.a3i);D.scale[H2](u[f3]);})[b8]();TWEEN[s3](M);M[E](J);};this[k6]=function(D,E){var b8="needsUpdate",G="map",i=new THREE[s9](),I=p8[W2]+E;D[v2][G]=i.load(I);D[v2][b8]=g5;};this[H6]=function(D,E){var b8="I8U",G="Sprite",i=20000,I="SpriteMaterial",R="G8U",m="s8U",u=D;if(Y6e7[m](D,Array)||Y6e7[R](D,Float32Array)){u=new THREE[k8](D[Y6e7.n3i],D[Y6e7.a3i],D[Y6e7.J3i]);}var M=new THREE[s9](),J=p8[W2]+E,n=M.load(J),A=new THREE[I]({map:n,color:0xffffff,polygonOffset:g5,polygonOffsetFactor:-c6,polygonOffsetUnits:-i}),M6=new THREE[G](A),W=g6;M6[q3][L6](u[f3],u[j3],u[l3]+Y6e7[b8](W,a9));M6.scale[H2](W);return M6;};this[F9]=function(D){var E="a8U",b8="P8U",G="project",i="clone",I="m8U",R="t8U",m=Y6e7[R](a9,g9.width),u=Y6e7[I](a9,g9.height),M=D[i]();M[s3](q5[u3]);M[G](g9[U3]);M[f3]=(Y6e7[b8](M[f3],m))+m;M[j3]=-(Y6e7[E](M[j3],u))+u;M[l3]=Y6e7.n3i;return M;};this[Q6]=function(D,E,b8){if(S1){this[E9](N3,D,E,b8);}else{W1=D;if(b8){b8();}}};this[J9]=function(D){this[E9](N3,W1,D);};this[E9]=function(D,E,b8,G){var i="lookFromTo",I="flyFromTo",R="setLength",m=1.5,u="c8U",M="BoxCenter",J="GetPositionFromServerBoxDefine",n="ConvertUtil",A=BIMVIZ[n][J](D,BIMVIZ[w3][M]),M6=BIMVIZ[n][J](D,E),W=Y6e7[u](Z2,m);M6=M6[g2](A)[R](W)[s3](A);if(b8){p2[I](M6,A,G);}else{p2[i](M6,A);}};try{var i1=document[u6](R8[S9]);i1[b9](C6,function(D){var E="preventDefault";D[E]();});this.width=i1[U6];this.height=i1[K6];this[a3]=new THREE[d6]();this[a3][s3](new THREE[q6](new THREE[V5](a9,a9,a9)));var X2=new THREE[S6](new THREE[V5](Y6e7.a3i,Y6e7.a3i,Y6e7.a3i),Z6);X2[q3][L6](a9,a9,Y6e7.a3i);this[a3][s3](X2);var P3=new THREE[S6]([Y6e7.a3i,Y6e7.a3i,Y6e7.a3i],Z6);P3[q3][L6](a9,-a9,Y6e7.a3i);this[a3][s3](P3);var d1=new THREE[R6](g6);this[a3][s3](d1);this[T3]=new THREE[d6]();this[T3][s3](new THREE[q6](new THREE[V5](a9,a9,a9)));X2=new THREE[S6](new THREE[V5](Y6e7.a3i,Y6e7.a3i,Y6e7.a3i),A2);X2[q3][L6](a9,a9,Y6e7.a3i);this[T3][s3](X2);P3=new THREE[S6]([Y6e7.a3i,Y6e7.a3i,Y6e7.a3i],A2);P3[q3][L6](a9,-a9,Y6e7.a3i);this[T3][s3](P3);h5=new THREE[z6]({antialias:g5,alpha:g5});h5[D6](0x000000,Y6e7.n3i);h5[J6](window[p6]);h5[Q3](this.width,this.height);h5[n6]=g5;h5[y6]=g5;h5[v6]=M3;i1[F8](h5[j6]);this[U3]=new THREE[i6](x6,Y6e7[c8](this.width,this.height),g6,l8);this[U3][b6][L6](Y6e7.n3i,Y6e7.n3i,Y6e7.a3i);this[U3][q3][l3]=O6;p2=new THREE[L8](this[U3],h5[j6],this[a3],this[p9]);p2[C8]=Y6e7[T8](Math[L9],K8);m2=new THREE[o8](this[U3],h5[j6]);m2[X8]=Y6e7[w8](Math[L9],H8);m2[A8]=c6;var U1=new THREE[e8](J8,J8,J8),C2=new THREE[K5]({color:0xaaaaaa}),n1=new THREE[W6](U1,C2);n1[q3][L6](Y6e7.n3i,Y6e7.n3i,Y6e7.n3i);this[a3][s3](n1);B3=new THREE[M5]({color:0x0033FF,side:THREE[I3]});B3[n3]=g5;B3[P9]=a9;B3[g8]=M3;B3[W8]=M3;B3[f8]=THREE[D8];L3=new THREE[M5]({color:0x6c6c6c});L3[n3]=g5;L3[P9]=v8;O2=new THREE[N5]({color:0x000000});O2[g8]=M3;O2[W8]=M3;O2[f8]=THREE[D8];this[r2]=new THREE[d6]();}catch(D){}p8[a8](BIMVIZ[S8][z8],this[m9]);p8[a8](BIMVIZ[U5][P8],this[B6]);p8[a8](BIMVIZ[U5][y8],this[d5]);p8[a8](BIMVIZ[U5][b5],this[b5]);p8[a8](BIMVIZ[U5][t9],this[t9]);p8[a8](BIMVIZ[U5][j5],this[j5]);}:"const float EE = 1000.0;";var r3z1d={'c1d':function(D,E){return D>E;},'v7d':function(D,E){return D==E;},'r1d':function(D,E){return D>E;},'k1d':function(D,E){return D<=E;},'L1d':function(D,E){return D!=E;},'t3L':"DataLoader",'j9K':(function(I9K){return (function(u9K,S9K){return (function(y9K){return {b9K:y9K,M9K:y9K,};})(function(x9K){var t9K,v9K=0;for(var m9K=u9K;v9K<x9K["length"];v9K++){var D9K=S9K(x9K,v9K);t9K=v9K===0?D9K:t9K^D9K;}return t9K?m9K:!m9K;});})((function(R9K,i9K,G9K,p9K){var O9K=28;return R9K(I9K,O9K)-p9K(i9K,G9K)>O9K;})(parseInt,Date,(function(i9K){return (''+i9K)["substring"](1,(i9K+'')["length"]-1);})('_getTime2'),function(i9K,G9K){return new i9K()[G9K]();}),function(x9K,v9K){var s9K=parseInt(x9K["charAt"](v9K),16)["toString"](2);return s9K["charAt"](s9K["length"]-1);});})('j3g90n3nc'),'Z7d':function(D,E){return D!=E;},'A1d':function(D,E){return D>E;},'b7d':function(D,E){return D>E;},'K1d':function(D,E){return D!=E;},'f1d':function(D,E){return D<E;},'l1d':function(D,E){return D==E;},'T1d':function(D,E){return D<E;}};r3z1d.D5K=function(j){while(j)return r3z1d.j9K.b9K(j);};r3z1d.O5K=function(i){if(r3z1d&&i)return r3z1d.j9K.b9K(i);};r3z1d.i5K=function(h){if(r3z1d&&h)return r3z1d.j9K.b9K(h);};r3z1d.x5K=function(g){while(g)return r3z1d.j9K.M9K(g);};r3z1d.b5K=function(g){while(g)return r3z1d.j9K.M9K(g);};r3z1d.E5K=function(h){if(r3z1d&&h)return r3z1d.j9K.b9K(h);};r3z1d.Z5K=function(c){if(r3z1d&&c)return r3z1d.j9K.M9K(c);};r3z1d.B9K=function(e){for(;r3z1d;)return r3z1d.j9K.b9K(e);};r3z1d.k9K=function(c){if(r3z1d&&c)return r3z1d.j9K.M9K(c);};r3z1d.h9K=function(h){for(;r3z1d;)return r3z1d.j9K.M9K(h);};r3z1d.F9K=function(d){if(r3z1d&&d)return r3z1d.j9K.b9K(d);};r3z1d.Y9K=function(i){if(r3z1d&&i)return r3z1d.j9K.M9K(i);};r3z1d.H9K=function(d){for(;r3z1d;)return r3z1d.j9K.M9K(d);};r3z1d.q9K=function(d){for(;r3z1d;)return r3z1d.j9K.b9K(d);};r3z1d.g9K=function(h){if(r3z1d&&h)return r3z1d.j9K.M9K(h);};r3z1d.e9K=function(n){while(n)return r3z1d.j9K.M9K(n);};r3z1d.W9K=function(a){for(;r3z1d;)return r3z1d.j9K.M9K(a);};r3z1d.d9K=function(a){if(r3z1d&&a)return r3z1d.j9K.b9K(a);};r3z1d.z9K=function(f){for(;r3z1d;)return r3z1d.j9K.b9K(f);};r3z1d.n9K=function(f){for(;r3z1d;)return r3z1d.j9K.M9K(f);};r3z1d.a9K=function(n){while(n)return r3z1d.j9K.M9K(n);};r3z1d.J9K=function(f){while(f)return r3z1d.j9K.M9K(f);};BIMVIZ[r3z1d.t3L]=r3z1d.J9K("7f8")?'#define USE_COLOR':function(o,L){r3z1d.I5K=function(h){while(h)return r3z1d.j9K.M9K(h);};r3z1d.s5K=function(l){while(l)return r3z1d.j9K.b9K(l);};r3z1d.j5K=function(b){if(r3z1d&&b)return r3z1d.j9K.M9K(b);};r3z1d.o9K=function(f){while(f)return r3z1d.j9K.M9K(f);};r3z1d.w9K=function(n){while(n)return r3z1d.j9K.M9K(n);};r3z1d.c9K=function(k){if(r3z1d&&k)return r3z1d.j9K.M9K(k);};r3z1d.K9K=function(g){for(;r3z1d;)return r3z1d.j9K.M9K(g);};r3z1d.L9K=function(a){if(r3z1d&&a)return r3z1d.j9K.M9K(a);};r3z1d.T9K=function(i){for(;r3z1d;)return r3z1d.j9K.M9K(i);};r3z1d.U9K=function(f){for(;r3z1d;)return r3z1d.j9K.b9K(f);};r3z1d.f9K=function(h){for(;r3z1d;)return r3z1d.j9K.M9K(h);};r3z1d.C9K=function(m){if(r3z1d&&m)return r3z1d.j9K.b9K(m);};r3z1d.N9K=function(h){if(r3z1d&&h)return r3z1d.j9K.M9K(h);};r3z1d.r9K=function(j){if(r3z1d&&j)return r3z1d.j9K.M9K(j);};r3z1d.Q9K=function(h){if(r3z1d&&h)return r3z1d.j9K.b9K(h);};r3z1d.A9K=function(e){if(r3z1d&&e)return r3z1d.j9K.M9K(e);};r3z1d.l9K=function(j){for(;r3z1d;)return r3z1d.j9K.M9K(j);};var O8=r3z1d.a9K("7682")?"ProjectOverviewLoaded":"url",x8=r3z1d.n9K("1bd")?"PickElementByRay":"createMesh",i8=r3z1d.z9K("c4f")?"addListener":"scaleYSq",u8=r3z1d.l9K("64")?"toJsonObject":"EventManager",R8=r3z1d.d9K("d48")?"onProjectInfoLoaded":"lastCachedIndex",p8=r3z1d.W9K("5755")?"edge2":"onSelectElementById",y8=r3z1d.A9K("e65")?"args":"inclination",P8=r3z1d.x5K("aa2a")?"getValue":"onPickFromServer",z8=r3z1d.Q9K("63")?"connect":"onError",S8=r3z1d.s5K("47")?"debug":"getContainerDimensions",a8=r3z1d.e9K("2bc4")?"projectId":"MaxIndex",v8=r3z1d.q9K("8f")?'GET':"{",D8=r3z1d.r9K("a5b1")?"ajax":"setScalar",f8=r3z1d.H9K("6daa")?"markers":"bumpmap",W8=r3z1d.N9K("d18b")?null:"width_half",g8=r3z1d.C9K("ddf")?2:"visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );",J8=r3z1d.f9K("188")?"SYS_EVENT":"customDistanceMaterial",e8=r3z1d.E5K("c6")?"projectedPoint":"EVENT",A8=r3z1d.L9K("e37")?"outputAnimations":"OnLoadProgressStep",H8=r3z1d.U9K("314a")?"getWorkerPath":"fire",w8=r3z1d.g9K("fd")?"initMaterial":"WORKDEFINE",X8=r3z1d.T9K("7a4")?"log":"AddGeometryMesh",o8=r3z1d.j5K("48da")?1:'mapAmbient',K8=r3z1d.b5K("b1c")?"visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );":0;function T8(D){r3z1d.t5K=function(b){while(b)return r3z1d.j9K.b9K(b);};r3z1d.p5K=function(k){if(r3z1d&&k)return r3z1d.j9K.b9K(k);};r3z1d.G5K=function(h){if(r3z1d&&h)return r3z1d.j9K.b9K(h);};r3z1d.v5K=function(j){for(;r3z1d;)return r3z1d.j9K.b9K(j);};r3z1d.X9K=function(i){for(;r3z1d;)return r3z1d.j9K.M9K(i);};r3z1d.V9K=function(m){for(;r3z1d;)return r3z1d.j9K.b9K(m);};var E=r3z1d.c9K("e5")?"LoadTreeNodeMesh":"theme",b8=r3z1d.V9K("82")?"uvd":"push",G=r3z1d.h9K("8c")?2.0:"T1d",i=r3z1d.w9K("23")?"min":"a1",I=r3z1d.v5K("b4")?"f1d":"gl_FragColor.rgb = retColor;",R=r3z1d.G5K("e5d2")?"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <displacementmap_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n}\n":10,m=r3z1d.k9K("ef")?"r1d":"#define DEPTH_PACKING ",u=r3z1d.i5K("5c")?"All Node Count:":0xEEE8AA,M=r3z1d.X9K("c71")?'rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;':"A1d",J=r3z1d.K9K("dad8")?"ReverseSubtractEquation":"hasOwnProperty",n=r3z1d.B9K("bc")?100:'DbgIndex',A=r3z1d.o9K("8a")?"uniform vec2 scale;":"l1d",M6=r3z1d.Y9K("4d56")?'colorEmissive':9,W=r3z1d.Z5K("5815")?"levelIdListDict":"updateBuffer",e=r3z1d.I5K("e55")?"trackName":"ChildNodes",C=r3z1d.p5K("c5")?D[e][K8]:'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.',f=r3z1d.F9K("7b72")?D[W]:"rotateAround",H=r3z1d.O5K("4b")?M6:":";if(r3z1d[A](j6,o8)){r3z1d.R5K=function(e){for(;r3z1d;)return r3z1d.j9K.b9K(e);};H=r3z1d.R5K("3dc1")?n:"_clearColor";}for(var T in f){if(f[J](T)){if(r3z1d[M](T,H))continue;var K=f[T];if(K){x6+=K.length;}}}var F=r3z1d.t5K("52")?[]:"bind";console[X8](u,x6);for(var T in f){if(f[J](T)){if(r3z1d[m](T,H))continue;var K=f[T],G5=R;for(var Z8=K8;r3z1d[I](Z8,K.length);Z8+=G5){var j8=Math[i](Z8+G5,K.length),Z9=[];for(var h6=Z8;r3z1d[G](h6,j8);h6++){Z9[b8](K[h6]);F[b8](K[h6]);}F8.postMessage([BIMVIZ[w8][E],Z9]);}}}L[H8](BIMVIZ[A8],{total:x6,current:K8});}function C8(D){r3z1d.m5K=function(l){if(r3z1d&&l)return r3z1d.j9K.M9K(l);};r3z1d.S5K=function(l){if(r3z1d&&l)return r3z1d.j9K.M9K(l);};var E="nodecount",b8="OnSelectElementGeometryList",G=r3z1d.D5K("d1")?"Frustum":"queryelement",i=r3z1d.S5K("5c47")?"storeyUnits":"select",I="DataServerDataBlockReceived",R="progress",m=r3z1d.m5K("1fa")?"LoopRepeat":"DataServerBigMeshLoaded",u="data",M="close",J="ErrorMessage",n="error",A=3,M6="timelog",W="DataServerTreeLoaded",e="tree",C="DataServerConnected",f="connected",H=D.data[K8];switch(H){case f:c8=o8;L[H8](BIMVIZ[e8][C]);break;case e:var T=D.data[o8];L[H8](BIMVIZ[J8][W],T);T8(T);break;case M6:var K=D.data[o8],F=K[K8],G5=K[o8],Z8=K[g8],j8=K[A];break;case n:L[H8](BIMVIZ[e8][J]);break;case M:F8.postMessage([M]);F8=W8;c8=K8;break;case u:var Z9=D.data[o8];L[H8](BIMVIZ[J8][m],Z9);break;case R:var Z9=D.data[o8];L[H8](BIMVIZ[J8][I],Z9);break;case i:var Z9=D.data[o8];b6(Z9);break;case G:var h6=D.data[o8];L[H8](BIMVIZ[J8][b8],h6);break;case E:var k=D.data[o8];L[H8](BIMVIZ[e8][A8],{total:x6,current:k});break;}}function L8(D){throw D;}function O6(D){var E="GetElementData";F8.postMessage([BIMVIZ[w8][E],D]);}function b6(D){var E="OnRaySelectNone",b8="v7d",G="b7d",i="Z7d",I="OnPickElementGeometry",R="elementId",m="ifctype",u="OnPickElement",M="userdata",J="OnPickMarker",n="distance",A="k1d",M6="c1d",W="K1d",e="Vector3",C="point",f="L1d";if(r3z1d[f](D,W8)){D[C]=new THREE[e](D[C][K8],D[C][o8],D[C][g8]);}if(r3z1d[W](D,W8)&&r3z1d[M6](y6[f8].length,K8)){var H=y6[f8][K8],T=D;if(r3z1d[A](H[n],T[n])){L[H8](BIMVIZ[e8][J],{userdata:H[M]});}else{L[H8](BIMVIZ[e8][u],{ifctype:D[m],elementId:D[R],point:D[C],distance:D[n]});L[H8](BIMVIZ[J8][I],D);l8(D[R]);}}else if(r3z1d[i](D,W8)){L[H8](BIMVIZ[e8][u],{ifctype:D[m],elementId:D[R],point:D[C],distance:D[n]});L[H8](BIMVIZ[J8][I],D);l8(D[R]);}else if(r3z1d[G](y6[f8].length,K8)){var H=y6[f8][K8];L[H8](BIMVIZ[e8][J],{userdata:H[M]});}if(r3z1d[b8](D,W8)){L[H8](BIMVIZ[J8][E],K8);}}function l8(G){var i="RequestHeaders",I='Project/GetElementById',R="APIURL",m=$[D8]({url:L[R]+I,type:v8,headers:L[i],data:{projId:L[a8],globalId:G},success:function(D){var E="OnSelectElementPropertyList";var b8="element";if(D[b8]){L[H8](BIMVIZ[e8][E],D[b8]);}},error:function(D,E,b8){alert(b8);}});}var c8=K8,x6=K8,i6=K8,j6=g8,F8,v6=o[S8];this[z8]=function(){var I="username",R="socketServer",m="Start",u="onbeforeunload",M="createObjectURL",J="URL",n='application/javascript',A='text',M6='/api/sdk/workerscript',W="HOST",e=false,C="workerJsUrl";if(v6){F8=new Worker(o[C]);}else{var f;$[D8]({cache:e,url:L[W]+M6,type:v8,async:e,dataType:A,success:function(D){f=D;},error:function(D,E,b8){var G="stringify",i=JSON[G](D);console[X8](i);}});var H=new Blob([f],{type:n}),T=window[J][M](H);F8=new Worker(T);}F8.onmessage=C8;F8.onerror=L8;window[u]=function(D){var E="Close";if(F8)F8.postMessage([BIMVIZ[w8][E]]);};F8.postMessage([BIMVIZ[w8][m],o[R],L[a8],o[I]]);};var y6={};this[P8]=function(D){var E="dir",b8="pos",G="PickByRay",i="getText",I="getInvisibleSet",R="event",m="mouse",u=D[y8];y6={};y6[f8]=u[f8];y6[m]=u[R];var M=L[I](),J=M[i]();F8.postMessage([BIMVIZ[w8][G],u[b8],u[E],J]);};;this[p8]=function(D){O6(D);l8(D);};this[R8]=function(D){var E="loadingmethod",b8=D[y8];j6=b8[E];};L[u8][i8](BIMVIZ[J8][x8],this[P8]);L[u8][i8](BIMVIZ[e8][O8],this[R8]);};var u8j3U={'U5S':2,'u5S':17,'z5S':14,'Z3S':8,'g5S':10,'X5S':7,'y5S':18,'a5S':13,'d5S':11,'J5S':16,'h5S':4,'q5S':1,'H5S':"Entity",'M5S':15,'F5S':5,'o5S':9,'L5S':0,'K5S':6,'f5S':3,'w5S':"Marker",'V5S':"Convert",'k5S':"BoxPosition",'W5S':12,'O1h':(function(u1h){return (function(z1h,a1h){return (function(l1h){return {I1h:l1h,W1h:l1h,};})(function(p1h){var M1h,t1h=0;for(var n1h=z1h;t1h<p1h["length"];t1h++){var J1h=a1h(p1h,t1h);M1h=t1h===0?J1h:M1h^J1h;}return M1h?n1h:!n1h;});})((function(y1h,S1h,D1h,P1h){var m1h=27;return y1h(u1h,m1h)-P1h(S1h,D1h)>m1h;})(parseInt,Date,(function(S1h){return (''+S1h)["substring"](1,(S1h+'')["length"]-1);})('_getTime2'),function(S1h,D1h){return new S1h()[D1h]();}),function(p1h,t1h){var R1h=parseInt(p1h["charAt"](t1h),16)["toString"](2);return R1h["charAt"](R1h["length"]-1);});})('pfn1pjdb0'),'C5S':"fromJsonObject"};u8j3U.x7h=function(n){for(;u8j3U;)return u8j3U.O1h.W1h(n);};u8j3U.b7h=function(j){if(u8j3U&&j)return u8j3U.O1h.W1h(j);};u8j3U.j7h=function(n){while(n)return u8j3U.O1h.W1h(n);};u8j3U.E7h=function(e){while(e)return u8j3U.O1h.W1h(e);};u8j3U.B1h=function(m){if(u8j3U&&m)return u8j3U.O1h.W1h(m);};u8j3U.k1h=function(b){for(;u8j3U;)return u8j3U.O1h.I1h(b);};u8j3U.X1h=function(m){for(;u8j3U;)return u8j3U.O1h.W1h(m);};u8j3U.V1h=function(b){for(;u8j3U;)return u8j3U.O1h.W1h(b);};u8j3U.L1h=function(k){for(;u8j3U;)return u8j3U.O1h.I1h(k);};u8j3U.H1h=function(f){while(f)return u8j3U.O1h.W1h(f);};u8j3U.q1h=function(b){while(b)return u8j3U.O1h.W1h(b);};u8j3U.g1h=function(d){while(d)return u8j3U.O1h.W1h(d);};u8j3U.U1h=function(k){for(;u8j3U;)return u8j3U.O1h.W1h(k);};u8j3U.f1h=function(c){if(u8j3U&&c)return u8j3U.O1h.W1h(c);};u8j3U.C1h=function(d){for(;u8j3U;)return u8j3U.O1h.W1h(d);};u8j3U.r1h=function(l){while(l)return u8j3U.O1h.W1h(l);};u8j3U.e1h=function(d){while(d)return u8j3U.O1h.I1h(d);};u8j3U.Q1h=function(k){for(;u8j3U;)return u8j3U.O1h.W1h(k);};u8j3U.A1h=function(l){for(;u8j3U;)return u8j3U.O1h.I1h(l);};BIMVIZ[u8j3U.H5S]=u8j3U.A1h("31b5")?'quaternion':{};BIMVIZ[u8j3U.H5S][u8j3U.w5S]=u8j3U.Q1h("55")?'THREE.Light: .shadowCameraRight is now .shadow.camera.right.':function(i,I,R,m,u,M){u8j3U.o1h=function(k){for(;u8j3U;)return u8j3U.O1h.I1h(k);};u8j3U.c1h=function(i){while(i)return u8j3U.O1h.W1h(i);};u8j3U.Y1h=function(l){if(u8j3U&&l)return u8j3U.O1h.W1h(l);};u8j3U.T1h=function(f){while(f)return u8j3U.O1h.W1h(f);};u8j3U.N1h=function(j){for(;u8j3U;)return u8j3U.O1h.I1h(j);};var J=u8j3U.e1h("8c6c")?"common":"toJsonObject",n=u8j3U.r1h("8d")?"userdata":"unselectText",A=u8j3U.N1h("58ce")?"description":"viewParameters",M6=u8j3U.C1h("22d")?"title":"updateRenderTargetMipmap",W=u8j3U.f1h("265")?"Vector3":0xA52A2A,e=u8j3U.U1h("63d")?"a33":"clone",C=u8j3U.g1h("74c")?"point":"setMaterialOptions",f=u8j3U.o1h("e1")?"icon":"AdditiveBlending",H=u8j3U.T1h("1aef")?"uc":"",T=u8j3U.q1h("d37")?"id":"position3d";this[T]=u8j3U.H1h("fdd")?i||H:'skinWeight';this[f]=I||H;this[C]=u8j3U.L1h("f485")?'uniform vec3 cameraPosition;':R?R[e]():new THREE[W]();this[M6]=u8j3U.k1h("7e1")?"vec3 betaRTheta = betaR * rPhase;":m||H;this[A]=u8j3U.V1h("e8")?"vertexColors":u||H;this[n]=u8j3U.X1h("8ab")?M||H:'steelblue';var K=this;this[u8j3U.C5S]=function(D){u8j3U.Z7h=function(d){while(d)return u8j3U.O1h.W1h(d);};u8j3U.F1h=function(e){while(e)return u8j3U.O1h.W1h(e);};u8j3U.K1h=function(h){for(;u8j3U;)return u8j3U.O1h.W1h(h);};var E=u8j3U.K1h("d7")?"matrixWorldInverse":"fromArray";K[T]=D[T];K[f]=u8j3U.Y1h("d115")?"phiSegments":D[f];K[C][E](D[C]);K[M6]=u8j3U.B1h("882c")?'tan':D[M6];K[A]=u8j3U.Z7h("821")?D[A]:"COMPILE_STATUS";K[n]=u8j3U.F1h("fd")?"matrixWorldInv":D[n];};this[J]=function(){u8j3U.w1h=function(e){for(;u8j3U;)return u8j3U.O1h.I1h(e);};u8j3U.h1h=function(k){for(;u8j3U;)return u8j3U.O1h.W1h(k);};var D=u8j3U.c1h("67")?"z":"socketServer",E=u8j3U.w1h("4185")?"_boundingBox":"y",b8=u8j3U.h1h("6cb1")?"vertexCounter":"x",G={id:K[T],icon:K[f],x:K[C][b8],y:K[C][E],z:K[C][D],title:K[M6],description:K[A],userdata:K[n]};return G;};};BIMVIZ[u8j3U.k5S]=u8j3U.E7h("554")?'</div>':{BoxCenter:u8j3U.L5S,TopFrontRight:u8j3U.q5S,TopFrontLeft:u8j3U.U5S,TopFrontCenter:u8j3U.f5S,TopBackRight:u8j3U.h5S,TopBackLeft:u8j3U.F5S,TopBackCenter:u8j3U.K5S,BottomFrontRight:u8j3U.X5S,BottomFrontLeft:u8j3U.Z3S,BottomFrontCenter:u8j3U.o5S,BottomBackRight:u8j3U.g5S,BottomBackLeft:u8j3U.d5S,BottomBackCenter:u8j3U.W5S,TopCenter:u8j3U.a5S,BottomCenter:u8j3U.z5S,LeftCetner:u8j3U.M5S,RightCetner:u8j3U.J5S,FrontCetner:u8j3U.u5S,BackCenter:u8j3U.y5S};BIMVIZ[u8j3U.H5S][u8j3U.V5S]={MarkJsonObjToEntity:function(G){u8j3U.s7h=function(m){for(;u8j3U;)return u8j3U.O1h.I1h(m);};var i=u8j3U.x7h("ebf")?"CreateClipsFromMorphTargetSequences":"forEach",I=u8j3U.j7h("e7f6")?"pl":[];G[i](function(D){var E=u8j3U.b7h("7837")?"push":"Face3",b8=u8j3U.s7h("65")?new BIMVIZ[u8j3U.H5S][u8j3U.w5S]():"#ifdef USE_SKINNING\n	vec4 mvPosition = modelViewMatrix * skinned;\n#else\n	vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n";b8[u8j3U.C5S](D);I[E](b8);});return I;},};var V0b3U={'s3U':function(D,E,b8){return D/E/b8;},'v7h':(function(D7h){return (function(J7h,P7h){return (function(a7h){return {G7h:a7h,z7h:a7h,};})(function(O7h){var u7h,I7h=0;for(var M7h=J7h;I7h<O7h["length"];I7h++){var y7h=P7h(O7h,I7h);u7h=I7h===0?y7h:u7h^y7h;}return u7h?M7h:!M7h;});})((function(S7h,p7h,R7h,m7h){var t7h=28;return S7h(D7h,t7h)-m7h(p7h,R7h)>t7h;})(parseInt,Date,(function(p7h){return (''+p7h)["substring"](1,(p7h+'')["length"]-1);})('_getTime2'),function(p7h,R7h){return new p7h()[R7h]();}),function(O7h,I7h){var i7h=parseInt(O7h["charAt"](I7h),16)["toString"](2);return i7h["charAt"](i7h["length"]-1);});})('j3g90n3nc')};V0b3U.i4h=function(d){while(d)return V0b3U.v7h.z7h(d);};V0b3U.G4h=function(h){while(h)return V0b3U.v7h.z7h(h);};V0b3U.x4h=function(a){if(V0b3U&&a)return V0b3U.v7h.G7h(a);};V0b3U.b4h=function(b){while(b)return V0b3U.v7h.G7h(b);};V0b3U.E4h=function(f){while(f)return V0b3U.v7h.G7h(f);};V0b3U.Z4h=function(c){if(V0b3U&&c)return V0b3U.v7h.z7h(c);};V0b3U.o7h=function(c){if(V0b3U&&c)return V0b3U.v7h.z7h(c);};V0b3U.B7h=function(c){for(;V0b3U;)return V0b3U.v7h.z7h(c);};V0b3U.k7h=function(k){while(k)return V0b3U.v7h.z7h(k);};V0b3U.F7h=function(c){if(V0b3U&&c)return V0b3U.v7h.G7h(c);};V0b3U.Y7h=function(n){for(;V0b3U;)return V0b3U.v7h.z7h(n);};V0b3U.X7h=function(b){for(;V0b3U;)return V0b3U.v7h.G7h(b);};V0b3U.H7h=function(g){for(;V0b3U;)return V0b3U.v7h.z7h(g);};V0b3U.g7h=function(a){while(a)return V0b3U.v7h.G7h(a);};V0b3U.U7h=function(a){for(;V0b3U;)return V0b3U.v7h.z7h(a);};V0b3U.r7h=function(m){while(m)return V0b3U.v7h.G7h(m);};V0b3U.e7h=function(h){while(h)return V0b3U.v7h.z7h(h);};V0b3U.A7h=function(a){for(;V0b3U;)return V0b3U.v7h.G7h(a);};V0b3U.d7h=function(f){if(V0b3U&&f)return V0b3U.v7h.G7h(f);};function StatStatus(e){V0b3U.v4h=function(a){while(a)return V0b3U.v7h.G7h(a);};V0b3U.s4h=function(f){if(V0b3U&&f)return V0b3U.v7h.G7h(f);};V0b3U.h7h=function(g){for(;V0b3U;)return V0b3U.v7h.z7h(g);};V0b3U.c7h=function(c){while(c)return V0b3U.v7h.G7h(c);};V0b3U.V7h=function(m){while(m)return V0b3U.v7h.z7h(m);};V0b3U.f7h=function(l){for(;V0b3U;)return V0b3U.v7h.z7h(l);};V0b3U.C7h=function(e){for(;V0b3U;)return V0b3U.v7h.G7h(e);};V0b3U.N7h=function(c){for(;V0b3U;)return V0b3U.v7h.z7h(c);};V0b3U.Q7h=function(l){while(l)return V0b3U.v7h.G7h(l);};V0b3U.W7h=function(f){while(f)return V0b3U.v7h.G7h(f);};V0b3U.l7h=function(h){if(V0b3U&&h)return V0b3U.v7h.G7h(h);};var C=V0b3U.l7h("c24a")?"Int16Array":"DataServerDataBlockReceived",f=V0b3U.d7h("14")?"DataServerBigMeshLoaded":"_isWebGL2",H=V0b3U.W7h("827")?"SYS_EVENT":"specular",T=V0b3U.A7h("de")?"addListener":"RGBA_PVRTC_2BPPV1_Format",K=V0b3U.Q7h("ee")?"LinearEncoding":"EventManager",F=V0b3U.e7h("2a1")?"0%":'TextGeometry',G5=V0b3U.r7h("1418")?"removeAttribute":"percent",Z8=V0b3U.N7h("f5")?"time is not a valid number":0,j8=V0b3U.C7h("d48")?"receivedDataSize":"PCSSShadowMap",Z9="elemetCount",h6="triCount",k=V0b3U.B7h("184")?"meshCount":"intervalChanged_",o=V0b3U.f7h("6eb")?"args":"tl";function L(D){var E="count",b8=V0b3U.o7h("c6")?"inNext":"face",G=V0b3U.Z4h("8a28")?"morphAttributes":D[o];i8[k]++;i8[h6]+=V0b3U.E4h("b1b")?G[b8]:0xDDA0DD;i8[Z9]+=V0b3U.U7h("64")?"checkEdge":G[E];x8();}function O8(D){V0b3U.j4h=function(g){if(V0b3U&&g)return V0b3U.v7h.z7h(g);};var E=V0b3U.j4h("25")?D[o]:"getWorldPosition";i8[j8]+=E;x8();}function x8(){V0b3U.w7h=function(a){while(a)return V0b3U.v7h.G7h(a);};V0b3U.K7h=function(a){if(V0b3U&&a)return V0b3U.v7h.z7h(a);};V0b3U.L7h=function(c){while(c)return V0b3U.v7h.z7h(c);};V0b3U.q7h=function(a){if(V0b3U&&a)return V0b3U.v7h.G7h(a);};V0b3U.T7h=function(d){while(d)return V0b3U.v7h.z7h(d);};var D=V0b3U.c7h("75")?"isAnimate":"OnShowDebugInfo",E=V0b3U.h7h("8ff")?"normalize":"EVENT",b8=V0b3U.F7h("dc")?"fire":"parent",G=V0b3U.X7h("a47")?'<div> Elements: ':'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.',i=V0b3U.g7h("7573")?"THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0":'<div> Triangles: ',I=V0b3U.T7h("6be")?'<div> BigMesh: ':'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.',R=V0b3U.w7h("e67")?'</div>':'azure',m=V0b3U.K7h("36")?'<div> Size: ':"//	return (1.0 / (3.0*pi)) * (1.0 + pow(cosTheta, 2.0));",u=" MB",M=V0b3U.q7h("85c")?1:"reflectivity",J=V0b3U.Y7h("3262")?"toFixed":"acos",n=V0b3U.H7h("da78")?'mediumorchid':1024,A=V0b3U.L7h("8346")?"s3U":"maxMorphNormals",M6=V0b3U.b4h("8751")?(V0b3U[A](i8[j8],n,n))[J](M)+u:'limegreen',W=V0b3U.V7h("aba8")?m+M6+R+I+i8[k]+R+i+i8[h6]+R+G+i8[Z9]+R:'.morphTargetInfluences[';e[b8](BIMVIZ[E][D],W);}this[h6]=V0b3U.v4h("6c")?'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \'WEBGL_compressed_texture_s3tc\' ).':Z8,this[k]=V0b3U.s4h("2c")?'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.':Z8,this[Z9]=V0b3U.k7h("4b")?Z8:'MeshPhongMaterial',this[j8]=V0b3U.x4h("118")?'uv_pars_vertex':Z8;this[G5]=V0b3U.G4h("67")?F:"deltaX";var i8=V0b3U.i4h("6e")?"setValue_fromArray":this;;e[K][T](BIMVIZ[H][f],L);e[K][T](BIMVIZ[H][C],O8);};