Array.prototype.remove = function (dx) {
    if (isNaN(dx) || dx > this.length) { return false; }
    for (var i = 0, n = 0; i < this.length; i++) {
        if (this[i] != this[dx]) {
            this[n++] = this[i]
        }
    }
    this.length -= 1
}
String.prototype.format = function (args) {
    var result = this;
    if (arguments.length > 0) {
        if (arguments.length == 1 && typeof (args) == "object") {
            for (var key in args) {
                if (args[key] != undefined) {
                    var reg = new RegExp("({" + key + "})", "g");
                    result = result.replace(reg, args[key]);
                }
            }
        }
        else {
            for (var i = 0; i < arguments.length; i++) {
                if (arguments[i] != undefined) {
                    var reg = new RegExp("({)" + i + "(})", "g");
                    result = result.replace(reg, arguments[i]);
                }
            }
        }
    }
    return result;
}

Date.FromMSJsonString = function (value) {
    var d = eval('new ' + (value.replace(/\//g, '')));
    return d;
}

Date.prototype.Format = function (fmt) { //author: meizz
    var o = {
        "M+": this.getMonth() + 1, //月份
        "d+": this.getDate(), //日
        "h+": this.getHours(), //小时
        "m+": this.getMinutes(), //分
        "s+": this.getSeconds(), //秒
        "q+": Math.floor((this.getMonth() + 3) / 3), //季度
        "S": this.getMilliseconds() //毫秒
    };
    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
    for (var k in o)
        if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
    return fmt;
}

function getQueryString(name) {
    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
    var r = window.location.search.substr(1).match(reg);
    if (r != null) return unescape(r[2]); return null;
}


var f7d={'y3':'MeshStandardMaterial','r0':'displacementmap','D1':'meshlambert_frag','h4':'THREE.Audio: this Audio has no playback control.','d4':100,'D2':'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.','l3':'meshphong_frag','R1':'meshlambert_vert','d3':'SpotLight','F0':'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.','K3':'THREE.WebGLRenderTarget: .offset is now .texture.offset.','u2':'round','r1':'linedashed_frag','N3':'WEBGL_compressed_texture_pvrtc','j0':'quadraticCurveTo','W':' float;','M':'OES_texture_half_float','O1':'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.','H0':"THREE.Matrix3: .flattenToArrayOffset is deprecated ",'c4':'OES_element_index_uint','M1':'undefined','U2':'ANGLE_instanced_arrays','g0':'distanceRGBA_frag','X3':'meshphysical_vert','V':'OES_texture_float','C3':'WEBGL_depth_texture','I0':'CylinderBufferGeometry','q3':"toneMapping",'o4':'points_vert','a0':'TorusBufferGeometry','l4':'PlaneGeometry','S':'linedashed_vert','A0':'Geometry','P0':'meshphysical_frag','J2':'SphereGeometry','I3':'uv','K1':'WEBGL_compressed_texture_etc1','Z0':'PlaneBufferGeometry','T2':'lights','n4':'EXT_blend_minmax','o2':'THREE.WebGLRenderTarget: .type is now .texture.type.','N2':'normal','h0':0.25,'R2':'index is out of range: ','P3':'not supported, using','u0':'points_frag','q4':'aomap','H3':'EXT_frag_depth','F':'OrthographicCamera','F3':'OES_standard_derivatives','l0':'EXT_texture_filter_anisotropic','G1':'THREE.','R':'distanceRGBA_vert','S1':"1f",'U':'physical','D3':'number','k1':'TorusKnotBufferGeometry','I':'YZX','e2':'\n','e0':"varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vWorldPosition = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n}\n",'h1':0.5,'W3':'moveTo','g3':'WEBGL_compressed_texture_s3tc','L0':'PointLight','A1':'TetrahedronGeometry','h3':null,'I2':'CircleGeometry','O3':'equirect_vert','Q0':'id','n0':'DodecahedronGeometry','L3':65535,'k3':true,'O0':"c",'e1':'position','M0':'normal_frag','m3':'CylinderGeometry','R3':'RingGeometry','G':'IcosahedronGeometry','W1':'HemisphereLight','B2':'encodings_pars_fragment','U3':'precision ','g4':'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.','G2':'RingBufferGeometry','q2':'modelViewMatrix','V2':'equirect_frag','z3':'MeshPhongMaterial','Z3':1.0,'J0':'dispose','N1':'lightmap','M2':'LatheBufferGeometry','X2':'MeshPhysicalMaterial','F2':'AmbientLight','r3':'arraybuffer','g1':'THREE.Object3D: .eulerOrder is now .rotation.order.','q0':'MeshLambertMaterial','S0':': .wrapAround has been removed.','Y3':'THREE.BufferAttribute: .length has been deprecated. Please use .count.','V3':'meshphong_vert','o3':'BoxBufferGeometry','W0':'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.','U1':'string','j1':0.0,'Q2':'BufferGeometry','l2':'THREE.WebGLRenderTarget: .format is now .texture.format.','a4':false,'O':'cube_vert','m0':'CircleBufferGeometry','g2':'uniform mat4 modelViewMatrix;','X1':'uniform mat4 projectionMatrix;','L':"sa",'E3':'TorusKnotGeometry','G0':'meshbasic_frag','C2':'BoxGeometry','P':'THREE.WebGLRenderer: ','H':'emissivemap','L1':'normal_vert','I1':'LatheGeometry','T1':0.99999,'B1':'meshbasic_vert','n3':'projectionMatrix','f2':'OctahedronGeometry','K':'canvas','T0':'bezierCurveTo','E1':'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.','r2':'tonemapping_pars_fragment','u4':255,'L2':'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.','V1':'color','Q3':'SphereBufferGeometry','C0':'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.','S2':"- just use .toArray instead.",'C1':'attribute vec2 uv;','j4':'TorusGeometry','H1':'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.','R0':'fog','Y0':'PerspectiveCamera','S3':'MeshBasicMaterial','k2':'DirectionalLight','u3':'common','Y1':"t",'F1':'XYZ'};var THREE={REVISION:'76'};if(typeof define==='function'&&define.amd){define('three',THREE);}else if(f7d.M1!==typeof exports&&f7d.M1!==typeof module){module.exports=THREE;}if(Number.EPSILON===undefined){Number.EPSILON=Math.pow(2,-52);}if(Math.sign===undefined){Math.sign=function(d){return (d<0)?-1:(d>0)?1:+d;};}if(Function.prototype.name===undefined&&Object.defineProperty!==undefined){Object.defineProperty(Function.prototype,'name',{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];}});}if(Object.assign===undefined){Object.defineProperty(Object,'assign',{writable:f7d.k3,configurable:f7d.k3,value:function(d){'use strict';if(d===undefined||d===f7d.h3){throw  new TypeError("Cannot convert first argument to object");}var e=Object(d);for(var f=1,i=arguments.length;f!==i;++f){var j=arguments[f];if(j===undefined||j===f7d.h3)continue;j=Object(j);var k=Object.keys(j);for(var m=0,n=k.length;m!==n;++m){var u=k[m],v=Object.getOwnPropertyDescriptor(j,u);if(v!==undefined&&v.enumerable){e[u]=j[u];}}}return e;}});}THREE.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};THREE.CullFaceNone=0;THREE.CullFaceBack=1;THREE.CullFaceFront=2;THREE.CullFaceFrontBack=3;THREE.FrontFaceDirectionCW=0;THREE.FrontFaceDirectionCCW=1;THREE.BasicShadowMap=0;THREE.PCFShadowMap=1;THREE.PCFSoftShadowMap=2;THREE.PCSSShadowMap=3;THREE.FrontSide=0;THREE.BackSide=1;THREE.DoubleSide=2;THREE.FlatShading=1;THREE.SmoothShading=2;THREE.NoColors=0;THREE.FaceColors=1;THREE.VertexColors=2;THREE.NoBlending=0;THREE.NormalBlending=1;THREE.AdditiveBlending=2;THREE.SubtractiveBlending=3;THREE.MultiplyBlending=4;THREE.CustomBlending=5;THREE.AddEquation=f7d.d4;THREE.SubtractEquation=101;THREE.ReverseSubtractEquation=102;THREE.MinEquation=103;THREE.MaxEquation=104;THREE.ZeroFactor=200;THREE.OneFactor=201;THREE.SrcColorFactor=202;THREE.OneMinusSrcColorFactor=203;THREE.SrcAlphaFactor=204;THREE.OneMinusSrcAlphaFactor=205;THREE.DstAlphaFactor=206;THREE.OneMinusDstAlphaFactor=207;THREE.DstColorFactor=208;THREE.OneMinusDstColorFactor=209;THREE.SrcAlphaSaturateFactor=210;THREE.NeverDepth=0;THREE.AlwaysDepth=1;THREE.LessDepth=2;THREE.LessEqualDepth=3;THREE.EqualDepth=4;THREE.GreaterEqualDepth=5;THREE.GreaterDepth=6;THREE.NotEqualDepth=7;THREE.MultiplyOperation=0;THREE.MixOperation=1;THREE.AddOperation=2;THREE.NoToneMapping=0;THREE.LinearToneMapping=1;THREE.ReinhardToneMapping=2;THREE.Uncharted2ToneMapping=3;THREE.CineonToneMapping=4;THREE.UVMapping=300;THREE.CubeReflectionMapping=301;THREE.CubeRefractionMapping=302;THREE.EquirectangularReflectionMapping=303;THREE.EquirectangularRefractionMapping=304;THREE.SphericalReflectionMapping=305;THREE.CubeUVReflectionMapping=306;THREE.CubeUVRefractionMapping=307;THREE.RepeatWrapping=1000;THREE.ClampToEdgeWrapping=1001;THREE.MirroredRepeatWrapping=1002;THREE.NearestFilter=1003;THREE.NearestMipMapNearestFilter=1004;THREE.NearestMipMapLinearFilter=1005;THREE.LinearFilter=1006;THREE.LinearMipMapNearestFilter=1007;THREE.LinearMipMapLinearFilter=1008;THREE.UnsignedByteType=1009;THREE.ByteType=1010;THREE.ShortType=1011;THREE.UnsignedShortType=1012;THREE.IntType=1013;THREE.UnsignedIntType=1014;THREE.FloatType=1015;THREE.HalfFloatType=1025;THREE.UnsignedShort4444Type=1016;THREE.UnsignedShort5551Type=1017;THREE.UnsignedShort565Type=1018;THREE.AlphaFormat=1019;THREE.RGBFormat=1020;THREE.RGBAFormat=1021;THREE.LuminanceFormat=1022;THREE.LuminanceAlphaFormat=1023;THREE.RGBEFormat=THREE.RGBAFormat;THREE.DepthFormat=1026;THREE.RGB_S3TC_DXT1_Format=2001;THREE.RGBA_S3TC_DXT1_Format=2002;THREE.RGBA_S3TC_DXT3_Format=2003;THREE.RGBA_S3TC_DXT5_Format=2004;THREE.RGB_PVRTC_4BPPV1_Format=2100;THREE.RGB_PVRTC_2BPPV1_Format=2101;THREE.RGBA_PVRTC_4BPPV1_Format=2102;THREE.RGBA_PVRTC_2BPPV1_Format=2103;THREE.RGB_ETC1_Format=2151;THREE.LoopOnce=2200;THREE.LoopRepeat=2201;THREE.LoopPingPong=2202;THREE.InterpolateDiscrete=2300;THREE.InterpolateLinear=2301;THREE.InterpolateSmooth=2302;THREE.ZeroCurvatureEnding=2400;THREE.ZeroSlopeEnding=2401;THREE.WrapAroundEnding=2402;THREE.TrianglesDrawMode=0;THREE.TriangleStripDrawMode=1;THREE.TriangleFanDrawMode=2;THREE.LinearEncoding=3000;THREE.sRGBEncoding=3001;THREE.GammaEncoding=3007;THREE.RGBEEncoding=3002;THREE.LogLuvEncoding=3003;THREE.RGBM7Encoding=3004;THREE.RGBM16Encoding=3005;THREE.RGBDEncoding=3006;THREE.BasicDepthPacking=3200;THREE.RGBADepthPacking=3201;THREE.Color=function(d){if(arguments.length===3){return this.fromArray(arguments);}return this.set(d);};THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(d){if(d instanceof THREE.Color){this.copy(d);}else if(typeof d===f7d.D3){this.setHex(d);}else if(typeof d===f7d.U1){this.setStyle(d);}return this;},setScalar:function(d){this.r=d;this.g=d;this.b=d;},setHex:function(d){d=Math.floor(d);this.r=(d>>16&f7d.u4)/f7d.u4;this.g=(d>>8&f7d.u4)/f7d.u4;this.b=(d&f7d.u4)/f7d.u4;return this;},setRGB:function(d,e,f){this.r=d;this.g=e;this.b=f;return this;},setHSL:function(){function k(d,e,f){if(f<0)f+=1;if(f>1)f-=1;if(f<1/6)return d+(e-d)*6*f;if(f<1/2)return e;if(f<2/3)return d+(e-d)*6*(2/3-f);return d;}return function(d,e,f){d=THREE.Math.euclideanModulo(d,1);e=THREE.Math.clamp(e,0,1);f=THREE.Math.clamp(f,0,1);if(e===0){this.r=this.g=this.b=f;}else{var i=f<=f7d.h1?f*(1+e):f+e-(f*e),j=(2*f)-i;this.r=k(j,i,d+1/3);this.g=k(j,i,d);this.b=k(j,i,d-1/3);}return this;};}(),setStyle:function(e){function f(d){if(d===undefined)return ;if(parseFloat(d)<1){console.warn('THREE.Color: Alpha component of '+e+' will be ignored.');}}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var j,k=i[1],m=i[2];switch(k){case 'rgb':case 'rgba':if(j=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(m)){this.r=Math.min(f7d.u4,parseInt(j[1],10))/f7d.u4;this.g=Math.min(f7d.u4,parseInt(j[2],10))/f7d.u4;this.b=Math.min(f7d.u4,parseInt(j[3],10))/f7d.u4;f(j[5]);return this;}if(j=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(m)){this.r=Math.min(f7d.d4,parseInt(j[1],10))/f7d.d4;this.g=Math.min(f7d.d4,parseInt(j[2],10))/f7d.d4;this.b=Math.min(f7d.d4,parseInt(j[3],10))/f7d.d4;f(j[5]);return this;}break;case 'hsl':case 'hsla':if(j=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(m)){var n=parseFloat(j[1])/360,u=parseInt(j[2],10)/f7d.d4,v=parseInt(j[3],10)/f7d.d4;f(j[5]);return this.setHSL(n,u,v);}break;}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){var B=i[1],C=B.length;if(C===3){this.r=parseInt(B.charAt(0)+B.charAt(0),16)/f7d.u4;this.g=parseInt(B.charAt(1)+B.charAt(1),16)/f7d.u4;this.b=parseInt(B.charAt(2)+B.charAt(2),16)/f7d.u4;return this;}else if(C===6){this.r=parseInt(B.charAt(0)+B.charAt(1),16)/f7d.u4;this.g=parseInt(B.charAt(2)+B.charAt(3),16)/f7d.u4;this.b=parseInt(B.charAt(4)+B.charAt(5),16)/f7d.u4;return this;}}if(e&&e.length>0){var B=THREE.ColorKeywords[e];if(B!==undefined){this.setHex(B);}else{console.warn('THREE.Color: Unknown color '+e);}}return this;},clone:function(){return new this.constructor(this.r,this.g,this.b);},copy:function(d){this.r=d.r;this.g=d.g;this.b=d.b;return this;},copyGammaToLinear:function(d,e){if(e===undefined)e=2.0;this.r=Math.pow(d.r,e);this.g=Math.pow(d.g,e);this.b=Math.pow(d.b,e);return this;},copyLinearToGamma:function(d,e){if(e===undefined)e=2.0;var f=(e>0)?(f7d.Z3/e):f7d.Z3;this.r=Math.pow(d.r,f);this.g=Math.pow(d.g,f);this.b=Math.pow(d.b,f);return this;},convertGammaToLinear:function(){var d=this.r,e=this.g,f=this.b;this.r=d*d;this.g=e*e;this.b=f*f;return this;},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this;},getHex:function(){return (this.r*f7d.u4)<<16^(this.g*f7d.u4)<<8^(this.b*f7d.u4)<<0;},getHexString:function(){return ('000000'+this.getHex().toString(16)).slice(-6);},getHSL:function(d){var e=d||{h:0,s:0,l:0},f=this.r,i=this.g,j=this.b,k=Math.max(f,i,j),m=Math.min(f,i,j),n,u,v=(m+k)/2.0;if(m===k){n=0;u=0;}else{var B=k-m;u=v<=f7d.h1?B/(k+m):B/(2-k-m);switch(k){case f:n=(i-j)/B+(i<j?6:0);break;case i:n=(j-f)/B+2;break;case j:n=(f-i)/B+4;break;}n/=6;}e.h=n;e.s=u;e.l=v;return e;},getStyle:function(){return 'rgb('+((this.r*f7d.u4)|0)+','+((this.g*f7d.u4)|0)+','+((this.b*f7d.u4)|0)+')';},offsetHSL:function(d,e,f){var i=this.getHSL();i.h+=d;i.s+=e;i.l+=f;this.setHSL(i.h,i.s,i.l);return this;},add:function(d){this.r+=d.r;this.g+=d.g;this.b+=d.b;return this;},addColors:function(d,e){this.r=d.r+e.r;this.g=d.g+e.g;this.b=d.b+e.b;return this;},addScalar:function(d){this.r+=d;this.g+=d;this.b+=d;return this;},multiply:function(d){this.r*=d.r;this.g*=d.g;this.b*=d.b;return this;},multiplyScalar:function(d){this.r*=d;this.g*=d;this.b*=d;return this;},lerp:function(d,e){this.r+=(d.r-this.r)*e;this.g+=(d.g-this.g)*e;this.b+=(d.b-this.b)*e;return this;},equals:function(d){return (d.r===this.r)&&(d.g===this.g)&&(d.b===this.b);},fromArray:function(d,e){if(e===undefined)e=0;this.r=d[e];this.g=d[e+1];this.b=d[e+2];return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;d[e]=this.r;d[e+1]=this.g;d[e+2]=this.b;return d;}};THREE.ColorKeywords={'aliceblue':0xF0F8FF,'antiquewhite':0xFAEBD7,'aqua':0x00FFFF,'aquamarine':0x7FFFD4,'azure':0xF0FFFF,'beige':0xF5F5DC,'bisque':0xFFE4C4,'black':0x000000,'blanchedalmond':0xFFEBCD,'blue':0x0000FF,'blueviolet':0x8A2BE2,'brown':0xA52A2A,'burlywood':0xDEB887,'cadetblue':0x5F9EA0,'chartreuse':0x7FFF00,'chocolate':0xD2691E,'coral':0xFF7F50,'cornflowerblue':0x6495ED,'cornsilk':0xFFF8DC,'crimson':0xDC143C,'cyan':0x00FFFF,'darkblue':0x00008B,'darkcyan':0x008B8B,'darkgoldenrod':0xB8860B,'darkgray':0xA9A9A9,'darkgreen':0x006400,'darkgrey':0xA9A9A9,'darkkhaki':0xBDB76B,'darkmagenta':0x8B008B,'darkolivegreen':0x556B2F,'darkorange':0xFF8C00,'darkorchid':0x9932CC,'darkred':0x8B0000,'darksalmon':0xE9967A,'darkseagreen':0x8FBC8F,'darkslateblue':0x483D8B,'darkslategray':0x2F4F4F,'darkslategrey':0x2F4F4F,'darkturquoise':0x00CED1,'darkviolet':0x9400D3,'deeppink':0xFF1493,'deepskyblue':0x00BFFF,'dimgray':0x696969,'dimgrey':0x696969,'dodgerblue':0x1E90FF,'firebrick':0xB22222,'floralwhite':0xFFFAF0,'forestgreen':0x228B22,'fuchsia':0xFF00FF,'gainsboro':0xDCDCDC,'ghostwhite':0xF8F8FF,'gold':0xFFD700,'goldenrod':0xDAA520,'gray':0x808080,'green':0x008000,'greenyellow':0xADFF2F,'grey':0x808080,'honeydew':0xF0FFF0,'hotpink':0xFF69B4,'indianred':0xCD5C5C,'indigo':0x4B0082,'ivory':0xFFFFF0,'khaki':0xF0E68C,'lavender':0xE6E6FA,'lavenderblush':0xFFF0F5,'lawngreen':0x7CFC00,'lemonchiffon':0xFFFACD,'lightblue':0xADD8E6,'lightcoral':0xF08080,'lightcyan':0xE0FFFF,'lightgoldenrodyellow':0xFAFAD2,'lightgray':0xD3D3D3,'lightgreen':0x90EE90,'lightgrey':0xD3D3D3,'lightpink':0xFFB6C1,'lightsalmon':0xFFA07A,'lightseagreen':0x20B2AA,'lightskyblue':0x87CEFA,'lightslategray':0x778899,'lightslategrey':0x778899,'lightsteelblue':0xB0C4DE,'lightyellow':0xFFFFE0,'lime':0x00FF00,'limegreen':0x32CD32,'linen':0xFAF0E6,'magenta':0xFF00FF,'maroon':0x800000,'mediumaquamarine':0x66CDAA,'mediumblue':0x0000CD,'mediumorchid':0xBA55D3,'mediumpurple':0x9370DB,'mediumseagreen':0x3CB371,'mediumslateblue':0x7B68EE,'mediumspringgreen':0x00FA9A,'mediumturquoise':0x48D1CC,'mediumvioletred':0xC71585,'midnightblue':0x191970,'mintcream':0xF5FFFA,'mistyrose':0xFFE4E1,'moccasin':0xFFE4B5,'navajowhite':0xFFDEAD,'navy':0x000080,'oldlace':0xFDF5E6,'olive':0x808000,'olivedrab':0x6B8E23,'orange':0xFFA500,'orangered':0xFF4500,'orchid':0xDA70D6,'palegoldenrod':0xEEE8AA,'palegreen':0x98FB98,'paleturquoise':0xAFEEEE,'palevioletred':0xDB7093,'papayawhip':0xFFEFD5,'peachpuff':0xFFDAB9,'peru':0xCD853F,'pink':0xFFC0CB,'plum':0xDDA0DD,'powderblue':0xB0E0E6,'purple':0x800080,'red':0xFF0000,'rosybrown':0xBC8F8F,'royalblue':0x4169E1,'saddlebrown':0x8B4513,'salmon':0xFA8072,'sandybrown':0xF4A460,'seagreen':0x2E8B57,'seashell':0xFFF5EE,'sienna':0xA0522D,'silver':0xC0C0C0,'skyblue':0x87CEEB,'slateblue':0x6A5ACD,'slategray':0x708090,'slategrey':0x708090,'snow':0xFFFAFA,'springgreen':0x00FF7F,'steelblue':0x4682B4,'tan':0xD2B48C,'teal':0x008080,'thistle':0xD8BFD8,'tomato':0xFF6347,'turquoise':0x40E0D0,'violet':0xEE82EE,'wheat':0xF5DEB3,'white':0xFFFFFF,'whitesmoke':0xF5F5F5,'yellow':0xFFFF00,'yellowgreen':0x9ACD32};THREE.Quaternion=function(d,e,f,i){this._x=d||0;this._y=e||0;this._z=f||0;this._w=(i!==undefined)?i:1;};THREE.Quaternion.prototype={constructor:THREE.Quaternion,get x(){return this._x;},set x(value){this._x=value;this.onChangeCallback();},get y(){return this._y;},set y(value){this._y=value;this.onChangeCallback();},get z(){return this._z;},set z(value){this._z=value;this.onChangeCallback();},get w(){return this._w;},set w(value){this._w=value;this.onChangeCallback();},set:function(d,e,f,i){this._x=d;this._y=e;this._z=f;this._w=i;this.onChangeCallback();return this;},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w);},copy:function(d){this._x=d.x;this._y=d.y;this._z=d.z;this._w=d.w;this.onChangeCallback();return this;},setFromEuler:function(d,e){if(d instanceof THREE.Euler===f7d.a4){throw  new Error('THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.');}var f=Math.cos(d._x/2),i=Math.cos(d._y/2),j=Math.cos(d._z/2),k=Math.sin(d._x/2),m=Math.sin(d._y/2),n=Math.sin(d._z/2),u=d.order;if(u===f7d.F1){this._x=k*i*j+f*m*n;this._y=f*m*j-k*i*n;this._z=f*i*n+k*m*j;this._w=f*i*j-k*m*n;}else if(u==='YXZ'){this._x=k*i*j+f*m*n;this._y=f*m*j-k*i*n;this._z=f*i*n-k*m*j;this._w=f*i*j+k*m*n;}else if(u==='ZXY'){this._x=k*i*j-f*m*n;this._y=f*m*j+k*i*n;this._z=f*i*n+k*m*j;this._w=f*i*j-k*m*n;}else if(u==='ZYX'){this._x=k*i*j-f*m*n;this._y=f*m*j+k*i*n;this._z=f*i*n-k*m*j;this._w=f*i*j+k*m*n;}else if(u===f7d.I){this._x=k*i*j+f*m*n;this._y=f*m*j+k*i*n;this._z=f*i*n-k*m*j;this._w=f*i*j-k*m*n;}else if(u==='XZY'){this._x=k*i*j-f*m*n;this._y=f*m*j-k*i*n;this._z=f*i*n+k*m*j;this._w=f*i*j+k*m*n;}if(e!==f7d.a4)this.onChangeCallback();return this;},setFromAxisAngle:function(d,e){var f=e/2,i=Math.sin(f);this._x=d.x*i;this._y=d.y*i;this._z=d.z*i;this._w=Math.cos(f);this.onChangeCallback();return this;},setFromRotationMatrix:function(d){var e=d.elements,f=e[0],i=e[4],j=e[8],k=e[1],m=e[5],n=e[9],u=e[2],v=e[6],B=e[10],C=f+m+B,J;if(C>0){J=f7d.h1/Math.sqrt(C+f7d.Z3);this._w=f7d.h0/J;this._x=(v-n)*J;this._y=(j-u)*J;this._z=(k-i)*J;}else if(f>m&&f>B){J=2.0*Math.sqrt(f7d.Z3+f-m-B);this._w=(v-n)/J;this._x=f7d.h0*J;this._y=(i+k)/J;this._z=(j+u)/J;}else if(m>B){J=2.0*Math.sqrt(f7d.Z3+m-f-B);this._w=(j-u)/J;this._x=(i+k)/J;this._y=f7d.h0*J;this._z=(n+v)/J;}else{J=2.0*Math.sqrt(f7d.Z3+B-f-m);this._w=(k-i)/J;this._x=(j+u)/J;this._y=(n+v)/J;this._z=f7d.h0*J;}this.onChangeCallback();return this;},setFromUnitVectors:function(){var f,i,j=0.000001;return function(d,e){if(f===undefined)f=new THREE.Vector3();i=d.dot(e)+1;if(i<j){i=0;if(Math.abs(d.x)>Math.abs(d.z)){f.set(-d.y,d.x,0);}else{f.set(0,-d.z,d.y);}}else{f.crossVectors(d,e);}this._x=f.x;this._y=f.y;this._z=f.z;this._w=i;this.normalize();return this;};}(),inverse:function(){this.conjugate().normalize();return this;},conjugate:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this;},dot:function(d){return this._x*d._x+this._y*d._y+this._z*d._z+this._w*d._w;},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w;},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w);},normalize:function(){var d=this.length();if(d===0){this._x=0;this._y=0;this._z=0;this._w=1;}else{d=1/d;this._x=this._x*d;this._y=this._y*d;this._z=this._z*d;this._w=this._w*d;}this.onChangeCallback();return this;},multiply:function(d,e){if(e!==undefined){console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');return this.multiplyQuaternions(d,e);}return this.multiplyQuaternions(this,d);},multiplyQuaternions:function(d,e){var f=d._x,i=d._y,j=d._z,k=d._w,m=e._x,n=e._y,u=e._z,v=e._w;this._x=f*v+k*m+i*u-j*n;this._y=i*v+k*n+j*m-f*u;this._z=j*v+k*u+f*n-i*m;this._w=k*v-f*m-i*n-j*u;this.onChangeCallback();return this;},slerp:function(d,e){if(e===0)return this;if(e===1)return this.copy(d);var f=this._x,i=this._y,j=this._z,k=this._w,m=k*d._w+f*d._x+i*d._y+j*d._z;if(m<0){this._w=-d._w;this._x=-d._x;this._y=-d._y;this._z=-d._z;m=-m;}else{this.copy(d);}if(m>=f7d.Z3){this._w=k;this._x=f;this._y=i;this._z=j;return this;}var n=Math.sqrt(f7d.Z3-m*m);if(Math.abs(n)<0.001){this._w=f7d.h1*(k+this._w);this._x=f7d.h1*(f+this._x);this._y=f7d.h1*(i+this._y);this._z=f7d.h1*(j+this._z);return this;}var u=Math.atan2(n,m),v=Math.sin((1-e)*u)/n,B=Math.sin(e*u)/n;this._w=(k*v+this._w*B);this._x=(f*v+this._x*B);this._y=(i*v+this._y*B);this._z=(j*v+this._z*B);this.onChangeCallback();return this;},equals:function(d){return (d._x===this._x)&&(d._y===this._y)&&(d._z===this._z)&&(d._w===this._w);},fromArray:function(d,e){if(e===undefined)e=0;this._x=d[e];this._y=d[e+1];this._z=d[e+2];this._w=d[e+3];this.onChangeCallback();return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;d[e]=this._x;d[e+1]=this._y;d[e+2]=this._z;d[e+3]=this._w;return d;},onChange:function(d){this.onChangeCallback=d;return this;},onChangeCallback:function(){}};Object.assign(THREE.Quaternion,{slerp:function(d,e,f,i){return f.copy(d).slerp(e,i);},slerpFlat:function(d,e,f,i,j,k,m){var n=f[i+0],u=f[i+1],v=f[i+2],B=f[i+3],C=j[k+0],J=j[k+1],E=j[k+2],Q=j[k+3];if(B!==Q||n!==C||u!==J||v!==E){var T=1-m,N=n*C+u*J+v*E+B*Q,b0=(N>=0?1:-1),o0=1-N*N;if(o0>Number.EPSILON){var f0=Math.sqrt(o0),d0=Math.atan2(f0,N*b0);T=Math.sin(T*d0)/f0;m=Math.sin(m*d0)/f0;}var p0=m*b0;n=n*T+C*p0;u=u*T+J*p0;v=v*T+E*p0;B=B*T+Q*p0;if(T===1-m){var t0=1/Math.sqrt(n*n+u*u+v*v+B*B);n*=t0;u*=t0;v*=t0;B*=t0;}}d[e]=n;d[e+1]=u;d[e+2]=v;d[e+3]=B;}});THREE.Vector2=function(d,e){this.x=d||0;this.y=e||0;};THREE.Vector2.prototype={constructor:THREE.Vector2,get width(){return this.x;},set width(value){this.x=value;},get height(){return this.y;},set height(value){this.y=value;},set:function(d,e){this.x=d;this.y=e;return this;},setScalar:function(d){this.x=d;this.y=d;return this;},setX:function(d){this.x=d;return this;},setY:function(d){this.y=d;return this;},setComponent:function(d,e){switch(d){case 0:this.x=e;break;case 1:this.y=e;break;default:throw  new Error(f7d.R2+d);}},getComponent:function(d){switch(d){case 0:return this.x;case 1:return this.y;default:throw  new Error(f7d.R2+d);}},clone:function(){return new this.constructor(this.x,this.y);},copy:function(d){this.x=d.x;this.y=d.y;return this;},add:function(d,e){if(e!==undefined){console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');return this.addVectors(d,e);}this.x+=d.x;this.y+=d.y;return this;},addScalar:function(d){this.x+=d;this.y+=d;return this;},addVectors:function(d,e){this.x=d.x+e.x;this.y=d.y+e.y;return this;},addScaledVector:function(d,e){this.x+=d.x*e;this.y+=d.y*e;return this;},sub:function(d,e){if(e!==undefined){console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');return this.subVectors(d,e);}this.x-=d.x;this.y-=d.y;return this;},subScalar:function(d){this.x-=d;this.y-=d;return this;},subVectors:function(d,e){this.x=d.x-e.x;this.y=d.y-e.y;return this;},multiply:function(d){this.x*=d.x;this.y*=d.y;return this;},multiplyScalar:function(d){if(isFinite(d)){this.x*=d;this.y*=d;}else{this.x=0;this.y=0;}return this;},divide:function(d){this.x/=d.x;this.y/=d.y;return this;},divideScalar:function(d){return this.multiplyScalar(1/d);},min:function(d){this.x=Math.min(this.x,d.x);this.y=Math.min(this.y,d.y);return this;},max:function(d){this.x=Math.max(this.x,d.x);this.y=Math.max(this.y,d.y);return this;},clamp:function(d,e){this.x=Math.max(d.x,Math.min(e.x,this.x));this.y=Math.max(d.y,Math.min(e.y,this.y));return this;},clampScalar:function(){var f,i;return function j(d,e){if(f===undefined){f=new THREE.Vector2();i=new THREE.Vector2();}f.set(d,d);i.set(e,e);return this.clamp(f,i);};}(),clampLength:function(d,e){var f=this.length();this.multiplyScalar(Math.max(d,Math.min(e,f))/f);return this;},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this;},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this;},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this;},roundToZero:function(){this.x=(this.x<0)?Math.ceil(this.x):Math.floor(this.x);this.y=(this.y<0)?Math.ceil(this.y):Math.floor(this.y);return this;},negate:function(){this.x=-this.x;this.y=-this.y;return this;},dot:function(d){return this.x*d.x+this.y*d.y;},lengthSq:function(){return this.x*this.x+this.y*this.y;},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y);},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y);},normalize:function(){return this.divideScalar(this.length());},angle:function(){var d=Math.atan2(this.y,this.x);if(d<0)d+=2*Math.PI;return d;},distanceTo:function(d){return Math.sqrt(this.distanceToSquared(d));},distanceToSquared:function(d){var e=this.x-d.x,f=this.y-d.y;return e*e+f*f;},setLength:function(d){return this.multiplyScalar(d/this.length());},lerp:function(d,e){this.x+=(d.x-this.x)*e;this.y+=(d.y-this.y)*e;return this;},lerpVectors:function(d,e,f){this.subVectors(e,d).multiplyScalar(f).add(d);return this;},equals:function(d){return ((d.x===this.x)&&(d.y===this.y));},fromArray:function(d,e){if(e===undefined)e=0;this.x=d[e];this.y=d[e+1];return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;d[e]=this.x;d[e+1]=this.y;return d;},fromAttribute:function(d,e,f){if(f===undefined)f=0;e=e*d.itemSize+f;this.x=d.array[e];this.y=d.array[e+1];return this;},rotateAround:function(d,e){var f=Math.cos(e),i=Math.sin(e),j=this.x-d.x,k=this.y-d.y;this.x=j*f-k*i+d.x;this.y=j*i+k*f+d.y;return this;}};THREE.Vector3=function(d,e,f){this.x=d||0;this.y=e||0;this.z=f||0;};THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(d,e,f){this.x=d;this.y=e;this.z=f;return this;},setScalar:function(d){this.x=d;this.y=d;this.z=d;return this;},setX:function(d){this.x=d;return this;},setY:function(d){this.y=d;return this;},setZ:function(d){this.z=d;return this;},setComponent:function(d,e){switch(d){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw  new Error(f7d.R2+d);}},getComponent:function(d){switch(d){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw  new Error(f7d.R2+d);}},clone:function(){return new this.constructor(this.x,this.y,this.z);},copy:function(d){this.x=d.x;this.y=d.y;this.z=d.z;return this;},add:function(d,e){if(e!==undefined){console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');return this.addVectors(d,e);}this.x+=d.x;this.y+=d.y;this.z+=d.z;return this;},addScalar:function(d){this.x+=d;this.y+=d;this.z+=d;return this;},addVectors:function(d,e){this.x=d.x+e.x;this.y=d.y+e.y;this.z=d.z+e.z;return this;},addScaledVector:function(d,e){this.x+=d.x*e;this.y+=d.y*e;this.z+=d.z*e;return this;},sub:function(d,e){if(e!==undefined){console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');return this.subVectors(d,e);}this.x-=d.x;this.y-=d.y;this.z-=d.z;return this;},subScalar:function(d){this.x-=d;this.y-=d;this.z-=d;return this;},subVectors:function(d,e){this.x=d.x-e.x;this.y=d.y-e.y;this.z=d.z-e.z;return this;},multiply:function(d,e){if(e!==undefined){console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');return this.multiplyVectors(d,e);}this.x*=d.x;this.y*=d.y;this.z*=d.z;return this;},multiplyScalar:function(d){if(isFinite(d)){this.x*=d;this.y*=d;this.z*=d;}else{this.x=0;this.y=0;this.z=0;}return this;},multiplyVectors:function(d,e){this.x=d.x*e.x;this.y=d.y*e.y;this.z=d.z*e.z;return this;},applyEuler:function(){var e;return function f(d){if(d instanceof THREE.Euler===f7d.a4){console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');}if(e===undefined)e=new THREE.Quaternion();this.applyQuaternion(e.setFromEuler(d));return this;};}(),applyAxisAngle:function(){var f;return function i(d,e){if(f===undefined)f=new THREE.Quaternion();this.applyQuaternion(f.setFromAxisAngle(d,e));return this;};}(),applyMatrix3:function(d){var e=this.x,f=this.y,i=this.z,j=d.elements;this.x=j[0]*e+j[3]*f+j[6]*i;this.y=j[1]*e+j[4]*f+j[7]*i;this.z=j[2]*e+j[5]*f+j[8]*i;return this;},applyMatrix4:function(d){var e=this.x,f=this.y,i=this.z,j=d.elements;this.x=j[0]*e+j[4]*f+j[8]*i+j[12];this.y=j[1]*e+j[5]*f+j[9]*i+j[13];this.z=j[2]*e+j[6]*f+j[10]*i+j[14];return this;},applyProjection:function(d){var e=this.x,f=this.y,i=this.z,j=d.elements,k=1/(j[3]*e+j[7]*f+j[11]*i+j[15]);this.x=(j[0]*e+j[4]*f+j[8]*i+j[12])*k;this.y=(j[1]*e+j[5]*f+j[9]*i+j[13])*k;this.z=(j[2]*e+j[6]*f+j[10]*i+j[14])*k;return this;},applyQuaternion:function(d){var e=this.x,f=this.y,i=this.z,j=d.x,k=d.y,m=d.z,n=d.w,u=n*e+k*i-m*f,v=n*f+m*e-j*i,B=n*i+j*f-k*e,C=-j*e-k*f-m*i;this.x=u*n+C*-j+v*-m-B*-k;this.y=v*n+C*-k+B*-j-u*-m;this.z=B*n+C*-m+u*-k-v*-j;return this;},project:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.multiplyMatrices(d.projectionMatrix,e.getInverse(d.matrixWorld));return this.applyProjection(e);};}(),unproject:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.multiplyMatrices(d.matrixWorld,e.getInverse(d.projectionMatrix));return this.applyProjection(e);};}(),transformDirection:function(d){var e=this.x,f=this.y,i=this.z,j=d.elements;this.x=j[0]*e+j[4]*f+j[8]*i;this.y=j[1]*e+j[5]*f+j[9]*i;this.z=j[2]*e+j[6]*f+j[10]*i;this.normalize();return this;},divide:function(d){this.x/=d.x;this.y/=d.y;this.z/=d.z;return this;},divideScalar:function(d){return this.multiplyScalar(1/d);},min:function(d){this.x=Math.min(this.x,d.x);this.y=Math.min(this.y,d.y);this.z=Math.min(this.z,d.z);return this;},max:function(d){this.x=Math.max(this.x,d.x);this.y=Math.max(this.y,d.y);this.z=Math.max(this.z,d.z);return this;},clamp:function(d,e){this.x=Math.max(d.x,Math.min(e.x,this.x));this.y=Math.max(d.y,Math.min(e.y,this.y));this.z=Math.max(d.z,Math.min(e.z,this.z));return this;},clampScalar:function(){var f,i;return function j(d,e){if(f===undefined){f=new THREE.Vector3();i=new THREE.Vector3();}f.set(d,d,d);i.set(e,e,e);return this.clamp(f,i);};}(),clampLength:function(d,e){var f=this.length();this.multiplyScalar(Math.max(d,Math.min(e,f))/f);return this;},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this;},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this;},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this;},roundToZero:function(){this.x=(this.x<0)?Math.ceil(this.x):Math.floor(this.x);this.y=(this.y<0)?Math.ceil(this.y):Math.floor(this.y);this.z=(this.z<0)?Math.ceil(this.z):Math.floor(this.z);return this;},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this;},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z;},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z;},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z);},normalize:function(){return this.divideScalar(this.length());},setLength:function(d){return this.multiplyScalar(d/this.length());},lerp:function(d,e){this.x+=(d.x-this.x)*e;this.y+=(d.y-this.y)*e;this.z+=(d.z-this.z)*e;return this;},lerpVectors:function(d,e,f){this.subVectors(e,d).multiplyScalar(f).add(d);return this;},cross:function(d,e){if(e!==undefined){console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');return this.crossVectors(d,e);}var f=this.x,i=this.y,j=this.z;this.x=i*d.z-j*d.y;this.y=j*d.x-f*d.z;this.z=f*d.y-i*d.x;return this;},crossVectors:function(d,e){var f=d.x,i=d.y,j=d.z,k=e.x,m=e.y,n=e.z;this.x=i*n-j*m;this.y=j*k-f*n;this.z=f*m-i*k;return this;},projectOnVector:function(){var e,f;return function i(d){if(e===undefined)e=new THREE.Vector3();e.copy(d).normalize();f=this.dot(e);return this.copy(e).multiplyScalar(f);};}(),projectOnPlane:function(){var e;return function f(d){if(e===undefined)e=new THREE.Vector3();e.copy(this).projectOnVector(d);return this.sub(e);};}(),reflect:function(){var e;return function f(d){if(e===undefined)e=new THREE.Vector3();return this.sub(e.copy(d).multiplyScalar(2*this.dot(d)));};}(),angleTo:function(d){var e=this.dot(d)/(Math.sqrt(this.lengthSq()*d.lengthSq()));return Math.acos(THREE.Math.clamp(e,-1,1));},distanceTo:function(d){return Math.sqrt(this.distanceToSquared(d));},distanceToSquared:function(d){var e=this.x-d.x,f=this.y-d.y,i=this.z-d.z;return e*e+f*f+i*i;},setFromSpherical:function(d){var e=Math.sin(d.phi)*d.radius;this.x=e*Math.sin(d.theta);this.y=Math.cos(d.phi)*d.radius;this.z=e*Math.cos(d.theta);return this;},setFromMatrixPosition:function(d){return this.setFromMatrixColumn(d,3);},setFromMatrixScale:function(d){var e=this.setFromMatrixColumn(d,0).length(),f=this.setFromMatrixColumn(d,1).length(),i=this.setFromMatrixColumn(d,2).length();this.x=e;this.y=f;this.z=i;return this;},setFromMatrixColumn:function(d,e){if(typeof d===f7d.D3){console.warn('THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).');d=arguments[1];e=arguments[0];}return this.fromArray(d.elements,e*4);},equals:function(d){return ((d.x===this.x)&&(d.y===this.y)&&(d.z===this.z));},fromArray:function(d,e){if(e===undefined)e=0;this.x=d[e];this.y=d[e+1];this.z=d[e+2];return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;d[e]=this.x;d[e+1]=this.y;d[e+2]=this.z;return d;},fromAttribute:function(d,e,f){if(f===undefined)f=0;e=e*d.itemSize+f;this.x=d.array[e];this.y=d.array[e+1];this.z=d.array[e+2];return this;}};THREE.Vector4=function(d,e,f,i){this.x=d||0;this.y=e||0;this.z=f||0;this.w=(i!==undefined)?i:1;};THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(d,e,f,i){this.x=d;this.y=e;this.z=f;this.w=i;return this;},setScalar:function(d){this.x=d;this.y=d;this.z=d;this.w=d;return this;},setX:function(d){this.x=d;return this;},setY:function(d){this.y=d;return this;},setZ:function(d){this.z=d;return this;},setW:function(d){this.w=d;return this;},setComponent:function(d,e){switch(d){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw  new Error(f7d.R2+d);}},getComponent:function(d){switch(d){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw  new Error(f7d.R2+d);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w);},copy:function(d){this.x=d.x;this.y=d.y;this.z=d.z;this.w=(d.w!==undefined)?d.w:1;return this;},add:function(d,e){if(e!==undefined){console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');return this.addVectors(d,e);}this.x+=d.x;this.y+=d.y;this.z+=d.z;this.w+=d.w;return this;},addScalar:function(d){this.x+=d;this.y+=d;this.z+=d;this.w+=d;return this;},addVectors:function(d,e){this.x=d.x+e.x;this.y=d.y+e.y;this.z=d.z+e.z;this.w=d.w+e.w;return this;},addScaledVector:function(d,e){this.x+=d.x*e;this.y+=d.y*e;this.z+=d.z*e;this.w+=d.w*e;return this;},sub:function(d,e){if(e!==undefined){console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');return this.subVectors(d,e);}this.x-=d.x;this.y-=d.y;this.z-=d.z;this.w-=d.w;return this;},subScalar:function(d){this.x-=d;this.y-=d;this.z-=d;this.w-=d;return this;},subVectors:function(d,e){this.x=d.x-e.x;this.y=d.y-e.y;this.z=d.z-e.z;this.w=d.w-e.w;return this;},multiplyScalar:function(d){if(isFinite(d)){this.x*=d;this.y*=d;this.z*=d;this.w*=d;}else{this.x=0;this.y=0;this.z=0;this.w=0;}return this;},applyMatrix4:function(d){var e=this.x,f=this.y,i=this.z,j=this.w,k=d.elements;this.x=k[0]*e+k[4]*f+k[8]*i+k[12]*j;this.y=k[1]*e+k[5]*f+k[9]*i+k[13]*j;this.z=k[2]*e+k[6]*f+k[10]*i+k[14]*j;this.w=k[3]*e+k[7]*f+k[11]*i+k[15]*j;return this;},divideScalar:function(d){return this.multiplyScalar(1/d);},setAxisAngleFromQuaternion:function(d){this.w=2*Math.acos(d.w);var e=Math.sqrt(1-d.w*d.w);if(e<0.0001){this.x=1;this.y=0;this.z=0;}else{this.x=d.x/e;this.y=d.y/e;this.z=d.z/e;}return this;},setAxisAngleFromRotationMatrix:function(d){var e=0.707106781,f,i,j,k,m=0.01,n=0.1,u=d.elements,v=u[0],B=u[4],C=u[8],J=u[1],E=u[5],Q=u[9],T=u[2],N=u[6],b0=u[10];if((Math.abs(B-J)<m)&&(Math.abs(C-T)<m)&&(Math.abs(Q-N)<m)){if((Math.abs(B+J)<n)&&(Math.abs(C+T)<n)&&(Math.abs(Q+N)<n)&&(Math.abs(v+E+b0-3)<n)){this.set(1,0,0,0);return this;}f=Math.PI;var o0=(v+1)/2,f0=(E+1)/2,d0=(b0+1)/2,p0=(B+J)/4,t0=(C+T)/4,x0=(Q+N)/4;if((o0>f0)&&(o0>d0)){if(o0<m){i=0;j=e;k=e;}else{i=Math.sqrt(o0);j=p0/i;k=t0/i;}}else if(f0>d0){if(f0<m){i=e;j=0;k=e;}else{j=Math.sqrt(f0);i=p0/j;k=x0/j;}}else{if(d0<m){i=e;j=e;k=0;}else{k=Math.sqrt(d0);i=t0/k;j=x0/k;}}this.set(i,j,k,f);return this;}var w0=Math.sqrt((N-Q)*(N-Q)+(C-T)*(C-T)+(J-B)*(J-B));if(Math.abs(w0)<0.001)w0=1;this.x=(N-Q)/w0;this.y=(C-T)/w0;this.z=(J-B)/w0;this.w=Math.acos((v+E+b0-1)/2);return this;},min:function(d){this.x=Math.min(this.x,d.x);this.y=Math.min(this.y,d.y);this.z=Math.min(this.z,d.z);this.w=Math.min(this.w,d.w);return this;},max:function(d){this.x=Math.max(this.x,d.x);this.y=Math.max(this.y,d.y);this.z=Math.max(this.z,d.z);this.w=Math.max(this.w,d.w);return this;},clamp:function(d,e){this.x=Math.max(d.x,Math.min(e.x,this.x));this.y=Math.max(d.y,Math.min(e.y,this.y));this.z=Math.max(d.z,Math.min(e.z,this.z));this.w=Math.max(d.w,Math.min(e.w,this.w));return this;},clampScalar:function(){var f,i;return function j(d,e){if(f===undefined){f=new THREE.Vector4();i=new THREE.Vector4();}f.set(d,d,d,d);i.set(e,e,e,e);return this.clamp(f,i);};}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this;},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this;},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this;},roundToZero:function(){this.x=(this.x<0)?Math.ceil(this.x):Math.floor(this.x);this.y=(this.y<0)?Math.ceil(this.y):Math.floor(this.y);this.z=(this.z<0)?Math.ceil(this.z):Math.floor(this.z);this.w=(this.w<0)?Math.ceil(this.w):Math.floor(this.w);return this;},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this;},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w;},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w);},normalize:function(){return this.divideScalar(this.length());},setLength:function(d){return this.multiplyScalar(d/this.length());},lerp:function(d,e){this.x+=(d.x-this.x)*e;this.y+=(d.y-this.y)*e;this.z+=(d.z-this.z)*e;this.w+=(d.w-this.w)*e;return this;},lerpVectors:function(d,e,f){this.subVectors(e,d).multiplyScalar(f).add(d);return this;},equals:function(d){return ((d.x===this.x)&&(d.y===this.y)&&(d.z===this.z)&&(d.w===this.w));},fromArray:function(d,e){if(e===undefined)e=0;this.x=d[e];this.y=d[e+1];this.z=d[e+2];this.w=d[e+3];return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;d[e]=this.x;d[e+1]=this.y;d[e+2]=this.z;d[e+3]=this.w;return d;},fromAttribute:function(d,e,f){if(f===undefined)f=0;e=e*d.itemSize+f;this.x=d.array[e];this.y=d.array[e+1];this.z=d.array[e+2];this.w=d.array[e+3];return this;}};THREE.Euler=function(d,e,f,i){this._x=d||0;this._y=e||0;this._z=f||0;this._order=i||THREE.Euler.DefaultOrder;};THREE.Euler.RotationOrders=[f7d.F1,f7d.I,'ZXY','XZY','YXZ','ZYX'];THREE.Euler.DefaultOrder=f7d.F1;THREE.Euler.prototype={constructor:THREE.Euler,get x(){return this._x;},set x(value){this._x=value;this.onChangeCallback();},get y(){return this._y;},set y(value){this._y=value;this.onChangeCallback();},get z(){return this._z;},set z(value){this._z=value;this.onChangeCallback();},get order(){return this._order;},set order(value){this._order=value;this.onChangeCallback();},set:function(d,e,f,i){this._x=d;this._y=e;this._z=f;this._order=i||this._order;this.onChangeCallback();return this;},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order);},copy:function(d){this._x=d._x;this._y=d._y;this._z=d._z;this._order=d._order;this.onChangeCallback();return this;},setFromRotationMatrix:function(d,e,f){var i=THREE.Math.clamp,j=d.elements,k=j[0],m=j[4],n=j[8],u=j[1],v=j[5],B=j[9],C=j[2],J=j[6],E=j[10];e=e||this._order;if(e===f7d.F1){this._y=Math.asin(i(n,-1,1));if(Math.abs(n)<f7d.T1){this._x=Math.atan2(-B,E);this._z=Math.atan2(-m,k);}else{this._x=Math.atan2(J,v);this._z=0;}}else if(e==='YXZ'){this._x=Math.asin(-i(B,-1,1));if(Math.abs(B)<f7d.T1){this._y=Math.atan2(n,E);this._z=Math.atan2(u,v);}else{this._y=Math.atan2(-C,k);this._z=0;}}else if(e==='ZXY'){this._x=Math.asin(i(J,-1,1));if(Math.abs(J)<f7d.T1){this._y=Math.atan2(-C,E);this._z=Math.atan2(-m,v);}else{this._y=0;this._z=Math.atan2(u,k);}}else if(e==='ZYX'){this._y=Math.asin(-i(C,-1,1));if(Math.abs(C)<f7d.T1){this._x=Math.atan2(J,E);this._z=Math.atan2(u,k);}else{this._x=0;this._z=Math.atan2(-m,v);}}else if(e===f7d.I){this._z=Math.asin(i(u,-1,1));if(Math.abs(u)<f7d.T1){this._x=Math.atan2(-B,v);this._y=Math.atan2(-C,k);}else{this._x=0;this._y=Math.atan2(n,E);}}else if(e==='XZY'){this._z=Math.asin(-i(m,-1,1));if(Math.abs(m)<f7d.T1){this._x=Math.atan2(J,v);this._y=Math.atan2(n,k);}else{this._x=Math.atan2(-B,E);this._y=0;}}else{console.warn('THREE.Euler: .setFromRotationMatrix() given unsupported order: '+e);}this._order=e;if(f!==f7d.a4)this.onChangeCallback();return this;},setFromQuaternion:function(){var i;return function(d,e,f){if(i===undefined)i=new THREE.Matrix4();i.makeRotationFromQuaternion(d);this.setFromRotationMatrix(i,e,f);return this;};}(),setFromVector3:function(d,e){return this.set(d.x,d.y,d.z,e||this._order);},reorder:function(){var e=new THREE.Quaternion();return function(d){e.setFromEuler(this);this.setFromQuaternion(e,d);};}(),equals:function(d){return (d._x===this._x)&&(d._y===this._y)&&(d._z===this._z)&&(d._order===this._order);},fromArray:function(d){this._x=d[0];this._y=d[1];this._z=d[2];if(d[3]!==undefined)this._order=d[3];this.onChangeCallback();return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;d[e]=this._x;d[e+1]=this._y;d[e+2]=this._z;d[e+3]=this._order;return d;},toVector3:function(d){if(d){return d.set(this._x,this._y,this._z);}else{return new THREE.Vector3(this._x,this._y,this._z);}},onChange:function(d){this.onChangeCallback=d;return this;},onChangeCallback:function(){}};THREE.Line3=function(d,e){this.start=(d!==undefined)?d:new THREE.Vector3();this.end=(e!==undefined)?e:new THREE.Vector3();};THREE.Line3.prototype={constructor:THREE.Line3,set:function(d,e){this.start.copy(d);this.end.copy(e);return this;},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.start.copy(d.start);this.end.copy(d.end);return this;},center:function(d){var e=d||new THREE.Vector3();return e.addVectors(this.start,this.end).multiplyScalar(f7d.h1);},delta:function(d){var e=d||new THREE.Vector3();return e.subVectors(this.end,this.start);},distanceSq:function(){return this.start.distanceToSquared(this.end);},distance:function(){return this.start.distanceTo(this.end);},at:function(d,e){var f=e||new THREE.Vector3();return this.delta(f).multiplyScalar(d).add(this.start);},closestPointToPointParameter:function(){var k=new THREE.Vector3(),m=new THREE.Vector3();return function(d,e){k.subVectors(d,this.start);m.subVectors(this.end,this.start);var f=m.dot(m),i=m.dot(k),j=i/f;if(e){j=THREE.Math.clamp(j,0,1);}return j;};}(),closestPointToPoint:function(d,e,f){var i=this.closestPointToPointParameter(d,e),j=f||new THREE.Vector3();return this.delta(j).multiplyScalar(i).add(this.start);},applyMatrix4:function(d){this.start.applyMatrix4(d);this.end.applyMatrix4(d);return this;},equals:function(d){return d.start.equals(this.start)&&d.end.equals(this.end);}};THREE.Box2=function(d,e){this.min=(d!==undefined)?d:new THREE.Vector2(+Infinity,+Infinity);this.max=(e!==undefined)?e:new THREE.Vector2(-Infinity,-Infinity);};THREE.Box2.prototype={constructor:THREE.Box2,set:function(d,e){this.min.copy(d);this.max.copy(e);return this;},setFromPoints:function(d){this.makeEmpty();for(var e=0,f=d.length;e<f;e++){this.expandByPoint(d[e]);}return this;},setFromCenterAndSize:function(){var i=new THREE.Vector2();return function(d,e){var f=i.copy(e).multiplyScalar(f7d.h1);this.min.copy(d).sub(f);this.max.copy(d).add(f);return this;};}(),clone:function(){return new this.constructor().copy(this);},copy:function(d){this.min.copy(d.min);this.max.copy(d.max);return this;},makeEmpty:function(){this.min.x=this.min.y=+Infinity;this.max.x=this.max.y=-Infinity;return this;},isEmpty:function(){return (this.max.x<this.min.x)||(this.max.y<this.min.y);},center:function(d){var e=d||new THREE.Vector2();return e.addVectors(this.min,this.max).multiplyScalar(f7d.h1);},size:function(d){var e=d||new THREE.Vector2();return e.subVectors(this.max,this.min);},expandByPoint:function(d){this.min.min(d);this.max.max(d);return this;},expandByVector:function(d){this.min.sub(d);this.max.add(d);return this;},expandByScalar:function(d){this.min.addScalar(-d);this.max.addScalar(d);return this;},containsPoint:function(d){if(d.x<this.min.x||d.x>this.max.x||d.y<this.min.y||d.y>this.max.y){return f7d.a4;}return f7d.k3;},containsBox:function(d){if((this.min.x<=d.min.x)&&(d.max.x<=this.max.x)&&(this.min.y<=d.min.y)&&(d.max.y<=this.max.y)){return f7d.k3;}return f7d.a4;},getParameter:function(d,e){var f=e||new THREE.Vector2();return f.set((d.x-this.min.x)/(this.max.x-this.min.x),(d.y-this.min.y)/(this.max.y-this.min.y));},intersectsBox:function(d){if(d.max.x<this.min.x||d.min.x>this.max.x||d.max.y<this.min.y||d.min.y>this.max.y){return f7d.a4;}return f7d.k3;},clampPoint:function(d,e){var f=e||new THREE.Vector2();return f.copy(d).clamp(this.min,this.max);},distanceToPoint:function(){var f=new THREE.Vector2();return function(d){var e=f.copy(d).clamp(this.min,this.max);return e.sub(d).length();};}(),intersect:function(d){this.min.max(d.min);this.max.min(d.max);return this;},union:function(d){this.min.min(d.min);this.max.max(d.max);return this;},translate:function(d){this.min.add(d);this.max.add(d);return this;},equals:function(d){return d.min.equals(this.min)&&d.max.equals(this.max);}};THREE.Box3=function(d,e){this.min=(d!==undefined)?d:new THREE.Vector3(+Infinity,+Infinity,+Infinity);this.max=(e!==undefined)?e:new THREE.Vector3(-Infinity,-Infinity,-Infinity);};THREE.Box3.prototype={constructor:THREE.Box3,set:function(d,e){this.min.copy(d);this.max.copy(e);return this;},setFromArray:function(d){var e=+Infinity,f=+Infinity,i=+Infinity,j=-Infinity,k=-Infinity,m=-Infinity;for(var n=0,u=d.length;n<u;n+=3){var v=d[n],B=d[n+1],C=d[n+2];if(v<e)e=v;if(B<f)f=B;if(C<i)i=C;if(v>j)j=v;if(B>k)k=B;if(C>m)m=C;}this.min.set(e,f,i);this.max.set(j,k,m);},setFromPoints:function(d){this.makeEmpty();for(var e=0,f=d.length;e<f;e++){this.expandByPoint(d[e]);}return this;},setFromCenterAndSize:function(){var i=new THREE.Vector3();return function(d,e){var f=i.copy(e).multiplyScalar(f7d.h1);this.min.copy(d).sub(f);this.max.copy(d).add(f);return this;};}(),setFromObject:function(){var u=new THREE.Vector3();return function(m){var n=this;m.updateMatrixWorld(f7d.k3);this.makeEmpty();m.traverse(function(d){var e=d.geometry;if(e!==undefined){if(e instanceof THREE.Geometry){var f=e.vertices;for(var i=0,j=f.length;i<j;i++){u.copy(f[i]);u.applyMatrix4(d.matrixWorld);n.expandByPoint(u);}}else if(e instanceof THREE.BufferGeometry&&e.attributes[f7d.e1]!==undefined){var k=e.attributes[f7d.e1].array;for(var i=0,j=k.length;i<j;i+=3){u.fromArray(k,i);u.applyMatrix4(d.matrixWorld);n.expandByPoint(u);}}}});return this;};}(),clone:function(){return new this.constructor().copy(this);},copy:function(d){this.min.copy(d.min);this.max.copy(d.max);return this;},makeEmpty:function(){this.min.x=this.min.y=this.min.z=+Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this;},isEmpty:function(){return (this.max.x<this.min.x)||(this.max.y<this.min.y)||(this.max.z<this.min.z);},center:function(d){var e=d||new THREE.Vector3();return e.addVectors(this.min,this.max).multiplyScalar(f7d.h1);},size:function(d){var e=d||new THREE.Vector3();return e.subVectors(this.max,this.min);},expandByPoint:function(d){this.min.min(d);this.max.max(d);return this;},expandByVector:function(d){this.min.sub(d);this.max.add(d);return this;},expandByScalar:function(d){this.min.addScalar(-d);this.max.addScalar(d);return this;},containsPoint:function(d){if(d.x<this.min.x||d.x>this.max.x||d.y<this.min.y||d.y>this.max.y||d.z<this.min.z||d.z>this.max.z){return f7d.a4;}return f7d.k3;},containsBox:function(d){if((this.min.x<=d.min.x)&&(d.max.x<=this.max.x)&&(this.min.y<=d.min.y)&&(d.max.y<=this.max.y)&&(this.min.z<=d.min.z)&&(d.max.z<=this.max.z)){return f7d.k3;}return f7d.a4;},getParameter:function(d,e){var f=e||new THREE.Vector3();return f.set((d.x-this.min.x)/(this.max.x-this.min.x),(d.y-this.min.y)/(this.max.y-this.min.y),(d.z-this.min.z)/(this.max.z-this.min.z));},intersectsBox:function(d){if(d.max.x<this.min.x||d.min.x>this.max.x||d.max.y<this.min.y||d.min.y>this.max.y||d.max.z<this.min.z||d.min.z>this.max.z){return f7d.a4;}return f7d.k3;},intersectsSphere:(function(){var e;return function f(d){if(e===undefined)e=new THREE.Vector3();this.clampPoint(d.center,e);return e.distanceToSquared(d.center)<=(d.radius*d.radius);};})(),intersectsPlane:function(d){var e,f;if(d.normal.x>0){e=d.normal.x*this.min.x;f=d.normal.x*this.max.x;}else{e=d.normal.x*this.max.x;f=d.normal.x*this.min.x;}if(d.normal.y>0){e+=d.normal.y*this.min.y;f+=d.normal.y*this.max.y;}else{e+=d.normal.y*this.max.y;f+=d.normal.y*this.min.y;}if(d.normal.z>0){e+=d.normal.z*this.min.z;f+=d.normal.z*this.max.z;}else{e+=d.normal.z*this.max.z;f+=d.normal.z*this.min.z;}return (e<=d.constant&&f>=d.constant);},clampPoint:function(d,e){var f=e||new THREE.Vector3();return f.copy(d).clamp(this.min,this.max);},distanceToPoint:function(){var f=new THREE.Vector3();return function(d){var e=f.copy(d).clamp(this.min,this.max);return e.sub(d).length();};}(),getBoundingSphere:function(){var f=new THREE.Vector3();return function(d){var e=d||new THREE.Sphere();e.center=this.center();e.radius=this.size(f).length()*f7d.h1;return e;};}(),intersect:function(d){this.min.max(d.min);this.max.min(d.max);if(this.isEmpty())this.makeEmpty();return this;},union:function(d){this.min.min(d.min);this.max.max(d.max);return this;},applyMatrix4:function(){var e=[new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3()];return function(d){if(this.isEmpty())return this;e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(d);e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(d);e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(d);e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(d);e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(d);e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(d);e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(d);e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(d);this.setFromPoints(e);return this;};}(),translate:function(d){this.min.add(d);this.max.add(d);return this;},equals:function(d){return d.min.equals(this.min)&&d.max.equals(this.max);}};THREE.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);if(arguments.length>0){console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');}};THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(d,e,f,i,j,k,m,n,u){var v=this.elements;v[0]=d;v[1]=i;v[2]=m;v[3]=e;v[4]=j;v[5]=n;v[6]=f;v[7]=k;v[8]=u;return this;},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this;},clone:function(){return new this.constructor().fromArray(this.elements);},copy:function(d){var e=d.elements;this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]);return this;},setFromMatrix4:function(d){var e=d.elements;this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]);return this;},applyToVector3Array:function(){var k;return function(d,e,f){if(k===undefined)k=new THREE.Vector3();if(e===undefined)e=0;if(f===undefined)f=d.length;for(var i=0,j=e;i<f;i+=3,j+=3){k.fromArray(d,j);k.applyMatrix3(this);k.toArray(d,j);}return d;};}(),applyToBuffer:function(){var k;return function m(d,e,f){if(k===undefined)k=new THREE.Vector3();if(e===undefined)e=0;if(f===undefined)f=d.length/d.itemSize;for(var i=0,j=e;i<f;i++,j++){k.x=d.getX(j);k.y=d.getY(j);k.z=d.getZ(j);k.applyMatrix3(this);d.setXYZ(k.x,k.y,k.z);}return d;};}(),multiplyScalar:function(d){var e=this.elements;e[0]*=d;e[3]*=d;e[6]*=d;e[1]*=d;e[4]*=d;e[7]*=d;e[2]*=d;e[5]*=d;e[8]*=d;return this;},determinant:function(){var d=this.elements,e=d[0],f=d[1],i=d[2],j=d[3],k=d[4],m=d[5],n=d[6],u=d[7],v=d[8];return e*k*v-e*m*u-f*j*v+f*m*n+i*j*u-i*k*n;},getInverse:function(d,e){if(d instanceof THREE.Matrix4){console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");}var f=d.elements,i=this.elements,j=f[0],k=f[1],m=f[2],n=f[3],u=f[4],v=f[5],B=f[6],C=f[7],J=f[8],E=J*u-v*C,Q=v*B-J*n,T=C*n-u*B,N=j*E+k*Q+m*T;if(N===0){var b0="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(e||f7d.a4){throw  new Error(b0);}else{console.warn(b0);}return this.identity();}i[0]=E;i[1]=m*C-J*k;i[2]=v*k-m*u;i[3]=Q;i[4]=J*j-m*B;i[5]=m*n-v*j;i[6]=T;i[7]=k*B-C*j;i[8]=u*j-k*n;return this.multiplyScalar(1/N);},transpose:function(){var d,e=this.elements;d=e[1];e[1]=e[3];e[3]=d;d=e[2];e[2]=e[6];e[6]=d;d=e[5];e[5]=e[7];e[7]=d;return this;},flattenToArrayOffset:function(d,e){console.warn(f7d.H0+f7d.S2);return this.toArray(d,e);},getNormalMatrix:function(d){return this.setFromMatrix4(d).getInverse(this).transpose();},transposeIntoArray:function(d){var e=this.elements;d[0]=e[0];d[1]=e[3];d[2]=e[6];d[3]=e[1];d[4]=e[4];d[5]=e[7];d[6]=e[2];d[7]=e[5];d[8]=e[8];return this;},fromArray:function(d){this.elements.set(d);return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;var f=this.elements;d[e]=f[0];d[e+1]=f[1];d[e+2]=f[2];d[e+3]=f[3];d[e+4]=f[4];d[e+5]=f[5];d[e+6]=f[6];d[e+7]=f[7];d[e+8]=f[8];return d;}};THREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);if(arguments.length>0){console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');}};THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(d,e,f,i,j,k,m,n,u,v,B,C,J,E,Q,T){var N=this.elements;N[0]=d;N[4]=e;N[8]=f;N[12]=i;N[1]=j;N[5]=k;N[9]=m;N[13]=n;N[2]=u;N[6]=v;N[10]=B;N[14]=C;N[3]=J;N[7]=E;N[11]=Q;N[15]=T;return this;},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this;},clone:function(){return new THREE.Matrix4().fromArray(this.elements);},copy:function(d){this.elements.set(d.elements);return this;},copyPosition:function(d){var e=this.elements,f=d.elements;e[12]=f[12];e[13]=f[13];e[14]=f[14];return this;},extractBasis:function(d,e,f){d.setFromMatrixColumn(this,0);e.setFromMatrixColumn(this,1);f.setFromMatrixColumn(this,2);return this;},makeBasis:function(d,e,f){this.set(d.x,e.x,f.x,0,d.y,e.y,f.y,0,d.z,e.z,f.z,0,0,0,0,1);return this;},extractRotation:function(){var m;return function(d){if(m===undefined)m=new THREE.Vector3();var e=this.elements,f=d.elements,i=1/m.setFromMatrixColumn(d,0).length(),j=1/m.setFromMatrixColumn(d,1).length(),k=1/m.setFromMatrixColumn(d,2).length();e[0]=f[0]*i;e[1]=f[1]*i;e[2]=f[2]*i;e[4]=f[4]*j;e[5]=f[5]*j;e[6]=f[6]*j;e[8]=f[8]*k;e[9]=f[9]*k;e[10]=f[10]*k;return this;};}(),makeRotationFromEuler:function(d){if(d instanceof THREE.Euler===f7d.a4){console.error('THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');}var e=this.elements,f=d.x,i=d.y,j=d.z,k=Math.cos(f),m=Math.sin(f),n=Math.cos(i),u=Math.sin(i),v=Math.cos(j),B=Math.sin(j);if(d.order===f7d.F1){var C=k*v,J=k*B,E=m*v,Q=m*B;e[0]=n*v;e[4]=-n*B;e[8]=u;e[1]=J+E*u;e[5]=C-Q*u;e[9]=-m*n;e[2]=Q-C*u;e[6]=E+J*u;e[10]=k*n;}else if(d.order==='YXZ'){var T=n*v,N=n*B,b0=u*v,o0=u*B;e[0]=T+o0*m;e[4]=b0*m-N;e[8]=k*u;e[1]=k*B;e[5]=k*v;e[9]=-m;e[2]=N*m-b0;e[6]=o0+T*m;e[10]=k*n;}else if(d.order==='ZXY'){var T=n*v,N=n*B,b0=u*v,o0=u*B;e[0]=T-o0*m;e[4]=-k*B;e[8]=b0+N*m;e[1]=N+b0*m;e[5]=k*v;e[9]=o0-T*m;e[2]=-k*u;e[6]=m;e[10]=k*n;}else if(d.order==='ZYX'){var C=k*v,J=k*B,E=m*v,Q=m*B;e[0]=n*v;e[4]=E*u-J;e[8]=C*u+Q;e[1]=n*B;e[5]=Q*u+C;e[9]=J*u-E;e[2]=-u;e[6]=m*n;e[10]=k*n;}else if(d.order===f7d.I){var f0=k*n,d0=k*u,p0=m*n,t0=m*u;e[0]=n*v;e[4]=t0-f0*B;e[8]=p0*B+d0;e[1]=B;e[5]=k*v;e[9]=-m*v;e[2]=-u*v;e[6]=d0*B+p0;e[10]=f0-t0*B;}else if(d.order==='XZY'){var f0=k*n,d0=k*u,p0=m*n,t0=m*u;e[0]=n*v;e[4]=-B;e[8]=u*v;e[1]=f0*B+t0;e[5]=k*v;e[9]=d0*B-p0;e[2]=p0*B-d0;e[6]=m*v;e[10]=t0*B+f0;}e[3]=0;e[7]=0;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return this;},makeRotationFromQuaternion:function(d){var e=this.elements,f=d.x,i=d.y,j=d.z,k=d.w,m=f+f,n=i+i,u=j+j,v=f*m,B=f*n,C=f*u,J=i*n,E=i*u,Q=j*u,T=k*m,N=k*n,b0=k*u;e[0]=1-(J+Q);e[4]=B-b0;e[8]=C+N;e[1]=B+b0;e[5]=1-(v+Q);e[9]=E-T;e[2]=C-N;e[6]=E+T;e[10]=1-(v+J);e[3]=0;e[7]=0;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return this;},lookAt:function(){var j,k,m;return function(d,e,f){if(j===undefined)j=new THREE.Vector3();if(k===undefined)k=new THREE.Vector3();if(m===undefined)m=new THREE.Vector3();var i=this.elements;m.subVectors(d,e).normalize();if(m.lengthSq()===0){m.z=1;}j.crossVectors(f,m).normalize();if(j.lengthSq()===0){m.x+=0.0001;j.crossVectors(f,m).normalize();}k.crossVectors(m,j);i[0]=j.x;i[4]=k.x;i[8]=m.x;i[1]=j.y;i[5]=k.y;i[9]=m.y;i[2]=j.z;i[6]=k.z;i[10]=m.z;return this;};}(),multiply:function(d,e){if(e!==undefined){console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');return this.multiplyMatrices(d,e);}return this.multiplyMatrices(this,d);},premultiply:function(d){return this.multiplyMatrices(d,this);},multiplyMatrices:function(d,e){var f=d.elements,i=e.elements,j=this.elements,k=f[0],m=f[4],n=f[8],u=f[12],v=f[1],B=f[5],C=f[9],J=f[13],E=f[2],Q=f[6],T=f[10],N=f[14],b0=f[3],o0=f[7],f0=f[11],d0=f[15],p0=i[0],t0=i[4],x0=i[8],w0=i[12],s0=i[1],z0=i[5],y0=i[9],B0=i[13],K0=i[2],i0=i[6],X0=i[10],V0=i[14],D0=i[3],N0=i[7],a1=i[11],U0=i[15];j[0]=k*p0+m*s0+n*K0+u*D0;j[4]=k*t0+m*z0+n*i0+u*N0;j[8]=k*x0+m*y0+n*X0+u*a1;j[12]=k*w0+m*B0+n*V0+u*U0;j[1]=v*p0+B*s0+C*K0+J*D0;j[5]=v*t0+B*z0+C*i0+J*N0;j[9]=v*x0+B*y0+C*X0+J*a1;j[13]=v*w0+B*B0+C*V0+J*U0;j[2]=E*p0+Q*s0+T*K0+N*D0;j[6]=E*t0+Q*z0+T*i0+N*N0;j[10]=E*x0+Q*y0+T*X0+N*a1;j[14]=E*w0+Q*B0+T*V0+N*U0;j[3]=b0*p0+o0*s0+f0*K0+d0*D0;j[7]=b0*t0+o0*z0+f0*i0+d0*N0;j[11]=b0*x0+o0*y0+f0*X0+d0*a1;j[15]=b0*w0+o0*B0+f0*V0+d0*U0;return this;},multiplyToArray:function(d,e,f){var i=this.elements;this.multiplyMatrices(d,e);f[0]=i[0];f[1]=i[1];f[2]=i[2];f[3]=i[3];f[4]=i[4];f[5]=i[5];f[6]=i[6];f[7]=i[7];f[8]=i[8];f[9]=i[9];f[10]=i[10];f[11]=i[11];f[12]=i[12];f[13]=i[13];f[14]=i[14];f[15]=i[15];return this;},multiplyScalar:function(d){var e=this.elements;e[0]*=d;e[4]*=d;e[8]*=d;e[12]*=d;e[1]*=d;e[5]*=d;e[9]*=d;e[13]*=d;e[2]*=d;e[6]*=d;e[10]*=d;e[14]*=d;e[3]*=d;e[7]*=d;e[11]*=d;e[15]*=d;return this;},applyToVector3Array:function(){var k;return function(d,e,f){if(k===undefined)k=new THREE.Vector3();if(e===undefined)e=0;if(f===undefined)f=d.length;for(var i=0,j=e;i<f;i+=3,j+=3){k.fromArray(d,j);k.applyMatrix4(this);k.toArray(d,j);}return d;};}(),applyToBuffer:function(){var k;return function m(d,e,f){if(k===undefined)k=new THREE.Vector3();if(e===undefined)e=0;if(f===undefined)f=d.length/d.itemSize;for(var i=0,j=e;i<f;i++,j++){k.x=d.getX(j);k.y=d.getY(j);k.z=d.getZ(j);k.applyMatrix4(this);d.setXYZ(k.x,k.y,k.z);}return d;};}(),determinant:function(){var d=this.elements,e=d[0],f=d[4],i=d[8],j=d[12],k=d[1],m=d[5],n=d[9],u=d[13],v=d[2],B=d[6],C=d[10],J=d[14],E=d[3],Q=d[7],T=d[11],N=d[15];return (E*(+j*n*B-i*u*B-j*m*C+f*u*C+i*m*J-f*n*J)+Q*(+e*n*J-e*u*C+j*k*C-i*k*J+i*u*v-j*n*v)+T*(+e*u*B-e*m*J-j*k*B+f*k*J+j*m*v-f*u*v)+N*(-i*m*v-e*n*B+e*m*C+i*k*B-f*k*C+f*n*v));},transpose:function(){var d=this.elements,e;e=d[1];d[1]=d[4];d[4]=e;e=d[2];d[2]=d[8];d[8]=e;e=d[6];d[6]=d[9];d[9]=e;e=d[3];d[3]=d[12];d[12]=e;e=d[7];d[7]=d[13];d[13]=e;e=d[11];d[11]=d[14];d[14]=e;return this;},flattenToArrayOffset:function(d,e){console.warn(f7d.H0+f7d.S2);return this.toArray(d,e);},getPosition:function(){var d;return function(){if(d===undefined)d=new THREE.Vector3();console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');return d.setFromMatrixColumn(this,3);};}(),setPosition:function(d){var e=this.elements;e[12]=d.x;e[13]=d.y;e[14]=d.z;return this;},getInverse:function(d,e){var f=this.elements,i=d.elements,j=i[0],k=i[1],m=i[2],n=i[3],u=i[4],v=i[5],B=i[6],C=i[7],J=i[8],E=i[9],Q=i[10],T=i[11],N=i[12],b0=i[13],o0=i[14],f0=i[15],d0=E*o0*C-b0*Q*C+b0*B*T-v*o0*T-E*B*f0+v*Q*f0,p0=N*Q*C-J*o0*C-N*B*T+u*o0*T+J*B*f0-u*Q*f0,t0=J*b0*C-N*E*C+N*v*T-u*b0*T-J*v*f0+u*E*f0,x0=N*E*B-J*b0*B-N*v*Q+u*b0*Q+J*v*o0-u*E*o0,w0=j*d0+k*p0+m*t0+n*x0;if(w0===0){var s0="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(e||f7d.a4){throw  new Error(s0);}else{console.warn(s0);}return this.identity();}f[0]=d0;f[1]=b0*Q*n-E*o0*n-b0*m*T+k*o0*T+E*m*f0-k*Q*f0;f[2]=v*o0*n-b0*B*n+b0*m*C-k*o0*C-v*m*f0+k*B*f0;f[3]=E*B*n-v*Q*n-E*m*C+k*Q*C+v*m*T-k*B*T;f[4]=p0;f[5]=J*o0*n-N*Q*n+N*m*T-j*o0*T-J*m*f0+j*Q*f0;f[6]=N*B*n-u*o0*n-N*m*C+j*o0*C+u*m*f0-j*B*f0;f[7]=u*Q*n-J*B*n+J*m*C-j*Q*C-u*m*T+j*B*T;f[8]=t0;f[9]=N*E*n-J*b0*n-N*k*T+j*b0*T+J*k*f0-j*E*f0;f[10]=u*b0*n-N*v*n+N*k*C-j*b0*C-u*k*f0+j*v*f0;f[11]=J*v*n-u*E*n-J*k*C+j*E*C+u*k*T-j*v*T;f[12]=x0;f[13]=J*b0*m-N*E*m+N*k*Q-j*b0*Q-J*k*o0+j*E*o0;f[14]=N*v*m-u*b0*m-N*k*B+j*b0*B+u*k*o0-j*v*o0;f[15]=u*E*m-J*v*m+J*k*B-j*E*B-u*k*Q+j*v*Q;return this.multiplyScalar(1/w0);},scale:function(d){var e=this.elements,f=d.x,i=d.y,j=d.z;e[0]*=f;e[4]*=i;e[8]*=j;e[1]*=f;e[5]*=i;e[9]*=j;e[2]*=f;e[6]*=i;e[10]*=j;e[3]*=f;e[7]*=i;e[11]*=j;return this;},getMaxScaleOnAxis:function(){var d=this.elements,e=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],f=d[4]*d[4]+d[5]*d[5]+d[6]*d[6],i=d[8]*d[8]+d[9]*d[9]+d[10]*d[10];return Math.sqrt(Math.max(e,f,i));},makeTranslation:function(d,e,f){this.set(1,0,0,d,0,1,0,e,0,0,1,f,0,0,0,1);return this;},makeRotationX:function(d){var e=Math.cos(d),f=Math.sin(d);this.set(1,0,0,0,0,e,-f,0,0,f,e,0,0,0,0,1);return this;},makeRotationY:function(d){var e=Math.cos(d),f=Math.sin(d);this.set(e,0,f,0,0,1,0,0,-f,0,e,0,0,0,0,1);return this;},makeRotationZ:function(d){var e=Math.cos(d),f=Math.sin(d);this.set(e,-f,0,0,f,e,0,0,0,0,1,0,0,0,0,1);return this;},makeRotationAxis:function(d,e){var f=Math.cos(e),i=Math.sin(e),j=1-f,k=d.x,m=d.y,n=d.z,u=j*k,v=j*m;this.set(u*k+f,u*m-i*n,u*n+i*m,0,u*m+i*n,v*m+f,v*n-i*k,0,u*n-i*m,v*n+i*k,j*n*n+f,0,0,0,0,1);return this;},makeScale:function(d,e,f){this.set(d,0,0,0,0,e,0,0,0,0,f,0,0,0,0,1);return this;},compose:function(d,e,f){this.makeRotationFromQuaternion(e);this.scale(f);this.setPosition(d);return this;},decompose:function(){var C,J;return function(d,e,f){if(C===undefined)C=new THREE.Vector3();if(J===undefined)J=new THREE.Matrix4();var i=this.elements,j=C.set(i[0],i[1],i[2]).length(),k=C.set(i[4],i[5],i[6]).length(),m=C.set(i[8],i[9],i[10]).length(),n=this.determinant();if(n<0){j=-j;}d.x=i[12];d.y=i[13];d.z=i[14];J.elements.set(this.elements);var u=1/j,v=1/k,B=1/m;J.elements[0]*=u;J.elements[1]*=u;J.elements[2]*=u;J.elements[4]*=v;J.elements[5]*=v;J.elements[6]*=v;J.elements[8]*=B;J.elements[9]*=B;J.elements[10]*=B;e.setFromRotationMatrix(J);f.x=j;f.y=k;f.z=m;return this;};}(),makeFrustum:function(d,e,f,i,j,k){var m=this.elements,n=2*j/(e-d),u=2*j/(i-f),v=(e+d)/(e-d),B=(i+f)/(i-f),C=-(k+j)/(k-j),J=-2*k*j/(k-j);m[0]=n;m[4]=0;m[8]=v;m[12]=0;m[1]=0;m[5]=u;m[9]=B;m[13]=0;m[2]=0;m[6]=0;m[10]=C;m[14]=J;m[3]=0;m[7]=0;m[11]=-1;m[15]=0;return this;},makePerspective:function(d,e,f,i){var j=f*Math.tan(THREE.Math.DEG2RAD*d*f7d.h1),k=-j,m=k*e,n=j*e;return this.makeFrustum(m,n,k,j,f,i);},makeOrthographic:function(d,e,f,i,j,k){var m=this.elements,n=f7d.Z3/(e-d),u=f7d.Z3/(f-i),v=f7d.Z3/(k-j),B=(e+d)*n,C=(f+i)*u,J=(k+j)*v;m[0]=2*n;m[4]=0;m[8]=0;m[12]=-B;m[1]=0;m[5]=2*u;m[9]=0;m[13]=-C;m[2]=0;m[6]=0;m[10]=-2*v;m[14]=-J;m[3]=0;m[7]=0;m[11]=0;m[15]=1;return this;},equals:function(d){var e=this.elements,f=d.elements;for(var i=0;i<16;i++){if(e[i]!==f[i])return f7d.a4;}return f7d.k3;},fromArray:function(d){this.elements.set(d);return this;},toArray:function(d,e){if(d===undefined)d=[];if(e===undefined)e=0;var f=this.elements;d[e]=f[0];d[e+1]=f[1];d[e+2]=f[2];d[e+3]=f[3];d[e+4]=f[4];d[e+5]=f[5];d[e+6]=f[6];d[e+7]=f[7];d[e+8]=f[8];d[e+9]=f[9];d[e+10]=f[10];d[e+11]=f[11];d[e+12]=f[12];d[e+13]=f[13];d[e+14]=f[14];d[e+15]=f[15];return d;}};THREE.Ray=function(d,e){this.origin=(d!==undefined)?d:new THREE.Vector3();this.direction=(e!==undefined)?e:new THREE.Vector3();};THREE.Ray.prototype={constructor:THREE.Ray,set:function(d,e){this.origin.copy(d);this.direction.copy(e);return this;},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.origin.copy(d.origin);this.direction.copy(d.direction);return this;},at:function(d,e){var f=e||new THREE.Vector3();return f.copy(this.direction).multiplyScalar(d).add(this.origin);},lookAt:function(d){this.direction.copy(d).sub(this.origin).normalize();},recast:function(){var e=new THREE.Vector3();return function(d){this.origin.copy(this.at(d,e));return this;};}(),closestPointToPoint:function(d,e){var f=e||new THREE.Vector3();f.subVectors(d,this.origin);var i=f.dot(this.direction);if(i<0){return f.copy(this.origin);}return f.copy(this.direction).multiplyScalar(i).add(this.origin);},distanceToPoint:function(d){return Math.sqrt(this.distanceSqToPoint(d));},distanceSqToPoint:function(){var f=new THREE.Vector3();return function(d){var e=f.subVectors(d,this.origin).dot(this.direction);if(e<0){return this.origin.distanceToSquared(d);}f.copy(this.direction).multiplyScalar(e).add(this.origin);return f.distanceToSquared(d);};}(),distanceSqToSegment:function(){var T=new THREE.Vector3(),N=new THREE.Vector3(),b0=new THREE.Vector3();return function(d,e,f,i){T.copy(d).add(e).multiplyScalar(f7d.h1);N.copy(e).sub(d).normalize();b0.copy(this.origin).sub(T);var j=d.distanceTo(e)*f7d.h1,k=-this.direction.dot(N),m=b0.dot(this.direction),n=-b0.dot(N),u=b0.lengthSq(),v=Math.abs(1-k*k),B,C,J,E;if(v>0){B=k*n-m;C=k*m-n;E=j*v;if(B>=0){if(C>=-E){if(C<=E){var Q=1/v;B*=Q;C*=Q;J=B*(B+k*C+2*m)+C*(k*B+C+2*n)+u;}else{C=j;B=Math.max(0,-(k*C+m));J=-B*B+C*(C+2*n)+u;}}else{C=-j;B=Math.max(0,-(k*C+m));J=-B*B+C*(C+2*n)+u;}}else{if(C<=-E){B=Math.max(0,-(-k*j+m));C=(B>0)?-j:Math.min(Math.max(-j,-n),j);J=-B*B+C*(C+2*n)+u;}else if(C<=E){B=0;C=Math.min(Math.max(-j,-n),j);J=C*(C+2*n)+u;}else{B=Math.max(0,-(k*j+m));C=(B>0)?j:Math.min(Math.max(-j,-n),j);J=-B*B+C*(C+2*n)+u;}}}else{C=(k>0)?-j:j;B=Math.max(0,-(k*C+m));J=-B*B+C*(C+2*n)+u;}if(f){f.copy(this.direction).multiplyScalar(B).add(this.origin);}if(i){i.copy(N).multiplyScalar(C).add(T);}return J;};}(),intersectSphere:function(){var u=new THREE.Vector3();return function(d,e){u.subVectors(d.center,this.origin);var f=u.dot(this.direction),i=u.dot(u)-f*f,j=d.radius*d.radius;if(i>j)return f7d.h3;var k=Math.sqrt(j-i),m=f-k,n=f+k;if(m<0&&n<0)return f7d.h3;if(m<0)return this.at(n,e);return this.at(m,e);};}(),intersectsSphere:function(d){return this.distanceToPoint(d.center)<=d.radius;},distanceToPlane:function(d){var e=d.normal.dot(this.direction);if(e===0){if(d.distanceToPoint(this.origin)===0){return 0;}return f7d.h3;}var f=-(this.origin.dot(d.normal)+d.constant)/e;return f>=0?f:f7d.h3;},intersectPlane:function(d,e){var f=this.distanceToPlane(d);if(f===f7d.h3){return f7d.h3;}return this.at(f,e);},intersectsPlane:function(d){var e=d.distanceToPoint(this.origin);if(e===0){return f7d.k3;}var f=d.normal.dot(this.direction);if(f*e<0){return f7d.k3;}return f7d.a4;},intersectBox:function(d,e){var f,i,j,k,m,n,u=1/this.direction.x,v=1/this.direction.y,B=1/this.direction.z,C=this.origin;if(u>=0){f=(d.min.x-C.x)*u;i=(d.max.x-C.x)*u;}else{f=(d.max.x-C.x)*u;i=(d.min.x-C.x)*u;}if(v>=0){j=(d.min.y-C.y)*v;k=(d.max.y-C.y)*v;}else{j=(d.max.y-C.y)*v;k=(d.min.y-C.y)*v;}if((f>k)||(j>i))return f7d.h3;if(j>f||f!==f)f=j;if(k<i||i!==i)i=k;if(B>=0){m=(d.min.z-C.z)*B;n=(d.max.z-C.z)*B;}else{m=(d.max.z-C.z)*B;n=(d.min.z-C.z)*B;}if((f>n)||(m>i))return f7d.h3;if(m>f||f!==f)f=m;if(n<i||i!==i)i=n;if(i<0)return f7d.h3;return this.at(f>=0?f:i,e);},intersectsBox:(function(){var e=new THREE.Vector3();return function(d){return this.intersectBox(d,e)!==f7d.h3;};})(),intersectTriangle:function(){var B=new THREE.Vector3(),C=new THREE.Vector3(),J=new THREE.Vector3(),E=new THREE.Vector3();return function(d,e,f,i,j){C.subVectors(e,d);J.subVectors(f,d);E.crossVectors(C,J);var k=this.direction.dot(E),m;if(k>0){if(i)return f7d.h3;m=1;}else if(k<0){m=-1;k=-k;}else{return f7d.h3;}B.subVectors(this.origin,d);var n=m*this.direction.dot(J.crossVectors(B,J));if(n<0){return f7d.h3;}var u=m*this.direction.dot(C.cross(B));if(u<0){return f7d.h3;}if(n+u>k){return f7d.h3;}var v=-m*B.dot(E);if(v<0){return f7d.h3;}return this.at(v/k,j);};}(),applyMatrix4:function(d){this.direction.add(this.origin).applyMatrix4(d);this.origin.applyMatrix4(d);this.direction.sub(this.origin);this.direction.normalize();return this;},equals:function(d){return d.origin.equals(this.origin)&&d.direction.equals(this.direction);}};THREE.Sphere=function(d,e){this.center=(d!==undefined)?d:new THREE.Vector3();this.radius=(e!==undefined)?e:0;};THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(d,e){this.center.copy(d);this.radius=e;return this;},setFromPoints:function(){var m=new THREE.Box3();return function(d,e){var f=this.center;if(e!==undefined){f.copy(e);}else{m.setFromPoints(d).center(f);}var i=0;for(var j=0,k=d.length;j<k;j++){i=Math.max(i,f.distanceToSquared(d[j]));}this.radius=Math.sqrt(i);return this;};}(),clone:function(){return new this.constructor().copy(this);},copy:function(d){this.center.copy(d.center);this.radius=d.radius;return this;},empty:function(){return (this.radius<=0);},containsPoint:function(d){return (d.distanceToSquared(this.center)<=(this.radius*this.radius));},distanceToPoint:function(d){return (d.distanceTo(this.center)-this.radius);},intersectsSphere:function(d){var e=this.radius+d.radius;return d.center.distanceToSquared(this.center)<=(e*e);},intersectsBox:function(d){return d.intersectsSphere(this);},intersectsPlane:function(d){return Math.abs(this.center.dot(d.normal)-d.constant)<=this.radius;},clampPoint:function(d,e){var f=this.center.distanceToSquared(d),i=e||new THREE.Vector3();i.copy(d);if(f>(this.radius*this.radius)){i.sub(this.center).normalize();i.multiplyScalar(this.radius).add(this.center);}return i;},getBoundingBox:function(d){var e=d||new THREE.Box3();e.set(this.center,this.center);e.expandByScalar(this.radius);return e;},applyMatrix4:function(d){this.center.applyMatrix4(d);this.radius=this.radius*d.getMaxScaleOnAxis();return this;},translate:function(d){this.center.add(d);return this;},equals:function(d){return d.center.equals(this.center)&&(d.radius===this.radius);}};THREE.Frustum=function(d,e,f,i,j,k){this.planes=[(d!==undefined)?d:new THREE.Plane(),(e!==undefined)?e:new THREE.Plane(),(f!==undefined)?f:new THREE.Plane(),(i!==undefined)?i:new THREE.Plane(),(j!==undefined)?j:new THREE.Plane(),(k!==undefined)?k:new THREE.Plane()];};THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(d,e,f,i,j,k){var m=this.planes;m[0].copy(d);m[1].copy(e);m[2].copy(f);m[3].copy(i);m[4].copy(j);m[5].copy(k);return this;},clone:function(){return new this.constructor().copy(this);},copy:function(d){var e=this.planes;for(var f=0;f<6;f++){e[f].copy(d.planes[f]);}return this;},setFromMatrix:function(d){var e=this.planes,f=d.elements,i=f[0],j=f[1],k=f[2],m=f[3],n=f[4],u=f[5],v=f[6],B=f[7],C=f[8],J=f[9],E=f[10],Q=f[11],T=f[12],N=f[13],b0=f[14],o0=f[15];e[0].setComponents(m-i,B-n,Q-C,o0-T).normalize();e[1].setComponents(m+i,B+n,Q+C,o0+T).normalize();e[2].setComponents(m+j,B+u,Q+J,o0+N).normalize();e[3].setComponents(m-j,B-u,Q-J,o0-N).normalize();e[4].setComponents(m-k,B-v,Q-E,o0-b0).normalize();e[5].setComponents(m+k,B+v,Q+E,o0+b0).normalize();return this;},intersectsObject:function(){var f=new THREE.Sphere();return function(d){var e=d.geometry;if(e.boundingSphere===f7d.h3)e.computeBoundingSphere();f.copy(e.boundingSphere);f.applyMatrix4(d.matrixWorld);return this.intersectsSphere(f);};}(),intersectsSphere:function(d){var e=this.planes,f=d.center,i=-d.radius;for(var j=0;j<6;j++){var k=e[j].distanceToPoint(f);if(k<i){return f7d.a4;}}return f7d.k3;},intersectsBox:function(){var m=new THREE.Vector3(),n=new THREE.Vector3();return function(d){var e=this.planes;for(var f=0;f<6;f++){var i=e[f];m.x=i.normal.x>0?d.min.x:d.max.x;n.x=i.normal.x>0?d.max.x:d.min.x;m.y=i.normal.y>0?d.min.y:d.max.y;n.y=i.normal.y>0?d.max.y:d.min.y;m.z=i.normal.z>0?d.min.z:d.max.z;n.z=i.normal.z>0?d.max.z:d.min.z;var j=i.distanceToPoint(m),k=i.distanceToPoint(n);if(j<0&&k<0){return f7d.a4;}}return f7d.k3;};}(),containsPoint:function(d){var e=this.planes;for(var f=0;f<6;f++){if(e[f].distanceToPoint(d)<0){return f7d.a4;}}return f7d.k3;}};THREE.Plane=function(d,e){this.normal=(d!==undefined)?d:new THREE.Vector3(1,0,0);this.constant=(e!==undefined)?e:0;};THREE.Plane.prototype={constructor:THREE.Plane,set:function(d,e){this.normal.copy(d);this.constant=e;return this;},setComponents:function(d,e,f,i){this.normal.set(d,e,f);this.constant=i;return this;},setFromNormalAndCoplanarPoint:function(d,e){this.normal.copy(d);this.constant=-e.dot(this.normal);return this;},setFromCoplanarPoints:function(){var j=new THREE.Vector3(),k=new THREE.Vector3();return function(d,e,f){var i=j.subVectors(f,e).cross(k.subVectors(d,e)).normalize();this.setFromNormalAndCoplanarPoint(i,d);return this;};}(),clone:function(){return new this.constructor().copy(this);},copy:function(d){this.normal.copy(d.normal);this.constant=d.constant;return this;},normalize:function(){var d=f7d.Z3/this.normal.length();this.normal.multiplyScalar(d);this.constant*=d;return this;},negate:function(){this.constant*=-1;this.normal.negate();return this;},distanceToPoint:function(d){return this.normal.dot(d)+this.constant;},distanceToSphere:function(d){return this.distanceToPoint(d.center)-d.radius;},projectPoint:function(d,e){return this.orthoPoint(d,e).sub(d).negate();},orthoPoint:function(d,e){var f=this.distanceToPoint(d),i=e||new THREE.Vector3();return i.copy(this.normal).multiplyScalar(f);},intersectLine:function(){var m=new THREE.Vector3();return function(d,e){var f=e||new THREE.Vector3(),i=d.delta(m),j=this.normal.dot(i);if(j===0){if(this.distanceToPoint(d.start)===0){return f.copy(d.start);}return undefined;}var k=-(d.start.dot(this.normal)+this.constant)/j;if(k<0||k>1){return undefined;}return f.copy(i).multiplyScalar(k).add(d.start);};}(),intersectsLine:function(d){var e=this.distanceToPoint(d.start),f=this.distanceToPoint(d.end);return (e<0&&f>0)||(f<0&&e>0);},intersectsBox:function(d){return d.intersectsPlane(this);},intersectsSphere:function(d){return d.intersectsPlane(this);},coplanarPoint:function(d){var e=d||new THREE.Vector3();return e.copy(this.normal).multiplyScalar(-this.constant);},applyMatrix4:function(){var k=new THREE.Vector3(),m=new THREE.Matrix3();return function(d,e){var f=this.coplanarPoint(k).applyMatrix4(d),i=e||m.getNormalMatrix(d),j=this.normal.applyMatrix3(i).normalize();this.constant=-f.dot(j);return this;};}(),translate:function(d){this.constant=this.constant-d.dot(this.normal);return this;},equals:function(d){return d.normal.equals(this.normal)&&(d.constant===this.constant);}};THREE.Spherical=function(d,e,f){this.radius=(d!==undefined)?d:f7d.Z3;this.phi=(e!==undefined)?e:0;this.theta=(f!==undefined)?f:0;return this;};THREE.Spherical.prototype={constructor:THREE.Spherical,set:function(d,e,f){this.radius=d;this.phi=e;this.theta=f;},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.radius.copy(d.radius);this.phi.copy(d.phi);this.theta.copy(d.theta);return this;},makeSafe:function(){var d=0.000001;this.phi=Math.max(d,Math.min(Math.PI-d,this.phi));},setFromVector3:function(d){this.radius=d.length();if(this.radius===0){this.theta=0;this.phi=0;}else{this.theta=Math.atan2(d.x,d.z);this.phi=Math.acos(THREE.Math.clamp(d.y/this.radius,-1,1));}return this;},};THREE.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split(''),f=new Array(36),i=0,j;return function(){for(var d=0;d<36;d++){if(d===8||d===13||d===18||d===23){f[d]='-';}else if(d===14){f[d]='4';}else{if(i<=0x02)i=0x2000000+(Math.random()*0x1000000)|0;j=i&0xf;i=i>>4;f[d]=e[(d===19)?(j&0x3)|0x8:j];}}return f.join('');};}(),clamp:function(d,e,f){return Math.max(e,Math.min(f,d));},euclideanModulo:function(d,e){return ((d%e)+e)%e;},mapLinear:function(d,e,f,i,j){return i+(d-e)*(j-i)/(f-e);},smoothstep:function(d,e,f){if(d<=e)return 0;if(d>=f)return 1;d=(d-e)/(f-e);return d*d*(3-2*d);},smootherstep:function(d,e,f){if(d<=e)return 0;if(d>=f)return 1;d=(d-e)/(f-e);return d*d*d*(d*(d*6-15)+10);},random16:function(){console.warn('THREE.Math.random16() has been deprecated. Use Math.random() instead.');return Math.random();},randInt:function(d,e){return d+Math.floor(Math.random()*(e-d+1));},randFloat:function(d,e){return d+Math.random()*(e-d);},randFloatSpread:function(d){return d*(f7d.h1-Math.random());},degToRad:function(d){return d*THREE.Math.DEG2RAD;},radToDeg:function(d){return d*THREE.Math.RAD2DEG;},isPowerOfTwo:function(d){return (d&(d-1))===0&&d!==0;},nearestPowerOfTwo:function(d){return Math.pow(2,Math.round(Math.log(d)/Math.LN2));},nextPowerOfTwo:function(d){d--;d|=d>>1;d|=d>>2;d|=d>>4;d|=d>>8;d|=d>>16;d++;return d;}};THREE.Spline=function(J){this.points=J;var E=[],Q={x:0,y:0,z:0},T,N,b0,o0,f0,d0,p0,t0,x0;this.initFromArray=function(d){this.points=[];for(var e=0;e<d.length;e++){this.points[e]={x:d[e][0],y:d[e][1],z:d[e][2]};}};this.getPoint=function(d){T=(this.points.length-1)*d;N=Math.floor(T);b0=T-N;E[0]=N===0?N:N-1;E[1]=N;E[2]=N>this.points.length-2?this.points.length-1:N+1;E[3]=N>this.points.length-3?this.points.length-1:N+2;d0=this.points[E[0]];p0=this.points[E[1]];t0=this.points[E[2]];x0=this.points[E[3]];o0=b0*b0;f0=b0*o0;Q.x=w0(d0.x,p0.x,t0.x,x0.x,b0,o0,f0);Q.y=w0(d0.y,p0.y,t0.y,x0.y,b0,o0,f0);Q.z=w0(d0.z,p0.z,t0.z,x0.z,b0,o0,f0);return Q;};this.getControlPointsArray=function(){var d,e,f=this.points.length,i=[];for(d=0;d<f;d++){e=this.points[d];i[d]=[e.x,e.y,e.z];}return i;};this.getLength=function(d){var e,f,i,j,k=0,m=0,n=0,u=new THREE.Vector3(),v=new THREE.Vector3(),B=[],C=0;B[0]=0;if(!d)d=f7d.d4;i=this.points.length*d;u.copy(this.points[0]);for(e=1;e<i;e++){f=e/i;j=this.getPoint(f);v.copy(j);C+=v.distanceTo(u);u.copy(j);k=(this.points.length-1)*f;m=Math.floor(k);if(m!==n){B[m]=C;n=m;}}B[B.length]=C;return {chunks:B,total:C};};this.reparametrizeByArcLength=function(d){var e,f,i,j,k,m,n,u,v=[],B=new THREE.Vector3(),C=this.getLength();v.push(B.copy(this.points[0]).clone());for(e=1;e<this.points.length;e++){m=C.chunks[e]-C.chunks[e-1];n=Math.ceil(d*m/C.total);j=(e-1)/(this.points.length-1);k=e/(this.points.length-1);for(f=1;f<n-1;f++){i=j+f*(1/n)*(k-j);u=this.getPoint(i);v.push(B.copy(u).clone());}v.push(B.copy(this.points[e]).clone());}this.points=v;};function w0(d,e,f,i,j,k,m){var n=(f-d)*f7d.h1,u=(i-e)*f7d.h1;return (2*(e-f)+n+u)*m+(-3*(e-f)-2*n-u)*k+n*j+e;}};THREE.Triangle=function(d,e,f){this.a=(d!==undefined)?d:new THREE.Vector3();this.b=(e!==undefined)?e:new THREE.Vector3();this.c=(f!==undefined)?f:new THREE.Vector3();};THREE.Triangle.normal=function(){var m=new THREE.Vector3();return function(d,e,f,i){var j=i||new THREE.Vector3();j.subVectors(f,e);m.subVectors(d,e);j.cross(m);var k=j.lengthSq();if(k>0){return j.multiplyScalar(1/Math.sqrt(k));}return j.set(0,0,0);};}();THREE.Triangle.barycoordFromPoint=function(){var T=new THREE.Vector3(),N=new THREE.Vector3(),b0=new THREE.Vector3();return function(d,e,f,i,j){T.subVectors(i,e);N.subVectors(f,e);b0.subVectors(d,e);var k=T.dot(T),m=T.dot(N),n=T.dot(b0),u=N.dot(N),v=N.dot(b0),B=(k*u-m*m),C=j||new THREE.Vector3();if(B===0){return C.set(-2,-1,-1);}var J=1/B,E=(u*n-m*v)*J,Q=(k*v-m*n)*J;return C.set(1-E-Q,Q,E);};}();THREE.Triangle.containsPoint=function(){var k=new THREE.Vector3();return function(d,e,f,i){var j=THREE.Triangle.barycoordFromPoint(d,e,f,i,k);return (j.x>=0)&&(j.y>=0)&&((j.x+j.y)<=1);};}();THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(d,e,f){this.a.copy(d);this.b.copy(e);this.c.copy(f);return this;},setFromPointsAndIndices:function(d,e,f,i){this.a.copy(d[e]);this.b.copy(d[f]);this.c.copy(d[i]);return this;},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.a.copy(d.a);this.b.copy(d.b);this.c.copy(d.c);return this;},area:function(){var d=new THREE.Vector3(),e=new THREE.Vector3();return function(){d.subVectors(this.c,this.b);e.subVectors(this.a,this.b);return d.cross(e).length()*f7d.h1;};}(),midpoint:function(d){var e=d||new THREE.Vector3();return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3);},normal:function(d){return THREE.Triangle.normal(this.a,this.b,this.c,d);},plane:function(d){var e=d||new THREE.Plane();return e.setFromCoplanarPoints(this.a,this.b,this.c);},barycoordFromPoint:function(d,e){return THREE.Triangle.barycoordFromPoint(d,this.a,this.b,this.c,e);},containsPoint:function(d){return THREE.Triangle.containsPoint(d,this.a,this.b,this.c);},closestPointToPoint:function(){var m,n,u,v;return function B(d,e){if(m===undefined){m=new THREE.Plane();n=[new THREE.Line3(),new THREE.Line3(),new THREE.Line3()];u=new THREE.Vector3();v=new THREE.Vector3();}var f=e||new THREE.Vector3(),i=Infinity;m.setFromCoplanarPoints(this.a,this.b,this.c);m.projectPoint(d,u);if(this.containsPoint(u)===f7d.k3){f.copy(u);}else{n[0].set(this.a,this.b);n[1].set(this.b,this.c);n[2].set(this.c,this.a);for(var j=0;j<n.length;j++){n[j].closestPointToPoint(u,f7d.k3,v);var k=u.distanceToSquared(v);if(k<i){i=k;f.copy(v);}}}return f;};}(),equals:function(d){return d.a.equals(this.a)&&d.b.equals(this.b)&&d.c.equals(this.c);}};THREE.Interpolant=function(d,e,f,i){this.parameterPositions=d;this._cachedIndex=0;this.resultBuffer=i!==undefined?i:new e.constructor(f);this.sampleValues=e;this.valueSize=f;};THREE.Interpolant.prototype={constructor:THREE.Interpolant,evaluate:function(d){var e=this.parameterPositions,f=this._cachedIndex,i=e[f],j=e[f-1];validate_interval:{seek:{var k;linear_scan:{forward_scan:if(!(d<i)){for(var m=f+2;;){if(i===undefined){if(d<j)break forward_scan;f=e.length;this._cachedIndex=f;return this.afterEnd_(f-1,d,j);}if(f===m)break;j=i;i=e[++f];if(d<i){break seek;}}k=e.length;break linear_scan;}if(!(d>=j)){var n=e[1];if(d<n){f=2;j=n;}for(var m=f-2;;){if(j===undefined){this._cachedIndex=0;return this.beforeStart_(0,d,i);}if(f===m)break;i=j;j=e[--f-1];if(d>=j){break seek;}}k=f;f=0;break linear_scan;}break validate_interval;}while(f<k){var u=(f+k)>>>1;if(d<e[u]){k=u;}else{f=u+1;}}i=e[f];j=e[f-1];if(j===undefined){this._cachedIndex=0;return this.beforeStart_(0,d,i);}if(i===undefined){f=e.length;this._cachedIndex=f;return this.afterEnd_(f-1,j,d);}}this._cachedIndex=f;this.intervalChanged_(f,j,i);}return this.interpolate_(f,j,d,i);},settings:f7d.h3,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_;},copySampleValue_:function(d){var e=this.resultBuffer,f=this.sampleValues,i=this.valueSize,j=d*i;for(var k=0;k!==i;++k){e[k]=f[j+k];}return e;},interpolate_:function(d,e,f,i){throw  new Error("call to abstract method");},intervalChanged_:function(d,e,f){}};Object.assign(THREE.Interpolant.prototype,{beforeStart_:THREE.Interpolant.prototype.copySampleValue_,afterEnd_:THREE.Interpolant.prototype.copySampleValue_});THREE.CubicInterpolant=function(d,e,f,i){THREE.Interpolant.call(this,d,e,f,i);this._weightPrev=-0;this._offsetPrev=-0;this._weightNext=-0;this._offsetNext=-0;};THREE.CubicInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.CubicInterpolant,DefaultSettings_:{endingStart:THREE.ZeroCurvatureEnding,endingEnd:THREE.ZeroCurvatureEnding},intervalChanged_:function(d,e,f){var i=this.parameterPositions,j=d-2,k=d+1,m=i[j],n=i[k];if(m===undefined){switch(this.getSettings_().endingStart){case THREE.ZeroSlopeEnding:j=d;m=2*e-f;break;case THREE.WrapAroundEnding:j=i.length-2;m=e+i[j]-i[j+1];break;default:j=d;m=f;}}if(n===undefined){switch(this.getSettings_().endingEnd){case THREE.ZeroSlopeEnding:k=d;n=2*f-e;break;case THREE.WrapAroundEnding:k=1;n=f+i[1]-i[0];break;default:k=d-1;n=e;}}var u=(f-e)*f7d.h1,v=this.valueSize;this._weightPrev=u/(e-m);this._weightNext=u/(n-f);this._offsetPrev=j*v;this._offsetNext=k*v;},interpolate_:function(d,e,f,i){var j=this.resultBuffer,k=this.sampleValues,m=this.valueSize,n=d*m,u=n-m,v=this._offsetPrev,B=this._offsetNext,C=this._weightPrev,J=this._weightNext,E=(f-e)/(i-e),Q=E*E,T=Q*E,N=-C*T+2*C*Q-C*E,b0=(1+C)*T+(-1.5-2*C)*Q+(-f7d.h1+C)*E+1,o0=(-1-J)*T+(1.5+J)*Q+f7d.h1*E,f0=J*T-J*Q;for(var d0=0;d0!==m;++d0){j[d0]=N*k[v+d0]+b0*k[u+d0]+o0*k[n+d0]+f0*k[B+d0];}return j;}});THREE.DiscreteInterpolant=function(d,e,f,i){THREE.Interpolant.call(this,d,e,f,i);};THREE.DiscreteInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.DiscreteInterpolant,interpolate_:function(d,e,f,i){return this.copySampleValue_(d-1);}});THREE.LinearInterpolant=function(d,e,f,i){THREE.Interpolant.call(this,d,e,f,i);};THREE.LinearInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.LinearInterpolant,interpolate_:function(d,e,f,i){var j=this.resultBuffer,k=this.sampleValues,m=this.valueSize,n=d*m,u=n-m,v=(f-e)/(i-e),B=1-v;for(var C=0;C!==m;++C){j[C]=k[u+C]*B+k[n+C]*v;}return j;}});THREE.QuaternionLinearInterpolant=function(d,e,f,i){THREE.Interpolant.call(this,d,e,f,i);};THREE.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.QuaternionLinearInterpolant,interpolate_:function(d,e,f,i){var j=this.resultBuffer,k=this.sampleValues,m=this.valueSize,n=d*m,u=(f-e)/(i-e);for(var v=n+m;n!==v;n+=4){THREE.Quaternion.slerpFlat(j,0,k,n-m,k,n,u);}return j;}});THREE.Clock=function(d){this.autoStart=(d!==undefined)?d:f7d.k3;this.startTime=0;this.oldTime=0;this.elapsedTime=0;this.running=f7d.a4;};THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.startTime=(performance||Date).now();this.oldTime=this.startTime;this.running=f7d.k3;},stop:function(){this.getElapsedTime();this.running=f7d.a4;},getElapsedTime:function(){this.getDelta();return this.elapsedTime;},getDelta:function(){var d=0;if(this.autoStart&&!this.running){this.start();}if(this.running){var e=(performance||Date).now();d=(e-this.oldTime)/1000;this.oldTime=e;this.elapsedTime+=d;}return d;}};THREE.EventDispatcher=function(){};THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(d){d.addEventListener=THREE.EventDispatcher.prototype.addEventListener;d.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener;d.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener;d.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent;},addEventListener:function(d,e){if(this._listeners===undefined)this._listeners={};var f=this._listeners;if(f[d]===undefined){f[d]=[];}if(f[d].indexOf(e)===-1){f[d].push(e);}},hasEventListener:function(d,e){if(this._listeners===undefined)return f7d.a4;var f=this._listeners;if(f[d]!==undefined&&f[d].indexOf(e)!==-1){return f7d.k3;}return f7d.a4;},removeEventListener:function(d,e){if(this._listeners===undefined)return ;var f=this._listeners,i=f[d];if(i!==undefined){var j=i.indexOf(e);if(j!==-1){i.splice(j,1);}}},dispatchEvent:function(d){if(this._listeners===undefined)return ;var e=this._listeners,f=e[d.type];if(f!==undefined){d.target=this;var i=[],j=f.length;for(var k=0;k<j;k++){i[k]=f[k];}for(var k=0;k<j;k++){i[k].call(this,d);}}}};THREE.Layers=function(){this.mask=1;};THREE.Layers.prototype={constructor:THREE.Layers,set:function(d){this.mask=1<<d;},enable:function(d){this.mask|=1<<d;},toggle:function(d){this.mask^=1<<d;},disable:function(d){this.mask&=~(1<<d);},test:function(d){return (this.mask&d.mask)!==0;}};(function(n){n.Raycaster=function(d,e,f,i){this.ray=new n.Ray(d,e);this.near=f||0;this.far=i||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.');return this.Points;}}});};function u(d,e){return d.distance-e.distance;}function v(d,e,f,i){if(d.visible===f7d.a4)return ;d.raycast(e,f);if(i===f7d.k3){var j=d.children;for(var k=0,m=j.length;k<m;k++){v(j[k],e,f,f7d.k3);}}}n.Raycaster.prototype={constructor:n.Raycaster,linePrecision:1,set:function(d,e){this.ray.set(d,e);},setFromCamera:function(d,e){if(e instanceof n.PerspectiveCamera){this.ray.origin.setFromMatrixPosition(e.matrixWorld);this.ray.direction.set(d.x,d.y,f7d.h1).unproject(e).sub(this.ray.origin).normalize();}else if(e instanceof n.OrthographicCamera){this.ray.origin.set(d.x,d.y,-1).unproject(e);this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld);}else{console.error('THREE.Raycaster: Unsupported camera type.');}},intersectObject:function(d,e){var f=[];v(d,this,f,e);f.sort(u);return f;},intersectObjects:function(d,e){var f=[];if(Array.isArray(d)===f7d.a4){console.warn('THREE.Raycaster.intersectObjects: objects is not an Array.');return f;}for(var i=0,j=d.length;i<j;i++){v(d[i],this,f,e);}f.sort(u);return f;}};}(THREE));THREE.Object3D=function(){Object.defineProperty(this,f7d.Q0,{value:THREE.Object3DIdCount++});this.uuid=THREE.Math.generateUUID();this.name='';this.type='Object3D';this.parent=f7d.h3;this.children=[];this.up=THREE.Object3D.DefaultUp.clone();var d=new THREE.Vector3(),e=new THREE.Euler(),f=new THREE.Quaternion(),i=new THREE.Vector3(1,1,1);function j(){f.setFromEuler(e,f7d.a4);}function k(){e.setFromQuaternion(f,undefined,f7d.a4);}e.onChange(j);f.onChange(k);Object.defineProperties(this,{position:{enumerable:f7d.k3,value:d},rotation:{enumerable:f7d.k3,value:e},quaternion:{enumerable:f7d.k3,value:f},scale:{enumerable:f7d.k3,value:i},modelViewMatrix:{value:new THREE.Matrix4()},normalMatrix:{value:new THREE.Matrix3()}});this.rotationAutoUpdate=f7d.k3;this.matrix=new THREE.Matrix4();this.matrixWorld=new THREE.Matrix4();this.matrixAutoUpdate=THREE.Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=f7d.a4;this.layers=new THREE.Layers();this.visible=f7d.k3;this.castShadow=f7d.a4;this.receiveShadow=f7d.a4;this.frustumCulled=f7d.k3;this.renderOrder=0;this.userData={};};THREE.Object3D.DefaultUp=new THREE.Vector3(0,1,0);THREE.Object3D.DefaultMatrixAutoUpdate=f7d.k3;THREE.Object3D.prototype={constructor:THREE.Object3D,applyMatrix:function(d){this.matrix.multiplyMatrices(d,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale);},setMatrix:function(d){this.matrix.copy(d);this.matrix.decompose(this.position,this.quaternion,this.scale);},setRotationFromAxisAngle:function(d,e){this.quaternion.setFromAxisAngle(d,e);},setRotationFromEuler:function(d){this.quaternion.setFromEuler(d,f7d.k3);},setRotationFromMatrix:function(d){this.quaternion.setFromRotationMatrix(d);},setRotationFromQuaternion:function(d){this.quaternion.copy(d);},rotateOnAxis:function(){var f=new THREE.Quaternion();return function(d,e){f.setFromAxisAngle(d,e);this.quaternion.multiply(f);return this;};}(),rotateX:function(){var e=new THREE.Vector3(1,0,0);return function(d){return this.rotateOnAxis(e,d);};}(),rotateY:function(){var e=new THREE.Vector3(0,1,0);return function(d){return this.rotateOnAxis(e,d);};}(),rotateZ:function(){var e=new THREE.Vector3(0,0,1);return function(d){return this.rotateOnAxis(e,d);};}(),translateOnAxis:function(){var f=new THREE.Vector3();return function(d,e){f.copy(d).applyQuaternion(this.quaternion);this.position.add(f.multiplyScalar(e));return this;};}(),translateX:function(){var e=new THREE.Vector3(1,0,0);return function(d){return this.translateOnAxis(e,d);};}(),translateY:function(){var e=new THREE.Vector3(0,1,0);return function(d){return this.translateOnAxis(e,d);};}(),translateZ:function(){var e=new THREE.Vector3(0,0,1);return function(d){return this.translateOnAxis(e,d);};}(),localToWorld:function(d){return d.applyMatrix4(this.matrixWorld);},worldToLocal:function(){var e=new THREE.Matrix4();return function(d){return d.applyMatrix4(e.getInverse(this.matrixWorld));};}(),lookAt:function(){var e=new THREE.Matrix4();return function(d){e.lookAt(d,this.position,this.up);this.quaternion.setFromRotationMatrix(e);};}(),add:function(d){if(arguments.length>1){for(var e=0;e<arguments.length;e++){this.add(arguments[e]);}return this;}if(d===this){console.error("THREE.Object3D.add: object can't be added as a child of itself.",d);return this;}if(d instanceof THREE.Object3D){if(d.parent!==f7d.h3){d.parent.remove(d);}d.parent=this;d.dispatchEvent({type:'added'});this.children.push(d);}else{console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",d);}return this;},remove:function(d){if(arguments.length>1){for(var e=0;e<arguments.length;e++){this.remove(arguments[e]);}}var f=this.children.indexOf(d);if(f!==-1){d.parent=f7d.h3;d.dispatchEvent({type:'removed'});this.children.splice(f,1);}},getObjectById:function(d){return this.getObjectByProperty(f7d.Q0,d);},getObjectByName:function(d){return this.getObjectByProperty('name',d);},getObjectByProperty:function(d,e){if(this[d]===e)return this;for(var f=0,i=this.children.length;f<i;f++){var j=this.children[f],k=j.getObjectByProperty(d,e);if(k!==undefined){return k;}}return undefined;},getWorldPosition:function(d){var e=d||new THREE.Vector3();this.updateMatrixWorld(f7d.k3);return e.setFromMatrixPosition(this.matrixWorld);},getWorldQuaternion:function(){var f=new THREE.Vector3(),i=new THREE.Vector3();return function(d){var e=d||new THREE.Quaternion();this.updateMatrixWorld(f7d.k3);this.matrixWorld.decompose(f,e,i);return e;};}(),getWorldRotation:function(){var f=new THREE.Quaternion();return function(d){var e=d||new THREE.Euler();this.getWorldQuaternion(f);return e.setFromQuaternion(f,this.rotation.order,f7d.a4);};}(),getWorldScale:function(){var f=new THREE.Vector3(),i=new THREE.Quaternion();return function(d){var e=d||new THREE.Vector3();this.updateMatrixWorld(f7d.k3);this.matrixWorld.decompose(f,i,e);return e;};}(),getWorldDirection:function(){var f=new THREE.Quaternion();return function(d){var e=d||new THREE.Vector3();this.getWorldQuaternion(f);return e.set(0,0,1).applyQuaternion(f);};}(),raycast:function(){},traverse:function(d){d(this);var e=this.children;for(var f=0,i=e.length;f<i;f++){e[f].traverse(d);}},traverseVisible:function(d){if(this.visible===f7d.a4)return ;d(this);var e=this.children;for(var f=0,i=e.length;f<i;f++){e[f].traverseVisible(d);}},traverseAncestors:function(d){var e=this.parent;if(e!==f7d.h3){d(e);e.traverseAncestors(d);}},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=f7d.k3;},updateMatrixWorld:function(d){if(this.matrixAutoUpdate===f7d.k3)this.updateMatrix();if(this.matrixWorldNeedsUpdate===f7d.k3||d===f7d.k3){if(this.parent===f7d.h3){this.matrixWorld.copy(this.matrix);}else{this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);}this.matrixWorldNeedsUpdate=f7d.a4;d=f7d.k3;}for(var e=0,f=this.children.length;e<f;e++){this.children[e].updateMatrixWorld(d);}},toJSON:function(j){var k=(j===undefined||j===''),m={};if(k){j={geometries:{},materials:{},textures:{},images:{}};m.metadata={version:4.4,type:'Object',generator:'Object3D.toJSON'};}var n={};n.uuid=this.uuid;n.type=this.type;if(this.name!=='')n.name=this.name;if(JSON.stringify(this.userData)!=='{}')n.userData=this.userData;if(this.castShadow===f7d.k3)n.castShadow=f7d.k3;if(this.receiveShadow===f7d.k3)n.receiveShadow=f7d.k3;if(this.visible===f7d.a4)n.visible=f7d.a4;n.matrix=this.matrix.toArray();if(this.geometry!==undefined){if(j.geometries[this.geometry.uuid]===undefined){j.geometries[this.geometry.uuid]=this.geometry.toJSON(j);}n.geometry=this.geometry.uuid;}if(this.material!==undefined){if(j.materials[this.material.uuid]===undefined){j.materials[this.material.uuid]=this.material.toJSON(j);}n.material=this.material.uuid;}if(this.children.length>0){n.children=[];for(var u=0;u<this.children.length;u++){n.children.push(this.children[u].toJSON(j).object);}}if(k){var v=E(j.geometries),B=E(j.materials),C=E(j.textures),J=E(j.images);if(v.length>0)m.geometries=v;if(B.length>0)m.materials=B;if(C.length>0)m.textures=C;if(J.length>0)m.images=J;}m.object=n;return m;function E(d){var e=[];for(var f in d){var i=d[f];delete  i.metadata;e.push(i);}return e;}},clone:function(d){return new this.constructor().copy(this,d);},copy:function(d,e){if(e===undefined)e=f7d.k3;this.name=d.name;this.up.copy(d.up);this.position.copy(d.position);this.quaternion.copy(d.quaternion);this.scale.copy(d.scale);this.rotationAutoUpdate=d.rotationAutoUpdate;this.matrix.copy(d.matrix);this.matrixWorld.copy(d.matrixWorld);this.matrixAutoUpdate=d.matrixAutoUpdate;this.matrixWorldNeedsUpdate=d.matrixWorldNeedsUpdate;this.visible=d.visible;this.castShadow=d.castShadow;this.receiveShadow=d.receiveShadow;this.frustumCulled=d.frustumCulled;this.renderOrder=d.renderOrder;this.userData=JSON.parse(JSON.stringify(d.userData));if(e===f7d.k3){for(var f=0;f<d.children.length;f++){var i=d.children[f];this.add(i.clone());}}return this;}};THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype);THREE.Object3DIdCount=0;THREE.Face3=function(d,e,f,i,j,k){this.a=d;this.b=e;this.c=f;this.normal=i instanceof THREE.Vector3?i:new THREE.Vector3();this.vertexNormals=Array.isArray(i)?i:[];this.color=j instanceof THREE.Color?j:new THREE.Color();this.vertexColors=Array.isArray(j)?j:[];this.materialIndex=k!==undefined?k:0;};THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){return new this.constructor().copy(this);},copy:function(d){this.a=d.a;this.b=d.b;this.c=d.c;this.normal.copy(d.normal);this.color.copy(d.color);this.materialIndex=d.materialIndex;for(var e=0,f=d.vertexNormals.length;e<f;e++){this.vertexNormals[e]=d.vertexNormals[e].clone();}for(var e=0,f=d.vertexColors.length;e<f;e++){this.vertexColors[e]=d.vertexColors[e].clone();}return this;}};THREE.BufferAttribute=function(d,e,f){this.uuid=THREE.Math.generateUUID();this.array=d;this.itemSize=e;this.dynamic=f7d.a4;this.updateRange={offset:0,count:-1};this.version=0;this.normalized=f===f7d.k3;};THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get count(){return this.array.length/this.itemSize;},set needsUpdate(value){if(value===f7d.k3)this.version++;},setDynamic:function(d){this.dynamic=d;return this;},copy:function(d){this.array=new d.array.constructor(d.array);this.itemSize=d.itemSize;this.dynamic=d.dynamic;return this;},copyAt:function(d,e,f){d*=this.itemSize;f*=e.itemSize;for(var i=0,j=this.itemSize;i<j;i++){this.array[d+i]=e.array[f+i];}return this;},copyArray:function(d){this.array.set(d);return this;},copyColorsArray:function(d){var e=this.array,f=0;for(var i=0,j=d.length;i<j;i++){var k=d[i];if(k===undefined){console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined',i);k=new THREE.Color();}e[f++]=k.r;e[f++]=k.g;e[f++]=k.b;}return this;},copyIndicesArray:function(d){var e=this.array,f=0;for(var i=0,j=d.length;i<j;i++){var k=d[i];e[f++]=k.a;e[f++]=k.b;e[f++]=k.c;}return this;},copyVector2sArray:function(d){var e=this.array,f=0;for(var i=0,j=d.length;i<j;i++){var k=d[i];if(k===undefined){console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined',i);k=new THREE.Vector2();}e[f++]=k.x;e[f++]=k.y;}return this;},copyVector3sArray:function(d){var e=this.array,f=0;for(var i=0,j=d.length;i<j;i++){var k=d[i];if(k===undefined){console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined',i);k=new THREE.Vector3();}e[f++]=k.x;e[f++]=k.y;e[f++]=k.z;}return this;},copyVector4sArray:function(d){var e=this.array,f=0;for(var i=0,j=d.length;i<j;i++){var k=d[i];if(k===undefined){console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined',i);k=new THREE.Vector4();}e[f++]=k.x;e[f++]=k.y;e[f++]=k.z;e[f++]=k.w;}return this;},set:function(d,e){if(e===undefined)e=0;this.array.set(d,e);return this;},getX:function(d){return this.array[d*this.itemSize];},setX:function(d,e){this.array[d*this.itemSize]=e;return this;},getY:function(d){return this.array[d*this.itemSize+1];},setY:function(d,e){this.array[d*this.itemSize+1]=e;return this;},getZ:function(d){return this.array[d*this.itemSize+2];},setZ:function(d,e){this.array[d*this.itemSize+2]=e;return this;},getW:function(d){return this.array[d*this.itemSize+3];},setW:function(d,e){this.array[d*this.itemSize+3]=e;return this;},setXY:function(d,e,f){d*=this.itemSize;this.array[d+0]=e;this.array[d+1]=f;return this;},setXYZ:function(d,e,f,i){d*=this.itemSize;this.array[d+0]=e;this.array[d+1]=f;this.array[d+2]=i;return this;},setXYZW:function(d,e,f,i,j){d*=this.itemSize;this.array[d+0]=e;this.array[d+1]=f;this.array[d+2]=i;this.array[d+3]=j;return this;},clone:function(){return new this.constructor().copy(this);}};THREE.Int8Attribute=function(d,e){return new THREE.BufferAttribute(new Int8Array(d),e);};THREE.Uint8Attribute=function(d,e){return new THREE.BufferAttribute(new Uint8Array(d),e);};THREE.Uint8ClampedAttribute=function(d,e){return new THREE.BufferAttribute(new Uint8ClampedArray(d),e);};THREE.Int16Attribute=function(d,e){return new THREE.BufferAttribute(new Int16Array(d),e);};THREE.Uint16Attribute=function(d,e){return new THREE.BufferAttribute(new Uint16Array(d),e);};THREE.Int32Attribute=function(d,e){return new THREE.BufferAttribute(new Int32Array(d),e);};THREE.Uint32Attribute=function(d,e){return new THREE.BufferAttribute(new Uint32Array(d),e);};THREE.Float32Attribute=function(d,e){return new THREE.BufferAttribute(new Float32Array(d),e);};THREE.Float64Attribute=function(d,e){return new THREE.BufferAttribute(new Float64Array(d),e);};THREE.DynamicBufferAttribute=function(d,e){console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.');return new THREE.BufferAttribute(d,e).setDynamic(f7d.k3);};THREE.InstancedBufferAttribute=function(d,e,f){THREE.BufferAttribute.call(this,d,e);this.meshPerAttribute=f||1;};THREE.InstancedBufferAttribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.InstancedBufferAttribute.prototype.constructor=THREE.InstancedBufferAttribute;THREE.InstancedBufferAttribute.prototype.copy=function(d){THREE.BufferAttribute.prototype.copy.call(this,d);this.meshPerAttribute=d.meshPerAttribute;return this;};THREE.InterleavedBuffer=function(d,e){this.uuid=THREE.Math.generateUUID();this.array=d;this.stride=e;this.dynamic=f7d.a4;this.updateRange={offset:0,count:-1};this.version=0;};THREE.InterleavedBuffer.prototype={constructor:THREE.InterleavedBuffer,get length(){return this.array.length;},get count(){return this.array.length/this.stride;},set needsUpdate(value){if(value===f7d.k3)this.version++;},setDynamic:function(d){this.dynamic=d;return this;},copy:function(d){this.array=new d.array.constructor(d.array);this.stride=d.stride;this.dynamic=d.dynamic;return this;},copyAt:function(d,e,f){d*=this.stride;f*=e.stride;for(var i=0,j=this.stride;i<j;i++){this.array[d+i]=e.array[f+i];}return this;},set:function(d,e){if(e===undefined)e=0;this.array.set(d,e);return this;},clone:function(){return new this.constructor().copy(this);}};THREE.InstancedInterleavedBuffer=function(d,e,f){THREE.InterleavedBuffer.call(this,d,e);this.meshPerAttribute=f||1;};THREE.InstancedInterleavedBuffer.prototype=Object.create(THREE.InterleavedBuffer.prototype);THREE.InstancedInterleavedBuffer.prototype.constructor=THREE.InstancedInterleavedBuffer;THREE.InstancedInterleavedBuffer.prototype.copy=function(d){THREE.InterleavedBuffer.prototype.copy.call(this,d);this.meshPerAttribute=d.meshPerAttribute;return this;};THREE.InterleavedBufferAttribute=function(d,e,f){this.uuid=THREE.Math.generateUUID();this.data=d;this.itemSize=e;this.offset=f;};THREE.InterleavedBufferAttribute.prototype={constructor:THREE.InterleavedBufferAttribute,get length(){console.warn(f7d.Y3);return this.array.length;},get count(){return this.data.count;},setX:function(d,e){this.data.array[d*this.data.stride+this.offset]=e;return this;},setY:function(d,e){this.data.array[d*this.data.stride+this.offset+1]=e;return this;},setZ:function(d,e){this.data.array[d*this.data.stride+this.offset+2]=e;return this;},setW:function(d,e){this.data.array[d*this.data.stride+this.offset+3]=e;return this;},getX:function(d){return this.data.array[d*this.data.stride+this.offset];},getY:function(d){return this.data.array[d*this.data.stride+this.offset+1];},getZ:function(d){return this.data.array[d*this.data.stride+this.offset+2];},getW:function(d){return this.data.array[d*this.data.stride+this.offset+3];},setXY:function(d,e,f){d=d*this.data.stride+this.offset;this.data.array[d+0]=e;this.data.array[d+1]=f;return this;},setXYZ:function(d,e,f,i){d=d*this.data.stride+this.offset;this.data.array[d+0]=e;this.data.array[d+1]=f;this.data.array[d+2]=i;return this;},setXYZW:function(d,e,f,i,j){d=d*this.data.stride+this.offset;this.data.array[d+0]=e;this.data.array[d+1]=f;this.data.array[d+2]=i;this.data.array[d+3]=j;return this;}};THREE.Geometry=function(){Object.defineProperty(this,f7d.Q0,{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name='';this.type=f7d.A0;this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=f7d.h3;this.boundingSphere=f7d.h3;this.verticesNeedUpdate=f7d.a4;this.elementsNeedUpdate=f7d.a4;this.uvsNeedUpdate=f7d.a4;this.normalsNeedUpdate=f7d.a4;this.colorsNeedUpdate=f7d.a4;this.lineDistancesNeedUpdate=f7d.a4;this.groupsNeedUpdate=f7d.a4;};THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(d){var e=new THREE.Matrix3().getNormalMatrix(d);for(var f=0,i=this.vertices.length;f<i;f++){var j=this.vertices[f];j.applyMatrix4(d);}for(var f=0,i=this.faces.length;f<i;f++){var k=this.faces[f];k.normal.applyMatrix3(e).normalize();for(var m=0,n=k.vertexNormals.length;m<n;m++){k.vertexNormals[m].applyMatrix3(e).normalize();}}if(this.boundingBox!==f7d.h3){this.computeBoundingBox();}if(this.boundingSphere!==f7d.h3){this.computeBoundingSphere();}this.verticesNeedUpdate=f7d.k3;this.normalsNeedUpdate=f7d.k3;return this;},rotateX:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.makeRotationX(d);this.applyMatrix(e);return this;};}(),rotateY:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.makeRotationY(d);this.applyMatrix(e);return this;};}(),rotateZ:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.makeRotationZ(d);this.applyMatrix(e);return this;};}(),translate:function(){var i;return function j(d,e,f){if(i===undefined)i=new THREE.Matrix4();i.makeTranslation(d,e,f);this.applyMatrix(i);return this;};}(),scale:function(){var i;return function j(d,e,f){if(i===undefined)i=new THREE.Matrix4();i.makeScale(d,e,f);this.applyMatrix(i);return this;};}(),lookAt:function(){var e;return function f(d){if(e===undefined)e=new THREE.Object3D();e.lookAt(d);e.updateMatrix();this.applyMatrix(e.matrix);};}(),fromBufferGeometry:function(n){var u=this,v=n.index!==f7d.h3?n.index.array:undefined,B=n.attributes,C=B.position.array,J=B.normal!==undefined?B.normal.array:undefined,E=B.color!==undefined?B.color.array:undefined,Q=B.uv!==undefined?B.uv.array:undefined,T=B.uv2!==undefined?B.uv2.array:undefined;if(T!==undefined)this.faceVertexUvs[1]=[];var N=[],b0=[],o0=[];for(var f0=0,d0=0;f0<C.length;f0+=3,d0+=2){u.vertices.push(new THREE.Vector3(C[f0],C[f0+1],C[f0+2]));if(J!==undefined){N.push(new THREE.Vector3(J[f0],J[f0+1],J[f0+2]));}if(E!==undefined){u.colors.push(new THREE.Color(E[f0],E[f0+1],E[f0+2]));}if(Q!==undefined){b0.push(new THREE.Vector2(Q[d0],Q[d0+1]));}if(T!==undefined){o0.push(new THREE.Vector2(T[d0],T[d0+1]));}}function p0(d,e,f,i){var j=J!==undefined?[N[d].clone(),N[e].clone(),N[f].clone()]:[],k=E!==undefined?[u.colors[d].clone(),u.colors[e].clone(),u.colors[f].clone()]:[],m=new THREE.Face3(d,e,f,j,k,i);u.faces.push(m);if(Q!==undefined){u.faceVertexUvs[0].push([b0[d].clone(),b0[e].clone(),b0[f].clone()]);}if(T!==undefined){u.faceVertexUvs[1].push([o0[d].clone(),o0[e].clone(),o0[f].clone()]);}}if(v!==undefined){var t0=n.groups;if(t0.length>0){for(var f0=0;f0<t0.length;f0++){var x0=t0[f0],w0=x0.start,s0=x0.count;for(var d0=w0,z0=w0+s0;d0<z0;d0+=3){p0(v[d0],v[d0+1],v[d0+2],x0.materialIndex);}}}else{for(var f0=0;f0<v.length;f0+=3){p0(v[f0],v[f0+1],v[f0+2]);}}}else{for(var f0=0;f0<C.length/3;f0+=3){p0(f0,f0+1,f0+2);}}this.computeFaceNormals();if(n.boundingBox!==f7d.h3){this.boundingBox=n.boundingBox.clone();}if(n.boundingSphere!==f7d.h3){this.boundingSphere=n.boundingSphere.clone();}return this;},center:function(){this.computeBoundingBox();var d=this.boundingBox.center().negate();this.translate(d.x,d.y,d.z);return d;},normalize:function(){this.computeBoundingSphere();var d=this.boundingSphere.center,e=this.boundingSphere.radius,f=e===0?1:f7d.Z3/e,i=new THREE.Matrix4();i.set(f,0,0,-f*d.x,0,f,0,-f*d.y,0,0,f,-f*d.z,0,0,0,1);this.applyMatrix(i);return this;},computeFaceNormals:function(){var d=new THREE.Vector3(),e=new THREE.Vector3();for(var f=0,i=this.faces.length;f<i;f++){var j=this.faces[f],k=this.vertices[j.a],m=this.vertices[j.b],n=this.vertices[j.c];d.subVectors(n,m);e.subVectors(k,m);d.cross(e);d.normalize();j.normal.copy(d);}},computeVertexNormals:function(d){if(d===undefined)d=f7d.k3;var e,f,i,j,k,m;m=new Array(this.vertices.length);for(e=0,f=this.vertices.length;e<f;e++){m[e]=new THREE.Vector3();}if(d){var n,u,v,B=new THREE.Vector3(),C=new THREE.Vector3();for(i=0,j=this.faces.length;i<j;i++){k=this.faces[i];n=this.vertices[k.a];u=this.vertices[k.b];v=this.vertices[k.c];B.subVectors(v,u);C.subVectors(n,u);B.cross(C);m[k.a].add(B);m[k.b].add(B);m[k.c].add(B);}}else{for(i=0,j=this.faces.length;i<j;i++){k=this.faces[i];m[k.a].add(k.normal);m[k.b].add(k.normal);m[k.c].add(k.normal);}}for(e=0,f=this.vertices.length;e<f;e++){m[e].normalize();}for(i=0,j=this.faces.length;i<j;i++){k=this.faces[i];var J=k.vertexNormals;if(J.length===3){J[0].copy(m[k.a]);J[1].copy(m[k.b]);J[2].copy(m[k.c]);}else{J[0]=m[k.a].clone();J[1]=m[k.b].clone();J[2]=m[k.c].clone();}}if(this.faces.length>0){this.normalsNeedUpdate=f7d.k3;}},computeMorphNormals:function(){var d,e,f,i,j;for(f=0,i=this.faces.length;f<i;f++){j=this.faces[f];if(!j.__originalFaceNormal){j.__originalFaceNormal=j.normal.clone();}else{j.__originalFaceNormal.copy(j.normal);}if(!j.__originalVertexNormals)j.__originalVertexNormals=[];for(d=0,e=j.vertexNormals.length;d<e;d++){if(!j.__originalVertexNormals[d]){j.__originalVertexNormals[d]=j.vertexNormals[d].clone();}else{j.__originalVertexNormals[d].copy(j.vertexNormals[d]);}}}var k=new THREE.Geometry();k.faces=this.faces;for(d=0,e=this.morphTargets.length;d<e;d++){if(!this.morphNormals[d]){this.morphNormals[d]={};this.morphNormals[d].faceNormals=[];this.morphNormals[d].vertexNormals=[];var m=this.morphNormals[d].faceNormals,n=this.morphNormals[d].vertexNormals,u,v;for(f=0,i=this.faces.length;f<i;f++){u=new THREE.Vector3();v={a:new THREE.Vector3(),b:new THREE.Vector3(),c:new THREE.Vector3()};m.push(u);n.push(v);}}var B=this.morphNormals[d];k.vertices=this.morphTargets[d].vertices;k.computeFaceNormals();k.computeVertexNormals();var u,v;for(f=0,i=this.faces.length;f<i;f++){j=this.faces[f];u=B.faceNormals[f];v=B.vertexNormals[f];u.copy(j.normal);v.a.copy(j.vertexNormals[0]);v.b.copy(j.vertexNormals[1]);v.c.copy(j.vertexNormals[2]);}}for(f=0,i=this.faces.length;f<i;f++){j=this.faces[f];j.normal=j.__originalFaceNormal;j.vertexNormals=j.__originalVertexNormals;}},computeTangents:function(){console.warn('THREE.Geometry: .computeTangents() has been removed.');},computeLineDistances:function(){var d=0,e=this.vertices;for(var f=0,i=e.length;f<i;f++){if(f>0){d+=e[f].distanceTo(e[f-1]);}this.lineDistances[f]=d;}},computeBoundingBox:function(){if(this.boundingBox===f7d.h3){this.boundingBox=new THREE.Box3();}this.boundingBox.setFromPoints(this.vertices);},computeBoundingSphere:function(){if(this.boundingSphere===f7d.h3){this.boundingSphere=new THREE.Sphere();}this.boundingSphere.setFromPoints(this.vertices);},merge:function(d,e,f){if(d instanceof THREE.Geometry===f7d.a4){console.error('THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.',d);return ;}var i,j=this.vertices.length,k=this.vertices,m=d.vertices,n=this.faces,u=d.faces,v=this.faceVertexUvs[0],B=d.faceVertexUvs[0];if(f===undefined)f=0;if(e!==undefined){i=new THREE.Matrix3().getNormalMatrix(e);}for(var C=0,J=m.length;C<J;C++){var E=m[C],Q=E.clone();if(e!==undefined)Q.applyMatrix4(e);k.push(Q);}for(C=0,J=u.length;C<J;C++){var T=u[C],N,b0,o0,f0=T.vertexNormals,d0=T.vertexColors;N=new THREE.Face3(T.a+j,T.b+j,T.c+j);N.normal.copy(T.normal);if(i!==undefined){N.normal.applyMatrix3(i).normalize();}for(var p0=0,t0=f0.length;p0<t0;p0++){b0=f0[p0].clone();if(i!==undefined){b0.applyMatrix3(i).normalize();}N.vertexNormals.push(b0);}N.color.copy(T.color);for(var p0=0,t0=d0.length;p0<t0;p0++){o0=d0[p0];N.vertexColors.push(o0.clone());}N.materialIndex=T.materialIndex+f;n.push(N);}for(C=0,J=B.length;C<J;C++){var x0=B[C],w0=[];if(x0===undefined){continue;}for(var p0=0,t0=x0.length;p0<t0;p0++){w0.push(x0[p0].clone());}v.push(w0);}},mergeMesh:function(d){if(d instanceof THREE.Mesh===f7d.a4){console.error('THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.',d);return ;}d.matrixAutoUpdate&&d.updateMatrix();this.merge(d.geometry,d.matrix);},mergeVertices:function(){var d={},e=[],f=[],i,j,k=4,m=Math.pow(10,k),n,u,v,B,C,J;for(n=0,u=this.vertices.length;n<u;n++){i=this.vertices[n];j=Math.round(i.x*m)+'_'+Math.round(i.y*m)+'_'+Math.round(i.z*m);if(d[j]===undefined){d[j]=n;e.push(this.vertices[n]);f[n]=e.length-1;}else{f[n]=f[d[j]];}}var E=[];for(n=0,u=this.faces.length;n<u;n++){v=this.faces[n];v.a=f[v.a];v.b=f[v.b];v.c=f[v.c];B=[v.a,v.b,v.c];var Q=-1;for(var T=0;T<3;T++){if(B[T]===B[(T+1)%3]){Q=T;E.push(n);break;}}}for(n=E.length-1;n>=0;n--){var N=E[n];this.faces.splice(N,1);for(C=0,J=this.faceVertexUvs.length;C<J;C++){this.faceVertexUvs[C].splice(N,1);}}var b0=this.vertices.length-e.length;this.vertices=e;return b0;},sortFacesByMaterialIndex:function(){var f=this.faces,i=f.length;for(var j=0;j<i;j++){f[j]._id=j;}function k(d,e){return d.materialIndex-e.materialIndex;}f.sort(k);var m=this.faceVertexUvs[0],n=this.faceVertexUvs[1],u,v;if(m&&m.length===i)u=[];if(n&&n.length===i)v=[];for(var j=0;j<i;j++){var B=f[j]._id;if(u)u.push(m[B]);if(v)v.push(n[B]);}if(u)this.faceVertexUvs[0]=u;if(v)this.faceVertexUvs[1]=v;},toJSON:function(){var i={metadata:{version:4.4,type:f7d.A0,generator:'Geometry.toJSON'}};i.uuid=this.uuid;i.type=this.type;if(this.name!=='')i.name=this.name;if(this.parameters!==undefined){var j=this.parameters;for(var k in j){if(j[k]!==undefined)i[k]=j[k];}return i;}var m=[];for(var n=0;n<this.vertices.length;n++){var u=this.vertices[n];m.push(u.x,u.y,u.z);}var v=[],B=[],C={},J=[],E={},Q=[],T={};for(var n=0;n<this.faces.length;n++){var N=this.faces[n],b0=f7d.k3,o0=f7d.a4,f0=this.faceVertexUvs[0][n]!==undefined,d0=N.normal.length()>0,p0=N.vertexNormals.length>0,t0=N.color.r!==1||N.color.g!==1||N.color.b!==1,x0=N.vertexColors.length>0,w0=0;w0=B0(w0,0,0);w0=B0(w0,1,b0);w0=B0(w0,2,o0);w0=B0(w0,3,f0);w0=B0(w0,4,d0);w0=B0(w0,5,p0);w0=B0(w0,6,t0);w0=B0(w0,7,x0);v.push(w0);v.push(N.a,N.b,N.c);v.push(N.materialIndex);if(f0){var s0=this.faceVertexUvs[0][n];v.push(X0(s0[0]),X0(s0[1]),X0(s0[2]));}if(d0){v.push(K0(N.normal));}if(p0){var z0=N.vertexNormals;v.push(K0(z0[0]),K0(z0[1]),K0(z0[2]));}if(t0){v.push(i0(N.color));}if(x0){var y0=N.vertexColors;v.push(i0(y0[0]),i0(y0[1]),i0(y0[2]));}}function B0(d,e,f){return f?d|(1<<e):d&(~(1<<e));}function K0(d){var e=d.x.toString()+d.y.toString()+d.z.toString();if(C[e]!==undefined){return C[e];}C[e]=B.length/3;B.push(d.x,d.y,d.z);return C[e];}function i0(d){var e=d.r.toString()+d.g.toString()+d.b.toString();if(E[e]!==undefined){return E[e];}E[e]=J.length;J.push(d.getHex());return E[e];}function X0(d){var e=d.x.toString()+d.y.toString();if(T[e]!==undefined){return T[e];}T[e]=Q.length/2;Q.push(d.x,d.y);return T[e];}i.data={};i.data.vertices=m;i.data.normals=B;if(J.length>0)i.data.colors=J;if(Q.length>0)i.data.uvs=[Q];i.data.faces=v;return i;},clone:function(){return new THREE.Geometry().copy(this);},copy:function(d){this.vertices=[];this.faces=[];this.faceVertexUvs=[[]];var e=d.vertices;for(var f=0,i=e.length;f<i;f++){this.vertices.push(e[f].clone());}var j=d.faces;for(var f=0,i=j.length;f<i;f++){this.faces.push(j[f].clone());}for(var f=0,i=d.faceVertexUvs.length;f<i;f++){var k=d.faceVertexUvs[f];if(this.faceVertexUvs[f]===undefined){this.faceVertexUvs[f]=[];}for(var m=0,n=k.length;m<n;m++){var u=k[m],v=[];for(var B=0,C=u.length;B<C;B++){var J=u[B];v.push(J.clone());}this.faceVertexUvs[f].push(v);}}return this;},dispose:function(){this.dispatchEvent({type:f7d.J0});}};THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype);THREE.GeometryIdCount=0;THREE.DirectGeometry=function(){Object.defineProperty(this,f7d.Q0,{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name='';this.type='DirectGeometry';this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingBox=f7d.h3;this.boundingSphere=f7d.h3;this.verticesNeedUpdate=f7d.a4;this.normalsNeedUpdate=f7d.a4;this.colorsNeedUpdate=f7d.a4;this.uvsNeedUpdate=f7d.a4;this.groupsNeedUpdate=f7d.a4;};THREE.DirectGeometry.prototype={constructor:THREE.DirectGeometry,computeBoundingBox:THREE.Geometry.prototype.computeBoundingBox,computeBoundingSphere:THREE.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn('THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.');},computeVertexNormals:function(){console.warn('THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.');},computeGroups:function(d){var e,f=[],i,j=d.faces;for(var k=0;k<j.length;k++){var m=j[k];if(m.materialIndex!==i){i=m.materialIndex;if(e!==undefined){e.count=(k*3)-e.start;f.push(e);}e={start:k*3,materialIndex:i};}}if(e!==undefined){e.count=(k*3)-e.start;f.push(e);}this.groups=f;},fromGeometry:function(d){var e=d.faces,f=d.vertices,i=d.faceVertexUvs,j=i[0]&&i[0].length>0,k=i[1]&&i[1].length>0,m=d.morphTargets,n=m.length,u;if(n>0){u=[];for(var v=0;v<n;v++){u[v]=[];}this.morphTargets.position=u;}var B=d.morphNormals,C=B.length,J;if(C>0){J=[];for(var v=0;v<C;v++){J[v]=[];}this.morphTargets.normal=J;}var E=d.skinIndices,Q=d.skinWeights,T=E.length===f.length,N=Q.length===f.length;for(var v=0;v<e.length;v++){var b0=e[v];this.vertices.push(f[b0.a],f[b0.b],f[b0.c]);var o0=b0.vertexNormals;if(o0.length===3){this.normals.push(o0[0],o0[1],o0[2]);}else{var f0=b0.normal;this.normals.push(f0,f0,f0);}var d0=b0.vertexColors;if(d0.length===3){this.colors.push(d0[0],d0[1],d0[2]);}else{var p0=b0.color;this.colors.push(p0,p0,p0);}if(j===f7d.k3){var t0=i[0][v];if(t0!==undefined){this.uvs.push(t0[0],t0[1],t0[2]);}else{console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ',v);this.uvs.push(new THREE.Vector2(),new THREE.Vector2(),new THREE.Vector2());}}if(k===f7d.k3){var t0=i[1][v];if(t0!==undefined){this.uvs2.push(t0[0],t0[1],t0[2]);}else{console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ',v);this.uvs2.push(new THREE.Vector2(),new THREE.Vector2(),new THREE.Vector2());}}for(var x0=0;x0<n;x0++){var w0=m[x0].vertices;u[x0].push(w0[b0.a],w0[b0.b],w0[b0.c]);}for(var x0=0;x0<C;x0++){var s0=B[x0].vertexNormals[v];J[x0].push(s0.a,s0.b,s0.c);}if(T){this.skinIndices.push(E[b0.a],E[b0.b],E[b0.c]);}if(N){this.skinWeights.push(Q[b0.a],Q[b0.b],Q[b0.c]);}}this.computeGroups(d);this.verticesNeedUpdate=d.verticesNeedUpdate;this.normalsNeedUpdate=d.normalsNeedUpdate;this.colorsNeedUpdate=d.colorsNeedUpdate;this.uvsNeedUpdate=d.uvsNeedUpdate;this.groupsNeedUpdate=d.groupsNeedUpdate;return this;},dispose:function(){this.dispatchEvent({type:f7d.J0});}};THREE.EventDispatcher.prototype.apply(THREE.DirectGeometry.prototype);THREE.BufferGeometry=function(){Object.defineProperty(this,f7d.Q0,{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name='';this.type=f7d.Q2;this.index=f7d.h3;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=f7d.h3;this.boundingSphere=f7d.h3;this.drawRange={start:0,count:Infinity};};THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,getIndex:function(){return this.index;},setIndex:function(d){this.index=d;},addAttribute:function(d,e){if(e instanceof THREE.BufferAttribute===f7d.a4&&e instanceof THREE.InterleavedBufferAttribute===f7d.a4){console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');this.addAttribute(d,new THREE.BufferAttribute(arguments[1],arguments[2]));return ;}if(d==='index'){console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');this.setIndex(e);return ;}this.attributes[d]=e;return this;},getAttribute:function(d){return this.attributes[d];},removeAttribute:function(d){delete  this.attributes[d];return this;},addGroup:function(d,e,f){this.groups.push({start:d,count:e,materialIndex:f!==undefined?f:0});},clearGroups:function(){this.groups=[];},setDrawRange:function(d,e){this.drawRange.start=d;this.drawRange.count=e;},applyMatrix:function(d){var e=this.attributes.position;if(e!==undefined){d.applyToVector3Array(e.array);e.needsUpdate=f7d.k3;}var f=this.attributes.normal;if(f!==undefined){var i=new THREE.Matrix3().getNormalMatrix(d);i.applyToVector3Array(f.array);f.needsUpdate=f7d.k3;}if(this.boundingBox!==f7d.h3){this.computeBoundingBox();}if(this.boundingSphere!==f7d.h3){this.computeBoundingSphere();}return this;},rotateX:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.makeRotationX(d);this.applyMatrix(e);return this;};}(),rotateY:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.makeRotationY(d);this.applyMatrix(e);return this;};}(),rotateZ:function(){var e;return function f(d){if(e===undefined)e=new THREE.Matrix4();e.makeRotationZ(d);this.applyMatrix(e);return this;};}(),translate:function(){var i;return function j(d,e,f){if(i===undefined)i=new THREE.Matrix4();i.makeTranslation(d,e,f);this.applyMatrix(i);return this;};}(),scale:function(){var i;return function j(d,e,f){if(i===undefined)i=new THREE.Matrix4();i.makeScale(d,e,f);this.applyMatrix(i);return this;};}(),lookAt:function(){var e;return function f(d){if(e===undefined)e=new THREE.Object3D();e.lookAt(d);e.updateMatrix();this.applyMatrix(e.matrix);};}(),center:function(){this.computeBoundingBox();var d=this.boundingBox.center().negate();this.translate(d.x,d.y,d.z);return d;},setFromObject:function(d){var e=d.geometry;if(d instanceof THREE.Points||d instanceof THREE.Line){var f=new THREE.Float32Attribute(e.vertices.length*3,3),i=new THREE.Float32Attribute(e.colors.length*3,3);this.addAttribute(f7d.e1,f.copyVector3sArray(e.vertices));this.addAttribute(f7d.V1,i.copyColorsArray(e.colors));if(e.lineDistances&&e.lineDistances.length===e.vertices.length){var j=new THREE.Float32Attribute(e.lineDistances.length,1);this.addAttribute('lineDistance',j.copyArray(e.lineDistances));}if(e.boundingSphere!==f7d.h3){this.boundingSphere=e.boundingSphere.clone();}if(e.boundingBox!==f7d.h3){this.boundingBox=e.boundingBox.clone();}}else if(d instanceof THREE.Mesh){if(e instanceof THREE.Geometry){this.fromGeometry(e);}}return this;},updateFromObject:function(d){var e=d.geometry;if(d instanceof THREE.Mesh){var f=e.__directGeometry;if(f===undefined){return this.fromGeometry(e);}f.verticesNeedUpdate=e.verticesNeedUpdate;f.normalsNeedUpdate=e.normalsNeedUpdate;f.colorsNeedUpdate=e.colorsNeedUpdate;f.uvsNeedUpdate=e.uvsNeedUpdate;f.groupsNeedUpdate=e.groupsNeedUpdate;e.verticesNeedUpdate=f7d.a4;e.normalsNeedUpdate=f7d.a4;e.colorsNeedUpdate=f7d.a4;e.uvsNeedUpdate=f7d.a4;e.groupsNeedUpdate=f7d.a4;e=f;}if(e.verticesNeedUpdate===f7d.k3){var i=this.attributes.position;if(i!==undefined){i.copyVector3sArray(e.vertices);i.needsUpdate=f7d.k3;}e.verticesNeedUpdate=f7d.a4;}if(e.normalsNeedUpdate===f7d.k3){var i=this.attributes.normal;if(i!==undefined){i.copyVector3sArray(e.normals);i.needsUpdate=f7d.k3;}e.normalsNeedUpdate=f7d.a4;}if(e.colorsNeedUpdate===f7d.k3){var i=this.attributes.color;if(i!==undefined){i.copyColorsArray(e.colors);i.needsUpdate=f7d.k3;}e.colorsNeedUpdate=f7d.a4;}if(e.uvsNeedUpdate){var i=this.attributes.uv;if(i!==undefined){i.copyVector2sArray(e.uvs);i.needsUpdate=f7d.k3;}e.uvsNeedUpdate=f7d.a4;}if(e.lineDistancesNeedUpdate){var i=this.attributes.lineDistance;if(i!==undefined){i.copyArray(e.lineDistances);i.needsUpdate=f7d.k3;}e.lineDistancesNeedUpdate=f7d.a4;}if(e.groupsNeedUpdate){e.computeGroups(d.geometry);this.groups=e.groups;e.groupsNeedUpdate=f7d.a4;}return this;},fromGeometry:function(d){d.__directGeometry=new THREE.DirectGeometry().fromGeometry(d);return this.fromDirectGeometry(d.__directGeometry);},fromDirectGeometry:function(d){var e=new Float32Array(d.vertices.length*3);this.addAttribute(f7d.e1,new THREE.BufferAttribute(e,3).copyVector3sArray(d.vertices));if(d.normals.length>0){var f=new Float32Array(d.normals.length*3);this.addAttribute(f7d.N2,new THREE.BufferAttribute(f,3).copyVector3sArray(d.normals));}if(d.colors.length>0){var i=new Float32Array(d.colors.length*3);this.addAttribute(f7d.V1,new THREE.BufferAttribute(i,3).copyColorsArray(d.colors));}if(d.uvs.length>0){var j=new Float32Array(d.uvs.length*2);this.addAttribute(f7d.I3,new THREE.BufferAttribute(j,2).copyVector2sArray(d.uvs));}if(d.uvs2.length>0){var k=new Float32Array(d.uvs2.length*2);this.addAttribute('uv2',new THREE.BufferAttribute(k,2).copyVector2sArray(d.uvs2));}if(d.indices.length>0){var m=d.vertices.length>f7d.L3?Uint32Array:Uint16Array,n=new m(d.indices.length*3);this.setIndex(new THREE.BufferAttribute(n,1).copyIndicesArray(d.indices));}this.groups=d.groups;for(var u in d.morphTargets){var v=[],B=d.morphTargets[u];for(var C=0,J=B.length;C<J;C++){var E=B[C],Q=new THREE.Float32Attribute(E.length*3,3);v.push(Q.copyVector3sArray(E));}this.morphAttributes[u]=v;}if(d.skinIndices.length>0){var T=new THREE.Float32Attribute(d.skinIndices.length*4,4);this.addAttribute('skinIndex',T.copyVector4sArray(d.skinIndices));}if(d.skinWeights.length>0){var N=new THREE.Float32Attribute(d.skinWeights.length*4,4);this.addAttribute('skinWeight',N.copyVector4sArray(d.skinWeights));}if(d.boundingSphere!==f7d.h3){this.boundingSphere=d.boundingSphere.clone();}if(d.boundingBox!==f7d.h3){this.boundingBox=d.boundingBox.clone();}return this;},computeBoundingBox:function(){if(this.boundingBox===f7d.h3){this.boundingBox=new THREE.Box3();}var d=this.attributes.position.array;if(d!==undefined){this.boundingBox.setFromArray(d);}else{this.boundingBox.makeEmpty();}if(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)){console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this);}},computeBoundingSphere:function(){var k=new THREE.Box3(),m=new THREE.Vector3();return function(){if(this.boundingSphere===f7d.h3){this.boundingSphere=new THREE.Sphere();}var d=this.attributes.position.array;if(d){var e=this.boundingSphere.center;k.setFromArray(d);k.center(e);var f=0;for(var i=0,j=d.length;i<j;i+=3){m.fromArray(d,i);f=Math.max(f,e.distanceToSquared(m));}this.boundingSphere.radius=Math.sqrt(f);if(isNaN(this.boundingSphere.radius)){console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this);}}};}(),computeFaceNormals:function(){},computeVertexNormals:function(){var d=this.index,e=this.attributes,f=this.groups;if(e.position){var i=e.position.array;if(e.normal===undefined){this.addAttribute(f7d.N2,new THREE.BufferAttribute(new Float32Array(i.length),3));}else{var j=e.normal.array;for(var k=0,m=j.length;k<m;k++){j[k]=0;}}var n=e.normal.array,u,v,B,C=new THREE.Vector3(),J=new THREE.Vector3(),E=new THREE.Vector3(),Q=new THREE.Vector3(),T=new THREE.Vector3();if(d){var N=d.array;if(f.length===0){this.addGroup(0,N.length);}for(var b0=0,o0=f.length;b0<o0;++b0){var f0=f[b0],d0=f0.start,p0=f0.count;for(var k=d0,m=d0+p0;k<m;k+=3){u=N[k+0]*3;v=N[k+1]*3;B=N[k+2]*3;C.fromArray(i,u);J.fromArray(i,v);E.fromArray(i,B);Q.subVectors(E,J);T.subVectors(C,J);Q.cross(T);n[u]+=Q.x;n[u+1]+=Q.y;n[u+2]+=Q.z;n[v]+=Q.x;n[v+1]+=Q.y;n[v+2]+=Q.z;n[B]+=Q.x;n[B+1]+=Q.y;n[B+2]+=Q.z;}}}else{for(var k=0,m=i.length;k<m;k+=9){C.fromArray(i,k);J.fromArray(i,k+3);E.fromArray(i,k+6);Q.subVectors(E,J);T.subVectors(C,J);Q.cross(T);n[k]=Q.x;n[k+1]=Q.y;n[k+2]=Q.z;n[k+3]=Q.x;n[k+4]=Q.y;n[k+5]=Q.z;n[k+6]=Q.x;n[k+7]=Q.y;n[k+8]=Q.z;}}this.normalizeNormals();e.normal.needsUpdate=f7d.k3;}},merge:function(d,e){if(d instanceof THREE.BufferGeometry===f7d.a4){console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.',d);return ;}if(e===undefined)e=0;var f=this.attributes;for(var i in f){if(d.attributes[i]===undefined)continue;var j=f[i],k=j.array,m=d.attributes[i],n=m.array,u=m.itemSize;for(var v=0,B=u*e;v<n.length;v++,B++){k[B]=n[v];}}return this;},normalizeNormals:function(){var d=this.attributes.normal.array,e,f,i,j;for(var k=0,m=d.length;k<m;k+=3){e=d[k];f=d[k+1];i=d[k+2];j=f7d.Z3/Math.sqrt(e*e+f*f+i*i);d[k]*=j;d[k+1]*=j;d[k+2]*=j;}},toNonIndexed:function(){if(this.index===f7d.h3){console.warn('THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.');return this;}var d=new THREE.BufferGeometry(),e=this.index.array,f=this.attributes;for(var i in f){var j=f[i],k=j.array,m=j.itemSize,n=new k.constructor(e.length*m),u=0,v=0;for(var B=0,C=e.length;B<C;B++){u=e[B]*m;for(var J=0;J<m;J++){n[v++]=k[u++];}}d.addAttribute(i,new THREE.BufferAttribute(n,m));}return d;},toJSON:function(){var d={metadata:{version:4.4,type:f7d.Q2,generator:'BufferGeometry.toJSON'}};d.uuid=this.uuid;d.type=this.type;if(this.name!=='')d.name=this.name;if(this.parameters!==undefined){var e=this.parameters;for(var f in e){if(e[f]!==undefined)d[f]=e[f];}return d;}d.data={attributes:{}};var i=this.index;if(i!==f7d.h3){var j=Array.prototype.slice.call(i.array);d.data.index={type:i.array.constructor.name,array:j};}var k=this.attributes;for(var f in k){var m=k[f],j=Array.prototype.slice.call(m.array);d.data.attributes[f]={itemSize:m.itemSize,type:m.array.constructor.name,array:j,normalized:m.normalized};}var n=this.groups;if(n.length>0){d.data.groups=JSON.parse(JSON.stringify(n));}var u=this.boundingSphere;if(u!==f7d.h3){d.data.boundingSphere={center:u.center.toArray(),radius:u.radius};}return d;},clone:function(){return new THREE.BufferGeometry().copy(this);},copy:function(d){var e=d.index;if(e!==f7d.h3){this.setIndex(e.clone());}var f=d.attributes;for(var i in f){var j=f[i];this.addAttribute(i,j.clone());}var k=d.groups;for(var m=0,n=k.length;m<n;m++){var u=k[m];this.addGroup(u.start,u.count,u.materialIndex);}return this;},dispose:function(){this.dispatchEvent({type:f7d.J0});}};THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype);THREE.BufferGeometry.MaxIndex=f7d.L3;THREE.InstancedBufferGeometry=function(){THREE.BufferGeometry.call(this);this.type='InstancedBufferGeometry';this.maxInstancedCount=undefined;};THREE.InstancedBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.InstancedBufferGeometry.prototype.constructor=THREE.InstancedBufferGeometry;THREE.InstancedBufferGeometry.prototype.addGroup=function(d,e,f){this.groups.push({start:d,count:e,instances:f});};THREE.InstancedBufferGeometry.prototype.copy=function(d){var e=d.index;if(e!==f7d.h3){this.setIndex(e.clone());}var f=d.attributes;for(var i in f){var j=f[i];this.addAttribute(i,j.clone());}var k=d.groups;for(var m=0,n=k.length;m<n;m++){var u=k[m];this.addGroup(u.start,u.count,u.instances);}return this;};THREE.EventDispatcher.prototype.apply(THREE.InstancedBufferGeometry.prototype);THREE.Uniform=function(d){if(typeof d===f7d.U1){console.warn('THREE.Uniform: Type parameter is no longer needed.');d=arguments[1];}this.value=d;this.dynamic=f7d.a4;};THREE.Uniform.prototype={constructor:THREE.Uniform,onUpdate:function(d){this.dynamic=f7d.k3;this.onUpdateCallback=d;return this;}};THREE.AnimationClip=function(d,e,f){this.name=d||THREE.Math.generateUUID();this.tracks=f;this.duration=(e!==undefined)?e:-1;if(this.duration<0){this.resetDuration();}this.trim();this.optimize();};THREE.AnimationClip.prototype={constructor:THREE.AnimationClip,resetDuration:function(){var d=this.tracks,e=0;for(var f=0,i=d.length;f!==i;++f){var j=this.tracks[f];e=Math.max(e,j.times[j.times.length-1]);}this.duration=e;},trim:function(){for(var d=0;d<this.tracks.length;d++){this.tracks[d].trim(0,this.duration);}return this;},optimize:function(){for(var d=0;d<this.tracks.length;d++){this.tracks[d].optimize();}return this;}};Object.assign(THREE.AnimationClip,{parse:function(d){var e=[],f=d.tracks,i=f7d.Z3/(d.fps||f7d.Z3);for(var j=0,k=f.length;j!==k;++j){e.push(THREE.KeyframeTrack.parse(f[j]).scale(i));}return new THREE.AnimationClip(d.name,d.duration,e);},toJSON:function(d){var e=[],f=d.tracks,i={'name':d.name,'duration':d.duration,'tracks':e};for(var j=0,k=f.length;j!==k;++j){e.push(THREE.KeyframeTrack.toJSON(f[j]));}return i;},CreateFromMorphTargetSequence:function(d,e,f,i){var j=e.length,k=[];for(var m=0;m<j;m++){var n=[],u=[];n.push((m+j-1)%j,m,(m+1)%j);u.push(0,1,0);var v=THREE.AnimationUtils.getKeyframeOrder(n);n=THREE.AnimationUtils.sortedArray(n,1,v);u=THREE.AnimationUtils.sortedArray(u,1,v);if(!i&&n[0]===0){n.push(j);u.push(u[0]);}k.push(new THREE.NumberKeyframeTrack('.morphTargetInfluences['+e[m].name+']',n,u).scale(f7d.Z3/f));}return new THREE.AnimationClip(d,-1,k);},findByName:function(d,e){for(var f=0;f<d.length;f++){if(d[f].name===e){return d[f];}}return f7d.h3;},CreateClipsFromMorphTargetSequences:function(d,e,f){var i={},j=/^([\w-]*?)([\d]+)$/;for(var k=0,m=d.length;k<m;k++){var n=d[k],u=n.name.match(j);if(u&&u.length>1){var v=u[1],B=i[v];if(!B){i[v]=B=[];}B.push(n);}}var C=[];for(var v in i){C.push(THREE.AnimationClip.CreateFromMorphTargetSequence(v,i[v],e,f));}return C;},parseAnimation:function(n,u,v){if(!n){console.error("  no animation in JSONLoader data");return f7d.h3;}var B=function(d,e,f,i,j){if(f.length!==0){var k=[],m=[];THREE.AnimationUtils.flattenJSON(f,k,m,i);if(k.length!==0){j.push(new d(e,k,m));}}},C=[],J=n.name||'default',E=n.length||-1,Q=n.fps||30,T=n.hierarchy||[];for(var N=0;N<T.length;N++){var b0=T[N].keys;if(!b0||b0.length==0)continue;if(b0[0].morphTargets){var o0={};for(var f0=0;f0<b0.length;f0++){if(b0[f0].morphTargets){for(var d0=0;d0<b0[f0].morphTargets.length;d0++){o0[b0[f0].morphTargets[d0]]=-1;}}}for(var p0 in o0){var t0=[],x0=[];for(var d0=0;d0!==b0[f0].morphTargets.length;++d0){var w0=b0[f0];t0.push(w0.time);x0.push((w0.morphTarget===p0)?1:0);}C.push(new THREE.NumberKeyframeTrack('.morphTargetInfluence['+p0+']',t0,x0));}E=o0.length*(Q||f7d.Z3);}else{var s0='.bones['+u[N].name+']';B(THREE.VectorKeyframeTrack,s0+'.position',b0,'pos',C);B(THREE.QuaternionKeyframeTrack,s0+'.quaternion',b0,'rot',C);B(THREE.VectorKeyframeTrack,s0+'.scale',b0,'scl',C);}}if(C.length===0){return f7d.h3;}var z0=new THREE.AnimationClip(J,E,C);return z0;}});THREE.AnimationMixer=function(d){this._root=d;this._initMemoryManager();this._accuIndex=0;this.time=0;this.timeScale=f7d.Z3;};THREE.AnimationMixer.prototype={constructor:THREE.AnimationMixer,clipAction:function(d,e){var f=e||this._root,i=f.uuid,j=(typeof d===f7d.U1)?d:d.name,k=(d!==j)?d:f7d.h3,m=this._actionsByClip[j],n;if(m!==undefined){var u=m.actionByRoot[i];if(u!==undefined){return u;}n=m.knownActions[0];k=n._clip;if(d!==j&&d!==k){throw  new Error("Different clips with the same name detected!");}}if(k===f7d.h3)return f7d.h3;var v=new THREE.AnimationMixer._Action(this,k,e);this._bindAction(v,n);this._addInactiveAction(v,j,i);return v;},existingAction:function(d,e){var f=e||this._root,i=f.uuid,j=(typeof d===f7d.U1)?d:d.name,k=this._actionsByClip[j];if(k!==undefined){return k.actionByRoot[i]||f7d.h3;}return f7d.h3;},stopAllAction:function(){var d=this._actions,e=this._nActiveActions,f=this._bindings,i=this._nActiveBindings;this._nActiveActions=0;this._nActiveBindings=0;for(var j=0;j!==e;++j){d[j].reset();}for(var j=0;j!==i;++j){f[j].useCount=0;}return this;},update:function(d){d*=this.timeScale;var e=this._actions,f=this._nActiveActions,i=this.time+=d,j=Math.sign(d),k=this._accuIndex^=1;for(var m=0;m!==f;++m){var n=e[m];if(n.enabled){n._update(i,d,j,k);}}var u=this._bindings,v=this._nActiveBindings;for(var m=0;m!==v;++m){u[m].apply(k);}return this;},getRoot:function(){return this._root;},uncacheClip:function(d){var e=this._actions,f=d.name,i=this._actionsByClip,j=i[f];if(j!==undefined){var k=j.knownActions;for(var m=0,n=k.length;m!==n;++m){var u=k[m];this._deactivateAction(u);var v=u._cacheIndex,B=e[e.length-1];u._cacheIndex=f7d.h3;u._byClipCacheIndex=f7d.h3;B._cacheIndex=v;e[v]=B;e.pop();this._removeInactiveBindingsForAction(u);}delete  i[f];}},uncacheRoot:function(d){var e=d.uuid,f=this._actionsByClip;for(var i in f){var j=f[i].actionByRoot,k=j[e];if(k!==undefined){this._deactivateAction(k);this._removeInactiveAction(k);}}var m=this._bindingsByRootAndName,n=m[e];if(n!==undefined){for(var u in n){var v=n[u];v.restoreOriginalState();this._removeInactiveBinding(v);}}},uncacheAction:function(d,e){var f=this.existingAction(d,e);if(f!==f7d.h3){this._deactivateAction(f);this._removeInactiveAction(f);}}};THREE.EventDispatcher.prototype.apply(THREE.AnimationMixer.prototype);THREE.AnimationMixer._Action=function(d,e,f){this._mixer=d;this._clip=e;this._localRoot=f||f7d.h3;var i=e.tracks,j=i.length,k=new Array(j),m={endingStart:THREE.ZeroCurvatureEnding,endingEnd:THREE.ZeroCurvatureEnding};for(var n=0;n!==j;++n){var u=i[n].createInterpolant(f7d.h3);k[n]=u;u.settings=m;}this._interpolantSettings=m;this._interpolants=k;this._propertyBindings=new Array(j);this._cacheIndex=f7d.h3;this._byClipCacheIndex=f7d.h3;this._timeScaleInterpolant=f7d.h3;this._weightInterpolant=f7d.h3;this.loop=THREE.LoopRepeat;this._loopCount=-1;this._startTime=f7d.h3;this.time=0;this.timeScale=1;this._effectiveTimeScale=1;this.weight=1;this._effectiveWeight=1;this.repetitions=Infinity;this.paused=f7d.a4;this.enabled=f7d.k3;this.clampWhenFinished=f7d.a4;this.zeroSlopeAtStart=f7d.k3;this.zeroSlopeAtEnd=f7d.k3;};THREE.AnimationMixer._Action.prototype={constructor:THREE.AnimationMixer._Action,play:function(){this._mixer._activateAction(this);return this;},stop:function(){this._mixer._deactivateAction(this);return this.reset();},reset:function(){this.paused=f7d.a4;this.enabled=f7d.k3;this.time=0;this._loopCount=-1;this._startTime=f7d.h3;return this.stopFading().stopWarping();},isRunning:function(){var d=this._startTime;return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===f7d.h3&&this._mixer._isActiveAction(this);},isScheduled:function(){return this._mixer._isActiveAction(this);},startAt:function(d){this._startTime=d;return this;},setLoop:function(d,e){this.loop=d;this.repetitions=e;return this;},setEffectiveWeight:function(d){this.weight=d;this._effectiveWeight=this.enabled?d:0;return this.stopFading();},getEffectiveWeight:function(){return this._effectiveWeight;},fadeIn:function(d){return this._scheduleFading(d,0,1);},fadeOut:function(d){return this._scheduleFading(d,1,0);},crossFadeFrom:function(d,e,f){var i=this._mixer;d.fadeOut(e);this.fadeIn(e);if(f){var j=this._clip.duration,k=d._clip.duration,m=k/j,n=j/k;d.warp(f7d.Z3,m,e);this.warp(n,f7d.Z3,e);}return this;},crossFadeTo:function(d,e,f){return d.crossFadeFrom(this,e,f);},stopFading:function(){var d=this._weightInterpolant;if(d!==f7d.h3){this._weightInterpolant=f7d.h3;this._mixer._takeBackControlInterpolant(d);}return this;},setEffectiveTimeScale:function(d){this.timeScale=d;this._effectiveTimeScale=this.paused?0:d;return this.stopWarping();},getEffectiveTimeScale:function(){return this._effectiveTimeScale;},setDuration:function(d){this.timeScale=this._clip.duration/d;return this.stopWarping();},syncWith:function(d){this.time=d.time;this.timeScale=d.timeScale;return this.stopWarping();},halt:function(d){return this.warp(this._currentTimeScale,0,d);},warp:function(d,e,f){var i=this._mixer,j=i.time,k=this._timeScaleInterpolant,m=this.timeScale;if(k===f7d.h3){k=i._lendControlInterpolant(),this._timeScaleInterpolant=k;}var n=k.parameterPositions,u=k.sampleValues;n[0]=j;n[1]=j+f;u[0]=d/m;u[1]=e/m;return this;},stopWarping:function(){var d=this._timeScaleInterpolant;if(d!==f7d.h3){this._timeScaleInterpolant=f7d.h3;this._mixer._takeBackControlInterpolant(d);}return this;},getMixer:function(){return this._mixer;},getClip:function(){return this._clip;},getRoot:function(){return this._localRoot||this._mixer._root;},_update:function(d,e,f,i){var j=this._startTime;if(j!==f7d.h3){var k=(d-j)*f;if(k<0||f===0){return ;}this._startTime=f7d.h3;e=f*k;}e*=this._updateTimeScale(d);var m=this._updateTime(e),n=this._updateWeight(d);if(n>0){var u=this._interpolants,v=this._propertyBindings;for(var B=0,C=u.length;B!==C;++B){u[B].evaluate(m);v[B].accumulate(i,n);}}},_updateWeight:function(d){var e=0;if(this.enabled){e=this.weight;var f=this._weightInterpolant;if(f!==f7d.h3){var i=f.evaluate(d)[0];e*=i;if(d>f.parameterPositions[1]){this.stopFading();if(i===0){this.enabled=f7d.a4;}}}}this._effectiveWeight=e;return e;},_updateTimeScale:function(d){var e=0;if(!this.paused){e=this.timeScale;var f=this._timeScaleInterpolant;if(f!==f7d.h3){var i=f.evaluate(d)[0];e*=i;if(d>f.parameterPositions[1]){this.stopWarping();if(e===0){this.pause=f7d.k3;}else{this.timeScale=e;}}}}this._effectiveTimeScale=e;return e;},_updateTime:function(d){var e=this.time+d;if(d===0)return e;var f=this._clip.duration,i=this.loop,j=this._loopCount,k=f7d.a4;switch(i){case THREE.LoopOnce:if(j===-1){this.loopCount=0;this._setEndings(f7d.k3,f7d.k3,f7d.a4);}if(e>=f){e=f;}else if(e<0){e=0;}else break;if(this.clampWhenFinished)this.pause=f7d.k3;else this.enabled=f7d.a4;this._mixer.dispatchEvent({type:'finished',action:this,direction:d<0?-1:1});break;case THREE.LoopPingPong:k=f7d.k3;case THREE.LoopRepeat:if(j===-1){if(d>0){j=0;this._setEndings(f7d.k3,this.repetitions===0,k);}else{this._setEndings(this.repetitions===0,f7d.k3,k);}}if(e>=f||e<0){var m=Math.floor(e/f);e-=f*m;j+=Math.abs(m);var n=this.repetitions-j;if(n<0){if(this.clampWhenFinished)this.paused=f7d.k3;else this.enabled=f7d.a4;e=d>0?f:0;this._mixer.dispatchEvent({type:'finished',action:this,direction:d>0?1:-1});break;}else if(n===0){var u=d<0;this._setEndings(u,!u,k);}else{this._setEndings(f7d.a4,f7d.a4,k);}this._loopCount=j;this._mixer.dispatchEvent({type:'loop',action:this,loopDelta:m});}if(i===THREE.LoopPingPong&&(j&1)===1){this.time=e;return f-e;}break;}this.time=e;return e;},_setEndings:function(d,e,f){var i=this._interpolantSettings;if(f){i.endingStart=THREE.ZeroSlopeEnding;i.endingEnd=THREE.ZeroSlopeEnding;}else{if(d){i.endingStart=this.zeroSlopeAtStart?THREE.ZeroSlopeEnding:THREE.ZeroCurvatureEnding;}else{i.endingStart=THREE.WrapAroundEnding;}if(e){i.endingEnd=this.zeroSlopeAtEnd?THREE.ZeroSlopeEnding:THREE.ZeroCurvatureEnding;}else{i.endingEnd=THREE.WrapAroundEnding;}}},_scheduleFading:function(d,e,f){var i=this._mixer,j=i.time,k=this._weightInterpolant;if(k===f7d.h3){k=i._lendControlInterpolant(),this._weightInterpolant=k;}var m=k.parameterPositions,n=k.sampleValues;m[0]=j;n[0]=e;m[1]=j+d;n[1]=f;return this;}};Object.assign(THREE.AnimationMixer.prototype,{_bindAction:function(d,e){var f=d._localRoot||this._root,i=d._clip.tracks,j=i.length,k=d._propertyBindings,m=d._interpolants,n=f.uuid,u=this._bindingsByRootAndName,v=u[n];if(v===undefined){v={};u[n]=v;}for(var B=0;B!==j;++B){var C=i[B],J=C.name,E=v[J];if(E!==undefined){k[B]=E;}else{E=k[B];if(E!==undefined){if(E._cacheIndex===f7d.h3){++E.referenceCount;this._addInactiveBinding(E,n,J);}continue;}var Q=e&&e._propertyBindings[B].binding.parsedPath;E=new THREE.PropertyMixer(THREE.PropertyBinding.create(f,J,Q),C.ValueTypeName,C.getValueSize());++E.referenceCount;this._addInactiveBinding(E,n,J);k[B]=E;}m[B].resultBuffer=E.buffer;}},_activateAction:function(d){if(!this._isActiveAction(d)){if(d._cacheIndex===f7d.h3){var e=(d._localRoot||this._root).uuid,f=d._clip.name,i=this._actionsByClip[f];this._bindAction(d,i&&i.knownActions[0]);this._addInactiveAction(d,f,e);}var j=d._propertyBindings;for(var k=0,m=j.length;k!==m;++k){var n=j[k];if(n.useCount++===0){this._lendBinding(n);n.saveOriginalState();}}this._lendAction(d);}},_deactivateAction:function(d){if(this._isActiveAction(d)){var e=d._propertyBindings;for(var f=0,i=e.length;f!==i;++f){var j=e[f];if(--j.useCount===0){j.restoreOriginalState();this._takeBackBinding(j);}}this._takeBackAction(d);}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var d=this;this.stats={actions:{get total(){return d._actions.length;},get inUse(){return d._nActiveActions;}},bindings:{get total(){return d._bindings.length;},get inUse(){return d._nActiveBindings;}},controlInterpolants:{get total(){return d._controlInterpolants.length;},get inUse(){return d._nActiveControlInterpolants;}}};},_isActiveAction:function(d){var e=d._cacheIndex;return e!==f7d.h3&&e<this._nActiveActions;},_addInactiveAction:function(d,e,f){var i=this._actions,j=this._actionsByClip,k=j[e];if(k===undefined){k={knownActions:[d],actionByRoot:{}};d._byClipCacheIndex=0;j[e]=k;}else{var m=k.knownActions;d._byClipCacheIndex=m.length;m.push(d);}d._cacheIndex=i.length;i.push(d);k.actionByRoot[f]=d;},_removeInactiveAction:function(d){var e=this._actions,f=e[e.length-1],i=d._cacheIndex;f._cacheIndex=i;e[i]=f;e.pop();d._cacheIndex=f7d.h3;var j=d._clip.name,k=this._actionsByClip,m=k[j],n=m.knownActions,u=n[n.length-1],v=d._byClipCacheIndex;u._byClipCacheIndex=v;n[v]=u;n.pop();d._byClipCacheIndex=f7d.h3;var B=m.actionByRoot,C=(e._localRoot||this._root).uuid;delete  B[C];if(n.length===0){delete  k[j];}this._removeInactiveBindingsForAction(d);},_removeInactiveBindingsForAction:function(d){var e=d._propertyBindings;for(var f=0,i=e.length;f!==i;++f){var j=e[f];if(--j.referenceCount===0){this._removeInactiveBinding(j);}}},_lendAction:function(d){var e=this._actions,f=d._cacheIndex,i=this._nActiveActions++,j=e[i];d._cacheIndex=i;e[i]=d;j._cacheIndex=f;e[f]=j;},_takeBackAction:function(d){var e=this._actions,f=d._cacheIndex,i=--this._nActiveActions,j=e[i];d._cacheIndex=i;e[i]=d;j._cacheIndex=f;e[f]=j;},_addInactiveBinding:function(d,e,f){var i=this._bindingsByRootAndName,j=i[e],k=this._bindings;if(j===undefined){j={};i[e]=j;}j[f]=d;d._cacheIndex=k.length;k.push(d);},_removeInactiveBinding:function(d){var e=this._bindings,f=d.binding,i=f.rootNode.uuid,j=f.path,k=this._bindingsByRootAndName,m=k[i],n=e[e.length-1],u=d._cacheIndex;n._cacheIndex=u;e[u]=n;e.pop();delete  m[j];remove_empty_map:{for(var v in m)break remove_empty_map;delete  k[i];}},_lendBinding:function(d){var e=this._bindings,f=d._cacheIndex,i=this._nActiveBindings++,j=e[i];d._cacheIndex=i;e[i]=d;j._cacheIndex=f;e[f]=j;},_takeBackBinding:function(d){var e=this._bindings,f=d._cacheIndex,i=--this._nActiveBindings,j=e[i];d._cacheIndex=i;e[i]=d;j._cacheIndex=f;e[f]=j;},_lendControlInterpolant:function(){var d=this._controlInterpolants,e=this._nActiveControlInterpolants++,f=d[e];if(f===undefined){f=new THREE.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer);f.__cacheIndex=e;d[e]=f;}return f;},_takeBackControlInterpolant:function(d){var e=this._controlInterpolants,f=d.__cacheIndex,i=--this._nActiveControlInterpolants,j=e[i];d.__cacheIndex=i;e[i]=d;j.__cacheIndex=f;e[f]=j;},_controlInterpolantsResultBuffer:new Float32Array(1)});THREE.AnimationObjectGroup=function(d){this.uuid=THREE.Math.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var f=0,i=arguments.length;f!==i;++f){e[arguments[f].uuid]=f;}this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var j=this;this.stats={objects:{get total(){return j._objects.length;},get inUse(){return this.total-j.nCachedObjects_;}},get bindingsPerObject(){return j._bindings.length;}};};THREE.AnimationObjectGroup.prototype={constructor:THREE.AnimationObjectGroup,add:function(d){var e=this._objects,f=e.length,i=this.nCachedObjects_,j=this._indicesByUUID,k=this._paths,m=this._parsedPaths,n=this._bindings,u=n.length;for(var v=0,B=arguments.length;v!==B;++v){var C=arguments[v],J=C.uuid,E=j[J];if(E===undefined){E=f++;j[J]=E;e.push(C);for(var Q=0,T=u;Q!==T;++Q){n[Q].push(new THREE.PropertyBinding(C,k[Q],m[Q]));}}else if(E<i){var N=e[E],b0=--i,o0=e[b0];j[o0.uuid]=E;e[E]=o0;j[J]=b0;e[b0]=C;for(var Q=0,T=u;Q!==T;++Q){var f0=n[Q],d0=f0[b0],p0=f0[E];f0[E]=d0;if(p0===undefined){p0=new THREE.PropertyBinding(C,k[Q],m[Q]);}f0[b0]=p0;}}else if(e[E]!==N){console.error("Different objects with the same UUID "+"detected. Clean the caches or recreate your "+"infrastructure when reloading scenes...");}}this.nCachedObjects_=i;},remove:function(d){var e=this._objects,f=e.length,i=this.nCachedObjects_,j=this._indicesByUUID,k=this._bindings,m=k.length;for(var n=0,u=arguments.length;n!==u;++n){var v=arguments[n],B=v.uuid,C=j[B];if(C!==undefined&&C>=i){var J=i++,E=e[J];j[E.uuid]=C;e[C]=E;j[B]=J;e[J]=v;for(var Q=0,T=m;Q!==T;++Q){var N=k[Q],b0=N[J],o0=N[C];N[C]=b0;N[J]=o0;}}}this.nCachedObjects_=i;},uncache:function(d){var e=this._objects,f=e.length,i=this.nCachedObjects_,j=this._indicesByUUID,k=this._bindings,m=k.length;for(var n=0,u=arguments.length;n!==u;++n){var v=arguments[n],B=v.uuid,C=j[B];if(C!==undefined){delete  j[B];if(C<i){var J=--i,E=e[J],Q=--f,T=e[Q];j[E.uuid]=C;e[C]=E;j[T.uuid]=J;e[J]=T;e.pop();for(var N=0,b0=m;N!==b0;++N){var o0=k[N],f0=o0[J],d0=o0[Q];o0[C]=f0;o0[J]=d0;o0.pop();}}else{var Q=--f,T=e[Q];j[T.uuid]=C;e[C]=T;e.pop();for(var N=0,b0=m;N!==b0;++N){var o0=k[N];o0[C]=o0[Q];o0.pop();}}}}this.nCachedObjects_=i;},subscribe_:function(d,e){var f=this._bindingsIndicesByPath,i=f[d],j=this._bindings;if(i!==undefined)return j[i];var k=this._paths,m=this._parsedPaths,n=this._objects,u=n.length,v=this.nCachedObjects_,B=new Array(u);i=j.length;f[d]=i;k.push(d);m.push(e);j.push(B);for(var C=v,J=n.length;C!==J;++C){var E=n[C];B[C]=new THREE.PropertyBinding(E,d,e);}return B;},unsubscribe_:function(d){var e=this._bindingsIndicesByPath,f=e[d];if(f!==undefined){var i=this._paths,j=this._parsedPaths,k=this._bindings,m=k.length-1,n=k[m],u=d[m];e[u]=f;k[f]=n;k.pop();j[f]=j[m];j.pop();i[f]=i[m];i.pop();}}};THREE.AnimationUtils={arraySlice:function(d,e,f){if(THREE.AnimationUtils.isTypedArray(d)){return new d.constructor(d.subarray(e,f));}return d.slice(e,f);},convertArray:function(d,e,f){if(!d||!f&&d.constructor===e)return d;if(typeof e.BYTES_PER_ELEMENT===f7d.D3){return new e(d);}return Array.prototype.slice.call(d);},isTypedArray:function(d){return ArrayBuffer.isView(d)&&!(d instanceof DataView);},getKeyframeOrder:function(f){function i(d,e){return f[d]-f[e];}var j=f.length,k=new Array(j);for(var m=0;m!==j;++m)k[m]=m;k.sort(i);return k;},sortedArray:function(d,e,f){var i=d.length,j=new d.constructor(i);for(var k=0,m=0;m!==i;++k){var n=f[k]*e;for(var u=0;u!==e;++u){j[m++]=d[n+u];}}return j;},flattenJSON:function(d,e,f,i){var j=1,k=d[0];while(k!==undefined&&k[i]===undefined){k=d[j++];}if(k===undefined)return ;var m=k[i];if(m===undefined)return ;if(Array.isArray(m)){do {m=k[i];if(m!==undefined){e.push(k.time);f.push.apply(f,m);}k=d[j++];}while(k!==undefined);}else if(m.toArray!==undefined){do {m=k[i];if(m!==undefined){e.push(k.time);m.toArray(f,f.length);}k=d[j++];}while(k!==undefined);}else{do {m=k[i];if(m!==undefined){e.push(k.time);f.push(m);}k=d[j++];}while(k!==undefined);}}};THREE.KeyframeTrack=function(d,e,f,i){if(d===undefined)throw  new Error("track name is undefined");if(e===undefined||e.length===0){throw  new Error("no keyframes in track named "+d);}this.name=d;this.times=THREE.AnimationUtils.convertArray(e,this.TimeBufferType);this.values=THREE.AnimationUtils.convertArray(f,this.ValueBufferType);this.setInterpolation(i||this.DefaultInterpolation);this.validate();this.optimize();};THREE.KeyframeTrack.prototype={constructor:THREE.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:THREE.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(d){return new THREE.DiscreteInterpolant(this.times,this.values,this.getValueSize(),d);},InterpolantFactoryMethodLinear:function(d){return new THREE.LinearInterpolant(this.times,this.values,this.getValueSize(),d);},InterpolantFactoryMethodSmooth:function(d){return new THREE.CubicInterpolant(this.times,this.values,this.getValueSize(),d);},setInterpolation:function(d){var e=undefined;switch(d){case THREE.InterpolateDiscrete:e=this.InterpolantFactoryMethodDiscrete;break;case THREE.InterpolateLinear:e=this.InterpolantFactoryMethodLinear;break;case THREE.InterpolateSmooth:e=this.InterpolantFactoryMethodSmooth;break;}if(e===undefined){var f="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===undefined){if(d!==this.DefaultInterpolation){this.setInterpolation(this.DefaultInterpolation);}else{throw  new Error(f);}}console.warn(f);return ;}this.createInterpolant=e;},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return THREE.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return THREE.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return THREE.InterpolateSmooth;}},getValueSize:function(){return this.values.length/this.times.length;},shift:function(d){if(d!==f7d.j1){var e=this.times;for(var f=0,i=e.length;f!==i;++f){e[f]+=d;}}return this;},scale:function(d){if(d!==f7d.Z3){var e=this.times;for(var f=0,i=e.length;f!==i;++f){e[f]*=d;}}return this;},trim:function(d,e){var f=this.times,i=f.length,j=0,k=i-1;while(j!==i&&f[j]<d)++j;while(k!==-1&&f[k]>e)--k;++k;if(j!==0||k!==i){if(j>=k)k=Math.max(k,1),j=k-1;var m=this.getValueSize();this.times=THREE.AnimationUtils.arraySlice(f,j,k);this.values=THREE.AnimationUtils.arraySlice(this.values,j*m,k*m);}return this;},validate:function(){var d=f7d.k3,e=this.getValueSize();if(e-Math.floor(e)!==0){console.error("invalid value size in track",this);d=f7d.a4;}var f=this.times,i=this.values,j=f.length;if(j===0){console.error("track is empty",this);d=f7d.a4;}var k=f7d.h3;for(var m=0;m!==j;m++){var n=f[m];if(typeof n===f7d.D3&&isNaN(n)){console.error("time is not a valid number",this,m,n);d=f7d.a4;break;}if(k!==f7d.h3&&k>n){console.error("out of order keys",this,m,n,k);d=f7d.a4;break;}k=n;}if(i!==undefined){if(THREE.AnimationUtils.isTypedArray(i)){for(var m=0,u=i.length;m!==u;++m){var v=i[m];if(isNaN(v)){console.error("value is not a valid number",this,m,v);d=f7d.a4;break;}}}}return d;},optimize:function(){var d=this.times,e=this.values,f=this.getValueSize(),i=1;for(var j=1,k=d.length-1;j<=k;++j){var m=f7d.a4,n=d[j],u=d[j+1];if(n!==u&&(j!==1||n!==n[0])){var v=j*f,B=v-f,C=v+f;for(var J=0;J!==f;++J){var E=e[v+J];if(E!==e[B+J]||E!==e[C+J]){m=f7d.k3;break;}}}if(m){if(j!==i){d[i]=d[j];var Q=j*f,T=i*f;for(var J=0;J!==f;++J){e[T+J]=e[Q+J];}}++i;}}if(i!==d.length){this.times=THREE.AnimationUtils.arraySlice(d,0,i);this.values=THREE.AnimationUtils.arraySlice(e,0,i*f);}return this;}};Object.assign(THREE.KeyframeTrack,{parse:function(d){if(d.type===undefined){throw  new Error("track type undefined, can not parse");}var e=THREE.KeyframeTrack._getTrackTypeForValueTypeName(d.type);if(d.times===undefined){console.warn("legacy JSON format detected, converting");var f=[],i=[];THREE.AnimationUtils.flattenJSON(d.keys,f,i,'value');d.times=f;d.values=i;}if(e.parse!==undefined){return e.parse(d);}else{return new e(d.name,d.times,d.values,d.interpolation);}},toJSON:function(d){var e=d.constructor,f;if(e.toJSON!==undefined){f=e.toJSON(d);}else{f={'name':d.name,'times':THREE.AnimationUtils.convertArray(d.times,Array),'values':THREE.AnimationUtils.convertArray(d.values,Array)};var i=d.getInterpolation();if(i!==d.DefaultInterpolation){f.interpolation=i;}}f.type=d.ValueTypeName;return f;},_getTrackTypeForValueTypeName:function(d){switch(d.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return THREE.NumberKeyframeTrack;case "vector":case "vector2":case "vector3":case "vector4":return THREE.VectorKeyframeTrack;case "color":return THREE.ColorKeyframeTrack;case "quaternion":return THREE.QuaternionKeyframeTrack;case "bool":case "boolean":return THREE.BooleanKeyframeTrack;case "string":return THREE.StringKeyframeTrack;};throw  new Error("Unsupported typeName: "+d);}});THREE.PropertyBinding=function(d,e,f){this.path=e;this.parsedPath=f||THREE.PropertyBinding.parseTrackName(e);this.node=THREE.PropertyBinding.findNode(d,this.parsedPath.nodeName)||d;this.rootNode=d;};THREE.PropertyBinding.prototype={constructor:THREE.PropertyBinding,getValue:function getValue_unbound(d,e){this.bind();this.getValue(d,e);},setValue:function getValue_unbound(d,e){this.bind();this.setValue(d,e);},bind:function(){var d=" but it wasn't found.",e=this.node,f=this.parsedPath,i=f.objectName,j=f.propertyName,k=f.propertyIndex;if(!e){e=THREE.PropertyBinding.findNode(this.rootNode,f.nodeName)||this.rootNode;this.node=e;}this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(!e){console.error("  trying to update node for track: "+this.path+d);return ;}if(i){var m=f.objectIndex;switch(i){case 'materials':if(!e.material){console.error('  can not bind to material as node does not have a material',this);return ;}if(!e.material.materials){console.error('  can not bind to material.materials as node.material does not have a materials array',this);return ;}e=e.material.materials;break;case 'bones':if(!e.skeleton){console.error('  can not bind to bones as node does not have a skeleton',this);return ;}e=e.skeleton.bones;for(var n=0;n<e.length;n++){if(e[n].name===m){m=n;break;}}break;default:if(e[i]===undefined){console.error('  can not bind to objectName of node, undefined',this);return ;}e=e[i];}if(m!==undefined){if(e[m]===undefined){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,e);return ;}e=e[m];}}var u=e[j];if(!u){var v=f.nodeName;console.error("  trying to update property for track: "+v+'.'+j+d,e);return ;}var B=this.Versioning.None;if(e.needsUpdate!==undefined){B=this.Versioning.NeedsUpdate;this.targetObject=e;}else if(e.matrixWorldNeedsUpdate!==undefined){B=this.Versioning.MatrixWorldNeedsUpdate;this.targetObject=e;}var C=this.BindingType.Direct;if(k!==undefined){if(j==="morphTargetInfluences"){if(!e.geometry){console.error('  can not bind to morphTargetInfluences becasuse node does not have a geometry',this);return ;}if(!e.geometry.morphTargets){console.error('  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets',this);return ;}for(var n=0;n<this.node.geometry.morphTargets.length;n++){if(e.geometry.morphTargets[n].name===k){k=n;break;}}}C=this.BindingType.ArrayElement;this.resolvedProperty=u;this.propertyIndex=k;}else if(u.fromArray!==undefined&&u.toArray!==undefined){C=this.BindingType.HasFromToArray;this.resolvedProperty=u;}else if(u.length!==undefined){C=this.BindingType.EntireArray;this.resolvedProperty=u;}else{this.propertyName=j;}this.getValue=this.GetterByBindingType[C];this.setValue=this.SetterByBindingTypeAndVersioning[C][B];},unbind:function(){this.node=f7d.h3;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound;}};Object.assign(THREE.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:THREE.PropertyBinding.prototype.getValue,_setValue_unbound:THREE.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function getValue_direct(d,e){d[e]=this.node[this.propertyName];},function getValue_array(d,e){var f=this.resolvedProperty;for(var i=0,j=f.length;i!==j;++i){d[e++]=f[i];}},function getValue_arrayElement(d,e){d[e]=this.resolvedProperty[this.propertyIndex];},function getValue_toArray(d,e){this.resolvedProperty.toArray(d,e);}],SetterByBindingTypeAndVersioning:[[function setValue_direct(d,e){this.node[this.propertyName]=d[e];},function setValue_direct_setNeedsUpdate(d,e){this.node[this.propertyName]=d[e];this.targetObject.needsUpdate=f7d.k3;},function setValue_direct_setMatrixWorldNeedsUpdate(d,e){this.node[this.propertyName]=d[e];this.targetObject.matrixWorldNeedsUpdate=f7d.k3;}],[function setValue_array(d,e){var f=this.resolvedProperty;for(var i=0,j=f.length;i!==j;++i){f[i]=d[e++];}},function setValue_array_setNeedsUpdate(d,e){var f=this.resolvedProperty;for(var i=0,j=f.length;i!==j;++i){f[i]=d[e++];}this.targetObject.needsUpdate=f7d.k3;},function setValue_array_setMatrixWorldNeedsUpdate(d,e){var f=this.resolvedProperty;for(var i=0,j=f.length;i!==j;++i){f[i]=d[e++];}this.targetObject.matrixWorldNeedsUpdate=f7d.k3;}],[function setValue_arrayElement(d,e){this.resolvedProperty[this.propertyIndex]=d[e];},function setValue_arrayElement_setNeedsUpdate(d,e){this.resolvedProperty[this.propertyIndex]=d[e];this.targetObject.needsUpdate=f7d.k3;},function setValue_arrayElement_setMatrixWorldNeedsUpdate(d,e){this.resolvedProperty[this.propertyIndex]=d[e];this.targetObject.matrixWorldNeedsUpdate=f7d.k3;}],[function setValue_fromArray(d,e){this.resolvedProperty.fromArray(d,e);},function setValue_fromArray_setNeedsUpdate(d,e){this.resolvedProperty.fromArray(d,e);this.targetObject.needsUpdate=f7d.k3;},function setValue_fromArray_setMatrixWorldNeedsUpdate(d,e){this.resolvedProperty.fromArray(d,e);this.targetObject.matrixWorldNeedsUpdate=f7d.k3;}]]});THREE.PropertyBinding.Composite=function(d,e,f){var i=f||THREE.PropertyBinding.parseTrackName(e);this._targetGroup=d;this._bindings=d.subscribe_(e,i);};THREE.PropertyBinding.Composite.prototype={constructor:THREE.PropertyBinding.Composite,getValue:function(d,e){this.bind();var f=this._targetGroup.nCachedObjects_,i=this._bindings[f];if(i!==undefined)i.getValue(d,e);},setValue:function(d,e){var f=this._bindings;for(var i=this._targetGroup.nCachedObjects_,j=f.length;i!==j;++i){f[i].setValue(d,e);}},bind:function(){var d=this._bindings;for(var e=this._targetGroup.nCachedObjects_,f=d.length;e!==f;++e){d[e].bind();}},unbind:function(){var d=this._bindings;for(var e=this._targetGroup.nCachedObjects_,f=d.length;e!==f;++e){d[e].unbind();}}};THREE.PropertyBinding.create=function(d,e,f){if(!(d instanceof THREE.AnimationObjectGroup)){return new THREE.PropertyBinding(d,e,f);}else{return new THREE.PropertyBinding.Composite(d,e,f);}};THREE.PropertyBinding.parseTrackName=function(d){var e=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,f=e.exec(d);if(!f){throw  new Error("cannot parse trackName at all: "+d);}if(f.index===e.lastIndex){e.lastIndex++;}var i={nodeName:f[3],objectName:f[5],objectIndex:f[7],propertyName:f[9],propertyIndex:f[11]};if(i.propertyName===f7d.h3||i.propertyName.length===0){throw  new Error("can not parse propertyName from trackName: "+d);}return i;};THREE.PropertyBinding.findNode=function(j,k){if(!k||k===""||k==="root"||k==="."||k===-1||k===j.name||k===j.uuid){return j;}if(j.skeleton){var m=function(d){for(var e=0;e<d.bones.length;e++){var f=d.bones[e];if(f.name===k){return f;}}return f7d.h3;},n=m(j.skeleton);if(n){return n;}}if(j.children){var u=function(d){for(var e=0;e<d.length;e++){var f=d[e];if(f.name===k||f.uuid===k){return f;}var i=u(f.children);if(i)return i;}return f7d.h3;},v=u(j.children);if(v){return v;}}return f7d.h3;};THREE.PropertyMixer=function(d,e,f){this.binding=d;this.valueSize=f;var i=Float64Array,j;switch(e){case 'quaternion':j=this._slerp;break;case f7d.U1:case 'bool':i=Array,j=this._select;break;default:j=this._lerp;}this.buffer=new i(f*4);this._mixBufferRegion=j;this.cumulativeWeight=0;this.useCount=0;this.referenceCount=0;};THREE.PropertyMixer.prototype={constructor:THREE.PropertyMixer,accumulate:function(d,e){var f=this.buffer,i=this.valueSize,j=d*i+i,k=this.cumulativeWeight;if(k===0){for(var m=0;m!==i;++m){f[j+m]=f[m];}k=e;}else{k+=e;var n=e/k;this._mixBufferRegion(f,j,0,n,i);}this.cumulativeWeight=k;},apply:function(d){var e=this.valueSize,f=this.buffer,i=d*e+e,j=this.cumulativeWeight,k=this.binding;this.cumulativeWeight=0;if(j<1){var m=e*3;this._mixBufferRegion(f,i,m,1-j,e);}for(var n=e,u=e+e;n!==u;++n){if(f[n]!==f[n+e]){k.setValue(f,i);break;}}},saveOriginalState:function(){var d=this.binding,e=this.buffer,f=this.valueSize,i=f*3;d.getValue(e,i);for(var j=f,k=i;j!==k;++j){e[j]=e[i+(j%f)];}this.cumulativeWeight=0;},restoreOriginalState:function(){var d=this.valueSize*3;this.binding.setValue(this.buffer,d);},_select:function(d,e,f,i,j){if(i>=f7d.h1){for(var k=0;k!==j;++k){d[e+k]=d[f+k];}}},_slerp:function(d,e,f,i,j){THREE.Quaternion.slerpFlat(d,e,d,e,d,f,i);},_lerp:function(d,e,f,i,j){var k=1-i;for(var m=0;m!==j;++m){var n=e+m;d[n]=d[n]*k+d[f+m]*i;}}};THREE.BooleanKeyframeTrack=function(d,e,f){THREE.KeyframeTrack.call(this,d,e,f);};THREE.BooleanKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.BooleanKeyframeTrack,ValueTypeName:'bool',ValueBufferType:Array,DefaultInterpolation:THREE.InterpolateDiscrete,InterpolantFactoryMethodLinear:undefined,InterpolantFactoryMethodSmooth:undefined});THREE.ColorKeyframeTrack=function(d,e,f,i){THREE.KeyframeTrack.call(this,d,e,f,i);};THREE.ColorKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.ColorKeyframeTrack,ValueTypeName:f7d.V1});THREE.NumberKeyframeTrack=function(d,e,f,i){THREE.KeyframeTrack.call(this,d,e,f,i);};THREE.NumberKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.NumberKeyframeTrack,ValueTypeName:f7d.D3,});THREE.QuaternionKeyframeTrack=function(d,e,f,i){THREE.KeyframeTrack.call(this,d,e,f,i);};THREE.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.QuaternionKeyframeTrack,ValueTypeName:'quaternion',DefaultInterpolation:THREE.InterpolateLinear,InterpolantFactoryMethodLinear:function(d){return new THREE.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),d);},InterpolantFactoryMethodSmooth:undefined});THREE.StringKeyframeTrack=function(d,e,f,i){THREE.KeyframeTrack.call(this,d,e,f,i);};THREE.StringKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.StringKeyframeTrack,ValueTypeName:f7d.U1,ValueBufferType:Array,DefaultInterpolation:THREE.InterpolateDiscrete,InterpolantFactoryMethodLinear:undefined,InterpolantFactoryMethodSmooth:undefined});THREE.VectorKeyframeTrack=function(d,e,f,i){THREE.KeyframeTrack.call(this,d,e,f,i);};THREE.VectorKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.VectorKeyframeTrack,ValueTypeName:'vector'});THREE.Audio=function(d){THREE.Object3D.call(this);this.type='Audio';this.context=d.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(d.getInput());this.autoplay=f7d.a4;this.startTime=0;this.playbackRate=1;this.isPlaying=f7d.a4;this.hasPlaybackControl=f7d.k3;this.sourceType='empty';this.filter=f7d.h3;};THREE.Audio.prototype=Object.create(THREE.Object3D.prototype);THREE.Audio.prototype.constructor=THREE.Audio;THREE.Audio.prototype.getOutput=function(){return this.gain;};THREE.Audio.prototype.setNodeSource=function(d){this.hasPlaybackControl=f7d.a4;this.sourceType='audioNode';this.source=d;this.connect();return this;};THREE.Audio.prototype.setBuffer=function(d){var e=this;e.source.buffer=d;e.sourceType='buffer';if(e.autoplay)e.play();return this;};THREE.Audio.prototype.play=function(){if(this.isPlaying===f7d.k3){console.warn('THREE.Audio: Audio is already playing.');return ;}if(this.hasPlaybackControl===f7d.a4){console.warn(f7d.h4);return ;}var d=this.context.createBufferSource();d.buffer=this.source.buffer;d.loop=this.source.loop;d.onended=this.source.onended;d.start(0,this.startTime);d.playbackRate.value=this.playbackRate;this.isPlaying=f7d.k3;this.source=d;this.connect();};THREE.Audio.prototype.pause=function(){if(this.hasPlaybackControl===f7d.a4){console.warn(f7d.h4);return ;}this.source.stop();this.startTime=this.context.currentTime;};THREE.Audio.prototype.stop=function(){if(this.hasPlaybackControl===f7d.a4){console.warn(f7d.h4);return ;}this.source.stop();this.startTime=0;};THREE.Audio.prototype.connect=function(){if(this.filter!==f7d.h3){this.source.connect(this.filter);this.filter.connect(this.getOutput());}else{this.source.connect(this.getOutput());}};THREE.Audio.prototype.disconnect=function(){if(this.filter!==f7d.h3){this.source.disconnect(this.filter);this.filter.disconnect(this.getOutput());}else{this.source.disconnect(this.getOutput());}};THREE.Audio.prototype.getFilter=function(){return this.filter;};THREE.Audio.prototype.setFilter=function(d){if(d===undefined)d=f7d.h3;if(this.isPlaying===f7d.k3){this.disconnect();this.filter=d;this.connect();}else{this.filter=d;}};THREE.Audio.prototype.setPlaybackRate=function(d){if(this.hasPlaybackControl===f7d.a4){console.warn(f7d.h4);return ;}this.playbackRate=d;if(this.isPlaying===f7d.k3){this.source.playbackRate.value=this.playbackRate;}};THREE.Audio.prototype.getPlaybackRate=function(){return this.playbackRate;};THREE.Audio.prototype.onEnded=function(){this.isPlaying=f7d.a4;};THREE.Audio.prototype.setLoop=function(d){if(this.hasPlaybackControl===f7d.a4){console.warn(f7d.h4);return ;}this.source.loop=d;};THREE.Audio.prototype.getLoop=function(){if(this.hasPlaybackControl===f7d.a4){console.warn(f7d.h4);return f7d.a4;}return this.source.loop;};THREE.Audio.prototype.setVolume=function(d){this.gain.gain.value=d;};THREE.Audio.prototype.getVolume=function(){return this.gain.gain.value;};THREE.AudioAnalyser=function(d,e){this.analyser=d.context.createAnalyser();this.analyser.fftSize=e!==undefined?e:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);d.getOutput().connect(this.analyser);};THREE.AudioAnalyser.prototype={constructor:THREE.AudioAnalyser,getData:function(){this.analyser.getByteFrequencyData(this.data);return this.data;}};Object.defineProperty(THREE,'AudioContext',{get:(function(){var d;return function(){if(d===undefined){d=new (window.AudioContext||window.webkitAudioContext)();}return d;};})()});THREE.PositionalAudio=function(d){THREE.Audio.call(this,d);this.panner=this.context.createPanner();this.panner.connect(this.gain);};THREE.PositionalAudio.prototype=Object.create(THREE.Audio.prototype);THREE.PositionalAudio.prototype.constructor=THREE.PositionalAudio;THREE.PositionalAudio.prototype.getOutput=function(){return this.panner;};THREE.PositionalAudio.prototype.setRefDistance=function(d){this.panner.refDistance=d;};THREE.PositionalAudio.prototype.getRefDistance=function(){return this.panner.refDistance;};THREE.PositionalAudio.prototype.setRolloffFactor=function(d){this.panner.rolloffFactor=d;};THREE.PositionalAudio.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor;};THREE.PositionalAudio.prototype.setDistanceModel=function(d){this.panner.distanceModel=d;};THREE.PositionalAudio.prototype.getDistanceModel=function(){return this.panner.distanceModel;};THREE.PositionalAudio.prototype.setMaxDistance=function(d){this.panner.maxDistance=d;};THREE.PositionalAudio.prototype.getMaxDistance=function(){return this.panner.maxDistance;};THREE.PositionalAudio.prototype.updateMatrixWorld=(function(){var e=new THREE.Vector3();return function f(d){THREE.Object3D.prototype.updateMatrixWorld.call(this,d);e.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(e.x,e.y,e.z);};})();THREE.AudioListener=function(){THREE.Object3D.call(this);this.type='AudioListener';this.context=THREE.AudioContext;this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=f7d.h3;};THREE.AudioListener.prototype=Object.create(THREE.Object3D.prototype);THREE.AudioListener.prototype.constructor=THREE.AudioListener;THREE.AudioListener.prototype.getInput=function(){return this.gain;};THREE.AudioListener.prototype.removeFilter=function(){if(this.filter!==f7d.h3){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination);this.gain.connect(this.context.destination);this.filter=f7d.h3;}};THREE.AudioListener.prototype.setFilter=function(d){if(this.filter!==f7d.h3){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination);}else{this.gain.disconnect(this.context.destination);}this.filter=d;this.gain.connect(this.filter);this.filter.connect(this.context.destination);};THREE.AudioListener.prototype.getFilter=function(){return this.filter;};THREE.AudioListener.prototype.setMasterVolume=function(d){this.gain.gain.value=d;};THREE.AudioListener.prototype.getMasterVolume=function(){return this.gain.gain.value;};THREE.AudioListener.prototype.updateMatrixWorld=(function(){var i=new THREE.Vector3(),j=new THREE.Quaternion(),k=new THREE.Vector3(),m=new THREE.Vector3();return function n(d){THREE.Object3D.prototype.updateMatrixWorld.call(this,d);var e=this.context.listener,f=this.up;this.matrixWorld.decompose(i,j,k);m.set(0,0,-1).applyQuaternion(j);e.setPosition(i.x,i.y,i.z);e.setOrientation(m.x,m.y,m.z,f.x,f.y,f.z);};})();THREE.Camera=function(){THREE.Object3D.call(this);this.type='Camera';this.matrixWorldInverse=new THREE.Matrix4();this.projectionMatrix=new THREE.Matrix4();};THREE.Camera.prototype=Object.create(THREE.Object3D.prototype);THREE.Camera.prototype.constructor=THREE.Camera;THREE.Camera.prototype.getWorldDirection=function(){var f=new THREE.Quaternion();return function(d){var e=d||new THREE.Vector3();this.getWorldQuaternion(f);return e.set(0,0,-1).applyQuaternion(f);};}();THREE.Camera.prototype.lookAt=function(){var e=new THREE.Matrix4();return function(d){e.lookAt(this.position,d,this.up);this.quaternion.setFromRotationMatrix(e);};}();THREE.Camera.prototype.clone=function(){return new this.constructor().copy(this);};THREE.Camera.prototype.copy=function(d){THREE.Object3D.prototype.copy.call(this,d);this.matrixWorldInverse.copy(d.matrixWorldInverse);this.projectionMatrix.copy(d.projectionMatrix);return this;};THREE.CubeCamera=function(j,k,m){THREE.Object3D.call(this);this.type='CubeCamera';var n=90,u=1,v=new THREE.PerspectiveCamera(n,u,j,k);v.up.set(0,-1,0);v.lookAt(new THREE.Vector3(1,0,0));this.add(v);var B=new THREE.PerspectiveCamera(n,u,j,k);B.up.set(0,-1,0);B.lookAt(new THREE.Vector3(-1,0,0));this.add(B);var C=new THREE.PerspectiveCamera(n,u,j,k);C.up.set(0,0,1);C.lookAt(new THREE.Vector3(0,1,0));this.add(C);var J=new THREE.PerspectiveCamera(n,u,j,k);J.up.set(0,0,-1);J.lookAt(new THREE.Vector3(0,-1,0));this.add(J);var E=new THREE.PerspectiveCamera(n,u,j,k);E.up.set(0,-1,0);E.lookAt(new THREE.Vector3(0,0,1));this.add(E);var Q=new THREE.PerspectiveCamera(n,u,j,k);Q.up.set(0,-1,0);Q.lookAt(new THREE.Vector3(0,0,-1));this.add(Q);var T={format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter};this.renderTarget=new THREE.WebGLRenderTargetCube(m,m,T);this.updateCubeMap=function(d,e){if(this.parent===f7d.h3)this.updateMatrixWorld();var f=this.renderTarget,i=f.texture.generateMipmaps;f.texture.generateMipmaps=f7d.a4;f.activeCubeFace=0;d.render(e,v,f);f.activeCubeFace=1;d.render(e,B,f);f.activeCubeFace=2;d.render(e,C,f);f.activeCubeFace=3;d.render(e,J,f);f.activeCubeFace=4;d.render(e,E,f);f.texture.generateMipmaps=i;f.activeCubeFace=5;d.render(e,Q,f);d.setRenderTarget(f7d.h3);};};THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype);THREE.CubeCamera.prototype.constructor=THREE.CubeCamera;THREE.OrthographicCamera=function(d,e,f,i,j,k){THREE.Camera.call(this);this.type=f7d.F;this.zoom=1;this.left=d;this.right=e;this.top=f;this.bottom=i;this.near=(j!==undefined)?j:0.1;this.far=(k!==undefined)?k:2000;this.updateProjectionMatrix();};THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype);THREE.OrthographicCamera.prototype.constructor=THREE.OrthographicCamera;THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){var d=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),f=(this.right+this.left)/2,i=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(f-d,f+d,i+e,i-e,this.near,this.far);};THREE.OrthographicCamera.prototype.copy=function(d){THREE.Camera.prototype.copy.call(this,d);this.left=d.left;this.right=d.right;this.top=d.top;this.bottom=d.bottom;this.near=d.near;this.far=d.far;this.zoom=d.zoom;return this;};THREE.OrthographicCamera.prototype.toJSON=function(d){var e=THREE.Object3D.prototype.toJSON.call(this,d);e.object.zoom=this.zoom;e.object.left=this.left;e.object.right=this.right;e.object.top=this.top;e.object.bottom=this.bottom;e.object.near=this.near;e.object.far=this.far;return e;};THREE.PerspectiveCamera=function(d,e,f,i){THREE.Camera.call(this);this.type=f7d.Y0;this.fov=d!==undefined?d:50;this.zoom=1;this.near=f!==undefined?f:0.1;this.far=i!==undefined?i:2000;this.focus=10;this.aspect=e!==undefined?e:1;this.view=f7d.h3;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix();};THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype);THREE.PerspectiveCamera.prototype.constructor=THREE.PerspectiveCamera;THREE.PerspectiveCamera.prototype.setLens=function(d,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. "+"Use .setFocalLength and .filmGauge for a photographic setup.");if(e!==undefined)this.filmGauge=e;this.setFocalLength(d);};THREE.PerspectiveCamera.prototype.setFocalLength=function(d){var e=f7d.h1*this.getFilmHeight()/d;this.fov=THREE.Math.RAD2DEG*2*Math.atan(e);this.updateProjectionMatrix();};THREE.PerspectiveCamera.prototype.getFocalLength=function(){var d=Math.tan(THREE.Math.DEG2RAD*f7d.h1*this.fov);return f7d.h1*this.getFilmHeight()/d;};THREE.PerspectiveCamera.prototype.getEffectiveFOV=function(){return THREE.Math.RAD2DEG*2*Math.atan(Math.tan(THREE.Math.DEG2RAD*f7d.h1*this.fov)/this.zoom);};THREE.PerspectiveCamera.prototype.getFilmWidth=function(){return this.filmGauge*Math.min(this.aspect,1);};THREE.PerspectiveCamera.prototype.getFilmHeight=function(){return this.filmGauge/Math.max(this.aspect,1);};THREE.PerspectiveCamera.prototype.setViewOffset=function(d,e,f,i,j,k){this.aspect=d/e;this.view={fullWidth:d,fullHeight:e,offsetX:f,offsetY:i,width:j,height:k};this.updateProjectionMatrix();};THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var d=this.near,e=d*Math.tan(THREE.Math.DEG2RAD*f7d.h1*this.fov)/this.zoom,f=2*e,i=this.aspect*f,j=-f7d.h1*i,k=this.view;if(k!==f7d.h3){var m=k.fullWidth,n=k.fullHeight;j+=k.offsetX*i/m;e-=k.offsetY*f/n;i*=k.width/m;f*=k.height/n;}var u=this.filmOffset;if(u!==0)j+=d*u/this.getFilmWidth();this.projectionMatrix.makeFrustum(j,j+i,e-f,e,d,this.far);};THREE.PerspectiveCamera.prototype.copy=function(d){THREE.Camera.prototype.copy.call(this,d);this.fov=d.fov;this.zoom=d.zoom;this.near=d.near;this.far=d.far;this.focus=d.focus;this.aspect=d.aspect;this.view=d.view===f7d.h3?f7d.h3:Object.assign({},d.view);this.filmGauge=d.filmGauge;this.filmOffset=d.filmOffset;return this;};THREE.PerspectiveCamera.prototype.toJSON=function(d){var e=THREE.Object3D.prototype.toJSON.call(this,d);e.object.fov=this.fov;e.object.zoom=this.zoom;e.object.near=this.near;e.object.far=this.far;e.object.focus=this.focus;e.object.aspect=this.aspect;if(this.view!==f7d.h3)e.object.view=Object.assign({},this.view);e.object.filmGauge=this.filmGauge;e.object.filmOffset=this.filmOffset;return e;};THREE.StereoCamera=function(){this.type='StereoCamera';this.aspect=1;this.cameraL=new THREE.PerspectiveCamera();this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=f7d.a4;this.cameraR=new THREE.PerspectiveCamera();this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=f7d.a4;};THREE.StereoCamera.prototype={constructor:THREE.StereoCamera,update:(function(){var u,v,B,C,J,E=new THREE.Matrix4(),Q=new THREE.Matrix4();return function T(d){var e=u!==d.focus||v!==d.fov||B!==d.aspect*this.aspect||C!==d.near||J!==d.far;if(e){u=d.focus;v=d.fov;B=d.aspect*this.aspect;C=d.near;J=d.far;var f=d.projectionMatrix.clone(),i=0.064/2,j=i*C/u,k=C*Math.tan(THREE.Math.DEG2RAD*v*f7d.h1),m,n;Q.elements[12]=-i;E.elements[12]=i;m=-k*B+j;n=k*B+j;f.elements[0]=2*C/(n-m);f.elements[8]=(n+m)/(n-m);this.cameraL.projectionMatrix.copy(f);m=-k*B-j;n=k*B-j;f.elements[0]=2*C/(n-m);f.elements[8]=(n+m)/(n-m);this.cameraR.projectionMatrix.copy(f);}this.cameraL.matrixWorld.copy(d.matrixWorld).multiply(Q);this.cameraR.matrixWorld.copy(d.matrixWorld).multiply(E);};})()};THREE.Light=function(d,e){THREE.Object3D.call(this);this.type='Light';this.color=new THREE.Color(d);this.intensity=e!==undefined?e:1;this.receiveShadow=undefined;};THREE.Light.prototype=Object.create(THREE.Object3D.prototype);THREE.Light.prototype.constructor=THREE.Light;THREE.Light.prototype.copy=function(d){THREE.Object3D.prototype.copy.call(this,d);this.color.copy(d.color);this.intensity=d.intensity;return this;};THREE.Light.prototype.toJSON=function(d){var e=THREE.Object3D.prototype.toJSON.call(this,d);e.object.color=this.color.getHex();e.object.intensity=this.intensity;if(this.groundColor!==undefined)e.object.groundColor=this.groundColor.getHex();if(this.distance!==undefined)e.object.distance=this.distance;if(this.angle!==undefined)e.object.angle=this.angle;if(this.decay!==undefined)e.object.decay=this.decay;if(this.penumbra!==undefined)e.object.penumbra=this.penumbra;return e;};THREE.LightShadow=function(d){this.camera=d;this.bias=0;this.radius=1;this.mapSize=new THREE.Vector2(512,512);this.map=f7d.h3;this.matrix=new THREE.Matrix4();};THREE.LightShadow.prototype={constructor:THREE.LightShadow,copy:function(d){this.camera=d.camera.clone();this.bias=d.bias;this.radius=d.radius;this.mapSize.copy(d.mapSize);return this;},clone:function(){return new this.constructor().copy(this);}};THREE.AmbientLight=function(d,e){THREE.Light.call(this,d,e);this.type=f7d.F2;this.castShadow=undefined;};THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype);THREE.AmbientLight.prototype.constructor=THREE.AmbientLight;THREE.DirectionalLight=function(d,e){THREE.Light.call(this,d,e);this.type=f7d.k2;this.position.set(0,1,0);this.updateMatrix();this.target=new THREE.Object3D();this.shadow=new THREE.DirectionalLightShadow();};THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype);THREE.DirectionalLight.prototype.constructor=THREE.DirectionalLight;THREE.DirectionalLight.prototype.copy=function(d){THREE.Light.prototype.copy.call(this,d);this.target=d.target.clone();this.shadow=d.shadow.clone();return this;};THREE.DirectionalLightShadow=function(d){THREE.LightShadow.call(this,new THREE.OrthographicCamera(-5,5,5,-5,f7d.h1,500));};THREE.DirectionalLightShadow.prototype=Object.create(THREE.LightShadow.prototype);THREE.DirectionalLightShadow.prototype.constructor=THREE.DirectionalLightShadow;THREE.HemisphereLight=function(d,e,f){THREE.Light.call(this,d,f);this.type=f7d.W1;this.castShadow=undefined;this.position.set(0,1,0);this.updateMatrix();this.groundColor=new THREE.Color(e);};THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype);THREE.HemisphereLight.prototype.constructor=THREE.HemisphereLight;THREE.HemisphereLight.prototype.copy=function(d){THREE.Light.prototype.copy.call(this,d);this.groundColor.copy(d.groundColor);return this;};THREE.PointLight=function(d,e,f,i){THREE.Light.call(this,d,e);this.type=f7d.L0;this.distance=(f!==undefined)?f:0;this.decay=(i!==undefined)?i:1;this.shadow=new THREE.LightShadow(new THREE.PerspectiveCamera(90,1,f7d.h1,500));};THREE.PointLight.prototype=Object.create(THREE.Light.prototype);THREE.PointLight.prototype.constructor=THREE.PointLight;Object.defineProperty(THREE.PointLight.prototype,"power",{get:function(){return this.intensity*4*Math.PI;},set:function(d){this.intensity=d/(4*Math.PI);}});THREE.PointLight.prototype.copy=function(d){THREE.Light.prototype.copy.call(this,d);this.distance=d.distance;this.decay=d.decay;this.shadow=d.shadow.clone();return this;};THREE.SpotLight=function(d,e,f,i,j,k){THREE.Light.call(this,d,e);this.type=f7d.d3;this.position.set(0,1,0);this.updateMatrix();this.target=new THREE.Object3D();this.distance=(f!==undefined)?f:0;this.angle=(i!==undefined)?i:Math.PI/3;this.penumbra=(j!==undefined)?j:0;this.decay=(k!==undefined)?k:1;this.shadow=new THREE.SpotLightShadow();};THREE.SpotLight.prototype=Object.create(THREE.Light.prototype);THREE.SpotLight.prototype.constructor=THREE.SpotLight;Object.defineProperty(THREE.SpotLight.prototype,"power",{get:function(){return this.intensity*Math.PI;},set:function(d){this.intensity=d/Math.PI;}});THREE.SpotLight.prototype.copy=function(d){THREE.Light.prototype.copy.call(this,d);this.distance=d.distance;this.angle=d.angle;this.penumbra=d.penumbra;this.decay=d.decay;this.target=d.target.clone();this.shadow=d.shadow.clone();return this;};THREE.SpotLightShadow=function(){THREE.LightShadow.call(this,new THREE.PerspectiveCamera(50,1,f7d.h1,500));};THREE.SpotLightShadow.prototype=Object.create(THREE.LightShadow.prototype);THREE.SpotLightShadow.prototype.constructor=THREE.SpotLightShadow;THREE.SpotLightShadow.prototype.update=function(d){var e=THREE.Math.RAD2DEG*2*d.angle,f=this.mapSize.width/this.mapSize.height,i=d.distance||500,j=this.camera;if(e!==j.fov||f!==j.aspect||i!==j.far){j.fov=e;j.aspect=f;j.far=i;j.updateProjectionMatrix();}};THREE.AudioLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.AudioLoader.prototype={constructor:THREE.AudioLoader,load:function(i,j,k,m){var n=new THREE.XHRLoader(this.manager);n.setResponseType(f7d.r3);n.load(i,function(e){var f=THREE.AudioContext;f.decodeAudioData(e,function(d){j(d);});},k,m);}};THREE.Cache={enabled:f7d.a4,files:{},add:function(d,e){if(this.enabled===f7d.a4)return ;this.files[d]=e;},get:function(d){if(this.enabled===f7d.a4)return ;return this.files[d];},remove:function(d){delete  this.files[d];},clear:function(){this.files={};}};THREE.Loader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){};};THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:undefined,extractUrlBase:function(d){var e=d.split('/');if(e.length===1)return './';e.pop();return e.join('/')+'/';},initMaterials:function(d,e,f){var i=[];for(var j=0;j<d.length;++j){i[j]=this.createMaterial(d[j],e,f);}return i;},createMaterial:(function(){var b0,o0,f0;return function(v,B,C){if(b0===undefined)b0=new THREE.Color();if(o0===undefined)o0=new THREE.TextureLoader();if(f0===undefined)f0=new THREE.MaterialLoader();var J={};function E(d,e,f,i,j){var k=B+d,m=THREE.Loader.Handlers.get(k),n;if(m!==f7d.h3){n=m.load(k);}else{o0.setCrossOrigin(C);n=o0.load(k);}if(e!==undefined){n.repeat.fromArray(e);if(e[0]!==1)n.wrapS=THREE.RepeatWrapping;if(e[1]!==1)n.wrapT=THREE.RepeatWrapping;}if(f!==undefined){n.offset.fromArray(f);}if(i!==undefined){if(i[0]==='repeat')n.wrapS=THREE.RepeatWrapping;if(i[0]==='mirror')n.wrapS=THREE.MirroredRepeatWrapping;if(i[1]==='repeat')n.wrapT=THREE.RepeatWrapping;if(i[1]==='mirror')n.wrapT=THREE.MirroredRepeatWrapping;}if(j!==undefined){n.anisotropy=j;}var u=THREE.Math.generateUUID();J[u]=n;return u;}var Q={uuid:THREE.Math.generateUUID(),type:f7d.q0};for(var T in v){var N=v[T];switch(T){case 'DbgColor':case 'DbgIndex':case 'opticalDensity':case 'illumination':break;case 'DbgName':Q.name=N;break;case 'blending':Q.blending=THREE[N];break;case 'colorAmbient':case 'mapAmbient':console.warn('THREE.Loader.createMaterial:',T,'is no longer supported.');break;case 'colorDiffuse':Q.color=b0.fromArray(N).getHex();break;case 'colorSpecular':Q.specular=b0.fromArray(N).getHex();break;case 'colorEmissive':Q.emissive=b0.fromArray(N).getHex();break;case 'specularCoef':Q.shininess=N;break;case 'shading':if(N.toLowerCase()==='basic')Q.type=f7d.S3;if(N.toLowerCase()==='phong')Q.type=f7d.z3;break;case 'mapDiffuse':Q.map=E(N,v.mapDiffuseRepeat,v.mapDiffuseOffset,v.mapDiffuseWrap,v.mapDiffuseAnisotropy);break;case 'mapDiffuseRepeat':case 'mapDiffuseOffset':case 'mapDiffuseWrap':case 'mapDiffuseAnisotropy':break;case 'mapLight':Q.lightMap=E(N,v.mapLightRepeat,v.mapLightOffset,v.mapLightWrap,v.mapLightAnisotropy);break;case 'mapLightRepeat':case 'mapLightOffset':case 'mapLightWrap':case 'mapLightAnisotropy':break;case 'mapAO':Q.aoMap=E(N,v.mapAORepeat,v.mapAOOffset,v.mapAOWrap,v.mapAOAnisotropy);break;case 'mapAORepeat':case 'mapAOOffset':case 'mapAOWrap':case 'mapAOAnisotropy':break;case 'mapBump':Q.bumpMap=E(N,v.mapBumpRepeat,v.mapBumpOffset,v.mapBumpWrap,v.mapBumpAnisotropy);break;case 'mapBumpScale':Q.bumpScale=N;break;case 'mapBumpRepeat':case 'mapBumpOffset':case 'mapBumpWrap':case 'mapBumpAnisotropy':break;case 'mapNormal':Q.normalMap=E(N,v.mapNormalRepeat,v.mapNormalOffset,v.mapNormalWrap,v.mapNormalAnisotropy);break;case 'mapNormalFactor':Q.normalScale=[N,N];break;case 'mapNormalRepeat':case 'mapNormalOffset':case 'mapNormalWrap':case 'mapNormalAnisotropy':break;case 'mapSpecular':Q.specularMap=E(N,v.mapSpecularRepeat,v.mapSpecularOffset,v.mapSpecularWrap,v.mapSpecularAnisotropy);break;case 'mapSpecularRepeat':case 'mapSpecularOffset':case 'mapSpecularWrap':case 'mapSpecularAnisotropy':break;case 'mapAlpha':Q.alphaMap=E(N,v.mapAlphaRepeat,v.mapAlphaOffset,v.mapAlphaWrap,v.mapAlphaAnisotropy);break;case 'mapAlphaRepeat':case 'mapAlphaOffset':case 'mapAlphaWrap':case 'mapAlphaAnisotropy':break;case 'flipSided':Q.side=THREE.BackSide;break;case 'doubleSided':Q.side=THREE.DoubleSide;break;case 'transparency':console.warn('THREE.Loader.createMaterial: transparency has been renamed to opacity');Q.opacity=N;break;case 'depthTest':case 'depthWrite':case 'colorWrite':case 'opacity':case 'reflectivity':case 'transparent':case 'visible':case 'wireframe':Q[T]=N;break;case 'vertexColors':if(N===f7d.k3)Q.vertexColors=THREE.VertexColors;if(N==='face')Q.vertexColors=THREE.FaceColors;break;default:console.error('THREE.Loader.createMaterial: Unsupported',T,N);break;}}if(Q.type===f7d.S3)delete  Q.emissive;if(Q.type!==f7d.z3)delete  Q.specular;if(Q.opacity<1)Q.transparent=f7d.k3;f0.setTextures(J);return f0.parse(Q);};})()};THREE.Loader.Handlers={handlers:[],add:function(d,e){this.handlers.push(d,e);},get:function(d){var e=this.handlers;for(var f=0,i=e.length;f<i;f+=2){var j=e[f],k=e[f+1];if(j.test(d)){return k;}}return f7d.h3;}};THREE.XHRLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(f,i,j,k){if(this.path!==undefined)f=this.path+f;var m=this,n=THREE.Cache.get(f);if(n!==undefined){if(i){setTimeout(function(){i(n);},0);}return n;}var u=new XMLHttpRequest();u.overrideMimeType('text/plain');u.open('GET',f,f7d.k3);u.addEventListener('load',function(d){var e=d.target.response;THREE.Cache.add(f,e);if(this.status===200){if(i)i(e);m.manager.itemEnd(f);}else if(this.status===0){console.warn('THREE.XHRLoader: HTTP Status 0 received.');if(i)i(e);m.manager.itemEnd(f);}else{if(k)k(d);m.manager.itemError(f);}},f7d.a4);if(j!==undefined){u.addEventListener('progress',function(d){j(d);},f7d.a4);}u.addEventListener('error',function(d){if(k)k(d);m.manager.itemError(f);},f7d.a4);if(this.responseType!==undefined)u.responseType=this.responseType;if(this.withCredentials!==undefined)u.withCredentials=this.withCredentials;u.send(f7d.h3);m.manager.itemStart(f);return u;},setPath:function(d){this.path=d;},setResponseType:function(d){this.responseType=d;},setWithCredentials:function(d){this.withCredentials=d;}};THREE.FontLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.FontLoader.prototype={constructor:THREE.FontLoader,load:function(e,f,i,j){var k=new THREE.XHRLoader(this.manager);k.load(e,function(d){f(new THREE.Font(JSON.parse(d.substring(65,d.length-2))));},i,j);}};THREE.ImageLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(e,f,i,j){if(this.path!==undefined)e=this.path+e;var k=this,m=THREE.Cache.get(e);if(m!==undefined){k.manager.itemStart(e);if(f){setTimeout(function(){f(m);k.manager.itemEnd(e);},0);}else{k.manager.itemEnd(e);}return m;}var n=document.createElement('img');n.addEventListener('load',function(d){THREE.Cache.add(e,this);if(f)f(this);k.manager.itemEnd(e);},f7d.a4);if(i!==undefined){n.addEventListener('progress',function(d){i(d);},f7d.a4);}n.addEventListener('error',function(d){if(j)j(d);k.manager.itemError(e);},f7d.a4);if(this.crossOrigin!==undefined)n.crossOrigin=this.crossOrigin;k.manager.itemStart(e);n.src=e;return n;},setCrossOrigin:function(d){this.crossOrigin=d;},setPath:function(d){this.path=d;}};THREE.JSONLoader=function(d){if(typeof d==='boolean'){console.warn('THREE.JSONLoader: showStatus parameter has been removed from constructor.');d=undefined;}this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;this.withCredentials=f7d.a4;};THREE.JSONLoader.prototype={constructor:THREE.JSONLoader,get statusDomElement(){if(this._statusDomElement===undefined){this._statusDomElement=document.createElement('div');}console.warn('THREE.JSONLoader: .statusDomElement has been removed.');return this._statusDomElement;},load:function(m,n,u,v){var B=this,C=this.texturePath&&(typeof this.texturePath==="string")?this.texturePath:THREE.Loader.prototype.extractUrlBase(m),J=new THREE.XHRLoader(this.manager);J.setWithCredentials(this.withCredentials);J.load(m,function(d){var e='THREE.JSONLoader: ',f=JSON.parse(d),i=f.metadata;if(i!==undefined){var j=i.type;if(j!==undefined){if(j.toLowerCase()==='object'){console.error(e+m+' should be loaded with THREE.ObjectLoader instead.');return ;}if(j.toLowerCase()==='scene'){console.error(e+m+' should be loaded with THREE.SceneLoader instead.');return ;}}}var k=B.parse(f,C);n(k.geometry,k.materials);},u,v);},setTexturePath:function(d){this.texturePath=d;},parse:function(U0,i1){var E0=new THREE.Geometry(),b1=(U0.scale!==undefined)?f7d.Z3/U0.scale:f7d.Z3;n1(b1);p1();m1(b1);t1();E0.computeFaceNormals();E0.computeBoundingSphere();function n1(f){function i(d,e){return d&(1<<e);}var j,k,m,n,u,v,B,C,J,E,Q,T,N,b0,o0,f0,d0,p0,t0,x0,w0,s0,z0,y0,B0,K0,i0,X0=U0.faces,V0=U0.vertices,D0=U0.normals,N0=U0.colors,a1=0;if(U0.uvs!==undefined){for(j=0;j<U0.uvs.length;j++){if(U0.uvs[j].length)a1++;}for(j=0;j<a1;j++){E0.faceVertexUvs[j]=[];}}n=0;u=V0.length;while(n<u){p0=new THREE.Vector3();p0.x=V0[n++]*f;p0.y=V0[n++]*f;p0.z=V0[n++]*f;E0.vertices.push(p0);}n=0;u=X0.length;while(n<u){E=X0[n++];Q=i(E,0);T=i(E,1);N=i(E,3);b0=i(E,4);o0=i(E,5);f0=i(E,6);d0=i(E,7);if(Q){x0=new THREE.Face3();x0.a=X0[n];x0.b=X0[n+1];x0.c=X0[n+3];w0=new THREE.Face3();w0.a=X0[n+1];w0.b=X0[n+2];w0.c=X0[n+3];n+=4;if(T){J=X0[n++];x0.materialIndex=J;w0.materialIndex=J;}m=E0.faces.length;if(N){for(j=0;j<a1;j++){y0=U0.uvs[j];E0.faceVertexUvs[j][m]=[];E0.faceVertexUvs[j][m+1]=[];for(k=0;k<4;k++){C=X0[n++];K0=y0[C*2];i0=y0[C*2+1];B0=new THREE.Vector2(K0,i0);if(k!==2)E0.faceVertexUvs[j][m].push(B0);if(k!==0)E0.faceVertexUvs[j][m+1].push(B0);}}}if(b0){B=X0[n++]*3;x0.normal.set(D0[B++],D0[B++],D0[B]);w0.normal.copy(x0.normal);}if(o0){for(j=0;j<4;j++){B=X0[n++]*3;z0=new THREE.Vector3(D0[B++],D0[B++],D0[B]);if(j!==2)x0.vertexNormals.push(z0);if(j!==0)w0.vertexNormals.push(z0);}}if(f0){v=X0[n++];s0=N0[v];x0.color.setHex(s0);w0.color.setHex(s0);}if(d0){for(j=0;j<4;j++){v=X0[n++];s0=N0[v];if(j!==2)x0.vertexColors.push(new THREE.Color(s0));if(j!==0)w0.vertexColors.push(new THREE.Color(s0));}}E0.faces.push(x0);E0.faces.push(w0);}else{t0=new THREE.Face3();t0.a=X0[n++];t0.b=X0[n++];t0.c=X0[n++];if(T){J=X0[n++];t0.materialIndex=J;}m=E0.faces.length;if(N){for(j=0;j<a1;j++){y0=U0.uvs[j];E0.faceVertexUvs[j][m]=[];for(k=0;k<3;k++){C=X0[n++];K0=y0[C*2];i0=y0[C*2+1];B0=new THREE.Vector2(K0,i0);E0.faceVertexUvs[j][m].push(B0);}}}if(b0){B=X0[n++]*3;t0.normal.set(D0[B++],D0[B++],D0[B]);}if(o0){for(j=0;j<3;j++){B=X0[n++]*3;z0=new THREE.Vector3(D0[B++],D0[B++],D0[B]);t0.vertexNormals.push(z0);}}if(f0){v=X0[n++];t0.color.setHex(N0[v]);}if(d0){for(j=0;j<3;j++){v=X0[n++];t0.vertexColors.push(new THREE.Color(N0[v]));}}E0.faces.push(t0);}}};function p1(){var d=(U0.influencesPerVertex!==undefined)?U0.influencesPerVertex:2;if(U0.skinWeights){for(var e=0,f=U0.skinWeights.length;e<f;e+=d){var i=U0.skinWeights[e],j=(d>1)?U0.skinWeights[e+1]:0,k=(d>2)?U0.skinWeights[e+2]:0,m=(d>3)?U0.skinWeights[e+3]:0;E0.skinWeights.push(new THREE.Vector4(i,j,k,m));}}if(U0.skinIndices){for(var e=0,f=U0.skinIndices.length;e<f;e+=d){var n=U0.skinIndices[e],u=(d>1)?U0.skinIndices[e+1]:0,v=(d>2)?U0.skinIndices[e+2]:0,B=(d>3)?U0.skinIndices[e+3]:0;E0.skinIndices.push(new THREE.Vector4(n,u,v,B));}}E0.bones=U0.bones;if(E0.bones&&E0.bones.length>0&&(E0.skinWeights.length!==E0.skinIndices.length||E0.skinIndices.length!==E0.vertices.length)){console.warn('When skinning, number of vertices ('+E0.vertices.length+'), skinIndices ('+E0.skinIndices.length+'), and skinWeights ('+E0.skinWeights.length+') should match.');}};function m1(d){if(U0.morphTargets!==undefined){for(var e=0,f=U0.morphTargets.length;e<f;e++){E0.morphTargets[e]={};E0.morphTargets[e].name=U0.morphTargets[e].name;E0.morphTargets[e].vertices=[];var i=E0.morphTargets[e].vertices,j=U0.morphTargets[e].vertices;for(var k=0,m=j.length;k<m;k+=3){var n=new THREE.Vector3();n.x=j[k]*d;n.y=j[k+1]*d;n.z=j[k+2]*d;i.push(n);}}}if(U0.morphColors!==undefined&&U0.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var u=E0.faces,v=U0.morphColors[0].colors;for(var e=0,f=u.length;e<f;e++){u[e].color.fromArray(v,e*3);}}}function t1(){var d=[],e=[];if(U0.animation!==undefined){e.push(U0.animation);}if(U0.animations!==undefined){if(U0.animations.length){e=e.concat(U0.animations);}else{e.push(U0.animations);}}for(var f=0;f<e.length;f++){var i=THREE.AnimationClip.parseAnimation(e[f],E0.bones);if(i)d.push(i);}if(E0.morphTargets){var j=THREE.AnimationClip.CreateClipsFromMorphTargetSequences(E0.morphTargets,10);d=d.concat(j);}if(d.length>0)E0.animations=d;};if(U0.materials===undefined||U0.materials.length===0){return {geometry:E0};}else{var o1=THREE.Loader.prototype.initMaterials(U0.materials,i1,this.crossOrigin);return {geometry:E0,materials:o1};}}};THREE.LoadingManager=function(e,f,i){var j=this,k=f7d.a4,m=0,n=0;this.onStart=undefined;this.onLoad=e;this.onProgress=f;this.onError=i;this.itemStart=function(d){n++;if(k===f7d.a4){if(j.onStart!==undefined){j.onStart(d,m,n);}}k=f7d.k3;};this.itemEnd=function(d){m++;if(j.onProgress!==undefined){j.onProgress(d,m,n);}if(m===n){k=f7d.a4;if(j.onLoad!==undefined){j.onLoad();}}};this.itemError=function(d){if(j.onError!==undefined){j.onError(d);}};};THREE.DefaultLoadingManager=new THREE.LoadingManager();THREE.BufferGeometryLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(e,f,i,j){var k=this,m=new THREE.XHRLoader(k.manager);m.load(e,function(d){f(k.parse(JSON.parse(d)));},i,j);},parse:function(d){var e=new THREE.BufferGeometry(),f=d.data.index,i={'Int8Array':Int8Array,'Uint8Array':Uint8Array,'Uint8ClampedArray':Uint8ClampedArray,'Int16Array':Int16Array,'Uint16Array':Uint16Array,'Int32Array':Int32Array,'Uint32Array':Uint32Array,'Float32Array':Float32Array,'Float64Array':Float64Array};if(f!==undefined){var j=new i[f.type](f.array);e.setIndex(new THREE.BufferAttribute(j,1));}var k=d.data.attributes;for(var m in k){var n=k[m],j=new i[n.type](n.array);e.addAttribute(m,new THREE.BufferAttribute(j,n.itemSize,n.normalized));}var u=d.data.groups||d.data.drawcalls||d.data.offsets;if(u!==undefined){for(var v=0,B=u.length;v!==B;++v){var C=u[v];e.addGroup(C.start,C.count,C.materialIndex);}}var J=d.data.boundingSphere;if(J!==undefined){var E=new THREE.Vector3();if(J.center!==undefined){E.fromArray(J.center);}e.boundingSphere=new THREE.Sphere(E,J.radius);}return e;}};THREE.MaterialLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;this.textures={};};THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(e,f,i,j){var k=this,m=new THREE.XHRLoader(k.manager);m.load(e,function(d){f(k.parse(JSON.parse(d)));},i,j);},setTextures:function(d){this.textures=d;},getTexture:function(d){var e=this.textures;if(e[d]===undefined){console.warn('THREE.MaterialLoader: Undefined texture',d);}return e[d];},parse:function(d){var e=new THREE[d.type];if(d.uuid!==undefined)e.uuid=d.uuid;if(d.name!==undefined)e.name=d.name;if(d.color!==undefined)e.color.setHex(d.color);if(d.roughness!==undefined)e.roughness=d.roughness;if(d.metalness!==undefined)e.metalness=d.metalness;if(d.emissive!==undefined)e.emissive.setHex(d.emissive);if(d.specular!==undefined)e.specular.setHex(d.specular);if(d.shininess!==undefined)e.shininess=d.shininess;if(d.uniforms!==undefined)e.uniforms=d.uniforms;if(d.vertexShader!==undefined)e.vertexShader=d.vertexShader;if(d.fragmentShader!==undefined)e.fragmentShader=d.fragmentShader;if(d.vertexColors!==undefined)e.vertexColors=d.vertexColors;if(d.shading!==undefined)e.shading=d.shading;if(d.blending!==undefined)e.blending=d.blending;if(d.side!==undefined)e.side=d.side;if(d.opacity!==undefined)e.opacity=d.opacity;if(d.transparent!==undefined)e.transparent=d.transparent;if(d.alphaTest!==undefined)e.alphaTest=d.alphaTest;if(d.depthTest!==undefined)e.depthTest=d.depthTest;if(d.depthWrite!==undefined)e.depthWrite=d.depthWrite;if(d.colorWrite!==undefined)e.colorWrite=d.colorWrite;if(d.wireframe!==undefined)e.wireframe=d.wireframe;if(d.wireframeLinewidth!==undefined)e.wireframeLinewidth=d.wireframeLinewidth;if(d.size!==undefined)e.size=d.size;if(d.sizeAttenuation!==undefined)e.sizeAttenuation=d.sizeAttenuation;if(d.map!==undefined)e.map=this.getTexture(d.map);if(d.alphaMap!==undefined){e.alphaMap=this.getTexture(d.alphaMap);e.transparent=f7d.k3;}if(d.bumpMap!==undefined)e.bumpMap=this.getTexture(d.bumpMap);if(d.bumpScale!==undefined)e.bumpScale=d.bumpScale;if(d.normalMap!==undefined)e.normalMap=this.getTexture(d.normalMap);if(d.normalScale!==undefined){var f=d.normalScale;if(Array.isArray(f)===f7d.a4){f=[f,f];}e.normalScale=new THREE.Vector2().fromArray(f);}if(d.displacementMap!==undefined)e.displacementMap=this.getTexture(d.displacementMap);if(d.displacementScale!==undefined)e.displacementScale=d.displacementScale;if(d.displacementBias!==undefined)e.displacementBias=d.displacementBias;if(d.roughnessMap!==undefined)e.roughnessMap=this.getTexture(d.roughnessMap);if(d.metalnessMap!==undefined)e.metalnessMap=this.getTexture(d.metalnessMap);if(d.emissiveMap!==undefined)e.emissiveMap=this.getTexture(d.emissiveMap);if(d.emissiveIntensity!==undefined)e.emissiveIntensity=d.emissiveIntensity;if(d.specularMap!==undefined)e.specularMap=this.getTexture(d.specularMap);if(d.envMap!==undefined){e.envMap=this.getTexture(d.envMap);e.combine=THREE.MultiplyOperation;}if(d.reflectivity)e.reflectivity=d.reflectivity;if(d.lightMap!==undefined)e.lightMap=this.getTexture(d.lightMap);if(d.lightMapIntensity!==undefined)e.lightMapIntensity=d.lightMapIntensity;if(d.aoMap!==undefined)e.aoMap=this.getTexture(d.aoMap);if(d.aoMapIntensity!==undefined)e.aoMapIntensity=d.aoMapIntensity;if(d.materials!==undefined){for(var i=0,j=d.materials.length;i<j;i++){e.materials.push(this.parse(d.materials[i]));}}return e;}};THREE.ObjectLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;this.texturePath='';};THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(e,f,i,j){if(this.texturePath===''){this.texturePath=e.substring(0,e.lastIndexOf('/')+1);}var k=this,m=new THREE.XHRLoader(k.manager);m.load(e,function(d){k.parse(JSON.parse(d),f);},i,j);},setTexturePath:function(d){this.texturePath=d;},setCrossOrigin:function(d){this.crossOrigin=d;},parse:function(d,e){var f=this.parseGeometries(d.geometries),i=this.parseImages(d.images,function(){if(e!==undefined)e(m);}),j=this.parseTextures(d.textures,i),k=this.parseMaterials(d.materials,j),m=this.parseObject(d.object,f,k);if(d.animations){m.animations=this.parseAnimations(d.animations);}if(d.images===undefined||d.images.length===0){if(e!==undefined)e(m);}return m;},parseGeometries:function(d){var e={};if(d!==undefined){var f=new THREE.JSONLoader(),i=new THREE.BufferGeometryLoader();for(var j=0,k=d.length;j<k;j++){var m,n=d[j];switch(n.type){case f7d.l4:case f7d.Z0:m=new THREE[n.type](n.width,n.height,n.widthSegments,n.heightSegments);break;case f7d.C2:case f7d.o3:case 'CubeGeometry':m=new THREE[n.type](n.width,n.height,n.depth,n.widthSegments,n.heightSegments,n.depthSegments);break;case f7d.I2:case f7d.m0:m=new THREE[n.type](n.radius,n.segments,n.thetaStart,n.thetaLength);break;case f7d.m3:case f7d.I0:m=new THREE[n.type](n.radiusTop,n.radiusBottom,n.height,n.radialSegments,n.heightSegments,n.openEnded,n.thetaStart,n.thetaLength);break;case f7d.J2:case f7d.Q3:m=new THREE[n.type](n.radius,n.widthSegments,n.heightSegments,n.phiStart,n.phiLength,n.thetaStart,n.thetaLength);break;case f7d.n0:m=new THREE.DodecahedronGeometry(n.radius,n.detail);break;case f7d.G:m=new THREE.IcosahedronGeometry(n.radius,n.detail);break;case f7d.f2:m=new THREE.OctahedronGeometry(n.radius,n.detail);break;case f7d.A1:m=new THREE.TetrahedronGeometry(n.radius,n.detail);break;case f7d.R3:case f7d.G2:m=new THREE[n.type](n.innerRadius,n.outerRadius,n.thetaSegments,n.phiSegments,n.thetaStart,n.thetaLength);break;case f7d.j4:case f7d.a0:m=new THREE[n.type](n.radius,n.tube,n.radialSegments,n.tubularSegments,n.arc);break;case f7d.E3:case f7d.k1:m=new THREE[n.type](n.radius,n.tube,n.tubularSegments,n.radialSegments,n.p,n.q);break;case f7d.I1:case f7d.M2:m=new THREE[n.type](n.points,n.segments,n.phiStart,n.phiLength);break;case f7d.Q2:m=i.parse(n);break;case f7d.A0:m=f.parse(n.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+n.type+'"');continue;}m.uuid=n.uuid;if(n.name!==undefined)m.name=n.name;e[n.uuid]=m;}}return e;},parseMaterials:function(d,e){var f={};if(d!==undefined){var i=new THREE.MaterialLoader();i.setTextures(e);for(var j=0,k=d.length;j<k;j++){var m=i.parse(d[j]);f[m.uuid]=m;}}return f;},parseAnimations:function(d){var e=[];for(var f=0;f<d.length;f++){var i=THREE.AnimationClip.parse(d[f]);e.push(i);}return e;},parseImages:function(e,f){var i=this,j={};function k(d){i.manager.itemStart(d);return n.load(d,function(){i.manager.itemEnd(d);});}if(e!==undefined&&e.length>0){var m=new THREE.LoadingManager(f),n=new THREE.ImageLoader(m);n.setCrossOrigin(this.crossOrigin);for(var u=0,v=e.length;u<v;u++){var B=e[u],C=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(B.url)?B.url:i.texturePath+B.url;j[B.uuid]=k(C);}}return j;},parseTextures:function(e,f){function i(d){if(typeof (d)===f7d.D3)return d;console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.',d);return THREE[d];}var j={};if(e!==undefined){for(var k=0,m=e.length;k<m;k++){var n=e[k];if(n.image===undefined){console.warn('THREE.ObjectLoader: No "image" specified for',n.uuid);}if(f[n.image]===undefined){console.warn('THREE.ObjectLoader: Undefined image',n.image);}var u=new THREE.Texture(f[n.image]);u.needsUpdate=f7d.k3;u.uuid=n.uuid;if(n.name!==undefined)u.name=n.name;if(n.mapping!==undefined)u.mapping=i(n.mapping);if(n.offset!==undefined)u.offset=new THREE.Vector2(n.offset[0],n.offset[1]);if(n.repeat!==undefined)u.repeat=new THREE.Vector2(n.repeat[0],n.repeat[1]);if(n.minFilter!==undefined)u.minFilter=i(n.minFilter);if(n.magFilter!==undefined)u.magFilter=i(n.magFilter);if(n.anisotropy!==undefined)u.anisotropy=n.anisotropy;if(Array.isArray(n.wrap)){u.wrapS=i(n.wrap[0]);u.wrapT=i(n.wrap[1]);}j[n.uuid]=u;}}return j;},parseObject:function(){var E=new THREE.Matrix4();return function(e,f,i){var j;function k(d){if(f[d]===undefined){console.warn('THREE.ObjectLoader: Undefined geometry',d);}return f[d];}function m(d){if(d===undefined)return undefined;if(i[d]===undefined){console.warn('THREE.ObjectLoader: Undefined material',d);}return i[d];}switch(e.type){case 'Scene':j=new THREE.Scene();break;case f7d.Y0:j=new THREE.PerspectiveCamera(e.fov,e.aspect,e.near,e.far);if(e.focus!==undefined)j.focus=e.focus;if(e.zoom!==undefined)j.zoom=e.zoom;if(e.filmGauge!==undefined)j.filmGauge=e.filmGauge;if(e.filmOffset!==undefined)j.filmOffset=e.filmOffset;if(e.view!==undefined)j.view=Object.assign({},e.view);break;case f7d.F:j=new THREE.OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case f7d.F2:j=new THREE.AmbientLight(e.color,e.intensity);break;case f7d.k2:j=new THREE.DirectionalLight(e.color,e.intensity);break;case f7d.L0:j=new THREE.PointLight(e.color,e.intensity,e.distance,e.decay);break;case f7d.d3:j=new THREE.SpotLight(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case f7d.W1:j=new THREE.HemisphereLight(e.color,e.groundColor,e.intensity);break;case 'Mesh':var n=k(e.geometry),u=m(e.material);if(n.bones&&n.bones.length>0){j=new THREE.SkinnedMesh(n,u);}else{j=new THREE.Mesh(n,u);}break;case 'LOD':j=new THREE.LOD();break;case 'Line':j=new THREE.Line(k(e.geometry),m(e.material),e.mode);break;case 'PointCloud':case 'Points':j=new THREE.Points(k(e.geometry),m(e.material));break;case 'Sprite':j=new THREE.Sprite(m(e.material));break;case 'Group':j=new THREE.Group();break;default:j=new THREE.Object3D();}j.uuid=e.uuid;if(e.name!==undefined)j.name=e.name;if(e.matrix!==undefined){E.fromArray(e.matrix);E.decompose(j.position,j.quaternion,j.scale);}else{if(e.position!==undefined)j.position.fromArray(e.position);if(e.rotation!==undefined)j.rotation.fromArray(e.rotation);if(e.scale!==undefined)j.scale.fromArray(e.scale);}if(e.castShadow!==undefined)j.castShadow=e.castShadow;if(e.receiveShadow!==undefined)j.receiveShadow=e.receiveShadow;if(e.visible!==undefined)j.visible=e.visible;if(e.userData!==undefined)j.userData=e.userData;if(e.children!==undefined){for(var v in e.children){j.add(this.parseObject(e.children[v],f,i));}}if(e.type==='LOD'){var B=e.levels;for(var C=0;C<B.length;C++){var J=B[C],v=j.getObjectByProperty('uuid',J.object);if(v!==undefined){j.addLevel(v,J.distance);}}}return j;};}()};THREE.TextureLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(e,f,i,j){var k=new THREE.Texture(),m=new THREE.ImageLoader(this.manager);m.setCrossOrigin(this.crossOrigin);m.setPath(this.path);m.load(e,function(d){k.image=d;k.needsUpdate=f7d.k3;if(f!==undefined){f(k);}},i,j);return k;},setCrossOrigin:function(d){this.crossOrigin=d;},setPath:function(d){this.path=d;}};THREE.CubeTextureLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;};THREE.CubeTextureLoader.prototype={constructor:THREE.CubeTextureLoader,load:function(f,i,j,k){var m=new THREE.CubeTexture(),n=new THREE.ImageLoader(this.manager);n.setCrossOrigin(this.crossOrigin);n.setPath(this.path);var u=0;function v(e){n.load(f[e],function(d){m.images[e]=d;u++;if(u===6){m.needsUpdate=f7d.k3;if(i)i(m);}},undefined,k);}for(var B=0;B<f.length;++B){v(B);}return m;},setCrossOrigin:function(d){this.crossOrigin=d;},setPath:function(d){this.path=d;}};THREE.DataTextureLoader=THREE.BinaryTextureLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;this._parser=f7d.h3;};THREE.BinaryTextureLoader.prototype={constructor:THREE.BinaryTextureLoader,load:function(f,i,j,k){var m=this,n=new THREE.DataTexture(),u=new THREE.XHRLoader(this.manager);u.setResponseType(f7d.r3);u.load(f,function(d){var e=m._parser(d);if(!e)return ;if(undefined!==e.image){n.image=e.image;}else if(undefined!==e.data){n.image.width=e.width;n.image.height=e.height;n.image.data=e.data;}n.wrapS=undefined!==e.wrapS?e.wrapS:THREE.ClampToEdgeWrapping;n.wrapT=undefined!==e.wrapT?e.wrapT:THREE.ClampToEdgeWrapping;n.magFilter=undefined!==e.magFilter?e.magFilter:THREE.LinearFilter;n.minFilter=undefined!==e.minFilter?e.minFilter:THREE.LinearMipMapLinearFilter;n.anisotropy=undefined!==e.anisotropy?e.anisotropy:1;if(undefined!==e.format){n.format=e.format;}if(undefined!==e.type){n.type=e.type;}if(undefined!==e.mipmaps){n.mipmaps=e.mipmaps;}if(1===e.mipmapCount){n.minFilter=THREE.LinearFilter;}n.needsUpdate=f7d.k3;if(i)i(n,e);},j,k);return n;}};THREE.CompressedTextureLoader=function(d){this.manager=(d!==undefined)?d:THREE.DefaultLoadingManager;this._parser=f7d.h3;};THREE.CompressedTextureLoader.prototype={constructor:THREE.CompressedTextureLoader,load:function(k,m,n,u){var v=this,B=[],C=new THREE.CompressedTexture();C.image=B;var J=new THREE.XHRLoader(this.manager);J.setPath(this.path);J.setResponseType(f7d.r3);function E(f){J.load(k[f],function(d){var e=v._parser(d,f7d.k3);B[f]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps};Q+=1;if(Q===6){if(e.mipmapCount===1)C.minFilter=THREE.LinearFilter;C.format=e.format;C.needsUpdate=f7d.k3;if(m)m(C);}},n,u);}if(Array.isArray(k)){var Q=0;for(var T=0,N=k.length;T<N;++T){E(T);}}else{J.load(k,function(d){var e=v._parser(d,f7d.k3);if(e.isCubemap){var f=e.mipmaps.length/e.mipmapCount;for(var i=0;i<f;i++){B[i]={mipmaps:[]};for(var j=0;j<e.mipmapCount;j++){B[i].mipmaps.push(e.mipmaps[i*e.mipmapCount+j]);B[i].format=e.format;B[i].width=e.width;B[i].height=e.height;}}}else{C.image.width=e.width;C.image.height=e.height;C.mipmaps=e.mipmaps;}if(e.mipmapCount===1){C.minFilter=THREE.LinearFilter;}C.format=e.format;C.needsUpdate=f7d.k3;if(m)m(C);},n,u);}return C;},setPath:function(d){this.path=d;}};THREE.Material=function(){Object.defineProperty(this,f7d.Q0,{value:THREE.MaterialIdCount++});this.uuid=THREE.Math.generateUUID();this.name='';this.type='Material';this.side=THREE.FrontSide;this.opacity=1;this.transparent=f7d.a4;this.blending=THREE.NormalBlending;this.blendSrc=THREE.SrcAlphaFactor;this.blendDst=THREE.OneMinusSrcAlphaFactor;this.blendEquation=THREE.AddEquation;this.blendSrcAlpha=f7d.h3;this.blendDstAlpha=f7d.h3;this.blendEquationAlpha=f7d.h3;this.depthFunc=THREE.LessEqualDepth;this.depthTest=f7d.k3;this.depthWrite=f7d.k3;this.clippingPlanes=f7d.h3;this.clipShadows=f7d.a4;this.colorWrite=f7d.k3;this.precision=f7d.h3;this.polygonOffset=f7d.a4;this.polygonOffsetFactor=0;this.polygonOffsetUnits=0;this.alphaTest=0;this.premultipliedAlpha=f7d.a4;this.overdraw=0;this.visible=f7d.k3;this._needsUpdate=f7d.k3;};THREE.Material.prototype={constructor:THREE.Material,get needsUpdate(){return this._needsUpdate;},set needsUpdate(value){if(value===f7d.k3)this.update();this._needsUpdate=value;},setValues:function(d){if(d===undefined)return ;for(var e in d){var f=d[e];if(f===undefined){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue;}var i=this[e];if(i===undefined){console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.");continue;}if(i instanceof THREE.Color){i.set(f);}else if(i instanceof THREE.Vector3&&f instanceof THREE.Vector3){i.copy(f);}else if(e==='overdraw'){this[e]=Number(f);}else{this[e]=f;}}},toJSON:function(j){var k=j===undefined;if(k){j={textures:{},images:{}};}var m={metadata:{version:4.4,type:'Material',generator:'Material.toJSON'}};m.uuid=this.uuid;m.type=this.type;if(this.name!=='')m.name=this.name;if(this.color instanceof THREE.Color)m.color=this.color.getHex();if(this.roughness!==f7d.h1)m.roughness=this.roughness;if(this.metalness!==f7d.h1)m.metalness=this.metalness;if(this.emissive instanceof THREE.Color)m.emissive=this.emissive.getHex();if(this.specular instanceof THREE.Color)m.specular=this.specular.getHex();if(this.shininess!==undefined)m.shininess=this.shininess;if(this.map instanceof THREE.Texture)m.map=this.map.toJSON(j).uuid;if(this.alphaMap instanceof THREE.Texture)m.alphaMap=this.alphaMap.toJSON(j).uuid;if(this.lightMap instanceof THREE.Texture)m.lightMap=this.lightMap.toJSON(j).uuid;if(this.bumpMap instanceof THREE.Texture){m.bumpMap=this.bumpMap.toJSON(j).uuid;m.bumpScale=this.bumpScale;}if(this.normalMap instanceof THREE.Texture){m.normalMap=this.normalMap.toJSON(j).uuid;m.normalScale=this.normalScale.toArray();}if(this.displacementMap instanceof THREE.Texture){m.displacementMap=this.displacementMap.toJSON(j).uuid;m.displacementScale=this.displacementScale;m.displacementBias=this.displacementBias;}if(this.roughnessMap instanceof THREE.Texture)m.roughnessMap=this.roughnessMap.toJSON(j).uuid;if(this.metalnessMap instanceof THREE.Texture)m.metalnessMap=this.metalnessMap.toJSON(j).uuid;if(this.emissiveMap instanceof THREE.Texture)m.emissiveMap=this.emissiveMap.toJSON(j).uuid;if(this.specularMap instanceof THREE.Texture)m.specularMap=this.specularMap.toJSON(j).uuid;if(this.envMap instanceof THREE.Texture){m.envMap=this.envMap.toJSON(j).uuid;m.reflectivity=this.reflectivity;}if(this.size!==undefined)m.size=this.size;if(this.sizeAttenuation!==undefined)m.sizeAttenuation=this.sizeAttenuation;if(this.vertexColors!==undefined&&this.vertexColors!==THREE.NoColors)m.vertexColors=this.vertexColors;if(this.shading!==undefined&&this.shading!==THREE.SmoothShading)m.shading=this.shading;if(this.blending!==undefined&&this.blending!==THREE.NormalBlending)m.blending=this.blending;if(this.side!==undefined&&this.side!==THREE.FrontSide)m.side=this.side;if(this.opacity<1)m.opacity=this.opacity;if(this.transparent===f7d.k3)m.transparent=this.transparent;if(this.alphaTest>0)m.alphaTest=this.alphaTest;if(this.premultipliedAlpha===f7d.k3)m.premultipliedAlpha=this.premultipliedAlpha;if(this.wireframe===f7d.k3)m.wireframe=this.wireframe;if(this.wireframeLinewidth>1)m.wireframeLinewidth=this.wireframeLinewidth;function n(d){var e=[];for(var f in d){var i=d[f];delete  i.metadata;e.push(i);}return e;}if(k){var u=n(j.textures),v=n(j.images);if(u.length>0)m.textures=u;if(v.length>0)m.images=v;}return m;},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.name=d.name;this.side=d.side;this.opacity=d.opacity;this.transparent=d.transparent;this.blending=d.blending;this.blendSrc=d.blendSrc;this.blendDst=d.blendDst;this.blendEquation=d.blendEquation;this.blendSrcAlpha=d.blendSrcAlpha;this.blendDstAlpha=d.blendDstAlpha;this.blendEquationAlpha=d.blendEquationAlpha;this.depthFunc=d.depthFunc;this.depthTest=d.depthTest;this.depthWrite=d.depthWrite;this.colorWrite=d.colorWrite;this.precision=d.precision;this.polygonOffset=d.polygonOffset;this.polygonOffsetFactor=d.polygonOffsetFactor;this.polygonOffsetUnits=d.polygonOffsetUnits;this.alphaTest=d.alphaTest;this.premultipliedAlpha=d.premultipliedAlpha;this.overdraw=d.overdraw;this.visible=d.visible;this.clipShadows=d.clipShadows;var e=d.clippingPlanes,f=f7d.h3;if(e!==f7d.h3){var i=e.length;f=new Array(i);for(var j=0;j!==i;++j)f[j]=e[j].clone();}this.clippingPlanes=f;return this;},update:function(){this.dispatchEvent({type:'update'});},dispose:function(){this.dispatchEvent({type:f7d.J0});}};THREE.EventDispatcher.prototype.apply(THREE.Material.prototype);THREE.MaterialIdCount=0;THREE.LineBasicMaterial=function(d){THREE.Material.call(this);this.type='LineBasicMaterial';this.color=new THREE.Color(0xffffff);this.linewidth=1;this.linecap=f7d.u2;this.linejoin=f7d.u2;this.blending=THREE.NormalBlending;this.vertexColors=THREE.NoColors;this.fog=f7d.k3;this.setValues(d);};THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial;THREE.LineBasicMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.linewidth=d.linewidth;this.linecap=d.linecap;this.linejoin=d.linejoin;this.vertexColors=d.vertexColors;this.fog=d.fog;return this;};THREE.LineDashedMaterial=function(d){THREE.Material.call(this);this.type='LineDashedMaterial';this.color=new THREE.Color(0xffffff);this.linewidth=1;this.scale=1;this.dashSize=3;this.gapSize=1;this.blending=THREE.NormalBlending;this.vertexColors=THREE.NoColors;this.fog=f7d.k3;this.setValues(d);};THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineDashedMaterial.prototype.constructor=THREE.LineDashedMaterial;THREE.LineDashedMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.linewidth=d.linewidth;this.scale=d.scale;this.dashSize=d.dashSize;this.gapSize=d.gapSize;this.vertexColors=d.vertexColors;this.fog=d.fog;return this;};THREE.MeshBasicMaterial=function(d){THREE.Material.call(this);this.type=f7d.S3;this.color=new THREE.Color(0xffffff);this.map=f7d.h3;this.aoMap=f7d.h3;this.aoMapIntensity=f7d.Z3;this.specularMap=f7d.h3;this.alphaMap=f7d.h3;this.envMap=f7d.h3;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=0.98;this.fog=f7d.k3;this.shading=THREE.SmoothShading;this.blending=THREE.NormalBlending;this.wireframe=f7d.a4;this.wireframeLinewidth=1;this.wireframeLinecap=f7d.u2;this.wireframeLinejoin=f7d.u2;this.vertexColors=THREE.NoColors;this.skinning=f7d.a4;this.morphTargets=f7d.a4;this.setValues(d);};THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial;THREE.MeshBasicMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.map=d.map;this.aoMap=d.aoMap;this.aoMapIntensity=d.aoMapIntensity;this.specularMap=d.specularMap;this.alphaMap=d.alphaMap;this.envMap=d.envMap;this.combine=d.combine;this.reflectivity=d.reflectivity;this.refractionRatio=d.refractionRatio;this.fog=d.fog;this.shading=d.shading;this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;this.wireframeLinecap=d.wireframeLinecap;this.wireframeLinejoin=d.wireframeLinejoin;this.vertexColors=d.vertexColors;this.skinning=d.skinning;this.morphTargets=d.morphTargets;return this;};THREE.MeshDepthMaterial=function(d){THREE.Material.call(this);this.type='MeshDepthMaterial';this.depthPacking=THREE.BasicDepthPacking;this.skinning=f7d.a4;this.morphTargets=f7d.a4;this.map=f7d.h3;this.alphaMap=f7d.h3;this.displacementMap=f7d.h3;this.displacementScale=1;this.displacementBias=0;this.wireframe=f7d.a4;this.wireframeLinewidth=1;this.setValues(d);};THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial;THREE.MeshDepthMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.depthPacking=d.depthPacking;this.skinning=d.skinning;this.morphTargets=d.morphTargets;this.map=d.map;this.alphaMap=d.alphaMap;this.displacementMap=d.displacementMap;this.displacementScale=d.displacementScale;this.displacementBias=d.displacementBias;this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;return this;};THREE.MeshLambertMaterial=function(d){THREE.Material.call(this);this.type=f7d.q0;this.color=new THREE.Color(0xffffff);this.map=f7d.h3;this.lightMap=f7d.h3;this.lightMapIntensity=f7d.Z3;this.aoMap=f7d.h3;this.aoMapIntensity=f7d.Z3;this.emissive=new THREE.Color(0x000000);this.emissiveIntensity=f7d.Z3;this.emissiveMap=f7d.h3;this.specularMap=f7d.h3;this.alphaMap=f7d.h3;this.envMap=f7d.h3;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=0.98;this.fog=f7d.k3;this.blending=THREE.NormalBlending;this.wireframe=f7d.a4;this.wireframeLinewidth=1;this.wireframeLinecap=f7d.u2;this.wireframeLinejoin=f7d.u2;this.vertexColors=THREE.NoColors;this.skinning=f7d.a4;this.morphTargets=f7d.a4;this.morphNormals=f7d.a4;this.setValues(d);};THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial;THREE.MeshLambertMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.map=d.map;this.lightMap=d.lightMap;this.lightMapIntensity=d.lightMapIntensity;this.aoMap=d.aoMap;this.aoMapIntensity=d.aoMapIntensity;this.emissive.copy(d.emissive);this.emissiveMap=d.emissiveMap;this.emissiveIntensity=d.emissiveIntensity;this.specularMap=d.specularMap;this.alphaMap=d.alphaMap;this.envMap=d.envMap;this.combine=d.combine;this.reflectivity=d.reflectivity;this.refractionRatio=d.refractionRatio;this.fog=d.fog;this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;this.wireframeLinecap=d.wireframeLinecap;this.wireframeLinejoin=d.wireframeLinejoin;this.vertexColors=d.vertexColors;this.skinning=d.skinning;this.morphTargets=d.morphTargets;this.morphNormals=d.morphNormals;return this;};THREE.MeshNormalMaterial=function(d){THREE.Material.call(this,d);this.type='MeshNormalMaterial';this.wireframe=f7d.a4;this.wireframeLinewidth=1;this.morphTargets=f7d.a4;this.setValues(d);};THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial;THREE.MeshNormalMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;return this;};THREE.MeshPhongMaterial=function(d){THREE.Material.call(this);this.type=f7d.z3;this.color=new THREE.Color(0xffffff);this.specular=new THREE.Color(0x111111);this.shininess=30;this.map=f7d.h3;this.lightMap=f7d.h3;this.lightMapIntensity=f7d.Z3;this.aoMap=f7d.h3;this.aoMapIntensity=f7d.Z3;this.emissive=new THREE.Color(0x000000);this.emissiveIntensity=f7d.Z3;this.emissiveMap=f7d.h3;this.bumpMap=f7d.h3;this.bumpScale=1;this.normalMap=f7d.h3;this.normalScale=new THREE.Vector2(1,1);this.displacementMap=f7d.h3;this.displacementScale=1;this.displacementBias=0;this.specularMap=f7d.h3;this.alphaMap=f7d.h3;this.envMap=f7d.h3;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=0.98;this.fog=f7d.k3;this.shading=THREE.SmoothShading;this.blending=THREE.NormalBlending;this.wireframe=f7d.a4;this.wireframeLinewidth=1;this.wireframeLinecap=f7d.u2;this.wireframeLinejoin=f7d.u2;this.vertexColors=THREE.NoColors;this.skinning=f7d.a4;this.morphTargets=f7d.a4;this.morphNormals=f7d.a4;this.setValues(d);};THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial;THREE.MeshPhongMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.specular.copy(d.specular);this.shininess=d.shininess;this.map=d.map;this.lightMap=d.lightMap;this.lightMapIntensity=d.lightMapIntensity;this.aoMap=d.aoMap;this.aoMapIntensity=d.aoMapIntensity;this.emissive.copy(d.emissive);this.emissiveMap=d.emissiveMap;this.emissiveIntensity=d.emissiveIntensity;this.bumpMap=d.bumpMap;this.bumpScale=d.bumpScale;this.normalMap=d.normalMap;this.normalScale.copy(d.normalScale);this.displacementMap=d.displacementMap;this.displacementScale=d.displacementScale;this.displacementBias=d.displacementBias;this.specularMap=d.specularMap;this.alphaMap=d.alphaMap;this.envMap=d.envMap;this.combine=d.combine;this.reflectivity=d.reflectivity;this.refractionRatio=d.refractionRatio;this.fog=d.fog;this.shading=d.shading;this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;this.wireframeLinecap=d.wireframeLinecap;this.wireframeLinejoin=d.wireframeLinejoin;this.vertexColors=d.vertexColors;this.skinning=d.skinning;this.morphTargets=d.morphTargets;this.morphNormals=d.morphNormals;return this;};THREE.MeshStandardMaterial=function(d){THREE.Material.call(this);this.defines={'STANDARD':''};this.type=f7d.y3;this.color=new THREE.Color(0xffffff);this.roughness=f7d.h1;this.metalness=f7d.h1;this.map=f7d.h3;this.lightMap=f7d.h3;this.lightMapIntensity=f7d.Z3;this.aoMap=f7d.h3;this.aoMapIntensity=f7d.Z3;this.emissive=new THREE.Color(0x000000);this.emissiveIntensity=f7d.Z3;this.emissiveMap=f7d.h3;this.bumpMap=f7d.h3;this.bumpScale=1;this.normalMap=f7d.h3;this.normalScale=new THREE.Vector2(1,1);this.displacementMap=f7d.h3;this.displacementScale=1;this.displacementBias=0;this.roughnessMap=f7d.h3;this.metalnessMap=f7d.h3;this.alphaMap=f7d.h3;this.envMap=f7d.h3;this.envMapIntensity=f7d.Z3;this.refractionRatio=0.98;this.fog=f7d.k3;this.shading=THREE.SmoothShading;this.blending=THREE.NormalBlending;this.wireframe=f7d.a4;this.wireframeLinewidth=1;this.wireframeLinecap=f7d.u2;this.wireframeLinejoin=f7d.u2;this.vertexColors=THREE.NoColors;this.skinning=f7d.a4;this.morphTargets=f7d.a4;this.morphNormals=f7d.a4;this.setValues(d);};THREE.MeshStandardMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshStandardMaterial.prototype.constructor=THREE.MeshStandardMaterial;THREE.MeshStandardMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.defines={'STANDARD':''};this.color.copy(d.color);this.roughness=d.roughness;this.metalness=d.metalness;this.map=d.map;this.lightMap=d.lightMap;this.lightMapIntensity=d.lightMapIntensity;this.aoMap=d.aoMap;this.aoMapIntensity=d.aoMapIntensity;this.emissive.copy(d.emissive);this.emissiveMap=d.emissiveMap;this.emissiveIntensity=d.emissiveIntensity;this.bumpMap=d.bumpMap;this.bumpScale=d.bumpScale;this.normalMap=d.normalMap;this.normalScale.copy(d.normalScale);this.displacementMap=d.displacementMap;this.displacementScale=d.displacementScale;this.displacementBias=d.displacementBias;this.roughnessMap=d.roughnessMap;this.metalnessMap=d.metalnessMap;this.alphaMap=d.alphaMap;this.envMap=d.envMap;this.envMapIntensity=d.envMapIntensity;this.refractionRatio=d.refractionRatio;this.fog=d.fog;this.shading=d.shading;this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;this.wireframeLinecap=d.wireframeLinecap;this.wireframeLinejoin=d.wireframeLinejoin;this.vertexColors=d.vertexColors;this.skinning=d.skinning;this.morphTargets=d.morphTargets;this.morphNormals=d.morphNormals;return this;};THREE.MeshPhysicalMaterial=function(d){THREE.MeshStandardMaterial.call(this);this.defines={'PHYSICAL':''};this.type=f7d.X2;this.reflectivity=f7d.h1;this.setValues(d);};THREE.MeshPhysicalMaterial.prototype=Object.create(THREE.MeshStandardMaterial.prototype);THREE.MeshPhysicalMaterial.prototype.constructor=THREE.MeshPhysicalMaterial;THREE.MeshPhysicalMaterial.prototype.copy=function(d){THREE.MeshStandardMaterial.prototype.copy.call(this,d);this.defines={'PHYSICAL':''};this.reflectivity=d.reflectivity;return this;};THREE.MultiMaterial=function(d){this.uuid=THREE.Math.generateUUID();this.type='MultiMaterial';this.materials=d instanceof Array?d:[];this.visible=f7d.k3;};THREE.MultiMaterial.prototype={constructor:THREE.MultiMaterial,toJSON:function(d){var e={metadata:{version:4.2,type:'material',generator:'MaterialExporter'},uuid:this.uuid,type:this.type,materials:[]},f=this.materials;for(var i=0,j=f.length;i<j;i++){var k=f[i].toJSON(d);delete  k.metadata;e.materials.push(k);}e.visible=this.visible;return e;},clone:function(){var d=new this.constructor();for(var e=0;e<this.materials.length;e++){d.materials.push(this.materials[e].clone());}d.visible=this.visible;return d;}};THREE.PointsMaterial=function(d){THREE.Material.call(this);this.type='PointsMaterial';this.color=new THREE.Color(0xffffff);this.map=f7d.h3;this.size=1;this.sizeAttenuation=f7d.k3;this.blending=THREE.NormalBlending;this.vertexColors=THREE.NoColors;this.fog=f7d.k3;this.setValues(d);};THREE.PointsMaterial.prototype=Object.create(THREE.Material.prototype);THREE.PointsMaterial.prototype.constructor=THREE.PointsMaterial;THREE.PointsMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.map=d.map;this.size=d.size;this.sizeAttenuation=d.sizeAttenuation;this.vertexColors=d.vertexColors;this.fog=d.fog;return this;};THREE.ShaderMaterial=function(d){THREE.Material.call(this);this.type='ShaderMaterial';this.defines={};this.uniforms={};this.vertexShader='void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}';this.fragmentShader='void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}';this.shading=THREE.SmoothShading;this.linewidth=1;this.wireframe=f7d.a4;this.wireframeLinewidth=1;this.fog=f7d.a4;this.lights=f7d.a4;this.clipping=f7d.a4;this.vertexColors=THREE.NoColors;this.skinning=f7d.a4;this.morphTargets=f7d.a4;this.morphNormals=f7d.a4;this.extensions={derivatives:f7d.a4,fragDepth:f7d.a4,drawBuffers:f7d.a4,shaderTextureLOD:f7d.a4};this.defaultAttributeValues={'color':[1,1,1],'uv':[0,0],'uv2':[0,0]};this.index0AttributeName=undefined;if(d!==undefined){if(d.attributes!==undefined){console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');}this.setValues(d);}};THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype);THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial;THREE.ShaderMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.fragmentShader=d.fragmentShader;this.vertexShader=d.vertexShader;this.uniforms=THREE.UniformsUtils.clone(d.uniforms);this.defines=d.defines;this.shading=d.shading;this.wireframe=d.wireframe;this.wireframeLinewidth=d.wireframeLinewidth;this.fog=d.fog;this.lights=d.lights;this.clipping=d.clipping;this.vertexColors=d.vertexColors;this.skinning=d.skinning;this.morphTargets=d.morphTargets;this.morphNormals=d.morphNormals;this.extensions=d.extensions;return this;};THREE.ShaderMaterial.prototype.toJSON=function(d){var e=THREE.Material.prototype.toJSON.call(this,d);e.uniforms=this.uniforms;e.vertexShader=this.vertexShader;e.fragmentShader=this.fragmentShader;return e;};THREE.RawShaderMaterial=function(d){THREE.ShaderMaterial.call(this,d);this.type='RawShaderMaterial';};THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype);THREE.RawShaderMaterial.prototype.constructor=THREE.RawShaderMaterial;THREE.SpriteMaterial=function(d){THREE.Material.call(this);this.type='SpriteMaterial';this.color=new THREE.Color(0xffffff);this.map=f7d.h3;this.rotation=0;this.fog=f7d.a4;this.setValues(d);};THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype);THREE.SpriteMaterial.prototype.constructor=THREE.SpriteMaterial;THREE.SpriteMaterial.prototype.copy=function(d){THREE.Material.prototype.copy.call(this,d);this.color.copy(d.color);this.map=d.map;this.rotation=d.rotation;this.fog=d.fog;return this;};THREE.Texture=function(d,e,f,i,j,k,m,n,u,v){Object.defineProperty(this,f7d.Q0,{value:THREE.TextureIdCount++});this.uuid=THREE.Math.generateUUID();this.name='';this.sourceFile='';this.image=d!==undefined?d:THREE.Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=e!==undefined?e:THREE.Texture.DEFAULT_MAPPING;this.wrapS=f!==undefined?f:THREE.ClampToEdgeWrapping;this.wrapT=i!==undefined?i:THREE.ClampToEdgeWrapping;this.magFilter=j!==undefined?j:THREE.LinearFilter;this.minFilter=k!==undefined?k:THREE.LinearMipMapLinearFilter;this.anisotropy=u!==undefined?u:1;this.format=m!==undefined?m:THREE.RGBAFormat;this.type=n!==undefined?n:THREE.UnsignedByteType;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.generateMipmaps=f7d.k3;this.premultiplyAlpha=f7d.a4;this.flipY=f7d.k3;this.unpackAlignment=4;this.encoding=v!==undefined?v:THREE.LinearEncoding;this.version=0;this.onUpdate=f7d.h3;};THREE.Texture.DEFAULT_IMAGE=undefined;THREE.Texture.DEFAULT_MAPPING=THREE.UVMapping;THREE.Texture.prototype={constructor:THREE.Texture,set needsUpdate(value){if(value===f7d.k3)this.version++;},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.image=d.image;this.mipmaps=d.mipmaps.slice(0);this.mapping=d.mapping;this.wrapS=d.wrapS;this.wrapT=d.wrapT;this.magFilter=d.magFilter;this.minFilter=d.minFilter;this.anisotropy=d.anisotropy;this.format=d.format;this.type=d.type;this.offset.copy(d.offset);this.repeat.copy(d.repeat);this.generateMipmaps=d.generateMipmaps;this.premultiplyAlpha=d.premultiplyAlpha;this.flipY=d.flipY;this.unpackAlignment=d.unpackAlignment;this.encoding=d.encoding;return this;},toJSON:function(f){if(f.textures[this.uuid]!==undefined){return f.textures[this.uuid];}function i(d){var e;if(d.toDataURL!==undefined){e=d;}else{e=document.createElement(f7d.K);e.width=d.width;e.height=d.height;e.getContext('2d').drawImage(d,0,0,d.width,d.height);}if(e.width>2048||e.height>2048){return e.toDataURL('image/jpeg',0.6);}else{return e.toDataURL('image/png');}}var j={metadata:{version:4.4,type:'Texture',generator:'Texture.toJSON'},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(this.image!==undefined){var k=this.image;if(k.uuid===undefined){k.uuid=THREE.Math.generateUUID();}if(f.images[k.uuid]===undefined){f.images[k.uuid]={uuid:k.uuid,url:i(k)};}j.image=k.uuid;}f.textures[this.uuid]=j;return j;},dispose:function(){this.dispatchEvent({type:f7d.J0});},transformUv:function(d){if(this.mapping!==THREE.UVMapping)return ;d.multiply(this.repeat);d.add(this.offset);if(d.x<0||d.x>1){switch(this.wrapS){case THREE.RepeatWrapping:d.x=d.x-Math.floor(d.x);break;case THREE.ClampToEdgeWrapping:d.x=d.x<0?0:1;break;case THREE.MirroredRepeatWrapping:if(Math.abs(Math.floor(d.x)%2)===1){d.x=Math.ceil(d.x)-d.x;}else{d.x=d.x-Math.floor(d.x);}break;}}if(d.y<0||d.y>1){switch(this.wrapT){case THREE.RepeatWrapping:d.y=d.y-Math.floor(d.y);break;case THREE.ClampToEdgeWrapping:d.y=d.y<0?0:1;break;case THREE.MirroredRepeatWrapping:if(Math.abs(Math.floor(d.y)%2)===1){d.y=Math.ceil(d.y)-d.y;}else{d.y=d.y-Math.floor(d.y);}break;}}if(this.flipY){d.y=1-d.y;}}};THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype);THREE.TextureIdCount=0;THREE.DepthTexture=function(d,e,f,i,j,k,m,n,u){THREE.Texture.call(this,f7d.h3,i,j,k,m,n,THREE.DepthFormat,f,u);this.image={width:d,height:e};this.type=f!==undefined?f:THREE.UnsignedShortType;this.magFilter=m!==undefined?m:THREE.NearestFilter;this.minFilter=n!==undefined?n:THREE.NearestFilter;this.flipY=f7d.a4;this.generateMipmaps=f7d.a4;};THREE.DepthTexture.prototype=Object.create(THREE.Texture.prototype);THREE.DepthTexture.prototype.constructor=THREE.DepthTexture;THREE.CanvasTexture=function(d,e,f,i,j,k,m,n,u){THREE.Texture.call(this,d,e,f,i,j,k,m,n,u);this.needsUpdate=f7d.k3;};THREE.CanvasTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CanvasTexture.prototype.constructor=THREE.CanvasTexture;THREE.CubeTexture=function(d,e,f,i,j,k,m,n,u,v){d=d!==undefined?d:[];e=e!==undefined?e:THREE.CubeReflectionMapping;THREE.Texture.call(this,d,e,f,i,j,k,m,n,u,v);this.flipY=f7d.a4;};THREE.CubeTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CubeTexture.prototype.constructor=THREE.CubeTexture;Object.defineProperty(THREE.CubeTexture.prototype,'images',{get:function(){return this.image;},set:function(d){this.image=d;}});THREE.CompressedTexture=function(d,e,f,i,j,k,m,n,u,v,B,C){THREE.Texture.call(this,f7d.h3,k,m,n,u,v,i,j,B,C);this.image={width:e,height:f};this.mipmaps=d;this.flipY=f7d.a4;this.generateMipmaps=f7d.a4;};THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CompressedTexture.prototype.constructor=THREE.CompressedTexture;THREE.DataTexture=function(d,e,f,i,j,k,m,n,u,v,B,C){THREE.Texture.call(this,f7d.h3,k,m,n,u,v,i,j,B,C);this.image={data:d,width:e,height:f};this.magFilter=u!==undefined?u:THREE.NearestFilter;this.minFilter=v!==undefined?v:THREE.NearestFilter;this.flipY=f7d.a4;this.generateMipmaps=f7d.a4;};THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype);THREE.DataTexture.prototype.constructor=THREE.DataTexture;THREE.VideoTexture=function(d,e,f,i,j,k,m,n,u){THREE.Texture.call(this,d,e,f,i,j,k,m,n,u);this.generateMipmaps=f7d.a4;var v=this;function B(){requestAnimationFrame(B);if(d.readyState>=d.HAVE_CURRENT_DATA){v.needsUpdate=f7d.k3;}}B();};THREE.VideoTexture.prototype=Object.create(THREE.Texture.prototype);THREE.VideoTexture.prototype.constructor=THREE.VideoTexture;THREE.Group=function(){THREE.Object3D.call(this);this.type='Group';};THREE.Group.prototype=Object.create(THREE.Object3D.prototype);THREE.Group.prototype.constructor=THREE.Group;THREE.Points=function(d,e){THREE.Object3D.call(this);this.type='Points';this.geometry=d!==undefined?d:new THREE.Geometry();this.material=e!==undefined?e:new THREE.PointsMaterial({color:Math.random()*0xffffff});};THREE.Points.prototype=Object.create(THREE.Object3D.prototype);THREE.Points.prototype.constructor=THREE.Points;THREE.Points.prototype.raycast=(function(){var w0=new THREE.Matrix4(),s0=new THREE.Ray(),z0=new THREE.Sphere();return function y0(k,m){var n=this,u=this.geometry,v=this.matrixWorld,B=k.params.Points.threshold;if(u.boundingSphere===f7d.h3)u.computeBoundingSphere();z0.copy(u.boundingSphere);z0.applyMatrix4(v);if(k.ray.intersectsSphere(z0)===f7d.a4)return ;w0.getInverse(v);s0.copy(k.ray).applyMatrix4(w0);var C=B/((this.scale.x+this.scale.y+this.scale.z)/3),J=C*C,E=new THREE.Vector3();function Q(d,e){var f=s0.distanceSqToPoint(d);if(f<J){var i=s0.closestPointToPoint(d);i.applyMatrix4(v);var j=k.ray.origin.distanceTo(i);if(j<k.near||j>k.far)return ;m.push({distance:j,distanceToRay:Math.sqrt(f),point:i.clone(),index:e,face:f7d.h3,object:n});}}if(u instanceof THREE.BufferGeometry){var T=u.index,N=u.attributes,b0=N.position.array;if(T!==f7d.h3){var o0=T.array;for(var f0=0,d0=o0.length;f0<d0;f0++){var p0=o0[f0];E.fromArray(b0,p0*3);Q(E,p0);}}else{for(var f0=0,t0=b0.length/3;f0<t0;f0++){E.fromArray(b0,f0*3);Q(E,f0);}}}else{var x0=u.vertices;for(var f0=0,t0=x0.length;f0<t0;f0++){Q(x0[f0],f0);}}};}());THREE.Points.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this);};THREE.Line=function(d,e,f){if(f===1){console.warn('THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.');return new THREE.LineSegments(d,e);}THREE.Object3D.call(this);this.type='Line';this.geometry=d!==undefined?d:new THREE.Geometry();this.material=e!==undefined?e:new THREE.LineBasicMaterial({color:Math.random()*0xffffff});};THREE.Line.prototype=Object.create(THREE.Object3D.prototype);THREE.Line.prototype.constructor=THREE.Line;THREE.Line.prototype.raycast=(function(){var x0=new THREE.Matrix4(),w0=new THREE.Ray(),s0=new THREE.Sphere();return function z0(d,e){var f=d.linePrecision,i=f*f,j=this.geometry,k=this.matrixWorld;if(j.boundingSphere===f7d.h3)j.computeBoundingSphere();s0.copy(j.boundingSphere);s0.applyMatrix4(k);if(d.ray.intersectsSphere(s0)===f7d.a4)return ;x0.getInverse(k);w0.copy(d.ray).applyMatrix4(x0);var m=new THREE.Vector3(),n=new THREE.Vector3(),u=new THREE.Vector3(),v=new THREE.Vector3(),B=this instanceof THREE.LineSegments?2:1;if(j instanceof THREE.BufferGeometry){var C=j.index,J=j.attributes,E=J.position.array;if(C!==f7d.h3){var Q=C.array;for(var T=0,N=Q.length-1;T<N;T+=B){var b0=Q[T],o0=Q[T+1];m.fromArray(E,b0*3);n.fromArray(E,o0*3);var f0=w0.distanceSqToSegment(m,n,v,u);if(f0>i)continue;v.applyMatrix4(this.matrixWorld);var d0=d.ray.origin.distanceTo(v);if(d0<d.near||d0>d.far)continue;e.push({distance:d0,point:u.clone().applyMatrix4(this.matrixWorld),index:T,face:f7d.h3,faceIndex:f7d.h3,object:this});}}else{for(var T=0,N=E.length/3-1;T<N;T+=B){m.fromArray(E,3*T);n.fromArray(E,3*T+3);var f0=w0.distanceSqToSegment(m,n,v,u);if(f0>i)continue;v.applyMatrix4(this.matrixWorld);var d0=d.ray.origin.distanceTo(v);if(d0<d.near||d0>d.far)continue;e.push({distance:d0,point:u.clone().applyMatrix4(this.matrixWorld),index:T,face:f7d.h3,faceIndex:f7d.h3,object:this});}}}else if(j instanceof THREE.Geometry){var p0=j.vertices,t0=p0.length;for(var T=0;T<t0-1;T+=B){var f0=w0.distanceSqToSegment(p0[T],p0[T+1],v,u);if(f0>i)continue;v.applyMatrix4(this.matrixWorld);var d0=d.ray.origin.distanceTo(v);if(d0<d.near||d0>d.far)continue;e.push({distance:d0,point:u.clone().applyMatrix4(this.matrixWorld),index:T,face:f7d.h3,faceIndex:f7d.h3,object:this});}}};}());THREE.Line.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this);};THREE.LineStrip=0;THREE.LinePieces=1;THREE.LineSegments=function(d,e){THREE.Line.call(this,d,e);this.type='LineSegments';};THREE.LineSegments.prototype=Object.create(THREE.Line.prototype);THREE.LineSegments.prototype.constructor=THREE.LineSegments;THREE.Mesh=function(d,e){THREE.Object3D.call(this);this.type='Mesh';this.geometry=d!==undefined?d:new THREE.Geometry();this.material=e!==undefined?e:new THREE.MeshBasicMaterial({color:Math.random()*0xffffff});this.drawMode=THREE.TrianglesDrawMode;this.updateMorphTargets();};THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype);THREE.Mesh.prototype.constructor=THREE.Mesh;THREE.Mesh.prototype.setDrawMode=function(d){this.drawMode=d;};THREE.Mesh.prototype.updateMorphTargets=function(){if(this.geometry.morphTargets!==undefined&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1;this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var d=0,e=this.geometry.morphTargets.length;d<e;d++){this.morphTargetInfluences.push(0);this.morphTargetDictionary[this.geometry.morphTargets[d].name]=d;}}};THREE.Mesh.prototype.getMorphTargetIndexByName=function(d){if(this.morphTargetDictionary[d]!==undefined){return this.morphTargetDictionary[d];}console.warn('THREE.Mesh.getMorphTargetIndexByName: morph target '+d+' does not exist. Returning 0.');return 0;};THREE.Mesh.prototype.raycast=(function(){var a1=new THREE.Matrix4(),U0=new THREE.Ray(),i1=new THREE.Sphere(),E0=new THREE.Vector3(),b1=new THREE.Vector3(),n1=new THREE.Vector3(),p1=new THREE.Vector3(),m1=new THREE.Vector3(),t1=new THREE.Vector3(),o1=new THREE.Vector2(),q1=new THREE.Vector2(),f1=new THREE.Vector2(),w1=new THREE.Vector3(),u1=new THREE.Vector3(),x1=new THREE.Vector3();function Q1(d,e,f,i,j,k,m){THREE.Triangle.barycoordFromPoint(d,e,f,i,w1);j.multiplyScalar(w1.x);k.multiplyScalar(w1.y);m.multiplyScalar(w1.z);j.add(k).add(m);return j.clone();}function y1(d,e,f,i,j,k,m){var n,u=d.material;if(u.side===THREE.BackSide){n=f.intersectTriangle(k,j,i,f7d.k3,m);}else{n=f.intersectTriangle(i,j,k,u.side!==THREE.DoubleSide,m);}if(n===f7d.h3)return f7d.h3;x1.copy(m);x1.applyMatrix4(d.matrixWorld);var v=e.ray.origin.distanceTo(x1);if(v<e.near||v>e.far)return f7d.h3;return {distance:v,point:x1.clone(),object:d};}function a2(d,e,f,i,j,k,m,n){E0.fromArray(i,k*3);b1.fromArray(i,m*3);n1.fromArray(i,n*3);var u=y1(d,e,f,E0,b1,n1,u1);if(u){if(j){o1.fromArray(j,k*2);q1.fromArray(j,m*2);f1.fromArray(j,n*2);u.uv=Q1(u1,E0,b1,n1,o1,q1,f1);}u.face=new THREE.Face3(k,m,n,THREE.Triangle.normal(E0,b1,n1));u.faceIndex=k;}return u;}return function p2(d,e){var f=this.geometry,i=this.material,j=this.matrixWorld;if(i===undefined)return ;if(f.boundingSphere===f7d.h3)f.computeBoundingSphere();i1.copy(f.boundingSphere);i1.applyMatrix4(j);if(d.ray.intersectsSphere(i1)===f7d.a4)return ;a1.getInverse(j);U0.copy(d.ray).applyMatrix4(a1);if(f.boundingBox!==f7d.h3){if(U0.intersectsBox(f.boundingBox)===f7d.a4)return ;}var k,m;if(f instanceof THREE.BufferGeometry){var n,u,v,B=f.index,C=f.attributes,J=C.position.array;if(C.uv!==undefined){k=C.uv.array;}if(B!==f7d.h3){var E=B.array;for(var Q=0,T=E.length;Q<T;Q+=3){n=E[Q];u=E[Q+1];v=E[Q+2];m=a2(this,d,U0,J,k,n,u,v);if(m){m.faceIndex=Math.floor(Q/3);e.push(m);}}}else{for(var Q=0,T=J.length;Q<T;Q+=9){n=Q/3;u=n+1;v=n+2;m=a2(this,d,U0,J,k,n,u,v);if(m){m.index=n;e.push(m);}}}}else if(f instanceof THREE.Geometry){var N,b0,o0,f0=i instanceof THREE.MultiMaterial,d0=f0===f7d.k3?i.materials:f7d.h3,p0=f.vertices,t0=f.faces,x0=f.faceVertexUvs[0];if(x0.length>0)k=x0;for(var w0=0,s0=t0.length;w0<s0;w0++){var z0=t0[w0],y0=f0===f7d.k3?d0[z0.materialIndex]:i;if(y0===undefined)continue;N=p0[z0.a];b0=p0[z0.b];o0=p0[z0.c];if(y0.morphTargets===f7d.k3){var B0=f.morphTargets,K0=this.morphTargetInfluences;E0.set(0,0,0);b1.set(0,0,0);n1.set(0,0,0);for(var i0=0,X0=B0.length;i0<X0;i0++){var V0=K0[i0];if(V0===0)continue;var D0=B0[i0].vertices;E0.addScaledVector(p1.subVectors(D0[z0.a],N),V0);b1.addScaledVector(m1.subVectors(D0[z0.b],b0),V0);n1.addScaledVector(t1.subVectors(D0[z0.c],o0),V0);}E0.add(N);b1.add(b0);n1.add(o0);N=E0;b0=b1;o0=n1;}m=y1(this,d,U0,N,b0,o0,u1);if(m){if(k){var N0=k[w0];o1.copy(N0[0]);q1.copy(N0[1]);f1.copy(N0[2]);m.uv=Q1(u1,N,b0,o0,o1,q1,f1);}m.face=z0;m.faceIndex=w0;e.push(m);}}}};}());THREE.Mesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this);};THREE.Bone=function(d){THREE.Object3D.call(this);this.type='Bone';this.skin=d;};THREE.Bone.prototype=Object.create(THREE.Object3D.prototype);THREE.Bone.prototype.constructor=THREE.Bone;THREE.Bone.prototype.copy=function(d){THREE.Object3D.prototype.copy.call(this,d);this.skin=d.skin;return this;};THREE.Skeleton=function(d,e,f){this.useVertexTexture=f!==undefined?f:f7d.k3;this.identityMatrix=new THREE.Matrix4();d=d||[];this.bones=d.slice(0);if(this.useVertexTexture){var i=Math.sqrt(this.bones.length*4);i=THREE.Math.nextPowerOfTwo(Math.ceil(i));i=Math.max(i,4);this.boneTextureWidth=i;this.boneTextureHeight=i;this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4);this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType);}else{this.boneMatrices=new Float32Array(16*this.bones.length);}if(e===undefined){this.calculateInverses();}else{if(this.bones.length===e.length){this.boneInverses=e.slice(0);}else{console.warn('THREE.Skeleton bonInverses is the wrong length.');this.boneInverses=[];for(var j=0,k=this.bones.length;j<k;j++){this.boneInverses.push(new THREE.Matrix4());}}}};THREE.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var d=0,e=this.bones.length;d<e;d++){var f=new THREE.Matrix4();if(this.bones[d]){f.getInverse(this.bones[d].matrixWorld);}this.boneInverses.push(f);}};THREE.Skeleton.prototype.pose=function(){var d;for(var e=0,f=this.bones.length;e<f;e++){d=this.bones[e];if(d){d.matrixWorld.getInverse(this.boneInverses[e]);}}for(var e=0,f=this.bones.length;e<f;e++){d=this.bones[e];if(d){if(d.parent){d.matrix.getInverse(d.parent.matrixWorld);d.matrix.multiply(d.matrixWorld);}else{d.matrix.copy(d.matrixWorld);}d.matrix.decompose(d.position,d.quaternion,d.scale);}}};THREE.Skeleton.prototype.update=(function(){var i=new THREE.Matrix4();return function j(){for(var d=0,e=this.bones.length;d<e;d++){var f=this.bones[d]?this.bones[d].matrixWorld:this.identityMatrix;i.multiplyMatrices(f,this.boneInverses[d]);i.toArray(this.boneMatrices,d*16);}if(this.useVertexTexture){this.boneTexture.needsUpdate=f7d.k3;}};})();THREE.Skeleton.prototype.clone=function(){return new THREE.Skeleton(this.bones,this.boneInverses,this.useVertexTexture);};THREE.SkinnedMesh=function(d,e,f){THREE.Mesh.call(this,d,e);this.type='SkinnedMesh';this.bindMode="attached";this.bindMatrix=new THREE.Matrix4();this.bindMatrixInverse=new THREE.Matrix4();var i=[];if(this.geometry&&this.geometry.bones!==undefined){var j,k;for(var m=0,n=this.geometry.bones.length;m<n;++m){k=this.geometry.bones[m];j=new THREE.Bone(this);i.push(j);j.name=k.name;j.position.fromArray(k.pos);j.quaternion.fromArray(k.rotq);if(k.scl!==undefined)j.scale.fromArray(k.scl);}for(var m=0,n=this.geometry.bones.length;m<n;++m){k=this.geometry.bones[m];if(k.parent!==-1&&k.parent!==f7d.h3&&i[k.parent]!==undefined){i[k.parent].add(i[m]);}else{this.add(i[m]);}}}this.normalizeSkinWeights();this.updateMatrixWorld(f7d.k3);this.bind(new THREE.Skeleton(i,undefined,f),this.matrixWorld);};THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.SkinnedMesh.prototype.constructor=THREE.SkinnedMesh;THREE.SkinnedMesh.prototype.bind=function(d,e){this.skeleton=d;if(e===undefined){this.updateMatrixWorld(f7d.k3);this.skeleton.calculateInverses();e=this.matrixWorld;}this.bindMatrix.copy(e);this.bindMatrixInverse.getInverse(e);};THREE.SkinnedMesh.prototype.pose=function(){this.skeleton.pose();};THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry){for(var d=0;d<this.geometry.skinWeights.length;d++){var e=this.geometry.skinWeights[d],f=f7d.Z3/e.lengthManhattan();if(f!==Infinity){e.multiplyScalar(f);}else{e.set(1,0,0,0);}}}else if(this.geometry instanceof THREE.BufferGeometry){var i=new THREE.Vector4(),j=this.geometry.attributes.skinWeight;for(var d=0;d<j.count;d++){i.x=j.getX(d);i.y=j.getY(d);i.z=j.getZ(d);i.w=j.getW(d);var f=f7d.Z3/i.lengthManhattan();if(f!==Infinity){i.multiplyScalar(f);}else{i.set(1,0,0,0);}j.setXYZW(d,i.x,i.y,i.z,i.w);}}};THREE.SkinnedMesh.prototype.updateMatrixWorld=function(d){THREE.Mesh.prototype.updateMatrixWorld.call(this,f7d.k3);if(this.bindMode==="attached"){this.bindMatrixInverse.getInverse(this.matrixWorld);}else if(this.bindMode==="detached"){this.bindMatrixInverse.getInverse(this.bindMatrix);}else{console.warn('THREE.SkinnedMesh unrecognized bindMode: '+this.bindMode);}};THREE.SkinnedMesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this);};THREE.LOD=function(){THREE.Object3D.call(this);this.type='LOD';Object.defineProperties(this,{levels:{enumerable:f7d.k3,value:[]}});};THREE.LOD.prototype=Object.create(THREE.Object3D.prototype);THREE.LOD.prototype.constructor=THREE.LOD;THREE.LOD.prototype.addLevel=function(d,e){if(e===undefined)e=0;e=Math.abs(e);var f=this.levels;for(var i=0;i<f.length;i++){if(e<f[i].distance){break;}}f.splice(i,0,{distance:e,object:d});this.add(d);};THREE.LOD.prototype.getObjectForDistance=function(d){var e=this.levels;for(var f=1,i=e.length;f<i;f++){if(d<e[f].distance){break;}}return e[f-1].object;};THREE.LOD.prototype.raycast=(function(){var i=new THREE.Vector3();return function j(d,e){i.setFromMatrixPosition(this.matrixWorld);var f=d.ray.origin.distanceTo(i);this.getObjectForDistance(f).raycast(d,e);};}());THREE.LOD.prototype.update=function(){var k=new THREE.Vector3(),m=new THREE.Vector3();return function n(d){var e=this.levels;if(e.length>1){k.setFromMatrixPosition(d.matrixWorld);m.setFromMatrixPosition(this.matrixWorld);var f=k.distanceTo(m);e[0].object.visible=f7d.k3;for(var i=1,j=e.length;i<j;i++){if(f>=e[i].distance){e[i-1].object.visible=f7d.a4;e[i].object.visible=f7d.k3;}else{break;}}for(;i<j;i++){e[i].object.visible=f7d.a4;}}};}();THREE.LOD.prototype.copy=function(d){THREE.Object3D.prototype.copy.call(this,d,f7d.a4);var e=d.levels;for(var f=0,i=e.length;f<i;f++){var j=e[f];this.addLevel(j.object.clone(),j.distance);}return this;};THREE.LOD.prototype.toJSON=function(d){var e=THREE.Object3D.prototype.toJSON.call(this,d);e.object.levels=[];var f=this.levels;for(var i=0,j=f.length;i<j;i++){var k=f[i];e.object.levels.push({object:k.object.uuid,distance:k.distance});}return e;};THREE.Sprite=(function(){var e=new Uint16Array([0,1,2,0,2,3]),f=new Float32Array([-f7d.h1,-f7d.h1,0,f7d.h1,-f7d.h1,0,f7d.h1,f7d.h1,0,-f7d.h1,f7d.h1,0]),i=new Float32Array([0,0,1,0,1,1,0,1]),j=new THREE.BufferGeometry();j.setIndex(new THREE.BufferAttribute(e,1));j.addAttribute(f7d.e1,new THREE.BufferAttribute(f,3));j.addAttribute(f7d.I3,new THREE.BufferAttribute(i,2));return function k(d){THREE.Object3D.call(this);this.type='Sprite';this.geometry=j;this.material=(d!==undefined)?d:new THREE.SpriteMaterial();};})();THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype);THREE.Sprite.prototype.constructor=THREE.Sprite;THREE.Sprite.prototype.raycast=(function(){var j=new THREE.Vector3();return function k(d,e){j.setFromMatrixPosition(this.matrixWorld);var f=d.ray.distanceSqToPoint(j),i=this.scale.x*this.scale.y/4;if(f>i){return ;}e.push({distance:Math.sqrt(f),point:this.position,face:f7d.h3,object:this});};}());THREE.Sprite.prototype.clone=function(){return new this.constructor(this.material).copy(this);};THREE.Particle=THREE.Sprite;THREE.LensFlare=function(d,e,f,i,j){THREE.Object3D.call(this);this.lensFlares=[];this.positionScreen=new THREE.Vector3();this.customUpdateCallback=undefined;if(d!==undefined){this.add(d,e,f,i,j);}};THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype);THREE.LensFlare.prototype.constructor=THREE.LensFlare;THREE.LensFlare.prototype.add=function(d,e,f,i,j,k){if(e===undefined)e=-1;if(f===undefined)f=0;if(k===undefined)k=1;if(j===undefined)j=new THREE.Color(0xffffff);if(i===undefined)i=THREE.NormalBlending;f=Math.min(f,Math.max(0,f));this.lensFlares.push({texture:d,size:e,distance:f,x:0,y:0,z:0,scale:1,rotation:0,opacity:k,color:j,blending:i});};THREE.LensFlare.prototype.updateLensFlares=function(){var d,e=this.lensFlares.length,f,i=-this.positionScreen.x*2,j=-this.positionScreen.y*2;for(d=0;d<e;d++){f=this.lensFlares[d];f.x=this.positionScreen.x+i*f.distance;f.y=this.positionScreen.y+j*f.distance;f.wantedRotation=f.x*Math.PI*f7d.h0;f.rotation+=(f.wantedRotation-f.rotation)*f7d.h0;}};THREE.LensFlare.prototype.copy=function(d){THREE.Object3D.prototype.copy.call(this,d);this.positionScreen.copy(d.positionScreen);this.customUpdateCallback=d.customUpdateCallback;for(var e=0,f=d.lensFlares.length;e<f;e++){this.lensFlares.push(d.lensFlares[e]);}return this;};THREE.Scene=function(){THREE.Object3D.call(this);this.type='Scene';this.fog=f7d.h3;this.overrideMaterial=f7d.h3;this.autoUpdate=f7d.k3;};THREE.Scene.prototype=Object.create(THREE.Object3D.prototype);THREE.Scene.prototype.constructor=THREE.Scene;THREE.Scene.prototype.copy=function(d,e){THREE.Object3D.prototype.copy.call(this,d,e);if(d.fog!==f7d.h3)this.fog=d.fog.clone();if(d.overrideMaterial!==f7d.h3)this.overrideMaterial=d.overrideMaterial.clone();this.autoUpdate=d.autoUpdate;this.matrixAutoUpdate=d.matrixAutoUpdate;return this;};THREE.Fog=function(d,e,f){this.name='';this.color=new THREE.Color(d);this.near=(e!==undefined)?e:1;this.far=(f!==undefined)?f:1000;};THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far);};THREE.FogExp2=function(d,e){this.name='';this.color=new THREE.Color(d);this.density=(e!==undefined)?e:0.00025;};THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density);};THREE.ShaderChunk={};THREE.ShaderChunk['alphamap_fragment']="#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n";THREE.ShaderChunk['alphamap_pars_fragment']="#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif\n";THREE.ShaderChunk['alphatest_fragment']="#ifdef ALPHATEST\n	if ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n";THREE.ShaderChunk['aomap_fragment']="#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n	#endif\n#endif\n";THREE.ShaderChunk['aomap_pars_fragment']="#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif";THREE.ShaderChunk['begin_vertex']="\nvec3 transformed = vec3( position );\n";THREE.ShaderChunk['beginnormal_vertex']="\nvec3 objectNormal = vec3( normal );\n";THREE.ShaderChunk['bsdfs']="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n	return any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n		if( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n			float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n			float maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n			return distanceFalloff * maxDistanceCutoffFactor;\n#else\n			return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n		}\n		return 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n	return ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	return 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n	float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n	float dotNH = saturate( dot( geometry.normal, halfDir ) );\n	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n	vec3 F = F_Schlick( specularColor, dotLH );\n	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n	float D = D_GGX( alpha, dotNH );\n	return F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n	return specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n	float dotNH = saturate( dot( geometry.normal, halfDir ) );\n	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n	vec3 F = F_Schlick( specularColor, dotLH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";THREE.ShaderChunk['bumpmap_pars_fragment']="#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n		vec3 vSigmaX = dFdx( surf_pos );\n		vec3 vSigmaY = dFdy( surf_pos );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 );\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif\n";THREE.ShaderChunk['clipping_planes_fragment']="#if NUM_CLIPPING_PLANES > 0\n	for ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\n		vec4 plane = clippingPlanes[ i ];\n		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n	}\n#endif\n";THREE.ShaderChunk['clipping_planes_pars_fragment']="#if NUM_CLIPPING_PLANES > 0\n	#if ! defined( PHYSICAL ) && ! defined( PHONG )\n		varying vec3 vViewPosition;\n	#endif\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";THREE.ShaderChunk['clipping_planes_pars_vertex']="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n	varying vec3 vViewPosition;\n#endif\n";THREE.ShaderChunk['clipping_planes_vertex']="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n	vViewPosition = - mvPosition.xyz;\n#endif\n";THREE.ShaderChunk['color_fragment']="#ifdef USE_COLOR\n	diffuseColor.rgb *= vColor;\n#endif";THREE.ShaderChunk['color_pars_fragment']="#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif\n";THREE.ShaderChunk['color_pars_vertex']="#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif";THREE.ShaderChunk['color_vertex']="#ifdef USE_COLOR\n	vColor.xyz = color.xyz;\n#endif";THREE.ShaderChunk[f7d.u3]="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract(sin(sn) * c);\n}\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\nstruct GeometricContext {\n	vec3 position;\n	vec3 normal;\n	vec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	float distance = dot( planeNormal, point - pointOnPlane );\n	return - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n";THREE.ShaderChunk['cube_uv_reflection_fragment']="#ifdef ENVMAP_TYPE_CUBE_UV\nconst float cubeUV_textureSize = 1024.0;\nint getFaceFromDirection(vec3 direction) {\n	vec3 absDirection = abs(direction);\n	int face = -1;\n	if( absDirection.x > absDirection.z ) {\n		if(absDirection.x > absDirection.y )\n			face = direction.x > 0.0 ? 0 : 3;\n		else\n			face = direction.y > 0.0 ? 1 : 4;\n	}\n	else {\n		if(absDirection.z > absDirection.y )\n			face = direction.z > 0.0 ? 2 : 5;\n		else\n			face = direction.y > 0.0 ? 1 : 4;\n	}\n	return face;\n}\nfloat cubeUV_maxLods1 = log2(cubeUV_textureSize*0.25) - 1.0;\nfloat cubeUV_rangeClamp = exp2((6.0 - 1.0) * 2.0);\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n	float scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n	float dxRoughness = dFdx(roughness);\n	float dyRoughness = dFdy(roughness);\n	vec3 dx = dFdx( vec * scale * dxRoughness );\n	vec3 dy = dFdy( vec * scale * dyRoughness );\n	float d = max( dot( dx, dx ), dot( dy, dy ) );\n	d = clamp(d, 1.0, cubeUV_rangeClamp);\n	float mipLevel = 0.5 * log2(d);\n	return vec2(floor(mipLevel), fract(mipLevel));\n}\nfloat cubeUV_maxLods2 = log2(cubeUV_textureSize*0.25) - 2.0;\nconst float cubeUV_rcpTextureSize = 1.0 / cubeUV_textureSize;\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n	mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n	float a = 16.0 * cubeUV_rcpTextureSize;\n	vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n	vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n	float powScale = exp2_packed.x * exp2_packed.y;\n	float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n	float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n	bool bRes = mipLevel == 0.0;\n	scale =  bRes && (scale < a) ? a : scale;\n	vec3 r;\n	vec2 offset;\n	int face = getFaceFromDirection(direction);\n	float rcpPowScale = 1.0 / powScale;\n	if( face == 0) {\n		r = vec3(direction.x, -direction.z, direction.y);\n		offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n	}\n	else if( face == 1) {\n		r = vec3(direction.y, direction.x, direction.z);\n		offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n	}\n	else if( face == 2) {\n		r = vec3(direction.z, direction.x, direction.y);\n		offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n	}\n	else if( face == 3) {\n		r = vec3(direction.x, direction.z, direction.y);\n		offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n	}\n	else if( face == 4) {\n		r = vec3(direction.y, direction.x, -direction.z);\n		offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n	}\n	else {\n		r = vec3(direction.z, -direction.x, direction.y);\n		offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n	}\n	r = normalize(r);\n	float texelOffset = 0.5 * cubeUV_rcpTextureSize;\n	vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n	vec2 base = offset + vec2( texelOffset );\n	return base + s * ( scale - 2.0 * texelOffset );\n}\nfloat cubeUV_maxLods3 = log2(cubeUV_textureSize*0.25) - 3.0;\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n	float roughnessVal = roughness* cubeUV_maxLods3;\n	float r1 = floor(roughnessVal);\n	float r2 = r1 + 1.0;\n	float t = fract(roughnessVal);\n	vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n	float s = mipInfo.y;\n	float level0 = mipInfo.x;\n	float level1 = level0 + 1.0;\n	level1 = level1 > 5.0 ? 5.0 : level1;\n	level0 += min( floor( s + 0.5 ), 5.0 );\n	vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n	vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n	vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n	vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n	vec4 result = mix(color10, color20, t);\n	return vec4(result.rgb, 1.0);\n}\n#endif\n";THREE.ShaderChunk['defaultnormal_vertex']="#ifdef FLIP_SIDED\n	objectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n";THREE.ShaderChunk['displacementmap_vertex']="#ifdef USE_DISPLACEMENTMAP\n	transformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";THREE.ShaderChunk['displacementmap_pars_vertex']="#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif\n";THREE.ShaderChunk['emissivemap_fragment']="#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vUv );\n	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n";THREE.ShaderChunk['emissivemap_pars_fragment']="#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif\n";THREE.ShaderChunk[f7d.B2]="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n";THREE.ShaderChunk['encodings_fragment']="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n";THREE.ShaderChunk['envmap_fragment']="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToVertex, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef DOUBLE_SIDED\n		float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n	#else\n		float flipNormal = 1.0;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#elif defined( ENVMAP_TYPE_EQUIREC )\n		vec2 sampleUV;\n		sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n		sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n		vec4 envColor = texture2D( envMap, sampleUV );\n	#elif defined( ENVMAP_TYPE_SPHERE )\n		vec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n	#endif\n	envColor = envMapTexelToLinear( envColor );\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif\n";THREE.ShaderChunk['envmap_pars_fragment']="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n	uniform float reflectivity;\n	uniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n	#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n		varying vec3 vWorldPosition;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	uniform float flipEnvMap;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif\n";THREE.ShaderChunk['envmap_pars_vertex']="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif\n";THREE.ShaderChunk['envmap_vertex']="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif\n";THREE.ShaderChunk['fog_fragment']="#ifdef USE_FOG\n	#ifdef USE_LOGDEPTHBUF_EXT\n		float depth = gl_FragDepthEXT / gl_FragCoord.w;\n	#else\n		float depth = gl_FragCoord.z / gl_FragCoord.w;\n	#endif\n	#ifdef FOG_EXP2\n		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, depth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";THREE.ShaderChunk['fog_pars_fragment']="#ifdef USE_FOG\n	uniform vec3 fogColor;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif";THREE.ShaderChunk['lightmap_fragment']="#ifdef USE_LIGHTMAP\n	reflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";THREE.ShaderChunk['lightmap_pars_fragment']="#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif";THREE.ShaderChunk['lights_lambert_vertex']="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n	vLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_DIR_LIGHTS > 0\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n		vLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n		#ifdef DOUBLE_SIDED\n			vLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n		#endif\n	}\n#endif\n";THREE.ShaderChunk['lights_pars']="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	return irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n		directLight.color = directionalLight.color;\n		directLight.direction = directionalLight.direction;\n		directLight.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n		vec3 lVector = pointLight.position - geometry.position;\n		directLight.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		if ( testLightInRange( lightDistance, pointLight.distance ) ) {\n			directLight.color = pointLight.color;\n			directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n			directLight.visible = true;\n		} else {\n			directLight.color = vec3( 0.0 );\n			directLight.visible = false;\n		}\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n		vec3 lVector = spotLight.position - geometry.position;\n		directLight.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		float angleCos = dot( directLight.direction, spotLight.direction );\n		if ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n			directLight.color = spotLight.color;\n			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n			directLight.visible = true;\n		} else {\n			directLight.color = vec3( 0.0 );\n			directLight.visible = false;\n		}\n	}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n		float dotNL = dot( geometry.normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		#ifndef PHYSICALLY_CORRECT_LIGHTS\n			irradiance *= PI;\n		#endif\n		return irradiance;\n	}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n		#ifdef DOUBLE_SIDED\n			float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n		#else\n			float flipNormal = 1.0;\n		#endif\n		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n		#ifdef ENVMAP_TYPE_CUBE\n			vec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n			#else\n				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n			vec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n		#else\n			vec4 envMapColor = vec4( 0.0 );\n		#endif\n		return PI * envMapColor.rgb * envMapIntensity;\n	}\n	float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n		float maxMIPLevelScalar = float( maxMIPLevel );\n		float desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n	}\n	vec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n		#else\n			vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n		#endif\n		#ifdef DOUBLE_SIDED\n			float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n		#else\n			float flipNormal = 1.0;\n		#endif\n		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n		float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n		#ifdef ENVMAP_TYPE_CUBE\n			vec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n			#else\n				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n			vec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n		#elif defined( ENVMAP_TYPE_EQUIREC )\n			vec2 sampleUV;\n			sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n			sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n			#else\n				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_SPHERE )\n			vec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n			#else\n				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#endif\n		return envMapColor.rgb * envMapIntensity;\n	}\n#endif\n";THREE.ShaderChunk['lights_phong_fragment']="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n";THREE.ShaderChunk['lights_phong_pars_fragment']="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n	vec3	diffuseColor;\n	vec3	specularColor;\n	float	specularShininess;\n	float	specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )	(0)\n";THREE.ShaderChunk['lights_physical_fragment']="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n";THREE.ShaderChunk['lights_physical_pars_fragment']="struct PhysicalMaterial {\n	vec3	diffuseColor;\n	float	specularRoughness;\n	vec3	specularColor;\n	#ifndef STANDARD\n	#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";THREE.ShaderChunk['lights_template']="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointDirectLightIrradiance( pointLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotDirectLightIrradiance( spotLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	#ifdef USE_LIGHTMAP\n		vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n		#ifndef PHYSICALLY_CORRECT_LIGHTS\n			lightMapIrradiance *= PI;\n		#endif\n		irradiance += lightMapIrradiance;\n	#endif\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n		}\n	#endif\n	#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n	 	irradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n	#endif\n	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	vec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n	RE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n";THREE.ShaderChunk['logdepthbuf_fragment']="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif";THREE.ShaderChunk['logdepthbuf_pars_fragment']="#ifdef USE_LOGDEPTHBUF\n	uniform float logDepthBufFC;\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n	#endif\n#endif\n";THREE.ShaderChunk['logdepthbuf_pars_vertex']="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n	#endif\n	uniform float logDepthBufFC;\n#endif";THREE.ShaderChunk['logdepthbuf_vertex']="#ifdef USE_LOGDEPTHBUF\n	gl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n	#else\n		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n	#endif\n#endif\n";THREE.ShaderChunk['map_fragment']="#ifdef USE_MAP\n	vec4 texelColor = texture2D( map, vUv );\n	texelColor = mapTexelToLinear( texelColor );\n	diffuseColor *= texelColor;\n#endif\n";THREE.ShaderChunk['map_pars_fragment']="#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n";THREE.ShaderChunk['map_particle_fragment']="#ifdef USE_MAP\n	vec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n	diffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n";THREE.ShaderChunk['map_particle_pars_fragment']="#ifdef USE_MAP\n	uniform vec4 offsetRepeat;\n	uniform sampler2D map;\n#endif\n";THREE.ShaderChunk['metalnessmap_fragment']="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vUv );\n	metalnessFactor *= texelMetalness.r;\n#endif\n";THREE.ShaderChunk['metalnessmap_pars_fragment']="#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif";THREE.ShaderChunk['morphnormal_vertex']="#ifdef USE_MORPHNORMALS\n	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";THREE.ShaderChunk['morphtarget_pars_vertex']="#ifdef USE_MORPHTARGETS\n	#ifndef USE_MORPHNORMALS\n	uniform float morphTargetInfluences[ 8 ];\n	#else\n	uniform float morphTargetInfluences[ 4 ];\n	#endif\n#endif";THREE.ShaderChunk['morphtarget_vertex']="#ifdef USE_MORPHTARGETS\n	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n	#ifndef USE_MORPHNORMALS\n	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n	#endif\n#endif\n";THREE.ShaderChunk['normal_fragment']="#ifdef FLAT_SHADED\n	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n	#endif\n#endif\n#ifdef USE_NORMALMAP\n	normal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";THREE.ShaderChunk['normalmap_pars_fragment']="#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( vUv.st );\n		vec2 st1 = dFdy( vUv.st );\n		vec3 S = normalize( q0 * st1.t - q1 * st0.t );\n		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n		vec3 N = normalize( surf_norm );\n		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n		mapN.xy = normalScale * mapN.xy;\n		mat3 tsn = mat3( S, T, N );\n		return normalize( tsn * mapN );\n	}\n#endif\n";THREE.ShaderChunk['packing']="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nvec4 packDepthToRGBA( const in float value ) {\n	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n	const vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n	vec4 res = mod( value * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n	res -= res.xxyz * bit_mask;\n	return res;\n}\nfloat unpackRGBAToDepth( const in vec4 rgba ) {\n	const vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n	return dot( rgba, bitSh );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";THREE.ShaderChunk['premultiplied_alpha_fragment']="#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n";THREE.ShaderChunk['project_vertex']="#ifdef USE_SKINNING\n	vec4 mvPosition = modelViewMatrix * skinned;\n#else\n	vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n";THREE.ShaderChunk['roughnessmap_fragment']="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vUv );\n	roughnessFactor *= texelRoughness.r;\n#endif\n";THREE.ShaderChunk['roughnessmap_pars_fragment']="#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif";THREE.ShaderChunk['shadowmap_pars_fragment']="#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHTS > 0\n\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHTS > 0\n\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHTS > 0\n\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\n\t#endif\n\n\t#if defined( SHADOWMAP_TYPE_PCSS )\n\t\t#define LIGHT_WORLD_SIZE 0.005\n\t\t#define LIGHT_FRUSTUM_WIDTH 3.75\n\t\t#define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)\n\t\t#define NEAR_PLANE 9.5\n\n\t\t#define NUM_SAMPLES 17\n\t\t#define NUM_RINGS 11\n\t\t#define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES\n\t\t#define PCF_NUM_SAMPLES NUM_SAMPLES\n\n\t\tvec2 poissonDisk[NUM_SAMPLES];\n\n\t\tvoid initPoissonSamples( const in vec2 randomSeed )\n\t\t{\n\t\t\tfloat ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );\n\t\t\tfloat INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );\n\n\t\t\t// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/\n\t\t\tfloat angle = rand( randomSeed ) * PI2;\n\t\t\tfloat radius = INV_NUM_SAMPLES;\n\t\t\tfloat radiusStep = radius;\n\n\t\t\tfor( int i = 0; i < NUM_SAMPLES; i ++ ) {\n\t\t\t\tpoissonDisk[i] = vec2( cos( angle ), sin( angle ) ) * pow( radius, 0.75 );\n\t\t\t\tradius += radiusStep;\n\t\t\t\tangle += ANGLE_STEP;\n\t\t\t}\n\t\t}\n\n\t\tfloat penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation\n\t\t\treturn (zReceiver - zBlocker) / zBlocker;\n\t\t}\n\n\t\tfloat findBlocker( sampler2D shadowMap, const in vec2 uv, const in float zReceiver ) {\n\t\t\t// This uses similar triangles to compute what\n\t\t\t// area of the shadow map we should search\n\t\t\tfloat searchRadius = LIGHT_SIZE_UV * ( zReceiver - NEAR_PLANE ) / zReceiver;\n\t\t\tfloat blockerDepthSum = 0.0;\n\t\t\tint numBlockers = 0;\n\n\t\t\tfor( int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++ ) {\n\t\t\t\tfloat shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));\n\t\t\t\tif ( shadowMapDepth < zReceiver ) {\n\t\t\t\t\tblockerDepthSum += shadowMapDepth;\n\t\t\t\t\tnumBlockers ++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( numBlockers == 0 ) return -1.0;\n\n\t\t\treturn blockerDepthSum / float( numBlockers );\n\t\t}\n\n\t\tfloat PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius ) {\n\t\t\tfloat sum = 0.0;\n\t\t\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\n\t\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + poissonDisk[ i ] * filterRadius ) );\n\t\t\t\tif( zReceiver <= depth ) sum += 1.0;\n\t\t\t}\n\t\t\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\n\t\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + -poissonDisk[ i ].yx * filterRadius ) );\n\t\t\t\tif( zReceiver <= depth ) sum += 1.0;\n\t\t\t}\n\t\t\treturn sum / ( 2.0 * float( PCF_NUM_SAMPLES ) );\n\t\t}\n\n\t\tfloat PCSS ( sampler2D shadowMap, vec4 coords ) {\n\t\t\tvec2 uv = coords.xy;\n\t\t\tfloat zReceiver = coords.z; // Assumed to be eye-space z in this code\n\n\t\t\tinitPoissonSamples( uv );\n\t\t\t// STEP 1: blocker search\n\t\t\tfloat avgBlockerDepth = findBlocker( shadowMap, uv, zReceiver );\n\n\t\t\t//There are no occluders so early out (this saves filtering)\n\t\t\tif( avgBlockerDepth == -1.0 ) return 1.0;\n\n\t\t\t// STEP 2: penumbra size\n\t\t\tfloat penumbraRatio = penumbraSize( zReceiver, avgBlockerDepth );\n\t\t\tfloat filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;\n\n\t\t\t// STEP 3: filtering\n\t\t\t//return avgBlockerDepth;\n\t\t\treturn PCF_Filter( shadowMap, uv, zReceiver, filterRadius );\n\t\t}\n\n\t#endif\n\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n\t}\n\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\n\t\tvec2 f = fract( uv * size + 0.5 );\n\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\n\t\treturn c;\n\n\t}\n\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\n\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_PCSS )\n\t\t  return PCSS( shadowMap, shadowCoord);\n\t\t  return texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#else // no percentage-closer filtering:\n\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#endif\n\n\t\t}\n\n\t\treturn 1.0;\n\n\t}\n\n\t// cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n\t// vector suitable for 2D texture mapping. This code uses the following layout for the\n\t// 2D texture:\n\t//\n\t// xzXZ\n\t//  y Y\n\t//\n\t// Y - Positive y direction\n\t// y - Negative y direction\n\t// X - Positive x direction\n\t// x - Negative x direction\n\t// Z - Positive z direction\n\t// z - Negative z direction\n\t//\n\t// Source and test bed:\n\t// https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\t\t// Number of texels to avoid at the edge of each square\n\n\t\tvec3 absV = abs( v );\n\n\t\t// Intersect unit cube\n\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\n\t\t// Apply scale to avoid seams\n\n\t\t// two texels less per square (one texel will do for NEAREST)\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n\t\t// Unwrap\n\n\t\t// space: -1 ... 1 range for each square\n\t\t//\n\t\t// #X##\t\tdim    := ( 4 , 2 )\n\t\t//  # #\t\tcenter := ( 1 , 1 )\n\n\t\tvec2 planar = v.xy;\n\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\n\t\tif ( absV.z >= almostOne ) {\n\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\n\t\t} else if ( absV.x >= almostOne ) {\n\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\n\t\t} else if ( absV.y >= almostOne ) {\n\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\n\t\t}\n\n\t\t// Transform to UV space\n\n\t\t// scale := 0.5 / dim\n\t\t// translate := ( center + 0.5 ) / dim\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n\t}\n\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n\t\t// for point lights, the uniform @vShadowCoord is re-purposed to hold\n\t\t// the distance from the light to the world-space position of the fragment.\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\n\t\t// bd3D = base direction 3D\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t// dp = distance from light to fragment position\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#else // no percentage-closer filtering\n\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\n\t\t#endif\n\n\t}\n\n#endif\n";THREE.ShaderChunk['shadowmap_pars_vertex']="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n	#endif\n#endif\n";THREE.ShaderChunk['shadowmap_vertex']="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n#endif\n";THREE.ShaderChunk['shadowmask_pars_fragment']="float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n	DirectionalLight directionalLight;\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		shadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n	SpotLight spotLight;\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		shadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n	PointLight pointLight;\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		shadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#endif\n	return shadow;\n}\n";THREE.ShaderChunk['skinbase_vertex']="#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";THREE.ShaderChunk['skinning_pars_vertex']="#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	#ifdef BONE_TEXTURE\n		uniform sampler2D boneTexture;\n		uniform int boneTextureWidth;\n		uniform int boneTextureHeight;\n		mat4 getBoneMatrix( const in float i ) {\n			float j = i * 4.0;\n			float x = mod( j, float( boneTextureWidth ) );\n			float y = floor( j / float( boneTextureWidth ) );\n			float dx = 1.0 / float( boneTextureWidth );\n			float dy = 1.0 / float( boneTextureHeight );\n			y = dy * ( y + 0.5 );\n			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n			mat4 bone = mat4( v1, v2, v3, v4 );\n			return bone;\n		}\n	#else\n		uniform mat4 boneMatrices[ MAX_BONES ];\n		mat4 getBoneMatrix( const in float i ) {\n			mat4 bone = boneMatrices[ int(i) ];\n			return bone;\n		}\n	#endif\n#endif\n";THREE.ShaderChunk['skinning_vertex']="#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	skinned  = bindMatrixInverse * skinned;\n#endif\n";THREE.ShaderChunk['skinnormal_vertex']="#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";THREE.ShaderChunk['specularmap_fragment']="float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif";THREE.ShaderChunk['specularmap_pars_fragment']="#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif";THREE.ShaderChunk['tonemapping_fragment']="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n";THREE.ShaderChunk[f7d.r2]="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";THREE.ShaderChunk['uv2_pars_fragment']="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	varying vec2 vUv2;\n#endif";THREE.ShaderChunk['uv2_pars_vertex']="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	attribute vec2 uv2;\n	varying vec2 vUv2;\n#endif";THREE.ShaderChunk['uv2_vertex']="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	vUv2 = uv2;\n#endif";THREE.ShaderChunk['uv_pars_fragment']="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	varying vec2 vUv;\n#endif";THREE.ShaderChunk['uv_pars_vertex']="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	varying vec2 vUv;\n	uniform vec4 offsetRepeat;\n#endif\n";THREE.ShaderChunk['uv_vertex']="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif";THREE.ShaderChunk['worldpos_vertex']="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n	#ifdef USE_SKINNING\n		vec4 worldPosition = modelMatrix * skinned;\n	#else\n		vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n	#endif\n#endif\n";THREE.UniformsUtils={merge:function(d){var e={};for(var f=0;f<d.length;f++){var i=this.clone(d[f]);for(var j in i){e[j]=i[j];}}return e;},clone:function(d){var e={};for(var f in d){e[f]={};for(var i in d[f]){var j=d[f][i];if(j instanceof THREE.Color||j instanceof THREE.Vector2||j instanceof THREE.Vector3||j instanceof THREE.Vector4||j instanceof THREE.Matrix3||j instanceof THREE.Matrix4||j instanceof THREE.Texture){e[f][i]=j.clone();}else if(Array.isArray(j)){e[f][i]=j.slice();}else{e[f][i]=j;}}}return e;}};THREE.UniformsLib={common:{"diffuse":{type:f7d.O0,value:new THREE.Color(0xeeeeee)},"opacity":{type:f7d.S1,value:f7d.Z3},"map":{type:f7d.Y1,value:f7d.h3},"offsetRepeat":{type:"v4",value:new THREE.Vector4(0,0,1,1)},"specularMap":{type:f7d.Y1,value:f7d.h3},"alphaMap":{type:f7d.Y1,value:f7d.h3},"envMap":{type:f7d.Y1,value:f7d.h3},"flipEnvMap":{type:f7d.S1,value:-1},"reflectivity":{type:f7d.S1,value:f7d.Z3},"refractionRatio":{type:f7d.S1,value:0.98}},aomap:{"aoMap":{type:f7d.Y1,value:f7d.h3},"aoMapIntensity":{type:f7d.S1,value:1}},lightmap:{"lightMap":{type:f7d.Y1,value:f7d.h3},"lightMapIntensity":{type:f7d.S1,value:1}},emissivemap:{"emissiveMap":{type:f7d.Y1,value:f7d.h3}},bumpmap:{"bumpMap":{type:f7d.Y1,value:f7d.h3},"bumpScale":{type:f7d.S1,value:1}},normalmap:{"normalMap":{type:f7d.Y1,value:f7d.h3},"normalScale":{type:"v2",value:new THREE.Vector2(1,1)}},displacementmap:{"displacementMap":{type:f7d.Y1,value:f7d.h3},"displacementScale":{type:f7d.S1,value:1},"displacementBias":{type:f7d.S1,value:0}},roughnessmap:{"roughnessMap":{type:f7d.Y1,value:f7d.h3}},metalnessmap:{"metalnessMap":{type:f7d.Y1,value:f7d.h3}},fog:{"fogDensity":{type:f7d.S1,value:0.00025},"fogNear":{type:f7d.S1,value:1},"fogFar":{type:f7d.S1,value:2000},"fogColor":{type:f7d.O0,value:new THREE.Color(0xffffff)}},lights:{"ambientLightColor":{type:"3fv",value:[]},"directionalLights":{type:f7d.L,value:[],properties:{"direction":{type:"v3"},"color":{type:f7d.O0},"shadow":{type:"1i"},"shadowBias":{type:f7d.S1},"shadowRadius":{type:f7d.S1},"shadowMapSize":{type:"v2"}}},"directionalShadowMap":{type:"tv",value:[]},"directionalShadowMatrix":{type:"m4v",value:[]},"spotLights":{type:f7d.L,value:[],properties:{"color":{type:f7d.O0},"position":{type:"v3"},"direction":{type:"v3"},"distance":{type:f7d.S1},"coneCos":{type:f7d.S1},"penumbraCos":{type:f7d.S1},"decay":{type:f7d.S1},"shadow":{type:"1i"},"shadowBias":{type:f7d.S1},"shadowRadius":{type:f7d.S1},"shadowMapSize":{type:"v2"}}},"spotShadowMap":{type:"tv",value:[]},"spotShadowMatrix":{type:"m4v",value:[]},"pointLights":{type:f7d.L,value:[],properties:{"color":{type:f7d.O0},"position":{type:"v3"},"decay":{type:f7d.S1},"distance":{type:f7d.S1},"shadow":{type:"1i"},"shadowBias":{type:f7d.S1},"shadowRadius":{type:f7d.S1},"shadowMapSize":{type:"v2"}}},"pointShadowMap":{type:"tv",value:[]},"pointShadowMatrix":{type:"m4v",value:[]},"hemisphereLights":{type:f7d.L,value:[],properties:{"direction":{type:"v3"},"skyColor":{type:f7d.O0},"groundColor":{type:f7d.O0}}}},points:{"diffuse":{type:f7d.O0,value:new THREE.Color(0xeeeeee)},"opacity":{type:f7d.S1,value:f7d.Z3},"size":{type:f7d.S1,value:f7d.Z3},"scale":{type:f7d.S1,value:f7d.Z3},"map":{type:f7d.Y1,value:f7d.h3},"offsetRepeat":{type:"v4",value:new THREE.Vector4(0,0,1,1)}}};THREE.ShaderChunk['cube_frag']="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n	#include <logdepthbuf_fragment>\n}\n";THREE.ShaderChunk[f7d.O]=f7d.e0;THREE.ShaderChunk['depth_frag']="#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <logdepthbuf_fragment>\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n	#endif\n}\n";THREE.ShaderChunk['depth_vert']="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#include <begin_vertex>\n	#include <displacementmap_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n}\n";THREE.ShaderChunk[f7d.g0]="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	#include <clipping_planes_fragment>\n	gl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n";THREE.ShaderChunk[f7d.R]="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <skinbase_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition;\n}\n";THREE.ShaderChunk[f7d.V2]="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 direction = normalize( vWorldPosition );\n	vec2 sampleUV;\n	sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <logdepthbuf_fragment>\n}\n";THREE.ShaderChunk[f7d.O3]=f7d.e0;THREE.ShaderChunk[f7d.r1]="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n";THREE.ShaderChunk[f7d.S]="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <color_vertex>\n	vLineDistance = scale * lineDistance;\n	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n}\n";THREE.ShaderChunk[f7d.G0]="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight;\n	reflectedLight.directDiffuse = vec3( 0.0 );\n	reflectedLight.directSpecular = vec3( 0.0 );\n	reflectedLight.indirectDiffuse = diffuseColor.rgb;\n	reflectedLight.indirectSpecular = vec3( 0.0 );\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n";THREE.ShaderChunk[f7d.B1]="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_ENVMAP\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	#include <envmap_vertex>\n}\n";THREE.ShaderChunk[f7d.D1]="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <emissivemap_fragment>\n	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n	#include <lightmap_fragment>\n	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n	#ifdef DOUBLE_SIDED\n		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n	#else\n		reflectedLight.directDiffuse = vLightFront;\n	#endif\n	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n";THREE.ShaderChunk[f7d.R1]="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <lights_lambert_vertex>\n	#include <shadowmap_vertex>\n}\n";THREE.ShaderChunk[f7d.l3]="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_template>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n";THREE.ShaderChunk[f7d.V3]="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <displacementmap_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n}\n";THREE.ShaderChunk[f7d.P0]="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_template>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n";THREE.ShaderChunk[f7d.X3]="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <displacementmap_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n}\n";THREE.ShaderChunk[f7d.M0]="uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	gl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n	#include <logdepthbuf_fragment>\n}\n";THREE.ShaderChunk[f7d.L1]="varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vNormal = normalize( normalMatrix * normal );\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n}\n";THREE.ShaderChunk[f7d.u0]="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n";THREE.ShaderChunk[f7d.o4]="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <color_vertex>\n	#include <begin_vertex>\n	#include <project_vertex>\n	#ifdef USE_SIZEATTENUATION\n		gl_PointSize = size * ( scale / - mvPosition.z );\n	#else\n		gl_PointSize = size;\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n}\n";THREE.ShaderLib={'basic':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib[f7d.u3],THREE.UniformsLib[f7d.q4],THREE.UniformsLib[f7d.R0]]),vertexShader:THREE.ShaderChunk[f7d.B1],fragmentShader:THREE.ShaderChunk[f7d.G0]},'lambert':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib[f7d.u3],THREE.UniformsLib[f7d.q4],THREE.UniformsLib[f7d.N1],THREE.UniformsLib[f7d.H],THREE.UniformsLib[f7d.R0],THREE.UniformsLib[f7d.T2],{"emissive":{type:f7d.O0,value:new THREE.Color(0x000000)}}]),vertexShader:THREE.ShaderChunk[f7d.R1],fragmentShader:THREE.ShaderChunk[f7d.D1]},'phong':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib[f7d.u3],THREE.UniformsLib[f7d.q4],THREE.UniformsLib[f7d.N1],THREE.UniformsLib[f7d.H],THREE.UniformsLib['bumpmap'],THREE.UniformsLib['normalmap'],THREE.UniformsLib[f7d.r0],THREE.UniformsLib[f7d.R0],THREE.UniformsLib[f7d.T2],{"emissive":{type:f7d.O0,value:new THREE.Color(0x000000)},"specular":{type:f7d.O0,value:new THREE.Color(0x111111)},"shininess":{type:f7d.S1,value:30}}]),vertexShader:THREE.ShaderChunk[f7d.V3],fragmentShader:THREE.ShaderChunk[f7d.l3]},'standard':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib[f7d.u3],THREE.UniformsLib[f7d.q4],THREE.UniformsLib[f7d.N1],THREE.UniformsLib[f7d.H],THREE.UniformsLib['bumpmap'],THREE.UniformsLib['normalmap'],THREE.UniformsLib[f7d.r0],THREE.UniformsLib['roughnessmap'],THREE.UniformsLib['metalnessmap'],THREE.UniformsLib[f7d.R0],THREE.UniformsLib[f7d.T2],{"emissive":{type:f7d.O0,value:new THREE.Color(0x000000)},"roughness":{type:f7d.S1,value:f7d.h1},"metalness":{type:f7d.S1,value:0},"envMapIntensity":{type:f7d.S1,value:1}}]),vertexShader:THREE.ShaderChunk[f7d.X3],fragmentShader:THREE.ShaderChunk[f7d.P0]},'points':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib['points'],THREE.UniformsLib[f7d.R0]]),vertexShader:THREE.ShaderChunk[f7d.o4],fragmentShader:THREE.ShaderChunk[f7d.u0]},'dashed':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib[f7d.u3],THREE.UniformsLib[f7d.R0],{"scale":{type:f7d.S1,value:1},"dashSize":{type:f7d.S1,value:1},"totalSize":{type:f7d.S1,value:2}}]),vertexShader:THREE.ShaderChunk[f7d.S],fragmentShader:THREE.ShaderChunk[f7d.r1]},'depth':{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib[f7d.u3],THREE.UniformsLib[f7d.r0]]),vertexShader:THREE.ShaderChunk['depth_vert'],fragmentShader:THREE.ShaderChunk['depth_frag']},'normal':{uniforms:{"opacity":{type:f7d.S1,value:f7d.Z3}},vertexShader:THREE.ShaderChunk[f7d.L1],fragmentShader:THREE.ShaderChunk[f7d.M0]},'cube':{uniforms:{"tCube":{type:f7d.Y1,value:f7d.h3},"tFlip":{type:f7d.S1,value:-1}},vertexShader:THREE.ShaderChunk[f7d.O],fragmentShader:THREE.ShaderChunk['cube_frag']},'equirect':{uniforms:{"tEquirect":{type:f7d.Y1,value:f7d.h3},"tFlip":{type:f7d.S1,value:-1}},vertexShader:THREE.ShaderChunk[f7d.O3],fragmentShader:THREE.ShaderChunk[f7d.V2]},'distanceRGBA':{uniforms:{"lightPos":{type:"v3",value:new THREE.Vector3()}},vertexShader:THREE.ShaderChunk[f7d.R],fragmentShader:THREE.ShaderChunk[f7d.g0]}};THREE.ShaderLib[f7d.U]={uniforms:THREE.UniformsUtils.merge([THREE.ShaderLib['standard'].uniforms,{}]),vertexShader:THREE.ShaderChunk[f7d.X3],fragmentShader:THREE.ShaderChunk[f7d.P0]};THREE.WebGLRenderer=function(B0){var K0='). Resized to ',i0='morphNormal',X0='morphTarget',V0='OES_texture_half_float_linear',D0='OES_texture_float_linear',N0='webglcontextlost';console.log('THREE.WebGLRenderer',THREE.REVISION);B0=B0||{};var a1=B0.canvas!==undefined?B0.canvas:document.createElement(f7d.K),U0=B0.context!==undefined?B0.context:f7d.h3,i1=B0.alpha!==undefined?B0.alpha:f7d.a4,E0=B0.depth!==undefined?B0.depth:f7d.k3,b1=B0.stencil!==undefined?B0.stencil:f7d.k3,n1=B0.antialias!==undefined?B0.antialias:f7d.a4,p1=B0.premultipliedAlpha!==undefined?B0.premultipliedAlpha:f7d.k3,m1=B0.preserveDrawingBuffer!==undefined?B0.preserveDrawingBuffer:f7d.a4,t1=[],o1=[],q1=-1,f1=[],w1=-1,u1=new Float32Array(8),x1=[],Q1=[];this.domElement=a1;this.context=f7d.h3;this.autoClear=f7d.k3;this.autoClearColor=f7d.k3;this.autoClearDepth=f7d.k3;this.autoClearStencil=f7d.k3;this.sortObjects=f7d.k3;this.clippingPlanes=[];this.localClippingEnabled=f7d.a4;this.gammaFactor=2.0;this.gammaInput=f7d.a4;this.gammaOutput=f7d.a4;this.physicallyCorrectLights=f7d.a4;this.toneMapping=THREE.LinearToneMapping;this.toneMappingExposure=f7d.Z3;this.toneMappingWhitePoint=f7d.Z3;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=f7d.k3;var y1=this,a2=f7d.h3,p2=f7d.h3,z1=f7d.h3,n2=-1,Z1='',j2=f7d.h3,K2=new THREE.Vector4(),x2=f7d.h3,d1=new THREE.Vector4(),m2=0,w2=new THREE.Color(0x000000),z2=0,i3=a1.width,O2=a1.height,y2=1,W2=new THREE.Vector4(0,0,i3,O2),t3=f7d.a4,j3=new THREE.Vector4(0,0,i3,O2),b4=new THREE.Frustum(),P2=f7d.a4,s3=f7d.a4,B3=f7d.a4,w3=0,x3={type:'4fv',value:f7d.h3,needsUpdate:f7d.a4},r4=f7d.h3,G3=0,e4=new THREE.Matrix3(),A4=new THREE.Sphere(),H5=new THREE.Plane(),s4=new THREE.Matrix4(),E2=new THREE.Vector3(),J1={hash:'',ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},J3={geometries:0,textures:0},f4={calls:0,vertices:0,faces:0,points:0};this.info={render:f4,memory:J3,programs:f7d.h3};var k0;try{var J5={alpha:i1,depth:E0,stencil:b1,antialias:n1,premultipliedAlpha:p1,preserveDrawingBuffer:m1};k0=U0||a1.getContext('webgl',J5)||a1.getContext('experimental-webgl',J5);if(k0===f7d.h3){if(a1.getContext('webgl')!==f7d.h3){throw 'Error creating WebGL context with your selected attributes.';}else{throw 'Error creating WebGL context.';}}if(k0.getShaderPrecisionFormat===undefined){k0.getShaderPrecisionFormat=function(){return {'rangeMin':1,'rangeMax':1,'precision':1};};}a1.addEventListener(N0,S5,f7d.a4);}catch(d){console.error(f7d.P+d);}var I5=(typeof WebGL2RenderingContext!==f7d.M1&&k0 instanceof WebGL2RenderingContext),t2=new THREE.WebGLExtensions(k0);t2.get(f7d.C3);t2.get(f7d.V);t2.get(D0);t2.get(f7d.M);t2.get(V0);t2.get(f7d.F3);t2.get(f7d.U2);if(t2.get(f7d.c4)){THREE.BufferGeometry.MaxIndex=4294967296;}var M3=new THREE.WebGLCapabilities(k0,t2,B0),l1=new THREE.WebGLState(k0,t2,Y2),i2=new THREE.WebGLProperties(),C4=new THREE.WebGLObjects(k0,i2,this.info),B4=new THREE.WebGLPrograms(this,M3),I4=new THREE.WebGLLights();this.info.programs=B4.programs;var o6=new THREE.WebGLBufferRenderer(k0,t2,f4),n6=new THREE.WebGLIndexedBufferRenderer(k0,t2,f4);function K5(){return p2===f7d.h3?y2:1;}function p5(d,e,f,i){if(p1===f7d.k3){d*=i;e*=i;f*=i;}l1.clearColor(d,e,f,i);}function N5(){l1.init();l1.scissor(K2.copy(W2).multiplyScalar(y2));l1.viewport(d1.copy(j3).multiplyScalar(y2));p5(w2.r,w2.g,w2.b,z2);}function M5(){a2=f7d.h3;j2=f7d.h3;Z1='';n2=-1;l1.reset();}N5();this.context=k0;this.capabilities=M3;this.extensions=t2;this.properties=i2;this.state=l1;var L5=new THREE.WebGLShadowMap(this,J1,C4);this.shadowMap=L5;var w6=new THREE.SpritePlugin(this,x1),x6=new THREE.LensFlarePlugin(this,Q1);this.getContext=function(){return k0;};this.getContextAttributes=function(){return k0.getContextAttributes();};this.forceContextLoss=function(){t2.get('WEBGL_lose_context').loseContext();};this.getMaxAnisotropy=(function(){var e;return function f(){if(e!==undefined)return e;var d=t2.get(f7d.l0);if(d!==f7d.h3){e=k0.getParameter(d.MAX_TEXTURE_MAX_ANISOTROPY_EXT);}else{e=0;}return e;};})();this.getPrecision=function(){return M3.precision;};this.getPixelRatio=function(){return y2;};this.setPixelRatio=function(d){if(d===undefined)return ;y2=d;this.setSize(j3.z,j3.w,f7d.a4);};this.getSize=function(){return {width:i3,height:O2};};this.setSize=function(d,e,f){i3=d;O2=e;a1.width=d*y2;a1.height=e*y2;if(f!==f7d.a4){a1.style.width=d+'px';a1.style.height=e+'px';}this.setViewport(0,0,d,e);};this.setViewport=function(d,e,f,i){l1.viewport(j3.set(d,e,f,i));};this.setScissor=function(d,e,f,i){l1.scissor(W2.set(d,e,f,i));};this.setScissorTest=function(d){l1.setScissorTest(t3=d);};this.getClearColor=function(){return w2;};this.setClearColor=function(d,e){w2.set(d);z2=e!==undefined?e:1;p5(w2.r,w2.g,w2.b,z2);};this.getClearAlpha=function(){return z2;};this.setClearAlpha=function(d){z2=d;p5(w2.r,w2.g,w2.b,z2);};this.clear=function(d,e,f){var i=0;if(d===undefined||d)i|=k0.COLOR_BUFFER_BIT;if(e===undefined||e)i|=k0.DEPTH_BUFFER_BIT;if(f===undefined||f)i|=k0.STENCIL_BUFFER_BIT;k0.clear(i);};this.clearColor=function(){this.clear(f7d.k3,f7d.a4,f7d.a4);};this.clearDepth=function(){this.clear(f7d.a4,f7d.k3,f7d.a4);};this.clearStencil=function(){this.clear(f7d.a4,f7d.a4,f7d.k3);};this.clearTarget=function(d,e,f,i){this.setRenderTarget(d);this.clear(e,f,i);};this.resetGLState=M5;this.dispose=function(){a1.removeEventListener(N0,S5,f7d.a4);};function S5(d){d.preventDefault();M5();N5();i2.clear();}function s5(d){var e=d.target;e.removeEventListener(f7d.J0,s5);p6(e);J3.textures--;}function T5(d){var e=d.target;e.removeEventListener(f7d.J0,T5);r6(e);J3.textures--;}function O5(d){var e=d.target;e.removeEventListener(f7d.J0,O5);q6(e);}function p6(d){var e=i2.get(d);if(d.image&&e.__image__webglTextureCube){k0.deleteTexture(e.__image__webglTextureCube);}else{if(e.__webglInit===undefined)return ;k0.deleteTexture(e.__webglTexture);}i2.delete  (d);}function r6(d){var e=i2.get(d),f=i2.get(d.texture);if(!d)return ;if(f.__webglTexture!==undefined){k0.deleteTexture(f.__webglTexture);}if(d.depthTexture){d.depthTexture.dispose();}if(d instanceof THREE.WebGLRenderTargetCube){for(var i=0;i<6;i++){k0.deleteFramebuffer(e.__webglFramebuffer[i]);if(e.__webglDepthbuffer)k0.deleteRenderbuffer(e.__webglDepthbuffer[i]);}}else{k0.deleteFramebuffer(e.__webglFramebuffer);if(e.__webglDepthbuffer)k0.deleteRenderbuffer(e.__webglDepthbuffer);}i2.delete  (d.texture);i2.delete  (d);}function q6(d){P5(d);i2.delete  (d);}function P5(d){var e=i2.get(d).program;d.program=undefined;if(e!==undefined){B4.releaseProgram(e);}}this.renderBufferImmediate=function(d,e,f){l1.initAttributes();var i=i2.get(d);if(d.hasPositions&&!i.position)i.position=k0.createBuffer();if(d.hasNormals&&!i.normal)i.normal=k0.createBuffer();if(d.hasUvs&&!i.uv)i.uv=k0.createBuffer();if(d.hasColors&&!i.color)i.color=k0.createBuffer();var j=e.getAttributes();if(d.hasPositions){k0.bindBuffer(k0.ARRAY_BUFFER,i.position);k0.bufferData(k0.ARRAY_BUFFER,d.positionArray,k0.DYNAMIC_DRAW);l1.enableAttribute(j.position);k0.vertexAttribPointer(j.position,3,k0.FLOAT,f7d.a4,0,0);}if(d.hasNormals){k0.bindBuffer(k0.ARRAY_BUFFER,i.normal);if(f.type!==f7d.z3&&f.type!==f7d.y3&&f.type!==f7d.X2&&f.shading===THREE.FlatShading){for(var k=0,m=d.count*3;k<m;k+=9){var n=d.normalArray,u=(n[k+0]+n[k+3]+n[k+6])/3,v=(n[k+1]+n[k+4]+n[k+7])/3,B=(n[k+2]+n[k+5]+n[k+8])/3;n[k+0]=u;n[k+1]=v;n[k+2]=B;n[k+3]=u;n[k+4]=v;n[k+5]=B;n[k+6]=u;n[k+7]=v;n[k+8]=B;}}k0.bufferData(k0.ARRAY_BUFFER,d.normalArray,k0.DYNAMIC_DRAW);l1.enableAttribute(j.normal);k0.vertexAttribPointer(j.normal,3,k0.FLOAT,f7d.a4,0,0);}if(d.hasUvs&&f.map){k0.bindBuffer(k0.ARRAY_BUFFER,i.uv);k0.bufferData(k0.ARRAY_BUFFER,d.uvArray,k0.DYNAMIC_DRAW);l1.enableAttribute(j.uv);k0.vertexAttribPointer(j.uv,2,k0.FLOAT,f7d.a4,0,0);}if(d.hasColors&&f.vertexColors!==THREE.NoColors){k0.bindBuffer(k0.ARRAY_BUFFER,i.color);k0.bufferData(k0.ARRAY_BUFFER,d.colorArray,k0.DYNAMIC_DRAW);l1.enableAttribute(j.color);k0.vertexAttribPointer(j.color,3,k0.FLOAT,f7d.a4,0,0);}l1.disableUnusedAttributes();k0.drawArrays(k0.TRIANGLES,0,d.count);d.count=0;};this.renderBufferDirect=function(d,e,f,i,j,k){Y5(i);var m=Z5(d,e,i,j),n=f7d.a4,u=f.id+'_'+m.id+'_'+i.wireframe;if(u!==Z1){Z1=u;n=f7d.k3;}var v=j.morphTargetInfluences;if(v!==undefined){var B=[];for(var C=0,J=v.length;C<J;C++){var E=v[C];B.push([E,C]);}B.sort(t6);if(B.length>8){B.length=8;}var Q=f.morphAttributes;for(var C=0,J=B.length;C<J;C++){var E=B[C];u1[C]=E[0];if(E[0]!==0){var T=E[1];if(i.morphTargets===f7d.k3&&Q.position)f.addAttribute(X0+C,Q.position[T]);if(i.morphNormals===f7d.k3&&Q.normal)f.addAttribute(i0+C,Q.normal[T]);}else{if(i.morphTargets===f7d.k3)f.removeAttribute(X0+C);if(i.morphNormals===f7d.k3)f.removeAttribute(i0+C);}}m.getUniforms().setValue(k0,'morphTargetInfluences',u1);n=f7d.k3;}var T=f.index,N=f.attributes.position;if(i.wireframe===f7d.k3){T=C4.getWireframeAttribute(f);}var b0;if(T!==f7d.h3){b0=n6;b0.setIndex(T);}else{b0=o6;}if(n){u6(i,m,f);if(T!==f7d.h3){k0.bindBuffer(k0.ELEMENT_ARRAY_BUFFER,C4.getAttributeBuffer(T));}}var o0=0,f0=Infinity;if(T!==f7d.h3){f0=T.count;}else if(N!==undefined){f0=N.count;}var d0=f.drawRange.start,p0=f.drawRange.count,t0=k!==f7d.h3?k.start:0,x0=k!==f7d.h3?k.count:Infinity,w0=Math.max(o0,d0,t0),s0=Math.min(o0+f0,d0+p0,t0+x0)-1,z0=Math.max(0,s0-w0+1);if(j instanceof THREE.Mesh){if(i.wireframe===f7d.k3){l1.setLineWidth(i.wireframeLinewidth*K5());b0.setMode(k0.LINES);}else{switch(j.drawMode){case THREE.TrianglesDrawMode:b0.setMode(k0.TRIANGLES);break;case THREE.TriangleStripDrawMode:b0.setMode(k0.TRIANGLE_STRIP);break;case THREE.TriangleFanDrawMode:b0.setMode(k0.TRIANGLE_FAN);break;}}}else if(j instanceof THREE.Line){var y0=i.linewidth;if(y0===undefined)y0=1;l1.setLineWidth(y0*K5());if(j instanceof THREE.LineSegments){b0.setMode(k0.LINES);}else{b0.setMode(k0.LINE_STRIP);}}else if(j instanceof THREE.Points){b0.setMode(k0.POINTS);}if(f instanceof THREE.InstancedBufferGeometry){if(f.maxInstancedCount>0){b0.renderInstances(f,w0,z0);}}else{b0.render(w0,z0);}};function u6(d,e,f,i){var j;if(f instanceof THREE.InstancedBufferGeometry){j=t2.get(f7d.U2);if(j===f7d.h3){console.error('THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');return ;}}if(i===undefined)i=0;l1.initAttributes();var k=f.attributes,m=e.getAttributes(),n=d.defaultAttributeValues;for(var u in m){var v=m[u];if(v>=0){var B=k[u];if(B!==undefined){var C=k0.FLOAT,J=B.array,E=B.normalized;if(J instanceof Float32Array){C=k0.FLOAT;}else if(J instanceof Float64Array){console.warn("Unsupported data buffer format: Float64Array");}else if(J instanceof Uint16Array){C=k0.UNSIGNED_SHORT;}else if(J instanceof Int16Array){C=k0.SHORT;}else if(J instanceof Uint32Array){C=k0.UNSIGNED_INT;}else if(J instanceof Int32Array){C=k0.INT;}else if(J instanceof Int8Array){C=k0.BYTE;}else if(J instanceof Uint8Array){C=k0.UNSIGNED_BYTE;}var Q=B.itemSize,T=C4.getAttributeBuffer(B);if(B instanceof THREE.InterleavedBufferAttribute){var N=B.data,b0=N.stride,o0=B.offset;if(N instanceof THREE.InstancedInterleavedBuffer){l1.enableAttributeAndDivisor(v,N.meshPerAttribute,j);if(f.maxInstancedCount===undefined){f.maxInstancedCount=N.meshPerAttribute*N.count;}}else{l1.enableAttribute(v);}k0.bindBuffer(k0.ARRAY_BUFFER,T);k0.vertexAttribPointer(v,Q,C,E,b0*N.array.BYTES_PER_ELEMENT,(i*b0+o0)*N.array.BYTES_PER_ELEMENT);}else{if(B instanceof THREE.InstancedBufferAttribute){l1.enableAttributeAndDivisor(v,B.meshPerAttribute,j);if(f.maxInstancedCount===undefined){f.maxInstancedCount=B.meshPerAttribute*B.count;}}else{l1.enableAttribute(v);}k0.bindBuffer(k0.ARRAY_BUFFER,T);k0.vertexAttribPointer(v,Q,C,E,0,i*Q*B.array.BYTES_PER_ELEMENT);}}else if(n!==undefined){var f0=n[u];if(f0!==undefined){switch(f0.length){case 2:k0.vertexAttrib2fv(v,f0);break;case 3:k0.vertexAttrib3fv(v,f0);break;case 4:k0.vertexAttrib4fv(v,f0);break;default:k0.vertexAttrib1fv(v,f0);}}}}}l1.disableUnusedAttributes();}function t6(d,e){return Math.abs(e[0])-Math.abs(d[0]);}function s6(d,e){if(d.object.renderOrder!==e.object.renderOrder){return d.object.renderOrder-e.object.renderOrder;}else if(d.material.id!==e.material.id){return d.material.id-e.material.id;}else if(d.z!==e.z){return d.z-e.z;}else{return d.id-e.id;}}function v6(d,e){if(d.object.renderOrder!==e.object.renderOrder){return d.object.renderOrder-e.object.renderOrder;}if(d.z!==e.z){return e.z-d.z;}else{return d.id-e.id;}}this.render=function(d,e,f,i){if(e instanceof THREE.Camera===f7d.a4){console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');return ;}var j=d.fog;Z1='';n2=-1;j2=f7d.h3;if(d.autoUpdate===f7d.k3)d.updateMatrixWorld();if(e.parent===f7d.h3)e.updateMatrixWorld();e.matrixWorldInverse.getInverse(e.matrixWorld);s4.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse);b4.setFromMatrix(s4);t1.length=0;q1=-1;w1=-1;x1.length=0;Q1.length=0;y6(this.clippingPlanes,e);Q5(d,e);o1.length=q1+1;f1.length=w1+1;if(y1.sortObjects===f7d.k3){o1.sort(s6);f1.sort(v6);}if(P2){B3=f7d.k3;J4(f7d.h3);}R6(t1);L5.render(d,e);z6(t1,e);if(P2){B3=f7d.a4;U5();}f4.calls=0;f4.vertices=0;f4.faces=0;f4.points=0;if(f===undefined){f=f7d.h3;}this.setRenderTarget(f);if(this.autoClear||i){this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);}if(d.overrideMaterial){var k=d.overrideMaterial;N4(o1,e,j,k);N4(f1,e,j,k);}else{l1.setBlending(THREE.NoBlending);N4(o1,e,j);N4(f1,e,j);}w6.render(d,e);x6.render(d,e,d1);if(f){var m=f.texture;if(m.generateMipmaps&&L4(f)&&m.minFilter!==THREE.NearestFilter&&m.minFilter!==THREE.LinearFilter){T6(f);}}l1.setDepthTest(f7d.k3);l1.setDepthWrite(f7d.k3);l1.setColorWrite(f7d.k3);};function q5(d,e,f,i,j){var k,m;if(f.transparent){k=f1;m=++w1;}else{k=o1;m=++q1;}var n=k[m];if(n!==undefined){n.id=d.id;n.object=d;n.geometry=e;n.material=f;n.z=E2.z;n.group=j;}else{n={id:d.id,object:d,geometry:e,material:f,z:E2.z,group:j};k.push(n);}}function R5(d){var e=d.geometry;if(e.boundingSphere===f7d.h3)e.computeBoundingSphere();var f=A4.copy(e.boundingSphere).applyMatrix4(d.matrixWorld);if(!b4.intersectsSphere(f))return f7d.a4;if(w3===0)return f7d.k3;var i=y1.clippingPlanes,j=f.center,k=-f.radius,m=0;do {if(i[m].distanceToPoint(j)<k)return f7d.a4;}while(++m!==w3);return f7d.k3;}function Q5(d,e){if(d.visible===f7d.a4)return ;if(d.layers.test(e.layers)){if(d instanceof THREE.Light){t1.push(d);}else if(d instanceof THREE.Sprite){if(d.frustumCulled===f7d.a4||R5(d)===f7d.k3){x1.push(d);}}else if(d instanceof THREE.LensFlare){Q1.push(d);}else if(d instanceof THREE.ImmediateRenderObject){if(y1.sortObjects===f7d.k3){E2.setFromMatrixPosition(d.matrixWorld);E2.applyProjection(s4);}q5(d,f7d.h3,d.material,E2.z,f7d.h3);}else if(d instanceof THREE.Mesh||d instanceof THREE.Line||d instanceof THREE.Points){if(d instanceof THREE.SkinnedMesh){d.skeleton.update();}if(d.frustumCulled===f7d.a4||R5(d)===f7d.k3){var f=d.material;if(f.visible===f7d.k3){if(y1.sortObjects===f7d.k3){E2.setFromMatrixPosition(d.matrixWorld);E2.applyProjection(s4);}var i=C4.update(d);if(f instanceof THREE.MultiMaterial){var j=i.groups,k=f.materials;for(var m=0,n=j.length;m<n;m++){var u=j[m],v=k[u.materialIndex];if(v.visible===f7d.k3){q5(d,i,v,E2.z,u);}}}else{q5(d,i,f,E2.z,f7d.h3);}}}}}var B=d.children;for(var m=0,n=B.length;m<n;m++){Q5(B[m],e);}}function N4(e,f,i,j){for(var k=0,m=e.length;k<m;k++){var n=e[k],u=n.object,v=n.geometry,B=j===undefined?n.material:j,C=n.group;u.modelViewMatrix.multiplyMatrices(f.matrixWorldInverse,u.matrixWorld);u.normalMatrix.getNormalMatrix(u.modelViewMatrix);if(u instanceof THREE.ImmediateRenderObject){Y5(B);var J=Z5(f,i,B,u);Z1='';u.render(function(d){y1.renderBufferImmediate(d,J,B);});}else{y1.renderBufferDirect(f,i,v,B,u,C);}}}function H6(d,e,f){var i=i2.get(d),j=B4.getParameters(d,J1,e,w3,f),k=B4.getProgramCode(d,j),m=i.program,n=f7d.k3;if(m===undefined){d.addEventListener(f7d.J0,O5);}else if(m.code!==k){P5(d);}else if(j.shaderID!==undefined){return ;}else{n=f7d.a4;}if(n){if(j.shaderID){var u=THREE.ShaderLib[j.shaderID];i.__webglShader={name:d.type,uniforms:THREE.UniformsUtils.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader};}else{i.__webglShader={name:d.type,uniforms:d.uniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader};}d.__webglShader=i.__webglShader;m=B4.acquireProgram(d,j,k);i.program=m;d.program=m;}var v=m.getAttributes();if(d.morphTargets){d.numSupportedMorphTargets=0;for(var B=0;B<y1.maxMorphTargets;B++){if(v[X0+B]>=0){d.numSupportedMorphTargets++;}}}if(d.morphNormals){d.numSupportedMorphNormals=0;for(var B=0;B<y1.maxMorphNormals;B++){if(v[i0+B]>=0){d.numSupportedMorphNormals++;}}}var C=i.__webglShader.uniforms;if(!(d instanceof THREE.ShaderMaterial)&&!(d instanceof THREE.RawShaderMaterial)||d.clipping===f7d.k3){i.numClippingPlanes=w3;C.clippingPlanes=x3;}if(d instanceof THREE.MeshPhongMaterial||d instanceof THREE.MeshLambertMaterial||d instanceof THREE.MeshStandardMaterial||d.lights){i.lightsHash=J1.hash;C.ambientLightColor.value=J1.ambient;C.directionalLights.value=J1.directional;C.spotLights.value=J1.spot;C.pointLights.value=J1.point;C.hemisphereLights.value=J1.hemi;C.directionalShadowMap.value=J1.directionalShadowMap;C.directionalShadowMatrix.value=J1.directionalShadowMatrix;C.spotShadowMap.value=J1.spotShadowMap;C.spotShadowMatrix.value=J1.spotShadowMatrix;C.pointShadowMap.value=J1.pointShadowMap;C.pointShadowMatrix.value=J1.pointShadowMatrix;}var J=i.program.getUniforms(),E=THREE.WebGLUniforms.seqWithValue(J.seq,C);i.uniformsList=E;i.dynamicUniforms=THREE.WebGLUniforms.splitDynamic(E,C);}function Y5(d){I6(d);if(d.transparent===f7d.k3){l1.setBlending(d.blending,d.blendEquation,d.blendSrc,d.blendDst,d.blendEquationAlpha,d.blendSrcAlpha,d.blendDstAlpha,d.premultipliedAlpha);}else{l1.setBlending(THREE.NoBlending);}l1.setDepthFunc(d.depthFunc);l1.setDepthTest(d.depthTest);l1.setDepthWrite(d.depthWrite);l1.setColorWrite(d.colorWrite);l1.setPolygonOffset(d.polygonOffset,d.polygonOffsetFactor,d.polygonOffsetUnits);}function I6(d){d.side!==THREE.DoubleSide?l1.enable(k0.CULL_FACE):l1.disable(k0.CULL_FACE);l1.setFlipSided(d.side===THREE.BackSide);}function Z5(d,e,f,i){m2=0;var j=i2.get(f);if(P2){if(s3||d!==j2){var k=d===j2&&f.id===n2;B6(f.clippingPlanes,f.clipShadows,d,j,k);}if(j.numClippingPlanes!==undefined&&j.numClippingPlanes!==w3){f.needsUpdate=f7d.k3;}}if(j.program===undefined){f.needsUpdate=f7d.k3;}if(j.lightsHash!==undefined&&j.lightsHash!==J1.hash){f.needsUpdate=f7d.k3;}if(f.needsUpdate){H6(f,e,i);f.needsUpdate=f7d.a4;}var m=f7d.a4,n=f7d.a4,u=f7d.a4,v=j.program,B=v.getUniforms(),C=j.__webglShader.uniforms;if(v.id!==a2){k0.useProgram(v.program);a2=v.id;m=f7d.k3;n=f7d.k3;u=f7d.k3;}if(f.id!==n2){n2=f.id;n=f7d.k3;}if(m||d!==j2){B.set(k0,d,f7d.n3);if(M3.logarithmicDepthBuffer){B.setValue(k0,'logDepthBufFC',2.0/(Math.log(d.far+f7d.Z3)/Math.LN2));}if(d!==j2){j2=d;n=f7d.k3;u=f7d.k3;}if(f instanceof THREE.ShaderMaterial||f instanceof THREE.MeshPhongMaterial||f instanceof THREE.MeshStandardMaterial||f.envMap){var J=B.map.cameraPosition;if(J!==undefined){J.setValue(k0,E2.setFromMatrixPosition(d.matrixWorld));}}if(f instanceof THREE.MeshPhongMaterial||f instanceof THREE.MeshLambertMaterial||f instanceof THREE.MeshBasicMaterial||f instanceof THREE.MeshStandardMaterial||f instanceof THREE.ShaderMaterial||f.skinning){B.setValue(k0,'viewMatrix',d.matrixWorldInverse);}B.set(k0,y1,'toneMappingExposure');B.set(k0,y1,'toneMappingWhitePoint');}if(f.skinning){B.setOptional(k0,i,'bindMatrix');B.setOptional(k0,i,'bindMatrixInverse');var E=i.skeleton;if(E){if(M3.floatVertexTextures&&E.useVertexTexture){B.set(k0,E,'boneTexture');B.set(k0,E,'boneTextureWidth');B.set(k0,E,'boneTextureHeight');}else{B.setOptional(k0,E,'boneMatrices');}}}if(n){if(f instanceof THREE.MeshPhongMaterial||f instanceof THREE.MeshLambertMaterial||f instanceof THREE.MeshStandardMaterial||f.lights){Q6(C,u);}if(e&&f.fog){M6(C,e);}if(f instanceof THREE.MeshBasicMaterial||f instanceof THREE.MeshLambertMaterial||f instanceof THREE.MeshPhongMaterial||f instanceof THREE.MeshStandardMaterial||f instanceof THREE.MeshDepthMaterial){J6(C,f);}if(f instanceof THREE.LineBasicMaterial){a6(C,f);}else if(f instanceof THREE.LineDashedMaterial){a6(C,f);K6(C,f);}else if(f instanceof THREE.PointsMaterial){L6(C,f);}else if(f instanceof THREE.MeshLambertMaterial){N6(C,f);}else if(f instanceof THREE.MeshPhongMaterial){O6(C,f);}else if(f instanceof THREE.MeshPhysicalMaterial){P6(C,f);}else if(f instanceof THREE.MeshStandardMaterial){b6(C,f);}else if(f instanceof THREE.MeshDepthMaterial){if(f.displacementMap){C.displacementMap.value=f.displacementMap;C.displacementScale.value=f.displacementScale;C.displacementBias.value=f.displacementBias;}}else if(f instanceof THREE.MeshNormalMaterial){C.opacity.value=f.opacity;}THREE.WebGLUniforms.upload(k0,j.uniformsList,C,y1);}B.set(k0,i,f7d.q2);B.set(k0,i,'normalMatrix');B.setValue(k0,'modelMatrix',i.matrixWorld);var Q=j.dynamicUniforms;if(Q!==f7d.h3){THREE.WebGLUniforms.evalDynamic(Q,C,i,d);THREE.WebGLUniforms.upload(k0,Q,C,y1);}return v;}function J6(d,e){d.opacity.value=e.opacity;d.diffuse.value=e.color;if(e.emissive){d.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity);}d.map.value=e.map;d.specularMap.value=e.specularMap;d.alphaMap.value=e.alphaMap;if(e.aoMap){d.aoMap.value=e.aoMap;d.aoMapIntensity.value=e.aoMapIntensity;}var f;if(e.map){f=e.map;}else if(e.specularMap){f=e.specularMap;}else if(e.displacementMap){f=e.displacementMap;}else if(e.normalMap){f=e.normalMap;}else if(e.bumpMap){f=e.bumpMap;}else if(e.roughnessMap){f=e.roughnessMap;}else if(e.metalnessMap){f=e.metalnessMap;}else if(e.alphaMap){f=e.alphaMap;}else if(e.emissiveMap){f=e.emissiveMap;}if(f!==undefined){if(f instanceof THREE.WebGLRenderTarget){f=f.texture;}var i=f.offset,j=f.repeat;d.offsetRepeat.value.set(i.x,i.y,j.x,j.y);}d.envMap.value=e.envMap;d.flipEnvMap.value=(e.envMap instanceof THREE.WebGLRenderTargetCube)?1:-1;d.reflectivity.value=e.reflectivity;d.refractionRatio.value=e.refractionRatio;}function a6(d,e){d.diffuse.value=e.color;d.opacity.value=e.opacity;}function K6(d,e){d.dashSize.value=e.dashSize;d.totalSize.value=e.dashSize+e.gapSize;d.scale.value=e.scale;}function L6(d,e){d.diffuse.value=e.color;d.opacity.value=e.opacity;d.size.value=e.size*y2;d.scale.value=a1.clientHeight*f7d.h1;d.map.value=e.map;if(e.map!==f7d.h3){var f=e.map.offset,i=e.map.repeat;d.offsetRepeat.value.set(f.x,f.y,i.x,i.y);}}function M6(d,e){d.fogColor.value=e.color;if(e instanceof THREE.Fog){d.fogNear.value=e.near;d.fogFar.value=e.far;}else if(e instanceof THREE.FogExp2){d.fogDensity.value=e.density;}}function N6(d,e){if(e.lightMap){d.lightMap.value=e.lightMap;d.lightMapIntensity.value=e.lightMapIntensity;}if(e.emissiveMap){d.emissiveMap.value=e.emissiveMap;}}function O6(d,e){d.specular.value=e.specular;d.shininess.value=Math.max(e.shininess,1e-4);if(e.lightMap){d.lightMap.value=e.lightMap;d.lightMapIntensity.value=e.lightMapIntensity;}if(e.emissiveMap){d.emissiveMap.value=e.emissiveMap;}if(e.bumpMap){d.bumpMap.value=e.bumpMap;d.bumpScale.value=e.bumpScale;}if(e.normalMap){d.normalMap.value=e.normalMap;d.normalScale.value.copy(e.normalScale);}if(e.displacementMap){d.displacementMap.value=e.displacementMap;d.displacementScale.value=e.displacementScale;d.displacementBias.value=e.displacementBias;}}function b6(d,e){d.roughness.value=e.roughness;d.metalness.value=e.metalness;if(e.roughnessMap){d.roughnessMap.value=e.roughnessMap;}if(e.metalnessMap){d.metalnessMap.value=e.metalnessMap;}if(e.lightMap){d.lightMap.value=e.lightMap;d.lightMapIntensity.value=e.lightMapIntensity;}if(e.emissiveMap){d.emissiveMap.value=e.emissiveMap;}if(e.bumpMap){d.bumpMap.value=e.bumpMap;d.bumpScale.value=e.bumpScale;}if(e.normalMap){d.normalMap.value=e.normalMap;d.normalScale.value.copy(e.normalScale);}if(e.displacementMap){d.displacementMap.value=e.displacementMap;d.displacementScale.value=e.displacementScale;d.displacementBias.value=e.displacementBias;}if(e.envMap){d.envMapIntensity.value=e.envMapIntensity;}}function P6(d,e){b6(d,e);}function Q6(d,e){d.ambientLightColor.needsUpdate=e;d.directionalLights.needsUpdate=e;d.pointLights.needsUpdate=e;d.spotLights.needsUpdate=e;d.hemisphereLights.needsUpdate=e;}function R6(d){var e=0;for(var f=0,i=d.length;f<i;f++){var j=d[f];if(j.castShadow){J1.shadows[e++]=j;}}J1.shadows.length=e;}function z6(d,e){var f,i,j,k=0,m=0,n=0,u,v,B,C=e.matrixWorldInverse,J=0,E=0,Q=0,T=0;for(f=0,i=d.length;f<i;f++){j=d[f];u=j.color;v=j.intensity;B=j.distance;if(j instanceof THREE.AmbientLight){k+=u.r*v;m+=u.g*v;n+=u.b*v;}else if(j instanceof THREE.DirectionalLight){var N=I4.get(j);N.color.copy(j.color).multiplyScalar(j.intensity);N.direction.setFromMatrixPosition(j.matrixWorld);E2.setFromMatrixPosition(j.target.matrixWorld);N.direction.sub(E2);N.direction.transformDirection(C);N.shadow=j.castShadow;if(j.castShadow){N.shadowBias=j.shadow.bias;N.shadowRadius=j.shadow.radius;N.shadowMapSize=j.shadow.mapSize;}J1.directionalShadowMap[J]=j.shadow.map;J1.directionalShadowMatrix[J]=j.shadow.matrix;J1.directional[J++]=N;}else if(j instanceof THREE.SpotLight){var N=I4.get(j);N.position.setFromMatrixPosition(j.matrixWorld);N.position.applyMatrix4(C);N.color.copy(u).multiplyScalar(v);N.distance=B;N.direction.setFromMatrixPosition(j.matrixWorld);E2.setFromMatrixPosition(j.target.matrixWorld);N.direction.sub(E2);N.direction.transformDirection(C);N.coneCos=Math.cos(j.angle);N.penumbraCos=Math.cos(j.angle*(1-j.penumbra));N.decay=(j.distance===0)?f7d.j1:j.decay;N.shadow=j.castShadow;if(j.castShadow){N.shadowBias=j.shadow.bias;N.shadowRadius=j.shadow.radius;N.shadowMapSize=j.shadow.mapSize;}J1.spotShadowMap[Q]=j.shadow.map;J1.spotShadowMatrix[Q]=j.shadow.matrix;J1.spot[Q++]=N;}else if(j instanceof THREE.PointLight){var N=I4.get(j);N.position.setFromMatrixPosition(j.matrixWorld);N.position.applyMatrix4(C);N.color.copy(j.color).multiplyScalar(j.intensity);N.distance=j.distance;N.decay=(j.distance===0)?f7d.j1:j.decay;N.shadow=j.castShadow;if(j.castShadow){N.shadowBias=j.shadow.bias;N.shadowRadius=j.shadow.radius;N.shadowMapSize=j.shadow.mapSize;}J1.pointShadowMap[E]=j.shadow.map;if(J1.pointShadowMatrix[E]===undefined){J1.pointShadowMatrix[E]=new THREE.Matrix4();}E2.setFromMatrixPosition(j.matrixWorld).negate();J1.pointShadowMatrix[E].identity().setPosition(E2);J1.point[E++]=N;}else if(j instanceof THREE.HemisphereLight){var N=I4.get(j);N.direction.setFromMatrixPosition(j.matrixWorld);N.direction.transformDirection(C);N.direction.normalize();N.skyColor.copy(j.color).multiplyScalar(v);N.groundColor.copy(j.groundColor).multiplyScalar(v);J1.hemi[T++]=N;}}J1.ambient[0]=k;J1.ambient[1]=m;J1.ambient[2]=n;J1.directional.length=J;J1.spot.length=Q;J1.point.length=E;J1.hemi.length=T;J1.hash=J+','+E+','+Q+','+T+','+J1.shadows.length;}function y6(d,e){P2=y1.clippingPlanes.length!==0||y1.localClippingEnabled||G3!==0||s3;s3=y1.localClippingEnabled;r4=J4(d,e,0);G3=d!==f7d.h3?d.length:0;}function J4(d,e,f,i){var j=d!==f7d.h3?d.length:0,k=f7d.h3;if(j!==0){k=x3.value;if(i!==f7d.k3||k===f7d.h3){var m=f+j*4,n=e.matrixWorldInverse,u=e4.getNormalMatrix(n);if(k===f7d.h3||k.length<m){k=new Float32Array(m);}for(var v=0,B=f;v!==j;++v,B+=4){var C=H5.copy(d[v]).applyMatrix4(n,u);C.normal.toArray(k,B);k[B+3]=C.constant;}}x3.value=k;x3.needsUpdate=f7d.k3;}w3=j;return k;}function U5(){if(x3.value!==r4){x3.value=r4;x3.needsUpdate=G3>0;}w3=G3;}function B6(d,e,f,i,j){if(!s3||d===f7d.h3||d.length===0||B3&&!e){if(B3){J4(f7d.h3);}else{U5();}}else{var k=B3?0:G3,m=k*4,n=i.clippingState||f7d.h3;x3.value=n;n=J4(d,f,m,j);for(var u=0;u!==m;++u){n[u]=r4[u];}i.clippingState=n;w3+=k;}}this.setFaceCulling=function(d,e){if(d===THREE.CullFaceNone){l1.disable(k0.CULL_FACE);}else{if(e===THREE.FrontFaceDirectionCW){k0.frontFace(k0.CW);}else{k0.frontFace(k0.CCW);}if(d===THREE.CullFaceBack){k0.cullFace(k0.BACK);}else if(d===THREE.CullFaceFront){k0.cullFace(k0.FRONT);}else{k0.cullFace(k0.FRONT_AND_BACK);}l1.enable(k0.CULL_FACE);}};function A6(){var d=m2;if(d>=M3.maxTextures){console.warn('WebGLRenderer: trying to use '+d+' texture units while this GPU supports only '+M3.maxTextures);}m2+=1;return d;}function K4(d,e,f){var i;if(f){k0.texParameteri(d,k0.TEXTURE_WRAP_S,Y2(e.wrapS));k0.texParameteri(d,k0.TEXTURE_WRAP_T,Y2(e.wrapT));k0.texParameteri(d,k0.TEXTURE_MAG_FILTER,Y2(e.magFilter));k0.texParameteri(d,k0.TEXTURE_MIN_FILTER,Y2(e.minFilter));}else{k0.texParameteri(d,k0.TEXTURE_WRAP_S,k0.CLAMP_TO_EDGE);k0.texParameteri(d,k0.TEXTURE_WRAP_T,k0.CLAMP_TO_EDGE);if(e.wrapS!==THREE.ClampToEdgeWrapping||e.wrapT!==THREE.ClampToEdgeWrapping){console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.',e);}k0.texParameteri(d,k0.TEXTURE_MAG_FILTER,c6(e.magFilter));k0.texParameteri(d,k0.TEXTURE_MIN_FILTER,c6(e.minFilter));if(e.minFilter!==THREE.NearestFilter&&e.minFilter!==THREE.LinearFilter){console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.',e);}}i=t2.get(f7d.l0);if(i){if(e.type===THREE.FloatType&&t2.get(D0)===f7d.h3)return ;if(e.type===THREE.HalfFloatType&&t2.get(V0)===f7d.h3)return ;if(e.anisotropy>1||i2.get(e).__currentAnisotropy){k0.texParameterf(d,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,y1.getMaxAnisotropy()));i2.get(e).__currentAnisotropy=e.anisotropy;}}}function C6(d,e,f){if(d.__webglInit===undefined){d.__webglInit=f7d.k3;e.addEventListener(f7d.J0,s5);d.__webglTexture=k0.createTexture();J3.textures++;}l1.activeTexture(k0.TEXTURE0+f);l1.bindTexture(k0.TEXTURE_2D,d.__webglTexture);k0.pixelStorei(k0.UNPACK_FLIP_Y_WEBGL,e.flipY);k0.pixelStorei(k0.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha);k0.pixelStorei(k0.UNPACK_ALIGNMENT,e.unpackAlignment);var i=V5(e.image,M3.maxTextureSize);if(D6(e)&&L4(i)===f7d.a4){i=F6(i);}var j=L4(i),k=Y2(e.format),m=Y2(e.type);K4(k0.TEXTURE_2D,e,j);var n,u=e.mipmaps;if(e instanceof THREE.DepthTexture){var v=k0.DEPTH_COMPONENT;if(e.type===THREE.FloatType){if(!I5)throw  new Error('Float Depth Texture only supported in WebGL2.0');v=k0.DEPTH_COMPONENT32F;}else if(I5){v=k0.DEPTH_COMPONENT16;}l1.texImage2D(k0.TEXTURE_2D,0,v,i.width,i.height,0,k,m,f7d.h3);}else if(e instanceof THREE.DataTexture){if(u.length>0&&j){for(var B=0,C=u.length;B<C;B++){n=u[B];l1.texImage2D(k0.TEXTURE_2D,B,k,n.width,n.height,0,k,m,n.data);}e.generateMipmaps=f7d.a4;}else{l1.texImage2D(k0.TEXTURE_2D,0,k,i.width,i.height,0,k,m,i.data);}}else if(e instanceof THREE.CompressedTexture){for(var B=0,C=u.length;B<C;B++){n=u[B];if(e.format!==THREE.RGBAFormat&&e.format!==THREE.RGBFormat){if(l1.getCompressedTextureFormats().indexOf(k)>-1){l1.compressedTexImage2D(k0.TEXTURE_2D,B,k,n.width,n.height,0,n.data);}else{console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");}}else{l1.texImage2D(k0.TEXTURE_2D,B,k,n.width,n.height,0,k,m,n.data);}}}else{if(u.length>0&&j){for(var B=0,C=u.length;B<C;B++){n=u[B];l1.texImage2D(k0.TEXTURE_2D,B,k,k,m,n);}e.generateMipmaps=f7d.a4;}else{l1.texImage2D(k0.TEXTURE_2D,0,k,k,m,i);}}if(e.generateMipmaps&&j)k0.generateMipmap(k0.TEXTURE_2D);d.__version=e.version;if(e.onUpdate)e.onUpdate(e);}function W5(d,e){if(d instanceof THREE.WebGLRenderTarget)d=d.texture;var f=i2.get(d);if(d.version>0&&f.__version!==d.version){var i=d.image;if(i===undefined){console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined',d);return ;}if(i.complete===f7d.a4){console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete',d);return ;}C6(f,d,e);return ;}l1.activeTexture(k0.TEXTURE0+e);l1.bindTexture(k0.TEXTURE_2D,f.__webglTexture);}function V5(d,e){if(d.width>e||d.height>e){var f=e/Math.max(d.width,d.height),i=document.createElement(f7d.K);i.width=Math.floor(d.width*f);i.height=Math.floor(d.height*f);var j=i.getContext('2d');j.drawImage(d,0,0,d.width,d.height,0,0,i.width,i.height);console.warn('THREE.WebGLRenderer: image is too big ('+d.width+'x'+d.height+K0+i.width+'x'+i.height,d);return i;}return d;}function L4(d){return THREE.Math.isPowerOfTwo(d.width)&&THREE.Math.isPowerOfTwo(d.height);}function D6(d){if(d.wrapS!==THREE.ClampToEdgeWrapping||d.wrapT!==THREE.ClampToEdgeWrapping)return f7d.k3;if(d.minFilter!==THREE.NearestFilter&&d.minFilter!==THREE.LinearFilter)return f7d.k3;return f7d.a4;}function F6(d){if(d instanceof HTMLImageElement||d instanceof HTMLCanvasElement){var e=document.createElement(f7d.K);e.width=THREE.Math.nearestPowerOfTwo(d.width);e.height=THREE.Math.nearestPowerOfTwo(d.height);var f=e.getContext('2d');f.drawImage(d,0,0,e.width,e.height);console.warn('THREE.WebGLRenderer: image is not power of two ('+d.width+'x'+d.height+K0+e.width+'x'+e.height,d);return e;}return d;}function E6(d,e){var f=i2.get(d);if(d.image.length===6){if(d.version>0&&f.__version!==d.version){if(!f.__image__webglTextureCube){d.addEventListener(f7d.J0,s5);f.__image__webglTextureCube=k0.createTexture();J3.textures++;}l1.activeTexture(k0.TEXTURE0+e);l1.bindTexture(k0.TEXTURE_CUBE_MAP,f.__image__webglTextureCube);k0.pixelStorei(k0.UNPACK_FLIP_Y_WEBGL,d.flipY);var i=d instanceof THREE.CompressedTexture,j=d.image[0] instanceof THREE.DataTexture,k=[];for(var m=0;m<6;m++){if(y1.autoScaleCubemaps&&!i&&!j){k[m]=V5(d.image[m],M3.maxCubemapSize);}else{k[m]=j?d.image[m].image:d.image[m];}}var n=k[0],u=L4(n),v=Y2(d.format),B=Y2(d.type);K4(k0.TEXTURE_CUBE_MAP,d,u);for(var m=0;m<6;m++){if(!i){if(j){l1.texImage2D(k0.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,v,k[m].width,k[m].height,0,v,B,k[m].data);}else{l1.texImage2D(k0.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,v,v,B,k[m]);}}else{var C,J=k[m].mipmaps;for(var E=0,Q=J.length;E<Q;E++){C=J[E];if(d.format!==THREE.RGBAFormat&&d.format!==THREE.RGBFormat){if(l1.getCompressedTextureFormats().indexOf(v)>-1){l1.compressedTexImage2D(k0.TEXTURE_CUBE_MAP_POSITIVE_X+m,E,v,C.width,C.height,0,C.data);}else{console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()");}}else{l1.texImage2D(k0.TEXTURE_CUBE_MAP_POSITIVE_X+m,E,v,C.width,C.height,0,v,B,C.data);}}}}if(d.generateMipmaps&&u){k0.generateMipmap(k0.TEXTURE_CUBE_MAP);}f.__version=d.version;if(d.onUpdate)d.onUpdate(d);}else{l1.activeTexture(k0.TEXTURE0+e);l1.bindTexture(k0.TEXTURE_CUBE_MAP,f.__image__webglTextureCube);}}}function G6(d,e){l1.activeTexture(k0.TEXTURE0+e);l1.bindTexture(k0.TEXTURE_CUBE_MAP,i2.get(d).__webglTexture);}var X5=f7d.a4;this.setTexture=function(d,e){if(!X5){console.warn("THREE.WebGLRenderer: .setTexture is deprecated, "+"use setTexture2D instead.");X5=f7d.k3;}W5(d,e);};this.allocTextureUnit=A6;this.setTexture2D=W5;this.setTextureCube=function(d,e){if(d instanceof THREE.CubeTexture||(Array.isArray(d.image)&&d.image.length===6)){E6(d,e);}else{G6(d.texture,e);}};function d6(d,e,f,i){var j=Y2(e.texture.format),k=Y2(e.texture.type);l1.texImage2D(i,0,j,e.width,e.height,0,j,k,f7d.h3);k0.bindFramebuffer(k0.FRAMEBUFFER,d);k0.framebufferTexture2D(k0.FRAMEBUFFER,f,i,i2.get(e.texture).__webglTexture,0);k0.bindFramebuffer(k0.FRAMEBUFFER,f7d.h3);}function e6(d,e){k0.bindRenderbuffer(k0.RENDERBUFFER,d);if(e.depthBuffer&&!e.stencilBuffer){k0.renderbufferStorage(k0.RENDERBUFFER,k0.DEPTH_COMPONENT16,e.width,e.height);k0.framebufferRenderbuffer(k0.FRAMEBUFFER,k0.DEPTH_ATTACHMENT,k0.RENDERBUFFER,d);}else if(e.depthBuffer&&e.stencilBuffer){k0.renderbufferStorage(k0.RENDERBUFFER,k0.DEPTH_STENCIL,e.width,e.height);k0.framebufferRenderbuffer(k0.FRAMEBUFFER,k0.DEPTH_STENCIL_ATTACHMENT,k0.RENDERBUFFER,d);}else{k0.renderbufferStorage(k0.RENDERBUFFER,k0.RGBA4,e.width,e.height);}k0.bindRenderbuffer(k0.RENDERBUFFER,f7d.h3);}function U6(d,e){var f=(e instanceof THREE.WebGLRenderTargetCube);if(f)throw  new Error('Depth Texture with cube render targets is not supported!');k0.bindFramebuffer(k0.FRAMEBUFFER,d);if(!(e.depthTexture instanceof THREE.DepthTexture)){throw  new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');}if(!i2.get(e.depthTexture).__webglTexture||e.depthTexture.image.width!==e.width||e.depthTexture.image.height!==e.height){e.depthTexture.image.width=e.width;e.depthTexture.image.height=e.height;e.depthTexture.needsUpdate=f7d.k3;}y1.setTexture(e.depthTexture,0);var i=i2.get(e.depthTexture).__webglTexture;k0.framebufferTexture2D(k0.FRAMEBUFFER,k0.DEPTH_ATTACHMENT,k0.TEXTURE_2D,i,0);}function V6(d){var e=i2.get(d),f=(d instanceof THREE.WebGLRenderTargetCube);if(d.depthTexture){if(f)throw  new Error('target.depthTexture not supported in Cube render targets');U6(e.__webglFramebuffer,d);}else{if(f){e.__webglDepthbuffer=[];for(var i=0;i<6;i++){k0.bindFramebuffer(k0.FRAMEBUFFER,e.__webglFramebuffer[i]);e.__webglDepthbuffer[i]=k0.createRenderbuffer();e6(e.__webglDepthbuffer[i],d);}}else{k0.bindFramebuffer(k0.FRAMEBUFFER,e.__webglFramebuffer);e.__webglDepthbuffer=k0.createRenderbuffer();e6(e.__webglDepthbuffer,d);}}k0.bindFramebuffer(k0.FRAMEBUFFER,f7d.h3);}function S6(d){var e=i2.get(d),f=i2.get(d.texture);d.addEventListener(f7d.J0,T5);f.__webglTexture=k0.createTexture();J3.textures++;var i=(d instanceof THREE.WebGLRenderTargetCube),j=THREE.Math.isPowerOfTwo(d.width)&&THREE.Math.isPowerOfTwo(d.height);if(i){e.__webglFramebuffer=[];for(var k=0;k<6;k++){e.__webglFramebuffer[k]=k0.createFramebuffer();}}else{e.__webglFramebuffer=k0.createFramebuffer();}if(i){l1.bindTexture(k0.TEXTURE_CUBE_MAP,f.__webglTexture);K4(k0.TEXTURE_CUBE_MAP,d.texture,j);for(var k=0;k<6;k++){d6(e.__webglFramebuffer[k],d,k0.COLOR_ATTACHMENT0,k0.TEXTURE_CUBE_MAP_POSITIVE_X+k);}if(d.texture.generateMipmaps&&j)k0.generateMipmap(k0.TEXTURE_CUBE_MAP);l1.bindTexture(k0.TEXTURE_CUBE_MAP,f7d.h3);}else{l1.bindTexture(k0.TEXTURE_2D,f.__webglTexture);K4(k0.TEXTURE_2D,d.texture,j);d6(e.__webglFramebuffer,d,k0.COLOR_ATTACHMENT0,k0.TEXTURE_2D);if(d.texture.generateMipmaps&&j)k0.generateMipmap(k0.TEXTURE_2D);l1.bindTexture(k0.TEXTURE_2D,f7d.h3);}if(d.depthBuffer){V6(d);}}this.getCurrentRenderTarget=function(){return p2;};this.setRenderTarget=function(d){p2=d;if(d&&i2.get(d).__webglFramebuffer===undefined){S6(d);}var e=(d instanceof THREE.WebGLRenderTargetCube),f;if(d){var i=i2.get(d);if(e){f=i.__webglFramebuffer[d.activeCubeFace];}else{f=i.__webglFramebuffer;}K2.copy(d.scissor);x2=d.scissorTest;d1.copy(d.viewport);}else{f=f7d.h3;K2.copy(W2).multiplyScalar(y2);x2=t3;d1.copy(j3).multiplyScalar(y2);}if(z1!==f){k0.bindFramebuffer(k0.FRAMEBUFFER,f);z1=f;}l1.scissor(K2);l1.setScissorTest(x2);l1.viewport(d1);if(e){var j=i2.get(d.texture);k0.framebufferTexture2D(k0.FRAMEBUFFER,k0.COLOR_ATTACHMENT0,k0.TEXTURE_CUBE_MAP_POSITIVE_X+d.activeCubeFace,j.__webglTexture,d.activeMipMapLevel);}};this.readRenderTargetPixels=function(d,e,f,i,j,k){if(d instanceof THREE.WebGLRenderTarget===f7d.a4){console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');return ;}var m=i2.get(d).__webglFramebuffer;if(m){var n=f7d.a4;if(m!==z1){k0.bindFramebuffer(k0.FRAMEBUFFER,m);n=f7d.k3;}try{var u=d.texture;if(u.format!==THREE.RGBAFormat&&Y2(u.format)!==k0.getParameter(k0.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');return ;}if(u.type!==THREE.UnsignedByteType&&Y2(u.type)!==k0.getParameter(k0.IMPLEMENTATION_COLOR_READ_TYPE)&&!(u.type===THREE.FloatType&&t2.get('WEBGL_color_buffer_float'))&&!(u.type===THREE.HalfFloatType&&t2.get('EXT_color_buffer_half_float'))){console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');return ;}if(k0.checkFramebufferStatus(k0.FRAMEBUFFER)===k0.FRAMEBUFFER_COMPLETE){if((e>0&&e<=(d.width-i))&&(f>0&&f<=(d.height-j))){k0.readPixels(e,f,i,j,Y2(u.format),Y2(u.type),k);}}else{console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');}}finally {if(n){k0.bindFramebuffer(k0.FRAMEBUFFER,z1);}}}};function T6(d){var e=d instanceof THREE.WebGLRenderTargetCube?k0.TEXTURE_CUBE_MAP:k0.TEXTURE_2D,f=i2.get(d.texture).__webglTexture;l1.bindTexture(e,f);k0.generateMipmap(e);l1.bindTexture(e,f7d.h3);}function c6(d){if(d===THREE.NearestFilter||d===THREE.NearestMipMapNearestFilter||d===THREE.NearestMipMapLinearFilter){return k0.NEAREST;}return k0.LINEAR;}function Y2(d){var e;if(d===THREE.RepeatWrapping)return k0.REPEAT;if(d===THREE.ClampToEdgeWrapping)return k0.CLAMP_TO_EDGE;if(d===THREE.MirroredRepeatWrapping)return k0.MIRRORED_REPEAT;if(d===THREE.NearestFilter)return k0.NEAREST;if(d===THREE.NearestMipMapNearestFilter)return k0.NEAREST_MIPMAP_NEAREST;if(d===THREE.NearestMipMapLinearFilter)return k0.NEAREST_MIPMAP_LINEAR;if(d===THREE.LinearFilter)return k0.LINEAR;if(d===THREE.LinearMipMapNearestFilter)return k0.LINEAR_MIPMAP_NEAREST;if(d===THREE.LinearMipMapLinearFilter)return k0.LINEAR_MIPMAP_LINEAR;if(d===THREE.UnsignedByteType)return k0.UNSIGNED_BYTE;if(d===THREE.UnsignedShort4444Type)return k0.UNSIGNED_SHORT_4_4_4_4;if(d===THREE.UnsignedShort5551Type)return k0.UNSIGNED_SHORT_5_5_5_1;if(d===THREE.UnsignedShort565Type)return k0.UNSIGNED_SHORT_5_6_5;if(d===THREE.ByteType)return k0.BYTE;if(d===THREE.ShortType)return k0.SHORT;if(d===THREE.UnsignedShortType)return k0.UNSIGNED_SHORT;if(d===THREE.IntType)return k0.INT;if(d===THREE.UnsignedIntType)return k0.UNSIGNED_INT;if(d===THREE.FloatType)return k0.FLOAT;e=t2.get(f7d.M);if(e!==f7d.h3){if(d===THREE.HalfFloatType)return e.HALF_FLOAT_OES;}if(d===THREE.AlphaFormat)return k0.ALPHA;if(d===THREE.RGBFormat)return k0.RGB;if(d===THREE.RGBAFormat)return k0.RGBA;if(d===THREE.LuminanceFormat)return k0.LUMINANCE;if(d===THREE.LuminanceAlphaFormat)return k0.LUMINANCE_ALPHA;if(d===THREE.DepthFormat)return k0.DEPTH_COMPONENT;if(d===THREE.AddEquation)return k0.FUNC_ADD;if(d===THREE.SubtractEquation)return k0.FUNC_SUBTRACT;if(d===THREE.ReverseSubtractEquation)return k0.FUNC_REVERSE_SUBTRACT;if(d===THREE.ZeroFactor)return k0.ZERO;if(d===THREE.OneFactor)return k0.ONE;if(d===THREE.SrcColorFactor)return k0.SRC_COLOR;if(d===THREE.OneMinusSrcColorFactor)return k0.ONE_MINUS_SRC_COLOR;if(d===THREE.SrcAlphaFactor)return k0.SRC_ALPHA;if(d===THREE.OneMinusSrcAlphaFactor)return k0.ONE_MINUS_SRC_ALPHA;if(d===THREE.DstAlphaFactor)return k0.DST_ALPHA;if(d===THREE.OneMinusDstAlphaFactor)return k0.ONE_MINUS_DST_ALPHA;if(d===THREE.DstColorFactor)return k0.DST_COLOR;if(d===THREE.OneMinusDstColorFactor)return k0.ONE_MINUS_DST_COLOR;if(d===THREE.SrcAlphaSaturateFactor)return k0.SRC_ALPHA_SATURATE;e=t2.get(f7d.g3);if(e!==f7d.h3){if(d===THREE.RGB_S3TC_DXT1_Format)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(d===THREE.RGBA_S3TC_DXT1_Format)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(d===THREE.RGBA_S3TC_DXT3_Format)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(d===THREE.RGBA_S3TC_DXT5_Format)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT;}e=t2.get(f7d.N3);if(e!==f7d.h3){if(d===THREE.RGB_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(d===THREE.RGB_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(d===THREE.RGBA_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(d===THREE.RGBA_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;}e=t2.get(f7d.K1);if(e!==f7d.h3){if(d===THREE.RGB_ETC1_Format)return e.COMPRESSED_RGB_ETC1_WEBGL;}e=t2.get(f7d.n4);if(e!==f7d.h3){if(d===THREE.MinEquation)return e.MIN_EXT;if(d===THREE.MaxEquation)return e.MAX_EXT;}return 0;}};THREE.WebGLRenderTarget=function(d,e,f){this.uuid=THREE.Math.generateUUID();this.width=d;this.height=e;this.scissor=new THREE.Vector4(0,0,d,e);this.scissorTest=f7d.a4;this.viewport=new THREE.Vector4(0,0,d,e);f=f||{};if(f.minFilter===undefined)f.minFilter=THREE.LinearFilter;this.texture=new THREE.Texture(undefined,undefined,f.wrapS,f.wrapT,f.magFilter,f.minFilter,f.format,f.type,f.anisotropy,f.encoding);this.depthBuffer=f.depthBuffer!==undefined?f.depthBuffer:f7d.k3;this.stencilBuffer=f.stencilBuffer!==undefined?f.stencilBuffer:f7d.k3;this.depthTexture=f7d.h3;};THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,setSize:function(d,e){if(this.width!==d||this.height!==e){this.width=d;this.height=e;this.dispose();}this.viewport.set(0,0,d,e);this.scissor.set(0,0,d,e);},clone:function(){return new this.constructor().copy(this);},copy:function(d){this.width=d.width;this.height=d.height;this.viewport.copy(d.viewport);this.texture=d.texture.clone();this.depthBuffer=d.depthBuffer;this.stencilBuffer=d.stencilBuffer;this.depthTexture=d.depthTexture;return this;},dispose:function(){this.dispatchEvent({type:f7d.J0});}};THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube=function(d,e,f){THREE.WebGLRenderTarget.call(this,d,e,f);this.activeCubeFace=0;this.activeMipMapLevel=0;};THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube;THREE.WebGLBufferRenderer=function(j,k,m){var n;function u(d){n=d;}function v(d,e){j.drawArrays(n,d,e);m.calls++;m.vertices+=e;if(n===j.TRIANGLES)m.faces+=e/3;}function B(d){var e=k.get(f7d.U2);if(e===f7d.h3){console.error(f7d.L2);return ;}var f=d.attributes.position,i=0;if(f instanceof THREE.InterleavedBufferAttribute){i=f.data.count;e.drawArraysInstancedANGLE(n,0,i,d.maxInstancedCount);}else{i=f.count;e.drawArraysInstancedANGLE(n,0,i,d.maxInstancedCount);}m.calls++;m.vertices+=i*d.maxInstancedCount;if(n===j.TRIANGLES)m.faces+=d.maxInstancedCount*i/3;}this.setMode=u;this.render=v;this.renderInstances=B;};THREE.WebGLIndexedBufferRenderer=function(j,k,m){var n;function u(d){n=d;}var v,B;function C(d){if(d.array instanceof Uint32Array&&k.get(f7d.c4)){v=j.UNSIGNED_INT;B=4;}else{v=j.UNSIGNED_SHORT;B=2;}}function J(d,e){j.drawElements(n,e,v,d*B);m.calls++;m.vertices+=e;if(n===j.TRIANGLES)m.faces+=e/3;}function E(d,e,f){var i=k.get(f7d.U2);if(i===f7d.h3){console.error(f7d.L2);return ;}i.drawElementsInstancedANGLE(n,f,v,e*B,d.maxInstancedCount);m.calls++;m.vertices+=f*d.maxInstancedCount;if(n===j.TRIANGLES)m.faces+=d.maxInstancedCount*f/3;}this.setMode=u;this.setIndex=C;this.render=J;this.renderInstances=E;};THREE.WebGLExtensions=function(f){var i={};this.get=function(d){if(i[d]!==undefined){return i[d];}var e;switch(d){case f7d.C3:e=f.getExtension(f7d.C3)||f.getExtension('MOZ_WEBGL_depth_texture')||f.getExtension('WEBKIT_WEBGL_depth_texture');case f7d.l0:e=f.getExtension(f7d.l0)||f.getExtension('MOZ_EXT_texture_filter_anisotropic')||f.getExtension('WEBKIT_EXT_texture_filter_anisotropic');break;case f7d.g3:e=f.getExtension(f7d.g3)||f.getExtension('MOZ_WEBGL_compressed_texture_s3tc')||f.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');break;case f7d.N3:e=f.getExtension(f7d.N3)||f.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');break;case f7d.K1:e=f.getExtension(f7d.K1);break;default:e=f.getExtension(d);}if(e===f7d.h3){console.warn(f7d.P+d+' extension not supported.');}i[d]=e;return e;};};THREE.WebGLCapabilities=function(f,i,j){function k(d){var e='mediump';if(d==='highp'){if(f.getShaderPrecisionFormat(f.VERTEX_SHADER,f.HIGH_FLOAT).precision>0&&f.getShaderPrecisionFormat(f.FRAGMENT_SHADER,f.HIGH_FLOAT).precision>0){return 'highp';}d=e;}if(d===e){if(f.getShaderPrecisionFormat(f.VERTEX_SHADER,f.MEDIUM_FLOAT).precision>0&&f.getShaderPrecisionFormat(f.FRAGMENT_SHADER,f.MEDIUM_FLOAT).precision>0){return e;}}return 'lowp';}this.getMaxPrecision=k;this.precision=j.precision!==undefined?j.precision:'highp',this.logarithmicDepthBuffer=j.logarithmicDepthBuffer!==undefined?j.logarithmicDepthBuffer:f7d.a4;this.maxTextures=f.getParameter(f.MAX_TEXTURE_IMAGE_UNITS);this.maxVertexTextures=f.getParameter(f.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.maxTextureSize=f.getParameter(f.MAX_TEXTURE_SIZE);this.maxCubemapSize=f.getParameter(f.MAX_CUBE_MAP_TEXTURE_SIZE);this.maxAttributes=f.getParameter(f.MAX_VERTEX_ATTRIBS);this.maxVertexUniforms=f.getParameter(f.MAX_VERTEX_UNIFORM_VECTORS);this.maxVaryings=f.getParameter(f.MAX_VARYING_VECTORS);this.maxFragmentUniforms=f.getParameter(f.MAX_FRAGMENT_UNIFORM_VECTORS);this.vertexTextures=this.maxVertexTextures>0;this.floatFragmentTextures=!!i.get(f7d.V);this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var m=k(this.precision);if(m!==this.precision){console.warn('THREE.WebGLRenderer:',this.precision,f7d.P3,m,'instead.');this.precision=m;}if(this.logarithmicDepthBuffer){this.logarithmicDepthBuffer=!!i.get(f7d.H3);}};THREE.WebGLGeometries=function(k,m,n){var u={};function v(d){var e=d.geometry;if(u[e.id]!==undefined){return u[e.id];}e.addEventListener(f7d.J0,B);var f;if(e instanceof THREE.BufferGeometry){f=e;}else if(e instanceof THREE.Geometry){if(e._bufferGeometry===undefined){e._bufferGeometry=new THREE.BufferGeometry().setFromObject(d);}f=e._bufferGeometry;}u[e.id]=f;n.memory.geometries++;return f;}function B(d){var e=d.target,f=u[e.id];if(f.index!==f7d.h3){J(f.index);}E(f.attributes);e.removeEventListener(f7d.J0,B);delete  u[e.id];var i=m.get(e);if(i.wireframe){J(i.wireframe);}m.delete  (e);var j=m.get(f);if(j.wireframe){J(j.wireframe);}m.delete  (f);n.memory.geometries--;}function C(d){if(d instanceof THREE.InterleavedBufferAttribute){return m.get(d.data).__webglBuffer;}return m.get(d).__webglBuffer;}function J(d){var e=C(d);if(e!==undefined){k.deleteBuffer(e);Q(d);}}function E(d){for(var e in d){J(d[e]);}}function Q(d){if(d instanceof THREE.InterleavedBufferAttribute){m.delete  (d.data);}else{m.delete  (d);}}this.get=v;};THREE.WebGLLights=function(){var f={};this.get=function(d){if(f[d.id]!==undefined){return f[d.id];}var e;switch(d.type){case f7d.k2:e={direction:new THREE.Vector3(),color:new THREE.Color(),shadow:f7d.a4,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2()};break;case f7d.d3:e={position:new THREE.Vector3(),direction:new THREE.Vector3(),color:new THREE.Color(),distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:f7d.a4,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2()};break;case f7d.L0:e={position:new THREE.Vector3(),color:new THREE.Color(),distance:0,decay:0,shadow:f7d.a4,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2()};break;case f7d.W1:e={direction:new THREE.Vector3(),skyColor:new THREE.Color(),groundColor:new THREE.Color()};break;}f[d.id]=e;return e;};};THREE.WebGLObjects=function(T,N,b0){var o0=new THREE.WebGLGeometries(T,N,b0);function f0(d){var e=o0.get(d);if(d.geometry instanceof THREE.Geometry){e.updateFromObject(d);}var f=e.index,i=e.attributes;if(f!==f7d.h3){d0(f,T.ELEMENT_ARRAY_BUFFER);}for(var j in i){d0(i[j],T.ARRAY_BUFFER);}var k=e.morphAttributes;for(var j in k){var m=k[j];for(var n=0,u=m.length;n<u;n++){d0(m[n],T.ARRAY_BUFFER);}}return e;}function d0(d,e){var f=(d instanceof THREE.InterleavedBufferAttribute)?d.data:d,i=N.get(f);if(i.__webglBuffer===undefined){p0(i,f,e);}else if(i.version!==f.version){t0(i,f,e);}}function p0(d,e,f){d.__webglBuffer=T.createBuffer();T.bindBuffer(f,d.__webglBuffer);var i=e.dynamic?T.DYNAMIC_DRAW:T.STATIC_DRAW;T.bufferData(f,e.array,i);d.version=e.version;}function t0(d,e,f){T.bindBuffer(f,d.__webglBuffer);if(e.dynamic===f7d.a4||e.updateRange.count===-1){T.bufferSubData(f,0,e.array);}else if(e.updateRange.count===0){console.error('THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.');}else{T.bufferSubData(f,e.updateRange.offset*e.array.BYTES_PER_ELEMENT,e.array.subarray(e.updateRange.offset,e.updateRange.offset+e.updateRange.count));e.updateRange.count=0;}d.version=e.version;}function x0(d){if(d instanceof THREE.InterleavedBufferAttribute){return N.get(d.data).__webglBuffer;}return N.get(d).__webglBuffer;}function w0(d){var e=N.get(d);if(e.wireframe!==undefined){return e.wireframe;}var f=[],i=d.index,j=d.attributes,k=j.position;if(i!==f7d.h3){var m={},n=i.array;for(var u=0,v=n.length;u<v;u+=3){var B=n[u+0],C=n[u+1],J=n[u+2];if(s0(m,B,C))f.push(B,C);if(s0(m,C,J))f.push(C,J);if(s0(m,J,B))f.push(J,B);}}else{var n=j.position.array;for(var u=0,v=(n.length/3)-1;u<v;u+=3){var B=u+0,C=u+1,J=u+2;f.push(B,C,C,J,J,B);}}var E=k.count>f7d.L3?Uint32Array:Uint16Array,Q=new THREE.BufferAttribute(new E(f),1);d0(Q,T.ELEMENT_ARRAY_BUFFER);e.wireframe=Q;return Q;}function s0(d,e,f){if(e>f){var i=e;e=f;f=i;}var j=d[e];if(j===undefined){d[e]=[f];return f7d.k3;}else if(j.indexOf(f)===-1){j.push(f);return f7d.k3;}return f7d.a4;}this.getAttributeBuffer=x0;this.getWireframeAttribute=w0;this.update=f0;};THREE.WebGLProgram=(function(){var Z1='#define ',j2='EXT_shader_texture_lod',K2=0;function x2(d){var e='( value )';switch(d){case THREE.LinearEncoding:return ['Linear',e];case THREE.sRGBEncoding:return ['sRGB',e];case THREE.RGBEEncoding:return ['RGBE',e];case THREE.RGBM7Encoding:return ['RGBM','( value, 7.0 )'];case THREE.RGBM16Encoding:return ['RGBM','( value, 16.0 )'];case THREE.RGBDEncoding:return ['RGBD','( value, 256.0 )'];case THREE.GammaEncoding:return ['Gamma','( value, float( GAMMA_FACTOR ) )'];default:throw  new Error('unsupported encoding: '+d);}}function d1(d,e){var f=x2(e);return "vec4 "+d+"( vec4 value ) { return "+f[0]+"ToLinear"+f[1]+"; }";}function m2(d,e){var f=x2(e);return "vec4 "+d+"( vec4 value ) { return LinearTo"+f[0]+f[1]+"; }";}function w2(d,e){var f;switch(e){case THREE.LinearToneMapping:f="Linear";break;case THREE.ReinhardToneMapping:f="Reinhard";break;case THREE.Uncharted2ToneMapping:f="Uncharted2";break;case THREE.CineonToneMapping:f="OptimizedCineon";break;default:throw  new Error('unsupported toneMapping: '+e);}return "vec3 "+d+"( vec3 color ) { return "+f+"ToneMapping( color ); }";}function z2(d,e,f){d=d||{};var i=[(d.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading)?'#extension GL_OES_standard_derivatives : enable':'',(d.fragDepth||e.logarithmicDepthBuffer)&&f.get(f7d.H3)?'#extension GL_EXT_frag_depth : enable':'',(d.drawBuffers)&&f.get('WEBGL_draw_buffers')?'#extension GL_EXT_draw_buffers : require':'',(d.shaderTextureLOD||e.envMap)&&f.get(j2)?'#extension GL_EXT_shader_texture_lod : enable':'',];return i.filter(y2).join(f7d.e2);}function i3(d){var e=[];for(var f in d){var i=d[f];if(i===f7d.a4)continue;e.push(Z1+f+' '+i);}return e.join(f7d.e2);}function O2(d,e,f){var i={},j=d.getProgramParameter(e,d.ACTIVE_ATTRIBUTES);for(var k=0;k<j;k++){var m=d.getActiveAttrib(e,k),n=m.name;i[n]=d.getAttribLocation(e,n);}return i;}function y2(d){return d!=='';}function W2(d,e){return d.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights);}function t3(i){var j=/#include +<([\w\d.]+)>/g;function k(d,e){var f=THREE.ShaderChunk[e];if(f===undefined){throw  new Error('Can not resolve #include <'+e+'>');}return t3(f);}return i.replace(j,k);}function j3(m){var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function u(d,e,f,i){var j='';for(var k=parseInt(e);k<parseInt(f);k++){j+=i.replace(/\[ i \]/g,'[ '+k+' ]');}return j;}return m.replace(n,u);}return function b4(d,e,f,i){var j='#endif',k='uniform vec3 cameraPosition;',m='uniform mat4 viewMatrix;',n='#define USE_LOGDEPTHBUF_EXT',u='#define USE_LOGDEPTHBUF',v='#define USE_SHADOWMAP',B='#define NUM_CLIPPING_PLANES ',C='#define FLIP_SIDED',J='#define DOUBLE_SIDED',E='#define FLAT_SHADED',Q='#define USE_COLOR',T='#define USE_ALPHAMAP',N='#define USE_METALNESSMAP',b0='#define USE_ROUGHNESSMAP',o0='#define USE_SPECULARMAP',f0='#define USE_NORMALMAP',d0='#define USE_BUMPMAP',p0='#define USE_EMISSIVEMAP',t0='#define USE_AOMAP',x0='#define USE_LIGHTMAP',w0='#define USE_ENVMAP',s0='#define USE_MAP',z0='#define GAMMA_FACTOR ',y0='#define SHADER_NAME ',B0='ENVMAP_BLENDING_MULTIPLY',K0='ENVMAP_TYPE_CUBE',i0=d.context,X0=f.extensions,V0=f.defines,D0=f.__webglShader.vertexShader,N0=f.__webglShader.fragmentShader,a1='SHADOWMAP_TYPE_BASIC';if(i.shadowMapType===THREE.PCFShadowMap){a1='SHADOWMAP_TYPE_PCF';}else if(i.shadowMapType===THREE.PCFSoftShadowMap){a1='SHADOWMAP_TYPE_PCF_SOFT';}else if(i.shadowMapType===THREE.PCSSSoftShadowMap){a1='SHADOWMAP_TYPE_PCSS';}var U0=K0,i1='ENVMAP_MODE_REFLECTION',E0=B0;if(i.envMap){switch(f.envMap.mapping){case THREE.CubeReflectionMapping:case THREE.CubeRefractionMapping:U0=K0;break;case THREE.CubeUVReflectionMapping:case THREE.CubeUVRefractionMapping:U0='ENVMAP_TYPE_CUBE_UV';break;case THREE.EquirectangularReflectionMapping:case THREE.EquirectangularRefractionMapping:U0='ENVMAP_TYPE_EQUIREC';break;case THREE.SphericalReflectionMapping:U0='ENVMAP_TYPE_SPHERE';break;}switch(f.envMap.mapping){case THREE.CubeRefractionMapping:case THREE.EquirectangularRefractionMapping:i1='ENVMAP_MODE_REFRACTION';break;}switch(f.combine){case THREE.MultiplyOperation:E0=B0;break;case THREE.MixOperation:E0='ENVMAP_BLENDING_MIX';break;case THREE.AddOperation:E0='ENVMAP_BLENDING_ADD';break;}}var b1=(d.gammaFactor>0)?d.gammaFactor:f7d.Z3,n1=z2(X0,i,d.extensions),p1=i3(V0),m1=i0.createProgram(),t1,o1;if(f instanceof THREE.RawShaderMaterial){t1='';o1='';}else{t1=[f7d.U3+i.precision+f7d.W,f7d.U3+i.precision+' int;',y0+f.__webglShader.name,p1,i.supportsVertexTextures?'#define VERTEX_TEXTURES':'',z0+b1,'#define MAX_BONES '+i.maxBones,i.map?s0:'',i.envMap?w0:'',i.envMap?Z1+i1:'',i.lightMap?x0:'',i.aoMap?t0:'',i.emissiveMap?p0:'',i.bumpMap?d0:'',i.normalMap?f0:'',i.displacementMap&&i.supportsVertexTextures?'#define USE_DISPLACEMENTMAP':'',i.specularMap?o0:'',i.roughnessMap?b0:'',i.metalnessMap?N:'',i.alphaMap?T:'',i.vertexColors?Q:'',i.flatShading?E:'',i.skinning?'#define USE_SKINNING':'',i.useVertexTexture?'#define BONE_TEXTURE':'',i.morphTargets?'#define USE_MORPHTARGETS':'',i.morphNormals&&i.flatShading===f7d.a4?'#define USE_MORPHNORMALS':'',i.doubleSided?J:'',i.flipSided?C:'',B+i.numClippingPlanes,i.shadowMapEnabled?v:'',i.shadowMapEnabled?Z1+a1:'',i.sizeAttenuation?'#define USE_SIZEATTENUATION':'',i.logarithmicDepthBuffer?u:'',i.logarithmicDepthBuffer&&d.extensions.get(f7d.H3)?n:'','uniform mat4 modelMatrix;',f7d.g2,f7d.X1,m,'uniform mat3 normalMatrix;',k,'attribute vec3 position;','attribute vec3 normal;',f7d.C1,'#ifdef USE_COLOR','	attribute vec3 color;',j,'#ifdef USE_MORPHTARGETS','	attribute vec3 morphTarget0;','	attribute vec3 morphTarget1;','	attribute vec3 morphTarget2;','	attribute vec3 morphTarget3;','	#ifdef USE_MORPHNORMALS','		attribute vec3 morphNormal0;','		attribute vec3 morphNormal1;','		attribute vec3 morphNormal2;','		attribute vec3 morphNormal3;','	#else','		attribute vec3 morphTarget4;','		attribute vec3 morphTarget5;','		attribute vec3 morphTarget6;','		attribute vec3 morphTarget7;','	#endif',j,'#ifdef USE_SKINNING','	attribute vec4 skinIndex;','	attribute vec4 skinWeight;',j,f7d.e2].filter(y2).join(f7d.e2);o1=[n1,f7d.U3+i.precision+f7d.W,f7d.U3+i.precision+' int;',y0+f.__webglShader.name,p1,i.alphaTest?'#define ALPHATEST '+i.alphaTest:'',z0+b1,(i.useFog&&i.fog)?'#define USE_FOG':'',(i.useFog&&i.fogExp)?'#define FOG_EXP2':'',i.map?s0:'',i.envMap?w0:'',i.envMap?Z1+U0:'',i.envMap?Z1+i1:'',i.envMap?Z1+E0:'',i.lightMap?x0:'',i.aoMap?t0:'',i.emissiveMap?p0:'',i.bumpMap?d0:'',i.normalMap?f0:'',i.specularMap?o0:'',i.roughnessMap?b0:'',i.metalnessMap?N:'',i.alphaMap?T:'',i.vertexColors?Q:'',i.flatShading?E:'',i.doubleSided?J:'',i.flipSided?C:'',B+i.numClippingPlanes,i.shadowMapEnabled?v:'',i.shadowMapEnabled?Z1+a1:'',i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":'',i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":'',i.logarithmicDepthBuffer?u:'',i.logarithmicDepthBuffer&&d.extensions.get(f7d.H3)?n:'',i.envMap&&d.extensions.get(j2)?'#define TEXTURE_LOD_EXT':'',m,k,(i.toneMapping!==THREE.NoToneMapping)?"#define TONE_MAPPING":'',(i.toneMapping!==THREE.NoToneMapping)?THREE.ShaderChunk[f7d.r2]:'',(i.toneMapping!==THREE.NoToneMapping)?w2(f7d.q3,i.toneMapping):'',(i.outputEncoding||i.mapEncoding||i.envMapEncoding||i.emissiveMapEncoding)?THREE.ShaderChunk[f7d.B2]:'',i.mapEncoding?d1('mapTexelToLinear',i.mapEncoding):'',i.envMapEncoding?d1('envMapTexelToLinear',i.envMapEncoding):'',i.emissiveMapEncoding?d1('emissiveMapTexelToLinear',i.emissiveMapEncoding):'',i.outputEncoding?m2("linearToOutputTexel",i.outputEncoding):'',i.depthPacking?"#define DEPTH_PACKING "+f.depthPacking:'',f7d.e2].filter(y2).join(f7d.e2);}D0=t3(D0,i);D0=W2(D0,i);N0=t3(N0,i);N0=W2(N0,i);if(f instanceof THREE.ShaderMaterial===f7d.a4){D0=j3(D0);N0=j3(N0);}var q1=t1+D0,f1=o1+N0,w1=THREE.WebGLShader(i0,i0.VERTEX_SHADER,q1),u1=THREE.WebGLShader(i0,i0.FRAGMENT_SHADER,f1);i0.attachShader(m1,w1);i0.attachShader(m1,u1);if(f.index0AttributeName!==undefined){i0.bindAttribLocation(m1,0,f.index0AttributeName);}else if(i.morphTargets===f7d.k3){i0.bindAttribLocation(m1,0,f7d.e1);}i0.linkProgram(m1);var x1=i0.getProgramInfoLog(m1),Q1=i0.getShaderInfoLog(w1),y1=i0.getShaderInfoLog(u1),a2=f7d.k3,p2=f7d.k3;if(i0.getProgramParameter(m1,i0.LINK_STATUS)===f7d.a4){a2=f7d.a4;console.error('THREE.WebGLProgram: shader error: ',i0.getError(),'gl.VALIDATE_STATUS',i0.getProgramParameter(m1,i0.VALIDATE_STATUS),'gl.getProgramInfoLog',x1,Q1,y1);}else if(x1!==''){console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()',x1);}else if(Q1===''||y1===''){p2=f7d.a4;}if(p2){this.diagnostics={runnable:a2,material:f,programLog:x1,vertexShader:{log:Q1,prefix:t1},fragmentShader:{log:y1,prefix:o1}};}i0.deleteShader(w1);i0.deleteShader(u1);var z1;this.getUniforms=function(){if(z1===undefined){z1=new THREE.WebGLUniforms(i0,m1,d);}return z1;};var n2;this.getAttributes=function(){if(n2===undefined){n2=O2(i0,m1);}return n2;};this.destroy=function(){i0.deleteProgram(m1);this.program=undefined;};Object.defineProperties(this,{uniforms:{get:function(){console.warn('THREE.WebGLProgram: .uniforms is now .getUniforms().');return this.getUniforms();}},attributes:{get:function(){console.warn('THREE.WebGLProgram: .attributes is now .getAttributes().');return this.getAttributes();}}});this.id=K2++;this.code=e;this.usedTimes=1;this.program=m1;this.vertexShader=w1;this.fragmentShader=u1;return this;};})();THREE.WebGLPrograms=function(v,B){var C=[],J={MeshDepthMaterial:'depth',MeshNormalMaterial:f7d.N2,MeshBasicMaterial:'basic',MeshLambertMaterial:'lambert',MeshPhongMaterial:'phong',MeshStandardMaterial:f7d.U,MeshPhysicalMaterial:f7d.U,LineBasicMaterial:'basic',LineDashedMaterial:'dashed',PointsMaterial:'points'},E=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","shadowMapEnabled","shadowMapType",f7d.q3,'physicallyCorrectLights',"alphaTest","doubleSided","flipSided","numClippingPlanes","depthPacking"];function Q(d){if(B.floatVertexTextures&&d&&d.skeleton&&d.skeleton.useVertexTexture){return 1024;}else{var e=B.maxVertexUniforms,f=Math.floor((e-20)/4),i=f;if(d!==undefined&&d instanceof THREE.SkinnedMesh){i=Math.min(d.skeleton.bones.length,i);if(i<d.skeleton.bones.length){console.warn('WebGLRenderer: too many bones - '+d.skeleton.bones.length+', this GPU supports just '+i+' (try OpenGL instead of ANGLE)');}}return i;}}function T(d,e){var f;if(!d){f=THREE.LinearEncoding;}else if(d instanceof THREE.Texture){f=d.encoding;}else if(d instanceof THREE.WebGLRenderTarget){f=d.texture.encoding;}if(f===THREE.LinearEncoding&&e){f=THREE.GammaEncoding;}return f;}this.getParameters=function(d,e,f,i,j){var k=J[d.type],m=Q(j),n=v.getPrecision();if(d.precision!==f7d.h3){n=B.getMaxPrecision(d.precision);if(n!==d.precision){console.warn('THREE.WebGLProgram.getParameters:',d.precision,f7d.P3,n,'instead.');}}var u={shaderID:k,precision:n,supportsVertexTextures:B.vertexTextures,outputEncoding:T(v.getCurrentRenderTarget(),v.gammaOutput),map:!!d.map,mapEncoding:T(d.map,v.gammaInput),envMap:!!d.envMap,envMapMode:d.envMap&&d.envMap.mapping,envMapEncoding:T(d.envMap,v.gammaInput),envMapCubeUV:(!!d.envMap)&&((d.envMap.mapping===THREE.CubeUVReflectionMapping)||(d.envMap.mapping===THREE.CubeUVRefractionMapping)),lightMap:!!d.lightMap,aoMap:!!d.aoMap,emissiveMap:!!d.emissiveMap,emissiveMapEncoding:T(d.emissiveMap,v.gammaInput),bumpMap:!!d.bumpMap,normalMap:!!d.normalMap,displacementMap:!!d.displacementMap,roughnessMap:!!d.roughnessMap,metalnessMap:!!d.metalnessMap,specularMap:!!d.specularMap,alphaMap:!!d.alphaMap,combine:d.combine,vertexColors:d.vertexColors,fog:f,useFog:d.fog,fogExp:f instanceof THREE.FogExp2,flatShading:d.shading===THREE.FlatShading,sizeAttenuation:d.sizeAttenuation,logarithmicDepthBuffer:B.logarithmicDepthBuffer,skinning:d.skinning,maxBones:m,useVertexTexture:B.floatVertexTextures&&j&&j.skeleton&&j.skeleton.useVertexTexture,morphTargets:d.morphTargets,morphNormals:d.morphNormals,maxMorphTargets:v.maxMorphTargets,maxMorphNormals:v.maxMorphNormals,numDirLights:e.directional.length,numPointLights:e.point.length,numSpotLights:e.spot.length,numHemiLights:e.hemi.length,numClippingPlanes:i,shadowMapEnabled:v.shadowMap.enabled&&j.receiveShadow&&e.shadows.length>0,shadowMapType:v.shadowMap.type,toneMapping:v.toneMapping,physicallyCorrectLights:v.physicallyCorrectLights,premultipliedAlpha:d.premultipliedAlpha,alphaTest:d.alphaTest,doubleSided:d.side===THREE.DoubleSide,flipSided:d.side===THREE.BackSide,depthPacking:(d.depthPacking!==undefined)?d.depthPacking:f7d.a4};return u;};this.getProgramCode=function(d,e){var f=[];if(e.shaderID){f.push(e.shaderID);}else{f.push(d.fragmentShader);f.push(d.vertexShader);}if(d.defines!==undefined){for(var i in d.defines){f.push(i);f.push(d.defines[i]);}}for(var j=0;j<E.length;j++){f.push(e[E[j]]);}return f.join();};this.acquireProgram=function(d,e,f){var i;for(var j=0,k=C.length;j<k;j++){var m=C[j];if(m.code===f){i=m;++i.usedTimes;break;}}if(i===undefined){i=new THREE.WebGLProgram(v,f,d,e);C.push(i);}return i;};this.releaseProgram=function(d){if(--d.usedTimes===0){var e=C.indexOf(d);C[e]=C[C.length-1];C.pop();d.destroy();}};this.programs=C;};THREE.WebGLProperties=function(){var i={};this.get=function(d){var e=d.uuid,f=i[e];if(f===undefined){f={};i[e]=f;}return f;};this.delete  =function(d){delete  i[d.uuid];};this.clear=function(){i={};};};THREE.WebGLShader=(function(){function j(d){var e=d.split(f7d.e2);for(var f=0;f<e.length;f++){e[f]=(f+1)+': '+e[f];}return e.join(f7d.e2);}return function k(d,e,f){var i=d.createShader(e);d.shaderSource(i,f);d.compileShader(i);if(d.getShaderParameter(i,d.COMPILE_STATUS)===f7d.a4){console.error('THREE.WebGLShader: Shader couldn\'t compile.');}if(d.getShaderInfoLog(i)!==''){console.warn('THREE.WebGLShader: gl.getShaderInfoLog()',e===d.VERTEX_SHADER?'vertex':'fragment',d.getShaderInfoLog(i),j(f));}return i;};})();THREE.WebGLShadowMap=function(i0,X0,V0){var D0=i0.context,N0=i0.state,a1=new THREE.Frustum(),U0=new THREE.Matrix4(),i1=X0.shadows,E0=new THREE.Vector2(),b1=new THREE.Vector3(),n1=new THREE.Vector3(),p1=[],m1=1,t1=2,o1=(m1|t1)+1,q1=new Array(o1),f1=new Array(o1),w1={},u1=[new THREE.Vector3(1,0,0),new THREE.Vector3(-1,0,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1),new THREE.Vector3(0,1,0),new THREE.Vector3(0,-1,0)],x1=[new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1)],Q1=[new THREE.Vector4(),new THREE.Vector4(),new THREE.Vector4(),new THREE.Vector4(),new THREE.Vector4(),new THREE.Vector4()],y1=new THREE.MeshDepthMaterial();y1.depthPacking=THREE.RGBADepthPacking;y1.clipping=f7d.k3;var a2=THREE.ShaderLib["distanceRGBA"],p2=THREE.UniformsUtils.clone(a2.uniforms);for(var z1=0;z1!==o1;++z1){var n2=(z1&m1)!==0,Z1=(z1&t1)!==0,j2=y1.clone();j2.morphTargets=n2;j2.skinning=Z1;q1[z1]=j2;var K2=new THREE.ShaderMaterial({defines:{'USE_SHADOWMAP':''},uniforms:p2,vertexShader:a2.vertexShader,fragmentShader:a2.fragmentShader,morphTargets:n2,skinning:Z1,clipping:f7d.k3});f1[z1]=K2;}var x2=this;this.enabled=f7d.a4;this.autoUpdate=f7d.k3;this.needsUpdate=f7d.a4;this.type=THREE.PCFShadowMap;this.cullFace=THREE.CullFaceFront;this.render=function(d,e){if(x2.enabled===f7d.a4)return ;if(x2.autoUpdate===f7d.a4&&x2.needsUpdate===f7d.a4)return ;if(i1.length===0)return ;N0.clearColor(1,1,1,1);N0.disable(D0.BLEND);N0.enable(D0.CULL_FACE);D0.frontFace(D0.CCW);D0.cullFace(x2.cullFace===THREE.CullFaceFront?D0.FRONT:D0.BACK);N0.setDepthTest(f7d.k3);N0.setScissorTest(f7d.a4);var f,i;for(var j=0,k=i1.length;j<k;j++){var m=i1[j],n=m.shadow,u=n.camera;E0.copy(n.mapSize);if(m instanceof THREE.PointLight){f=6;i=f7d.k3;var v=E0.x,B=E0.y;Q1[0].set(v*2,B,v,B);Q1[1].set(0,B,v,B);Q1[2].set(v*3,B,v,B);Q1[3].set(v,B,v,B);Q1[4].set(v*3,0,v,B);Q1[5].set(v,0,v,B);E0.x*=4.0;E0.y*=2.0;}else{f=1;i=f7d.a4;}if(n.map===f7d.h3){var C={minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat};n.map=new THREE.WebGLRenderTarget(E0.x,E0.y,C);u.updateProjectionMatrix();}if(n instanceof THREE.SpotLightShadow){n.update(m);}var J=n.map,E=n.matrix;n1.setFromMatrixPosition(m.matrixWorld);u.position.copy(n1);i0.setRenderTarget(J);i0.clear();for(var Q=0;Q<f;Q++){if(i){b1.copy(u.position);b1.add(u1[Q]);u.up.copy(x1[Q]);u.lookAt(b1);var T=Q1[Q];N0.viewport(T);}else{b1.setFromMatrixPosition(m.target.matrixWorld);u.lookAt(b1);}u.updateMatrixWorld();u.matrixWorldInverse.getInverse(u.matrixWorld);E.set(f7d.h1,f7d.j1,f7d.j1,f7d.h1,f7d.j1,f7d.h1,f7d.j1,f7d.h1,f7d.j1,f7d.j1,f7d.h1,f7d.h1,f7d.j1,f7d.j1,f7d.j1,f7d.Z3);E.multiply(u.projectionMatrix);E.multiply(u.matrixWorldInverse);U0.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse);a1.setFromMatrix(U0);p1.length=0;m2(d,e,u);for(var N=0,b0=p1.length;N<b0;N++){var o0=p1[N],f0=V0.update(o0),d0=o0.material;if(d0 instanceof THREE.MultiMaterial){var p0=f0.groups,t0=d0.materials;for(var x0=0,w0=p0.length;x0<w0;x0++){var s0=p0[x0],z0=t0[s0.materialIndex];if(z0.visible===f7d.k3){var y0=d1(o0,z0,i,n1);i0.renderBufferDirect(u,f7d.h3,f0,y0,o0,s0);}}}else{var y0=d1(o0,d0,i,n1);i0.renderBufferDirect(u,f7d.h3,f0,y0,o0,f7d.h3);}}}}var B0=i0.getClearColor(),K0=i0.getClearAlpha();i0.setClearColor(B0,K0);N0.enable(D0.BLEND);if(x2.cullFace===THREE.CullFaceFront){D0.cullFace(D0.BACK);}x2.needsUpdate=f7d.a4;};function d1(d,e,f,i){var j=d.geometry,k=f7d.h3,m=q1,n=d.customDepthMaterial;if(f){m=f1;n=d.customDistanceMaterial;}if(!n){var u=j.morphTargets!==undefined&&j.morphTargets.length>0&&e.morphTargets,v=d instanceof THREE.SkinnedMesh&&e.skinning,B=0;if(u)B|=m1;if(v)B|=t1;k=m[B];}else{k=n;}if(i0.localClippingEnabled&&e.clipShadows===f7d.k3&&e.clippingPlanes.length!==0){var C=k.uuid,J=e.uuid,E=w1[C];if(E===undefined){E={};w1[C]=E;}var Q=E[J];if(Q===undefined){Q=k.clone();E[J]=Q;}k=Q;}k.visible=e.visible;k.wireframe=e.wireframe;k.side=e.side;k.clipShadows=e.clipShadows;k.clippingPlanes=e.clippingPlanes;k.wireframeLinewidth=e.wireframeLinewidth;k.linewidth=e.linewidth;if(f&&k.uniforms.lightPos!==undefined){k.uniforms.lightPos.value.copy(i);}return k;}function m2(d,e,f){if(d.visible===f7d.a4)return ;if(d.layers.test(e.layers)&&(d instanceof THREE.Mesh||d instanceof THREE.Line||d instanceof THREE.Points)){if(d.castShadow&&(d.frustumCulled===f7d.a4||a1.intersectsObject(d)===f7d.k3)){var i=d.material;if(i.visible===f7d.k3){d.modelViewMatrix.multiplyMatrices(f.matrixWorldInverse,d.matrixWorld);p1.push(d);}}}var j=d.children;for(var k=0,m=j.length;k<m;k++){m2(j[k],e,f);}}};THREE.WebGLState=function(u,v,B){var C=this,J=new THREE.Vector4(),E=u.getParameter(u.MAX_VERTEX_ATTRIBS),Q=new Uint8Array(E),T=new Uint8Array(E),N=new Uint8Array(E),b0={},o0=f7d.h3,f0=f7d.h3,d0=f7d.h3,p0=f7d.h3,t0=f7d.h3,x0=f7d.h3,w0=f7d.h3,s0=f7d.h3,z0=f7d.a4,y0=f7d.h3,B0=f7d.h3,K0=f7d.h3,i0=f7d.h3,X0=f7d.h3,V0=f7d.h3,D0=f7d.h3,N0=f7d.h3,a1=f7d.h3,U0=f7d.h3,i1=f7d.h3,E0=f7d.h3,b1=f7d.h3,n1=f7d.h3,p1=f7d.h3,m1=u.getParameter(u.MAX_TEXTURE_IMAGE_UNITS),t1=undefined,o1={},q1=new THREE.Vector4(),f1=f7d.h3,w1=f7d.h3,u1=new THREE.Vector4(),x1=new THREE.Vector4();this.init=function(){this.clearColor(0,0,0,1);this.clearDepth(1);this.clearStencil(0);this.enable(u.DEPTH_TEST);u.depthFunc(u.LEQUAL);u.frontFace(u.CCW);u.cullFace(u.BACK);this.enable(u.CULL_FACE);this.enable(u.BLEND);u.blendEquation(u.FUNC_ADD);u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA);};this.initAttributes=function(){for(var d=0,e=Q.length;d<e;d++){Q[d]=0;}};this.enableAttribute=function(d){Q[d]=1;if(T[d]===0){u.enableVertexAttribArray(d);T[d]=1;}if(N[d]!==0){var e=v.get(f7d.U2);e.vertexAttribDivisorANGLE(d,0);N[d]=0;}};this.enableAttributeAndDivisor=function(d,e,f){Q[d]=1;if(T[d]===0){u.enableVertexAttribArray(d);T[d]=1;}if(N[d]!==e){f.vertexAttribDivisorANGLE(d,e);N[d]=e;}};this.disableUnusedAttributes=function(){for(var d=0,e=T.length;d<e;d++){if(T[d]!==Q[d]){u.disableVertexAttribArray(d);T[d]=0;}}};this.enable=function(d){if(b0[d]!==f7d.k3){u.enable(d);b0[d]=f7d.k3;}};this.disable=function(d){if(b0[d]!==f7d.a4){u.disable(d);b0[d]=f7d.a4;}};this.getCompressedTextureFormats=function(){if(o0===f7d.h3){o0=[];if(v.get(f7d.N3)||v.get(f7d.g3)||v.get(f7d.K1)){var d=u.getParameter(u.COMPRESSED_TEXTURE_FORMATS);for(var e=0;e<d.length;e++){o0.push(d[e]);}}}return o0;};this.setBlending=function(d,e,f,i,j,k,m,n){if(d===THREE.NoBlending){this.disable(u.BLEND);}else{this.enable(u.BLEND);}if(d!==f0||n!==z0){if(d===THREE.AdditiveBlending){if(n){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ONE,u.ONE,u.ONE,u.ONE);}else{u.blendEquation(u.FUNC_ADD);u.blendFunc(u.SRC_ALPHA,u.ONE);}}else if(d===THREE.SubtractiveBlending){if(n){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ZERO,u.ZERO,u.ONE_MINUS_SRC_COLOR,u.ONE_MINUS_SRC_ALPHA);}else{u.blendEquation(u.FUNC_ADD);u.blendFunc(u.ZERO,u.ONE_MINUS_SRC_COLOR);}}else if(d===THREE.MultiplyBlending){if(n){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ZERO,u.ZERO,u.SRC_COLOR,u.SRC_ALPHA);}else{u.blendEquation(u.FUNC_ADD);u.blendFunc(u.ZERO,u.SRC_COLOR);}}else{if(n){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ONE,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA);}else{u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA);}}f0=d;z0=n;}if(d===THREE.CustomBlending){j=j||e;k=k||f;m=m||i;if(e!==d0||j!==x0){u.blendEquationSeparate(B(e),B(j));d0=e;x0=j;}if(f!==p0||i!==t0||k!==w0||m!==s0){u.blendFuncSeparate(B(f),B(i),B(k),B(m));p0=f;t0=i;w0=k;s0=m;}}else{d0=f7d.h3;p0=f7d.h3;t0=f7d.h3;x0=f7d.h3;w0=f7d.h3;s0=f7d.h3;}};this.setDepthFunc=function(d){if(y0!==d){if(d){switch(d){case THREE.NeverDepth:u.depthFunc(u.NEVER);break;case THREE.AlwaysDepth:u.depthFunc(u.ALWAYS);break;case THREE.LessDepth:u.depthFunc(u.LESS);break;case THREE.LessEqualDepth:u.depthFunc(u.LEQUAL);break;case THREE.EqualDepth:u.depthFunc(u.EQUAL);break;case THREE.GreaterEqualDepth:u.depthFunc(u.GEQUAL);break;case THREE.GreaterDepth:u.depthFunc(u.GREATER);break;case THREE.NotEqualDepth:u.depthFunc(u.NOTEQUAL);break;default:u.depthFunc(u.LEQUAL);}}else{u.depthFunc(u.LEQUAL);}y0=d;}};this.setDepthTest=function(d){if(d){this.enable(u.DEPTH_TEST);}else{this.disable(u.DEPTH_TEST);}};this.setDepthWrite=function(d){if(B0!==d){u.depthMask(d);B0=d;}};this.setColorWrite=function(d){if(K0!==d){u.colorMask(d,d,d,d);K0=d;}};this.setStencilFunc=function(d,e,f){if(X0!==d||V0!==e||D0!==f){u.stencilFunc(d,e,f);X0=d;V0=e;D0=f;}};this.setStencilOp=function(d,e,f){if(N0!==d||a1!==e||U0!==f){u.stencilOp(d,e,f);N0=d;a1=e;U0=f;}};this.setStencilTest=function(d){if(d){this.enable(u.STENCIL_TEST);}else{this.disable(u.STENCIL_TEST);}};this.setStencilWrite=function(d){if(i0!==d){u.stencilMask(d);i0=d;}};this.setFlipSided=function(d){if(i1!==d){if(d){u.frontFace(u.CW);}else{u.frontFace(u.CCW);}i1=d;}};this.setLineWidth=function(d){if(d!==E0){u.lineWidth(d);E0=d;}};this.setPolygonOffset=function(d,e,f){if(d){this.enable(u.POLYGON_OFFSET_FILL);}else{this.disable(u.POLYGON_OFFSET_FILL);}if(d&&(b1!==e||n1!==f)){u.polygonOffset(e,f);b1=e;n1=f;}};this.getScissorTest=function(){return p1;};this.setScissorTest=function(d){p1=d;if(d){this.enable(u.SCISSOR_TEST);}else{this.disable(u.SCISSOR_TEST);}};this.activeTexture=function(d){if(d===undefined)d=u.TEXTURE0+m1-1;if(t1!==d){u.activeTexture(d);t1=d;}};this.bindTexture=function(d,e){if(t1===undefined){C.activeTexture();}var f=o1[t1];if(f===undefined){f={type:undefined,texture:undefined};o1[t1]=f;}if(f.type!==d||f.texture!==e){u.bindTexture(d,e);f.type=d;f.texture=e;}};this.compressedTexImage2D=function(){try{u.compressedTexImage2D.apply(u,arguments);}catch(d){console.error(d);}};this.texImage2D=function(){try{u.texImage2D.apply(u,arguments);}catch(d){console.error(d);}};this.clearColor=function(d,e,f,i){J.set(d,e,f,i);if(q1.equals(J)===f7d.a4){u.clearColor(d,e,f,i);q1.copy(J);}};this.clearDepth=function(d){if(f1!==d){u.clearDepth(d);f1=d;}};this.clearStencil=function(d){if(w1!==d){u.clearStencil(d);w1=d;}};this.scissor=function(d){if(u1.equals(d)===f7d.a4){u.scissor(d.x,d.y,d.z,d.w);u1.copy(d);}};this.viewport=function(d){if(x1.equals(d)===f7d.a4){u.viewport(d.x,d.y,d.z,d.w);x1.copy(d);}};this.reset=function(){for(var d=0;d<T.length;d++){if(T[d]===1){u.disableVertexAttribArray(d);T[d]=0;}}b0={};o0=f7d.h3;t1=undefined;o1={};f0=f7d.h3;K0=f7d.h3;B0=f7d.h3;i0=f7d.h3;i1=f7d.h3;};};THREE.WebGLUniforms=(function(){var J=function(){this.seq=[];this.map={};},E=[],Q=[],T=function(){E.length=0;Q.length=0;},N=function(d,e,f){var i=d[0];if(i<=0||i>0)return d;var j=e*f,k=E[j];if(k===undefined){k=new Float32Array(j);E[j]=k;}if(e!==0){i.toArray(k,0);for(var m=1,n=0;m!==e;++m){n+=f;d[m].toArray(k,n);}}return k;},b0=function(d,e){var f=Q[e];if(f===undefined){f=new Int32Array(e);Q[e]=f;}for(var i=0;i!==e;++i)f[i]=d.allocTextureUnit();return f;},o0=function(d,e){d.uniform1f(this.addr,e);},f0=function(d,e){d.uniform1i(this.addr,e);},d0=function(d,e){if(e.x===undefined)d.uniform2fv(this.addr,e);else d.uniform2f(this.addr,e.x,e.y);},p0=function(d,e){if(e.x!==undefined)d.uniform3f(this.addr,e.x,e.y,e.z);else if(e.r!==undefined)d.uniform3f(this.addr,e.r,e.g,e.b);else d.uniform3fv(this.addr,e);},t0=function(d,e){if(e.x===undefined)d.uniform4fv(this.addr,e);else d.uniform4f(this.addr,e.x,e.y,e.z,e.w);},x0=function(d,e){d.uniformMatrix2fv(this.addr,f7d.a4,e.elements||e);},w0=function(d,e){d.uniformMatrix3fv(this.addr,f7d.a4,e.elements||e);},s0=function(d,e){d.uniformMatrix4fv(this.addr,f7d.a4,e.elements||e);},z0=function(d,e,f){var i=f.allocTextureUnit();d.uniform1i(this.addr,i);if(e)f.setTexture2D(e,i);},y0=function(d,e,f){var i=f.allocTextureUnit();d.uniform1i(this.addr,i);if(e)f.setTextureCube(e,i);},B0=function(d,e){d.uniform2iv(this.addr,e);},K0=function(d,e){d.uniform3iv(this.addr,e);},i0=function(d,e){d.uniform4iv(this.addr,e);},X0=function(d){switch(d){case 0x1406:return o0;case 0x8b50:return d0;case 0x8b51:return p0;case 0x8b52:return t0;case 0x8b5a:return x0;case 0x8b5b:return w0;case 0x8b5c:return s0;case 0x8b5e:return z0;case 0x8b60:return y0;case 0x1404:case 0x8b56:return f0;case 0x8b53:case 0x8b57:return B0;case 0x8b54:case 0x8b58:return K0;case 0x8b55:case 0x8b59:return i0;}},V0=function(d,e){d.uniform1fv(this.addr,e);},D0=function(d,e){d.uniform1iv(this.addr,e);},N0=function(d,e){d.uniform2fv(this.addr,N(e,this.size,2));},a1=function(d,e){d.uniform3fv(this.addr,N(e,this.size,3));},U0=function(d,e){d.uniform4fv(this.addr,N(e,this.size,4));},i1=function(d,e){d.uniformMatrix2fv(this.addr,f7d.a4,N(e,this.size,4));},E0=function(d,e){d.uniformMatrix3fv(this.addr,f7d.a4,N(e,this.size,9));},b1=function(d,e){d.uniformMatrix4fv(this.addr,f7d.a4,N(e,this.size,16));},n1=function(d,e,f){var i=e.length,j=b0(f,i);d.uniform1iv(this.addr,j);for(var k=0;k!==i;++k){var m=e[k];if(m)f.setTexture2D(m,j[k]);}},p1=function(d,e,f){var i=e.length,j=b0(f,i);d.uniform1iv(this.addr,j);for(var k=0;k!==i;++k){var m=e[k];if(m)f.setTextureCube(m,j[k]);}},m1=function(d){switch(d){case 0x1406:return V0;case 0x8b50:return N0;case 0x8b51:return a1;case 0x8b52:return U0;case 0x8b5a:return i1;case 0x8b5b:return E0;case 0x8b5c:return b1;case 0x8b5e:return n1;case 0x8b60:return p1;case 0x1404:case 0x8b56:return D0;case 0x8b53:case 0x8b57:return B0;case 0x8b54:case 0x8b58:return K0;case 0x8b55:case 0x8b59:return i0;}},t1=function t1(d,e,f){this.id=d;this.addr=f;this.setValue=X0(e.type);},o1=function(d,e,f){this.id=d;this.addr=f;this.size=e.size;this.setValue=m1(e.type);},q1=function(d){this.id=d;J.call(this);};q1.prototype.setValue=function(d,e){var f=this.seq;for(var i=0,j=f.length;i!==j;++i){var k=f[i];k.setValue(d,e[k.id]);}};var f1=/([\w\d_]+)(\])?(\[|\.)?/g,w1=function(d,e){d.seq.push(e);d.map[e.id]=e;},u1=function(d,e,f){var i=d.name,j=i.length;f1.lastIndex=0;for(;;){var k=f1.exec(i),m=f1.lastIndex,n=k[1],u=k[2]===']',v=k[3];if(u)n=n|0;if(v===undefined||v==='['&&m+2===j){w1(f,v===undefined?new t1(n,d,e):new o1(n,d,e));break;}else{var B=f.map,C=B[n];if(C===undefined){C=new q1(n);w1(f,C);}f=C;}}},x1=function x1(d,e,f){J.call(this);this.renderer=f;var i=d.getProgramParameter(e,d.ACTIVE_UNIFORMS);for(var j=0;j!==i;++j){var k=d.getActiveUniform(e,j),m=k.name,n=d.getUniformLocation(e,m);u1(k,n,this);}};x1.prototype.setValue=function(d,e,f){var i=this.map[e];if(i!==undefined)i.setValue(d,f,this.renderer);};x1.prototype.set=function(d,e,f){var i=this.map[f];if(i!==undefined)i.setValue(d,e[f],this.renderer);};x1.prototype.setOptional=function(d,e,f){var i=e[f];if(i!==undefined)this.setValue(d,f,i);};x1.upload=function(d,e,f,i){for(var j=0,k=e.length;j!==k;++j){var m=e[j],n=f[m.id];if(n.needsUpdate!==f7d.a4){m.setValue(d,n.value,i);}}};x1.seqWithValue=function(d,e){var f=[];for(var i=0,j=d.length;i!==j;++i){var k=d[i];if(k.id in e)f.push(k);}return f;};x1.splitDynamic=function(d,e){var f=f7d.h3,i=d.length,j=0;for(var k=0;k!==i;++k){var m=d[k],n=e[m.id];if(n&&n.dynamic===f7d.k3){if(f===f7d.h3)f=[];f.push(m);}else{if(j<k)d[j]=m;++j;}}if(j<i)d.length=j;return f;};x1.evalDynamic=function(d,e,f,i){for(var j=0,k=d.length;j!==k;++j){var m=e[d[j].id],n=m.onUpdateCallback;if(n!==undefined)n.call(m,f,i);}};return x1;})();THREE.LensFlarePlugin=function(o0,f0){var d0=o0.context,p0=o0.state,t0,x0,w0,s0,z0,y0,B0,K0;function i0(){var d="void main() {",e="varying float vVisibility;",f="varying vec2 vUV;",i="uniform lowp int renderType;",j=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),k=new Uint16Array([0,1,2,0,2,3]);t0=d0.createBuffer();x0=d0.createBuffer();d0.bindBuffer(d0.ARRAY_BUFFER,t0);d0.bufferData(d0.ARRAY_BUFFER,j,d0.STATIC_DRAW);d0.bindBuffer(d0.ELEMENT_ARRAY_BUFFER,x0);d0.bufferData(d0.ELEMENT_ARRAY_BUFFER,k,d0.STATIC_DRAW);B0=d0.createTexture();K0=d0.createTexture();p0.bindTexture(d0.TEXTURE_2D,B0);d0.texImage2D(d0.TEXTURE_2D,0,d0.RGB,16,16,0,d0.RGB,d0.UNSIGNED_BYTE,f7d.h3);d0.texParameteri(d0.TEXTURE_2D,d0.TEXTURE_WRAP_S,d0.CLAMP_TO_EDGE);d0.texParameteri(d0.TEXTURE_2D,d0.TEXTURE_WRAP_T,d0.CLAMP_TO_EDGE);d0.texParameteri(d0.TEXTURE_2D,d0.TEXTURE_MAG_FILTER,d0.NEAREST);d0.texParameteri(d0.TEXTURE_2D,d0.TEXTURE_MIN_FILTER,d0.NEAREST);p0.bindTexture(d0.TEXTURE_2D,K0);d0.texImage2D(d0.TEXTURE_2D,0,d0.RGBA,16,16,0,d0.RGBA,d0.UNSIGNED_BYTE,f7d.h3);d0.texParameteri(d0.TEXTURE_2D,d0.TEXTURE_WRAP_S,d0.CLAMP_TO_EDGE);d0.texParameteri(d0.TEXTURE_2D,d0.TEXTURE_WRAP_T,d0.CLAMP_TO_EDGE);d0.texParameteri(d0.TEXTURE_2D,d0.TEXTURE_MAG_FILTER,d0.NEAREST);d0.texParameteri(d0.TEXTURE_2D,d0.TEXTURE_MIN_FILTER,d0.NEAREST);w0={vertexShader:[i,"uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;",f,e,d,"vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:[i,"uniform sampler2D map;","uniform float opacity;","uniform vec3 color;",f,e,d,"if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")};s0=X0(w0);z0={vertex:d0.getAttribLocation(s0,"position"),uv:d0.getAttribLocation(s0,"uv")};y0={renderType:d0.getUniformLocation(s0,"renderType"),map:d0.getUniformLocation(s0,"map"),occlusionMap:d0.getUniformLocation(s0,"occlusionMap"),opacity:d0.getUniformLocation(s0,"opacity"),color:d0.getUniformLocation(s0,"color"),scale:d0.getUniformLocation(s0,"scale"),rotation:d0.getUniformLocation(s0,"rotation"),screenPosition:d0.getUniformLocation(s0,"screenPosition")};}this.render=function(d,e,f){if(f0.length===0)return ;var i=new THREE.Vector3(),j=f.w/f.z,k=f.z*f7d.h1,m=f.w*f7d.h1,n=16/f.w,u=new THREE.Vector2(n*j,n),v=new THREE.Vector3(1,1,0),B=new THREE.Vector2(1,1),C=new THREE.Box2();C.min.set(0,0);C.max.set(f.z-16,f.w-16);if(s0===undefined){i0();}d0.useProgram(s0);p0.initAttributes();p0.enableAttribute(z0.vertex);p0.enableAttribute(z0.uv);p0.disableUnusedAttributes();d0.uniform1i(y0.occlusionMap,0);d0.uniform1i(y0.map,1);d0.bindBuffer(d0.ARRAY_BUFFER,t0);d0.vertexAttribPointer(z0.vertex,2,d0.FLOAT,f7d.a4,2*8,0);d0.vertexAttribPointer(z0.uv,2,d0.FLOAT,f7d.a4,2*8,8);d0.bindBuffer(d0.ELEMENT_ARRAY_BUFFER,x0);p0.disable(d0.CULL_FACE);p0.setDepthWrite(f7d.a4);for(var J=0,E=f0.length;J<E;J++){n=16/f.w;u.set(n*j,n);var Q=f0[J];i.set(Q.matrixWorld.elements[12],Q.matrixWorld.elements[13],Q.matrixWorld.elements[14]);i.applyMatrix4(e.matrixWorldInverse);i.applyProjection(e.projectionMatrix);v.copy(i);B.x=f.x+(v.x*k)+k-8;B.y=f.y+(v.y*m)+m-8;if(C.containsPoint(B)===f7d.k3){p0.activeTexture(d0.TEXTURE0);p0.bindTexture(d0.TEXTURE_2D,f7d.h3);p0.activeTexture(d0.TEXTURE1);p0.bindTexture(d0.TEXTURE_2D,B0);d0.copyTexImage2D(d0.TEXTURE_2D,0,d0.RGB,B.x,B.y,16,16,0);d0.uniform1i(y0.renderType,0);d0.uniform2f(y0.scale,u.x,u.y);d0.uniform3f(y0.screenPosition,v.x,v.y,v.z);p0.disable(d0.BLEND);p0.enable(d0.DEPTH_TEST);d0.drawElements(d0.TRIANGLES,6,d0.UNSIGNED_SHORT,0);p0.activeTexture(d0.TEXTURE0);p0.bindTexture(d0.TEXTURE_2D,K0);d0.copyTexImage2D(d0.TEXTURE_2D,0,d0.RGBA,B.x,B.y,16,16,0);d0.uniform1i(y0.renderType,1);p0.disable(d0.DEPTH_TEST);p0.activeTexture(d0.TEXTURE1);p0.bindTexture(d0.TEXTURE_2D,B0);d0.drawElements(d0.TRIANGLES,6,d0.UNSIGNED_SHORT,0);Q.positionScreen.copy(v);if(Q.customUpdateCallback){Q.customUpdateCallback(Q);}else{Q.updateLensFlares();}d0.uniform1i(y0.renderType,2);p0.enable(d0.BLEND);for(var T=0,N=Q.lensFlares.length;T<N;T++){var b0=Q.lensFlares[T];if(b0.opacity>0.001&&b0.scale>0.001){v.x=b0.x;v.y=b0.y;v.z=b0.z;n=b0.size*b0.scale/f.w;u.x=n*j;u.y=n;d0.uniform3f(y0.screenPosition,v.x,v.y,v.z);d0.uniform2f(y0.scale,u.x,u.y);d0.uniform1f(y0.rotation,b0.rotation);d0.uniform1f(y0.opacity,b0.opacity);d0.uniform3f(y0.color,b0.color.r,b0.color.g,b0.color.b);p0.setBlending(b0.blending,b0.blendEquation,b0.blendSrc,b0.blendDst);o0.setTexture2D(b0.texture,1);d0.drawElements(d0.TRIANGLES,6,d0.UNSIGNED_SHORT,0);}}}}p0.enable(d0.CULL_FACE);p0.enable(d0.DEPTH_TEST);p0.setDepthWrite(f7d.k3);o0.resetGLState();};function X0(d){var e=d0.createProgram(),f=d0.createShader(d0.FRAGMENT_SHADER),i=d0.createShader(d0.VERTEX_SHADER),j="precision "+o0.getPrecision()+" float;\n";d0.shaderSource(f,j+d.fragmentShader);d0.shaderSource(i,j+d.vertexShader);d0.compileShader(f);d0.compileShader(i);d0.attachShader(e,f);d0.attachShader(e,i);d0.linkProgram(e);return e;}};THREE.SpritePlugin=function(C,J){var E=C.context,Q=C.state,T,N,b0,o0,f0,d0,p0=new THREE.Vector3(),t0=new THREE.Quaternion(),x0=new THREE.Vector3();function w0(){var d=new Float32Array([-f7d.h1,-f7d.h1,0,0,f7d.h1,-f7d.h1,1,0,f7d.h1,f7d.h1,1,1,-f7d.h1,f7d.h1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);T=E.createBuffer();N=E.createBuffer();E.bindBuffer(E.ARRAY_BUFFER,T);E.bufferData(E.ARRAY_BUFFER,d,E.STATIC_DRAW);E.bindBuffer(E.ELEMENT_ARRAY_BUFFER,N);E.bufferData(E.ELEMENT_ARRAY_BUFFER,e,E.STATIC_DRAW);b0=s0();o0={position:E.getAttribLocation(b0,f7d.e1),uv:E.getAttribLocation(b0,f7d.I3)};f0={uvOffset:E.getUniformLocation(b0,'uvOffset'),uvScale:E.getUniformLocation(b0,'uvScale'),rotation:E.getUniformLocation(b0,'rotation'),scale:E.getUniformLocation(b0,'scale'),color:E.getUniformLocation(b0,f7d.V1),map:E.getUniformLocation(b0,'map'),opacity:E.getUniformLocation(b0,'opacity'),modelViewMatrix:E.getUniformLocation(b0,f7d.q2),projectionMatrix:E.getUniformLocation(b0,f7d.n3),fogType:E.getUniformLocation(b0,'fogType'),fogDensity:E.getUniformLocation(b0,'fogDensity'),fogNear:E.getUniformLocation(b0,'fogNear'),fogFar:E.getUniformLocation(b0,'fogFar'),fogColor:E.getUniformLocation(b0,'fogColor'),alphaTest:E.getUniformLocation(b0,'alphaTest')};var f=document.createElement(f7d.K);f.width=8;f.height=8;var i=f.getContext('2d');i.fillStyle='white';i.fillRect(0,0,8,8);d0=new THREE.Texture(f);d0.needsUpdate=f7d.k3;}this.render=function(d,e){if(J.length===0)return ;if(b0===undefined){w0();}E.useProgram(b0);Q.initAttributes();Q.enableAttribute(o0.position);Q.enableAttribute(o0.uv);Q.disableUnusedAttributes();Q.disable(E.CULL_FACE);Q.enable(E.BLEND);E.bindBuffer(E.ARRAY_BUFFER,T);E.vertexAttribPointer(o0.position,2,E.FLOAT,f7d.a4,2*8,0);E.vertexAttribPointer(o0.uv,2,E.FLOAT,f7d.a4,2*8,8);E.bindBuffer(E.ELEMENT_ARRAY_BUFFER,N);E.uniformMatrix4fv(f0.projectionMatrix,f7d.a4,e.projectionMatrix.elements);Q.activeTexture(E.TEXTURE0);E.uniform1i(f0.map,0);var f=0,i=0,j=d.fog;if(j){E.uniform3f(f0.fogColor,j.color.r,j.color.g,j.color.b);if(j instanceof THREE.Fog){E.uniform1f(f0.fogNear,j.near);E.uniform1f(f0.fogFar,j.far);E.uniform1i(f0.fogType,1);f=1;i=1;}else if(j instanceof THREE.FogExp2){E.uniform1f(f0.fogDensity,j.density);E.uniform1i(f0.fogType,2);f=2;i=2;}}else{E.uniform1i(f0.fogType,0);f=0;i=0;}for(var k=0,m=J.length;k<m;k++){var n=J[k];n.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,n.matrixWorld);n.z=-n.modelViewMatrix.elements[14];}J.sort(z0);var u=[];for(var k=0,m=J.length;k<m;k++){var n=J[k],v=n.material;E.uniform1f(f0.alphaTest,v.alphaTest);E.uniformMatrix4fv(f0.modelViewMatrix,f7d.a4,n.modelViewMatrix.elements);n.matrixWorld.decompose(p0,t0,x0);u[0]=x0.x;u[1]=x0.y;var B=0;if(d.fog&&v.fog){B=i;}if(f!==B){E.uniform1i(f0.fogType,B);f=B;}if(v.map!==f7d.h3){E.uniform2f(f0.uvOffset,v.map.offset.x,v.map.offset.y);E.uniform2f(f0.uvScale,v.map.repeat.x,v.map.repeat.y);}else{E.uniform2f(f0.uvOffset,0,0);E.uniform2f(f0.uvScale,1,1);}E.uniform1f(f0.opacity,v.opacity);E.uniform3f(f0.color,v.color.r,v.color.g,v.color.b);E.uniform1f(f0.rotation,v.rotation);E.uniform2fv(f0.scale,u);Q.setBlending(v.blending,v.blendEquation,v.blendSrc,v.blendDst);Q.setDepthTest(v.depthTest);Q.setDepthWrite(v.depthWrite);Q.setPolygonOffset(v.polygonOffset,v.polygonOffsetFactor,v.polygonOffsetUnits);if(v.map){C.setTexture2D(v.map,0);}else{C.setTexture2D(d0,0);}E.drawElements(E.TRIANGLES,6,E.UNSIGNED_SHORT,0);}Q.enable(E.CULL_FACE);C.resetGLState();};function s0(){var d='void main() {',e='varying vec2 vUV;',f=E.createProgram(),i=E.createShader(E.VERTEX_SHADER),j=E.createShader(E.FRAGMENT_SHADER);E.shaderSource(i,[f7d.U3+C.getPrecision()+f7d.W,f7d.g2,f7d.X1,'uniform float rotation;','uniform vec2 scale;','uniform vec2 uvOffset;','uniform vec2 uvScale;','attribute vec2 position;',f7d.C1,e,d,'vUV = uvOffset + uv * uvScale;','vec2 alignedPosition = position * scale;','vec2 rotatedPosition;','rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;','rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;','vec4 finalPosition;','finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );','finalPosition.xy += rotatedPosition;','finalPosition = projectionMatrix * finalPosition;','gl_Position = finalPosition;','}'].join(f7d.e2));E.shaderSource(j,[f7d.U3+C.getPrecision()+f7d.W,'uniform vec3 color;','uniform sampler2D map;','uniform float opacity;','uniform int fogType;','uniform vec3 fogColor;','uniform float fogDensity;','uniform float fogNear;','uniform float fogFar;','uniform float alphaTest;',e,d,'vec4 texture = texture2D( map, vUV );','if ( texture.a < alphaTest ) discard;','gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );','if ( fogType > 0 ) {','float depth = gl_FragCoord.z / gl_FragCoord.w;','float fogFactor = 0.0;','if ( fogType == 1 ) {','fogFactor = smoothstep( fogNear, fogFar, depth );','} else {','const float LOG2 = 1.442695;','fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );','fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );','}','gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );','}','}'].join(f7d.e2));E.compileShader(i);E.compileShader(j);E.attachShader(f,i);E.attachShader(f,j);E.linkProgram(f);return f;}function z0(d,e){if(d.renderOrder!==e.renderOrder){return d.renderOrder-e.renderOrder;}else if(d.z!==e.z){return e.z-d.z;}else{return e.id-d.id;}}};Object.defineProperties(THREE.Box2.prototype,{empty:{value:function(){console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().');return this.isEmpty();}},isIntersectionBox:{value:function(d){console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().');return this.intersectsBox(d);}}});Object.defineProperties(THREE.Box3.prototype,{empty:{value:function(){console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().');return this.isEmpty();}},isIntersectionBox:{value:function(d){console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().');return this.intersectsBox(d);}},isIntersectionSphere:{value:function(d){console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().');return this.intersectsSphere(d);}}});Object.defineProperties(THREE.Matrix3.prototype,{multiplyVector3:{value:function(d){console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');return d.applyMatrix3(this);}},multiplyVector3Array:{value:function(d){console.warn('THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.');return this.applyToVector3Array(d);}}});Object.defineProperties(THREE.Matrix4.prototype,{extractPosition:{value:function(d){console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');return this.copyPosition(d);}},setRotationFromQuaternion:{value:function(d){console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');return this.makeRotationFromQuaternion(d);}},multiplyVector3:{value:function(d){console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.');return d.applyProjection(this);}},multiplyVector4:{value:function(d){console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');return d.applyMatrix4(this);}},multiplyVector3Array:{value:function(d){console.warn('THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.');return this.applyToVector3Array(d);}},rotateAxis:{value:function(d){console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');d.transformDirection(this);}},crossVector:{value:function(d){console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');return d.applyMatrix4(this);}},translate:{value:function(d){console.error('THREE.Matrix4: .translate() has been removed.');}},rotateX:{value:function(d){console.error('THREE.Matrix4: .rotateX() has been removed.');}},rotateY:{value:function(d){console.error('THREE.Matrix4: .rotateY() has been removed.');}},rotateZ:{value:function(d){console.error('THREE.Matrix4: .rotateZ() has been removed.');}},rotateByAxis:{value:function(d,e){console.error('THREE.Matrix4: .rotateByAxis() has been removed.');}}});Object.defineProperties(THREE.Plane.prototype,{isIntersectionLine:{value:function(d){console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().');return this.intersectsLine(d);}}});Object.defineProperties(THREE.Quaternion.prototype,{multiplyVector3:{value:function(d){console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');return d.applyQuaternion(this);}}});Object.defineProperties(THREE.Ray.prototype,{isIntersectionBox:{value:function(d){console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().');return this.intersectsBox(d);}},isIntersectionPlane:{value:function(d){console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().');return this.intersectsPlane(d);}},isIntersectionSphere:{value:function(d){console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().');return this.intersectsSphere(d);}}});Object.defineProperties(THREE.Vector3.prototype,{setEulerFromRotationMatrix:{value:function(){console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');}},setEulerFromQuaternion:{value:function(){console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');}},getPositionFromMatrix:{value:function(d){console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');return this.setFromMatrixPosition(d);}},getScaleFromMatrix:{value:function(d){console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');return this.setFromMatrixScale(d);}},getColumnFromMatrix:{value:function(d,e){console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');return this.setFromMatrixColumn(d,e);}}});THREE.Face4=function(d,e,f,i,j,k,m){console.warn('THREE.Face4 has been removed. A THREE.Face3 will be created instead.');return new THREE.Face3(d,e,f,j,k,m);};THREE.Vertex=function(d,e,f){console.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.');return new THREE.Vector3(d,e,f);};Object.defineProperties(THREE.Object3D.prototype,{eulerOrder:{get:function(){console.warn(f7d.g1);return this.rotation.order;},set:function(d){console.warn(f7d.g1);this.rotation.order=d;}},getChildByName:{value:function(d){console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');return this.getObjectByName(d);}},renderDepth:{set:function(d){console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.');}},translate:{value:function(d,e){console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');return this.translateOnAxis(e,d);}},useQuaternion:{get:function(){console.warn(f7d.H1);},set:function(d){console.warn(f7d.H1);}}});Object.defineProperties(THREE,{PointCloud:{value:function(d,e){console.warn('THREE.PointCloud has been renamed to THREE.Points.');return new THREE.Points(d,e);}},ParticleSystem:{value:function(d,e){console.warn('THREE.ParticleSystem has been renamed to THREE.Points.');return new THREE.Points(d,e);}}});Object.defineProperties(THREE.Light.prototype,{onlyShadow:{set:function(d){console.warn('THREE.Light: .onlyShadow has been removed.');}},shadowCameraFov:{set:function(d){console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.');this.shadow.camera.fov=d;}},shadowCameraLeft:{set:function(d){console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.');this.shadow.camera.left=d;}},shadowCameraRight:{set:function(d){console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.');this.shadow.camera.right=d;}},shadowCameraTop:{set:function(d){console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.');this.shadow.camera.top=d;}},shadowCameraBottom:{set:function(d){console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.');this.shadow.camera.bottom=d;}},shadowCameraNear:{set:function(d){console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.');this.shadow.camera.near=d;}},shadowCameraFar:{set:function(d){console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.');this.shadow.camera.far=d;}},shadowCameraVisible:{set:function(d){console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.');}},shadowBias:{set:function(d){console.warn('THREE.Light: .shadowBias is now .shadow.bias.');this.shadow.bias=d;}},shadowDarkness:{set:function(d){console.warn('THREE.Light: .shadowDarkness has been removed.');}},shadowMapWidth:{set:function(d){console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.');this.shadow.mapSize.width=d;}},shadowMapHeight:{set:function(d){console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.');this.shadow.mapSize.height=d;}}});Object.defineProperties(THREE.BufferAttribute.prototype,{length:{get:function(){console.warn(f7d.Y3);return this.array.length;}}});Object.defineProperties(THREE.BufferGeometry.prototype,{drawcalls:{get:function(){console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.');return this.groups;}},offsets:{get:function(){console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.');return this.groups;}},addIndex:{value:function(d){console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().');this.setIndex(d);}},addDrawCall:{value:function(d,e,f){if(f!==undefined){console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.');}console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().');this.addGroup(d,e);}},clearDrawCalls:{value:function(){console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().');this.clearGroups();}},computeTangents:{value:function(){console.warn('THREE.BufferGeometry: .computeTangents() has been removed.');}},computeOffsets:{value:function(){console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.');}}});Object.defineProperties(THREE.Material.prototype,{wrapAround:{get:function(){console.warn(f7d.G1+this.type+f7d.S0);},set:function(d){console.warn(f7d.G1+this.type+f7d.S0);}},wrapRGB:{get:function(){console.warn(f7d.G1+this.type+': .wrapRGB has been removed.');return new THREE.Color();}}});Object.defineProperties(THREE,{PointCloudMaterial:{value:function(d){console.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.');return new THREE.PointsMaterial(d);}},ParticleBasicMaterial:{value:function(d){console.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.');return new THREE.PointsMaterial(d);}},ParticleSystemMaterial:{value:function(d){console.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.');return new THREE.PointsMaterial(d);}}});Object.defineProperties(THREE.MeshPhongMaterial.prototype,{metal:{get:function(){console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.');return f7d.a4;},set:function(d){console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead');}}});Object.defineProperties(THREE.ShaderMaterial.prototype,{derivatives:{get:function(){console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');return this.extensions.derivatives;},set:function(d){console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');this.extensions.derivatives=d;}}});Object.defineProperties(THREE.WebGLRenderer.prototype,{supportsFloatTextures:{value:function(){console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \'OES_texture_float\' ).');return this.extensions.get(f7d.V);}},supportsHalfFloatTextures:{value:function(){console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \'OES_texture_half_float\' ).');return this.extensions.get(f7d.M);}},supportsStandardDerivatives:{value:function(){console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \'OES_standard_derivatives\' ).');return this.extensions.get(f7d.F3);}},supportsCompressedTextureS3TC:{value:function(){console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \'WEBGL_compressed_texture_s3tc\' ).');return this.extensions.get(f7d.g3);}},supportsCompressedTexturePVRTC:{value:function(){console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \'WEBGL_compressed_texture_pvrtc\' ).');return this.extensions.get(f7d.N3);}},supportsBlendMinMax:{value:function(){console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \'EXT_blend_minmax\' ).');return this.extensions.get(f7d.n4);}},supportsVertexTextures:{value:function(){return this.capabilities.vertexTextures;}},supportsInstancedArrays:{value:function(){console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \'ANGLE_instanced_arrays\' ).');return this.extensions.get(f7d.U2);}},enableScissorTest:{value:function(d){console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().');this.setScissorTest(d);}},initMaterial:{value:function(){console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');}},addPrePlugin:{value:function(){console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');}},addPostPlugin:{value:function(){console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');}},updateShadowMap:{value:function(){console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');}},shadowMapEnabled:{get:function(){return this.shadowMap.enabled;},set:function(d){console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.');this.shadowMap.enabled=d;}},shadowMapType:{get:function(){return this.shadowMap.type;},set:function(d){console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.');this.shadowMap.type=d;}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace;},set:function(d){console.warn('THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.');this.shadowMap.cullFace=d;}}});Object.defineProperties(THREE.WebGLRenderTarget.prototype,{wrapS:{get:function(){console.warn(f7d.F0);return this.texture.wrapS;},set:function(d){console.warn(f7d.F0);this.texture.wrapS=d;}},wrapT:{get:function(){console.warn(f7d.W0);return this.texture.wrapT;},set:function(d){console.warn(f7d.W0);this.texture.wrapT=d;}},magFilter:{get:function(){console.warn(f7d.D2);return this.texture.magFilter;},set:function(d){console.warn(f7d.D2);this.texture.magFilter=d;}},minFilter:{get:function(){console.warn(f7d.O1);return this.texture.minFilter;},set:function(d){console.warn(f7d.O1);this.texture.minFilter=d;}},anisotropy:{get:function(){console.warn(f7d.C0);return this.texture.anisotropy;},set:function(d){console.warn(f7d.C0);this.texture.anisotropy=d;}},offset:{get:function(){console.warn(f7d.K3);return this.texture.offset;},set:function(d){console.warn(f7d.K3);this.texture.offset=d;}},repeat:{get:function(){console.warn(f7d.g4);return this.texture.repeat;},set:function(d){console.warn(f7d.g4);this.texture.repeat=d;}},format:{get:function(){console.warn(f7d.l2);return this.texture.format;},set:function(d){console.warn(f7d.l2);this.texture.format=d;}},type:{get:function(){console.warn(f7d.o2);return this.texture.type;},set:function(d){console.warn(f7d.o2);this.texture.type=d;}},generateMipmaps:{get:function(){console.warn(f7d.E1);return this.texture.generateMipmaps;},set:function(d){console.warn(f7d.E1);this.texture.generateMipmaps=d;}}});Object.defineProperties(THREE.Audio.prototype,{load:{value:function(e){console.warn('THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.');var f=this,i=new THREE.AudioLoader();i.load(e,function(d){f.setBuffer(d);});return this;}}});THREE.GeometryUtils={merge:function(d,e,f){console.warn('THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.');var i;if(e instanceof THREE.Mesh){e.matrixAutoUpdate&&e.updateMatrix();i=e.matrix;e=e.geometry;}d.merge(e,i,f);},center:function(d){console.warn('THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.');return d.center();}};THREE.ImageUtils={crossOrigin:undefined,loadTexture:function(d,e,f,i){console.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');var j=new THREE.TextureLoader();j.setCrossOrigin(this.crossOrigin);var k=j.load(d,f,undefined,i);if(e)k.mapping=e;return k;},loadTextureCube:function(d,e,f,i){console.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');var j=new THREE.CubeTextureLoader();j.setCrossOrigin(this.crossOrigin);var k=j.load(d,f,undefined,i);if(e)k.mapping=e;return k;},loadCompressedTexture:function(){console.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.');},loadCompressedTextureCube:function(){console.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.');}};THREE.Projector=function(){console.error('THREE.Projector has been moved to /examples/js/renderers/Projector.js.');this.projectVector=function(d,e){console.warn('THREE.Projector: .projectVector() is now vector.project().');d.project(e);};this.unprojectVector=function(d,e){console.warn('THREE.Projector: .unprojectVector() is now vector.unproject().');d.unproject(e);};this.pickingRay=function(d,e){console.error('THREE.Projector: .pickingRay() is now raycaster.setFromCamera().');};};THREE.CanvasRenderer=function(){console.error('THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js');this.domElement=document.createElement(f7d.K);this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){};};THREE.MeshFaceMaterial=THREE.MultiMaterial;Object.defineProperties(THREE.LOD.prototype,{objects:{get:function(){console.warn('THREE.LOD: .objects has been renamed to .levels.');return this.levels;}}});THREE.CurveUtils={tangentQuadraticBezier:function(d,e,f,i){return 2*(1-d)*(f-e)+2*d*(i-f);},tangentCubicBezier:function(d,e,f,i,j){return -3*e*(1-d)*(1-d)+3*f*(1-d)*(1-d)-6*d*f*(1-d)+6*d*i*(1-d)-3*d*d*i+3*d*d*j;},tangentSpline:function(d,e,f,i,j){var k=6*d*d-6*d,m=3*d*d-4*d+1,n=-6*d*d+6*d,u=3*d*d-2*d;return k+m+n+u;},interpolate:function(d,e,f,i,j){var k=(f-d)*f7d.h1,m=(i-e)*f7d.h1,n=j*j,u=j*n;return (2*e-2*f+k+m)*u+(-3*e+3*f-2*k-m)*n+k*j+e;}};THREE.SceneUtils={createMultiMaterialObject:function(d,e){var f=new THREE.Group();for(var i=0,j=e.length;i<j;i++){f.add(new THREE.Mesh(d,e[i]));}return f;},detach:function(d,e,f){d.applyMatrix(e.matrixWorld);e.remove(d);f.add(d);},attach:function(d,e,f){var i=new THREE.Matrix4();i.getInverse(f.matrixWorld);d.applyMatrix(i);e.remove(d);f.add(d);}};THREE.ShapeUtils={area:function(d){var e=d.length,f=f7d.j1;for(var i=e-1,j=0;j<e;i=j++){f+=d[i].x*d[j].y-d[j].x*d[i].y;}return f*f7d.h1;},triangulate:(function(){function i0(d,e,f,i,j,k){var m,n,u,v,B,C,J,E,Q;n=d[k[e]].x;u=d[k[e]].y;v=d[k[f]].x;B=d[k[f]].y;C=d[k[i]].x;J=d[k[i]].y;if(Number.EPSILON>(((v-n)*(J-u))-((B-u)*(C-n))))return f7d.a4;var T,N,b0,o0,f0,d0,p0,t0,x0,w0,s0,z0,y0,B0,K0;T=C-v;N=J-B;b0=n-C;o0=u-J;f0=v-n;d0=B-u;for(m=0;m<j;m++){E=d[k[m]].x;Q=d[k[m]].y;if(((E===n)&&(Q===u))||((E===v)&&(Q===B))||((E===C)&&(Q===J)))continue;p0=E-n;t0=Q-u;x0=E-v;w0=Q-B;s0=E-C;z0=Q-J;K0=T*w0-N*x0;y0=f0*t0-d0*p0;B0=b0*z0-o0*s0;if((K0>=-Number.EPSILON)&&(B0>=-Number.EPSILON)&&(y0>=-Number.EPSILON))return f7d.a4;}return f7d.k3;}return function(d,e){var f=d.length;if(f<3)return f7d.h3;var i=[],j=[],k=[],m,n,u;if(THREE.ShapeUtils.area(d)>f7d.j1){for(n=0;n<f;n++)j[n]=n;}else{for(n=0;n<f;n++)j[n]=(f-1)-n;}var v=f,B=2*v;for(n=v-1;v>2;){if((B--)<=0){console.warn('THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()');if(e)return k;return i;}m=n;if(v<=m)m=0;n=m+1;if(v<=n)n=0;u=n+1;if(v<=u)u=0;if(i0(d,m,n,u,v,j)){var C,J,E,Q,T;C=j[m];J=j[n];E=j[u];i.push([d[C],d[J],d[E]]);k.push([j[m],j[n],j[u]]);for(Q=n,T=n+1;T<v;Q++,T++){j[Q]=j[T];}v--;B=2*v;}}if(e)return k;return i;};})(),triangulateShape:function(D0,N0){function a1(d,e,f){if(d.x!==e.x){if(d.x<e.x){return ((d.x<=f.x)&&(f.x<=e.x));}else{return ((e.x<=f.x)&&(f.x<=d.x));}}else{if(d.y<e.y){return ((d.y<=f.y)&&(f.y<=e.y));}else{return ((e.y<=f.y)&&(f.y<=d.y));}}}function U0(d,e,f,i,j){var k=e.x-d.x,m=e.y-d.y,n=i.x-f.x,u=i.y-f.y,v=d.x-f.x,B=d.y-f.y,C=m*n-k*u,J=m*v-k*B;if(Math.abs(C)>Number.EPSILON){var E;if(C>0){if((J<0)||(J>C))return [];E=u*v-n*B;if((E<0)||(E>C))return [];}else{if((J>0)||(J<C))return [];E=u*v-n*B;if((E>0)||(E<C))return [];}if(E===0){if((j)&&((J===0)||(J===C)))return [];return [d];}if(E===C){if((j)&&((J===0)||(J===C)))return [];return [e];}if(J===0)return [f];if(J===C)return [i];var Q=E/C;return [{x:d.x+Q*k,y:d.y+Q*m}];}else{if((J!==0)||(u*v!==n*B))return [];var T=((k===0)&&(m===0)),N=((n===0)&&(u===0));if(T&&N){if((d.x!==f.x)||(d.y!==f.y))return [];return [d];}if(T){if(!a1(f,i,d))return [];return [d];}if(N){if(!a1(d,e,f))return [];return [f];}var b0,o0,f0,d0,p0,t0,x0,w0;if(k!==0){if(d.x<e.x){b0=d;f0=d.x;o0=e;d0=e.x;}else{b0=e;f0=e.x;o0=d;d0=d.x;}if(f.x<i.x){p0=f;x0=f.x;t0=i;w0=i.x;}else{p0=i;x0=i.x;t0=f;w0=f.x;}}else{if(d.y<e.y){b0=d;f0=d.y;o0=e;d0=e.y;}else{b0=e;f0=e.y;o0=d;d0=d.y;}if(f.y<i.y){p0=f;x0=f.y;t0=i;w0=i.y;}else{p0=i;x0=i.y;t0=f;w0=f.y;}}if(f0<=x0){if(d0<x0)return [];if(d0===x0){if(j)return [];return [p0];}if(d0<=w0)return [p0,o0];return [p0,t0];}else{if(f0>w0)return [];if(f0===w0){if(j)return [];return [b0];}if(d0<=w0)return [b0,o0];return [b0,t0];}}}function i1(d,e,f,i){var j=e.x-d.x,k=e.y-d.y,m=f.x-d.x,n=f.y-d.y,u=i.x-d.x,v=i.y-d.y,B=j*n-k*m,C=j*v-k*u;if(Math.abs(B)>Number.EPSILON){var J=u*n-v*m;if(B>0){return ((C>=0)&&(J>=0));}else{return ((C>=0)||(J>=0));}}else{return (C>0);}}function E0(v,B){var C=v.concat(),J;function E(d,e){var f=C.length-1,i=d-1;if(i<0)i=f;var j=d+1;if(j>f)j=0;var k=i1(C[d],C[i],C[j],J[e]);if(!k){return f7d.a4;}var m=J.length-1,n=e-1;if(n<0)n=m;var u=e+1;if(u>m)u=0;k=i1(J[e],J[n],J[u],C[d]);if(!k){return f7d.a4;}return f7d.k3;}function Q(d,e){var f,i,j;for(f=0;f<C.length;f++){i=f+1;i%=C.length;j=U0(d,e,C[f],C[i],f7d.k3);if(j.length>0)return f7d.k3;}return f7d.a4;}var T=[];function N(d,e){var f,i,j,k,m;for(f=0;f<T.length;f++){i=B[T[f]];for(j=0;j<i.length;j++){k=j+1;k%=i.length;m=U0(d,e,i[j],i[k],f7d.k3);if(m.length>0)return f7d.k3;}}return f7d.a4;}var b0,o0,f0,d0,p0,t0,x0=[],w0,s0,z0,y0;for(var B0=0,K0=B.length;B0<K0;B0++){T.push(B0);}var i0=0,X0=T.length*2;while(T.length>0){X0--;if(X0<0){console.log("Infinite Loop! Holes left:"+T.length+", Probably Hole outside Shape!");break;}for(o0=i0;o0<C.length;o0++){f0=C[o0];b0=-1;for(var B0=0;B0<T.length;B0++){p0=T[B0];t0=f0.x+":"+f0.y+":"+p0;if(x0[t0]!==undefined)continue;J=B[p0];for(var V0=0;V0<J.length;V0++){d0=J[V0];if(!E(o0,V0))continue;if(Q(f0,d0))continue;if(N(f0,d0))continue;b0=V0;T.splice(B0,1);w0=C.slice(0,o0+1);s0=C.slice(o0);z0=J.slice(b0);y0=J.slice(0,b0+1);C=w0.concat(z0).concat(y0).concat(s0);i0=o0;break;}if(b0>=0)break;x0[t0]=f7d.k3;}if(b0>=0)break;}}return C;}var b1,n1,p1,m1,t1,o1,q1={},f1=D0.concat();for(var w1=0,u1=N0.length;w1<u1;w1++){Array.prototype.push.apply(f1,N0[w1]);}for(b1=0,n1=f1.length;b1<n1;b1++){t1=f1[b1].x+":"+f1[b1].y;if(q1[t1]!==undefined){console.warn("THREE.Shape: Duplicate point",t1);}q1[t1]=b1;}var x1=E0(D0,N0),Q1=THREE.ShapeUtils.triangulate(x1,f7d.a4);for(b1=0,n1=Q1.length;b1<n1;b1++){m1=Q1[b1];for(p1=0;p1<3;p1++){t1=m1[p1].x+":"+m1[p1].y;o1=q1[t1];if(o1!==undefined){m1[p1]=o1;}}}return Q1.concat();},isClockWise:function(d){return THREE.ShapeUtils.area(d)<0;},b2:(function(){function j(d,e){var f=1-d;return f*f*e;}function k(d,e){return 2*(1-d)*d*e;}function m(d,e){return d*d*e;}return function(d,e,f,i){return j(d,e)+k(d,f)+m(d,i);};})(),b3:(function(){function k(d,e){var f=1-d;return f*f*f*e;}function m(d,e){var f=1-d;return 3*f*f*d*e;}function n(d,e){var f=1-d;return 3*f*d*d*e;}function u(d,e){return d*d*d*e;}return function(d,e,f,i,j){return k(d,e)+m(d,f)+n(d,i)+u(d,j);};})()};THREE.Curve=function(){};THREE.Curve.prototype={constructor:THREE.Curve,getPoint:function(d){console.warn("THREE.Curve: Warning, getPoint() not implemented!");return f7d.h3;},getPointAt:function(d){var e=this.getUtoTmapping(d);return this.getPoint(e);},getPoints:function(d){if(!d)d=5;var e,f=[];for(e=0;e<=d;e++){f.push(this.getPoint(e/d));}return f;},getSpacedPoints:function(d){if(!d)d=5;var e,f=[];for(e=0;e<=d;e++){f.push(this.getPointAt(e/d));}return f;},getLength:function(){var d=this.getLengths();return d[d.length-1];},getLengths:function(d){if(!d)d=(this.__arcLengthDivisions)?(this.__arcLengthDivisions):200;if(this.cacheArcLengths&&(this.cacheArcLengths.length===d+1)&&!this.needsUpdate){return this.cacheArcLengths;}this.needsUpdate=f7d.a4;var e=[],f,i=this.getPoint(0),j,k=0;e.push(0);for(j=1;j<=d;j++){f=this.getPoint(j/d);k+=f.distanceTo(i);e.push(k);i=f;}this.cacheArcLengths=e;return e;},updateArcLengths:function(){this.needsUpdate=f7d.k3;this.getLengths();},getUtoTmapping:function(d,e){var f=this.getLengths(),i=0,j=f.length,k;if(e){k=e;}else{k=d*f[j-1];}var m=0,n=j-1,u;while(m<=n){i=Math.floor(m+(n-m)/2);u=f[i]-k;if(u<0){m=i+1;}else if(u>0){n=i-1;}else{n=i;break;}}i=n;if(f[i]===k){var v=i/(j-1);return v;}var B=f[i],C=f[i+1],J=C-B,E=(k-B)/J,v=(i+E)/(j-1);return v;},getTangent:function(d){var e=0.0001,f=d-e,i=d+e;if(f<0)f=0;if(i>1)i=1;var j=this.getPoint(f),k=this.getPoint(i),m=k.clone().sub(j);return m.normalize();},getTangentAt:function(d){var e=this.getUtoTmapping(d);return this.getTangent(e);}};THREE.Curve.create=function(d,e){d.prototype=Object.create(THREE.Curve.prototype);d.prototype.constructor=d;d.prototype.getPoint=e;return d;};THREE.CurvePath=function(){this.curves=[];this.autoClose=f7d.a4;};THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype);THREE.CurvePath.prototype.constructor=THREE.CurvePath;THREE.CurvePath.prototype.add=function(d){this.curves.push(d);};THREE.CurvePath.prototype.closePath=function(){var d=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!d.equals(e)){this.curves.push(new THREE.LineCurve(e,d));}};THREE.CurvePath.prototype.getPoint=function(d){var e=d*this.getLength(),f=this.getCurveLengths(),i=0;while(i<f.length){if(f[i]>=e){var j=f[i]-e,k=this.curves[i],m=1-j/k.getLength();return k.getPointAt(m);}i++;}return f7d.h3;};THREE.CurvePath.prototype.getLength=function(){var d=this.getCurveLengths();return d[d.length-1];};THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length){return this.cacheLengths;}var d=[],e=0;for(var f=0,i=this.curves.length;f<i;f++){e+=this.curves[f].getLength();d.push(e);}this.cacheLengths=d;return d;};THREE.CurvePath.prototype.createPointsGeometry=function(d){var e=this.getPoints(d);return this.createGeometry(e);};THREE.CurvePath.prototype.createSpacedPointsGeometry=function(d){var e=this.getSpacedPoints(d);return this.createGeometry(e);};THREE.CurvePath.prototype.createGeometry=function(d){var e=new THREE.Geometry();for(var f=0,i=d.length;f<i;f++){var j=d[f];e.vertices.push(new THREE.Vector3(j.x,j.y,j.z||0));}return e;};THREE.Font=function(d){this.data=d;};THREE.Font.prototype={constructor:THREE.Font,generateShapes:function(s0,z0,y0){function B0(d){var e=String(d).split(''),f=z0/i0.resolution,i=0,j=[];for(var k=0;k<e.length;k++){var m=K0(e[k],f,i);i+=m.offset;j.push(m.path);}return j;}function K0(d,e,f){var i=i0.glyphs[d]||i0.glyphs['?'];if(!i)return ;var j=new THREE.Path(),k=[],m=THREE.ShapeUtils.b2,n=THREE.ShapeUtils.b3,u,v,B,C,J,E,Q,T,N,b0,o0;if(i.o){var f0=i._cachedOutline||(i._cachedOutline=i.o.split(' '));for(var d0=0,p0=f0.length;d0<p0;){var t0=f0[d0++];switch(t0){case 'm':u=f0[d0++]*e+f;v=f0[d0++]*e;j.moveTo(u,v);break;case 'l':u=f0[d0++]*e+f;v=f0[d0++]*e;j.lineTo(u,v);break;case 'q':B=f0[d0++]*e+f;C=f0[d0++]*e;Q=f0[d0++]*e+f;T=f0[d0++]*e;j.quadraticCurveTo(Q,T,B,C);o0=k[k.length-1];if(o0){J=o0.x;E=o0.y;for(var x0=1;x0<=y0;x0++){var w0=x0/y0;m(w0,J,Q,B);m(w0,E,T,C);}}break;case 'b':B=f0[d0++]*e+f;C=f0[d0++]*e;Q=f0[d0++]*e+f;T=f0[d0++]*e;N=f0[d0++]*e+f;b0=f0[d0++]*e;j.bezierCurveTo(Q,T,N,b0,B,C);o0=k[k.length-1];if(o0){J=o0.x;E=o0.y;for(var x0=1;x0<=y0;x0++){var w0=x0/y0;n(w0,J,Q,N,B);n(w0,E,T,b0,C);}}break;}}}return {offset:i.ha*e,path:j};}if(z0===undefined)z0=f7d.d4;if(y0===undefined)y0=4;var i0=this.data,X0=B0(s0),V0=[];for(var D0=0,N0=X0.length;D0<N0;D0++){Array.prototype.push.apply(V0,X0[D0].toShapes());}return V0;}};THREE.Path=function(d){THREE.CurvePath.call(this);this.actions=[];if(d){this.fromPoints(d);}};THREE.Path.prototype=Object.create(THREE.CurvePath.prototype);THREE.Path.prototype.constructor=THREE.Path;THREE.Path.prototype.fromPoints=function(d){this.moveTo(d[0].x,d[0].y);for(var e=1,f=d.length;e<f;e++){this.lineTo(d[e].x,d[e].y);}};THREE.Path.prototype.moveTo=function(d,e){this.actions.push({action:f7d.W3,args:[d,e]});};THREE.Path.prototype.lineTo=function(d,e){var f=this.actions[this.actions.length-1].args,i=f[f.length-2],j=f[f.length-1],k=new THREE.LineCurve(new THREE.Vector2(i,j),new THREE.Vector2(d,e));this.curves.push(k);this.actions.push({action:'lineTo',args:[d,e]});};THREE.Path.prototype.quadraticCurveTo=function(d,e,f,i){var j=this.actions[this.actions.length-1].args,k=j[j.length-2],m=j[j.length-1],n=new THREE.QuadraticBezierCurve(new THREE.Vector2(k,m),new THREE.Vector2(d,e),new THREE.Vector2(f,i));this.curves.push(n);this.actions.push({action:f7d.j0,args:[d,e,f,i]});};THREE.Path.prototype.bezierCurveTo=function(d,e,f,i,j,k){var m=this.actions[this.actions.length-1].args,n=m[m.length-2],u=m[m.length-1],v=new THREE.CubicBezierCurve(new THREE.Vector2(n,u),new THREE.Vector2(d,e),new THREE.Vector2(f,i),new THREE.Vector2(j,k));this.curves.push(v);this.actions.push({action:f7d.T0,args:[d,e,f,i,j,k]});};THREE.Path.prototype.splineThru=function(d){var e=Array.prototype.slice.call(arguments),f=this.actions[this.actions.length-1].args,i=f[f.length-2],j=f[f.length-1],k=[new THREE.Vector2(i,j)];Array.prototype.push.apply(k,d);var m=new THREE.SplineCurve(k);this.curves.push(m);this.actions.push({action:'splineThru',args:e});};THREE.Path.prototype.arc=function(d,e,f,i,j,k){var m=this.actions[this.actions.length-1].args,n=m[m.length-2],u=m[m.length-1];this.absarc(d+n,e+u,f,i,j,k);};THREE.Path.prototype.absarc=function(d,e,f,i,j,k){this.absellipse(d,e,f,f,i,j,k);};THREE.Path.prototype.ellipse=function(d,e,f,i,j,k,m,n){var u=this.actions[this.actions.length-1].args,v=u[u.length-2],B=u[u.length-1];this.absellipse(d+v,e+B,f,i,j,k,m,n);};THREE.Path.prototype.absellipse=function(d,e,f,i,j,k,m,n){var u=[d,e,f,i,j,k,m,n||0],v=new THREE.EllipseCurve(d,e,f,i,j,k,m,n);this.curves.push(v);var B=v.getPoint(1);u.push(B.x);u.push(B.y);this.actions.push({action:'ellipse',args:u});};THREE.Path.prototype.getSpacedPoints=function(d){if(!d)d=40;var e=[];for(var f=0;f<d;f++){e.push(this.getPoint(f/d));}if(this.autoClose){e.push(e[0]);}return e;};THREE.Path.prototype.getPoints=function(d){d=d||12;var e=THREE.ShapeUtils.b2,f=THREE.ShapeUtils.b3,i=[],j,k,m,n,u,v,B,C,J,E,Q;for(var T=0,N=this.actions.length;T<N;T++){var b0=this.actions[T],o0=b0.action,f0=b0.args;switch(o0){case f7d.W3:i.push(new THREE.Vector2(f0[0],f0[1]));break;case 'lineTo':i.push(new THREE.Vector2(f0[0],f0[1]));break;case f7d.j0:j=f0[2];k=f0[3];u=f0[0];v=f0[1];if(i.length>0){J=i[i.length-1];B=J.x;C=J.y;}else{J=this.actions[T-1].args;B=J[J.length-2];C=J[J.length-1];}for(var d0=1;d0<=d;d0++){var p0=d0/d;E=e(p0,B,u,j);Q=e(p0,C,v,k);i.push(new THREE.Vector2(E,Q));}break;case f7d.T0:j=f0[4];k=f0[5];u=f0[0];v=f0[1];m=f0[2];n=f0[3];if(i.length>0){J=i[i.length-1];B=J.x;C=J.y;}else{J=this.actions[T-1].args;B=J[J.length-2];C=J[J.length-1];}for(var d0=1;d0<=d;d0++){var p0=d0/d;E=f(p0,B,u,m,j);Q=f(p0,C,v,n,k);i.push(new THREE.Vector2(E,Q));}break;case 'splineThru':J=this.actions[T-1].args;var t0=new THREE.Vector2(J[J.length-2],J[J.length-1]),x0=[t0],w0=d*f0[0].length;x0=x0.concat(f0[0]);var s0=new THREE.SplineCurve(x0);for(var d0=1;d0<=w0;d0++){i.push(s0.getPointAt(d0/w0));}break;case 'arc':var z0=f0[0],y0=f0[1],B0=f0[2],K0=f0[3],i0=f0[4],X0=!!f0[5],V0=i0-K0,D0,N0=d*2;for(var d0=1;d0<=N0;d0++){var p0=d0/N0;if(!X0){p0=1-p0;}D0=K0+p0*V0;E=z0+B0*Math.cos(D0);Q=y0+B0*Math.sin(D0);i.push(new THREE.Vector2(E,Q));}break;case 'ellipse':var z0=f0[0],y0=f0[1],a1=f0[2],U0=f0[3],K0=f0[4],i0=f0[5],X0=!!f0[6],i1=f0[7],V0=i0-K0,D0,N0=d*2,E0,b1;if(i1!==0){E0=Math.cos(i1);b1=Math.sin(i1);}for(var d0=1;d0<=N0;d0++){var p0=d0/N0;if(!X0){p0=1-p0;}D0=K0+p0*V0;E=z0+a1*Math.cos(D0);Q=y0+U0*Math.sin(D0);if(i1!==0){var n1=E,p1=Q;E=(n1-z0)*E0-(p1-y0)*b1+z0;Q=(n1-z0)*b1+(p1-y0)*E0+y0;}i.push(new THREE.Vector2(E,Q));}break;}}var m1=i[i.length-1];if(Math.abs(m1.x-i[0].x)<Number.EPSILON&&Math.abs(m1.y-i[0].y)<Number.EPSILON)i.splice(i.length-1,1);if(this.autoClose){i.push(i[0]);}return i;};THREE.Path.prototype.toShapes=function(C,J){function E(d){var e=[],f=new THREE.Path();for(var i=0,j=d.length;i<j;i++){var k=d[i],m=k.args,n=k.action;if(n===f7d.W3){if(f.actions.length!==0){e.push(f);f=new THREE.Path();}}f[n].apply(f,m);}if(f.actions.length!==0){e.push(f);}return e;}function Q(d){var e=[];for(var f=0,i=d.length;f<i;f++){var j=d[f],k=new THREE.Shape();k.actions=j.actions;k.curves=j.curves;e.push(k);}return e;}function T(d,e){var f=e.length,i=f7d.a4;for(var j=f-1,k=0;k<f;j=k++){var m=e[j],n=e[k],u=n.x-m.x,v=n.y-m.y;if(Math.abs(v)>Number.EPSILON){if(v<0){m=e[k];u=-u;n=e[j];v=-v;}if((d.y<m.y)||(d.y>n.y))continue;if(d.y===m.y){if(d.x===m.x)return f7d.k3;}else{var B=v*(d.x-m.x)-u*(d.y-m.y);if(B===0)return f7d.k3;if(B<0)continue;i=!i;}}else{if(d.y!==m.y)continue;if(((n.x<=d.x)&&(d.x<=m.x))||((m.x<=d.x)&&(d.x<=n.x)))return f7d.k3;}}return i;}var N=THREE.ShapeUtils.isClockWise,b0=E(this.actions);if(b0.length===0)return [];if(J===f7d.k3)return Q(b0);var o0,f0,d0,p0=[];if(b0.length===1){f0=b0[0];d0=new THREE.Shape();d0.actions=f0.actions;d0.curves=f0.curves;p0.push(d0);return p0;}var t0=!N(b0[0].getPoints());t0=C?!t0:t0;var x0=[],w0=[],s0=[],z0=0,y0;w0[z0]=undefined;s0[z0]=[];for(var B0=0,K0=b0.length;B0<K0;B0++){f0=b0[B0];y0=f0.getPoints();o0=N(y0);o0=C?!o0:o0;if(o0){if((!t0)&&(w0[z0]))z0++;w0[z0]={s:new THREE.Shape(),p:y0};w0[z0].s.actions=f0.actions;w0[z0].s.curves=f0.curves;if(t0)z0++;s0[z0]=[];}else{s0[z0].push({h:f0,p:y0[0]});}}if(!w0[0])return Q(b0);if(w0.length>1){var i0=f7d.a4,X0=[];for(var V0=0,D0=w0.length;V0<D0;V0++){x0[V0]=[];}for(var V0=0,D0=w0.length;V0<D0;V0++){var N0=s0[V0];for(var a1=0;a1<N0.length;a1++){var U0=N0[a1],i1=f7d.k3;for(var E0=0;E0<w0.length;E0++){if(T(U0.p,w0[E0].p)){if(V0!==E0)X0.push({froms:V0,tos:E0,hole:a1});if(i1){i1=f7d.a4;x0[E0].push(U0);}else{i0=f7d.k3;}}}if(i1){x0[V0].push(U0);}}}if(X0.length>0){if(!i0)s0=x0;}}var b1;for(var B0=0,n1=w0.length;B0<n1;B0++){d0=w0[B0].s;p0.push(d0);b1=s0[B0];for(var p1=0,m1=b1.length;p1<m1;p1++){d0.holes.push(b1[p1].h);}}return p0;};THREE.Shape=function(){THREE.Path.apply(this,arguments);this.holes=[];};THREE.Shape.prototype=Object.create(THREE.Path.prototype);THREE.Shape.prototype.constructor=THREE.Shape;THREE.Shape.prototype.extrude=function(d){return new THREE.ExtrudeGeometry(this,d);};THREE.Shape.prototype.makeGeometry=function(d){return new THREE.ShapeGeometry(this,d);};THREE.Shape.prototype.getPointsHoles=function(d){var e=[];for(var f=0,i=this.holes.length;f<i;f++){e[f]=this.holes[f].getPoints(d);}return e;};THREE.Shape.prototype.extractAllPoints=function(d){return {shape:this.getPoints(d),holes:this.getPointsHoles(d)};};THREE.Shape.prototype.extractPoints=function(d){return this.extractAllPoints(d);};THREE.LineCurve=function(d,e){this.v1=d;this.v2=e;};THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.LineCurve.prototype.constructor=THREE.LineCurve;THREE.LineCurve.prototype.getPoint=function(d){var e=this.v2.clone().sub(this.v1);e.multiplyScalar(d).add(this.v1);return e;};THREE.LineCurve.prototype.getPointAt=function(d){return this.getPoint(d);};THREE.LineCurve.prototype.getTangent=function(d){var e=this.v2.clone().sub(this.v1);return e.normalize();};THREE.QuadraticBezierCurve=function(d,e,f){this.v0=d;this.v1=e;this.v2=f;};THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.QuadraticBezierCurve.prototype.constructor=THREE.QuadraticBezierCurve;THREE.QuadraticBezierCurve.prototype.getPoint=function(d){var e=THREE.ShapeUtils.b2;return new THREE.Vector2(e(d,this.v0.x,this.v1.x,this.v2.x),e(d,this.v0.y,this.v1.y,this.v2.y));};THREE.QuadraticBezierCurve.prototype.getTangent=function(d){var e=THREE.CurveUtils.tangentQuadraticBezier;return new THREE.Vector2(e(d,this.v0.x,this.v1.x,this.v2.x),e(d,this.v0.y,this.v1.y,this.v2.y)).normalize();};THREE.CubicBezierCurve=function(d,e,f,i){this.v0=d;this.v1=e;this.v2=f;this.v3=i;};THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.CubicBezierCurve.prototype.constructor=THREE.CubicBezierCurve;THREE.CubicBezierCurve.prototype.getPoint=function(d){var e=THREE.ShapeUtils.b3;return new THREE.Vector2(e(d,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(d,this.v0.y,this.v1.y,this.v2.y,this.v3.y));};THREE.CubicBezierCurve.prototype.getTangent=function(d){var e=THREE.CurveUtils.tangentCubicBezier;return new THREE.Vector2(e(d,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(d,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize();};THREE.SplineCurve=function(d){this.points=(d==undefined)?[]:d;};THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.SplineCurve.prototype.constructor=THREE.SplineCurve;THREE.SplineCurve.prototype.getPoint=function(d){var e=this.points,f=(e.length-1)*d,i=Math.floor(f),j=f-i,k=e[i===0?i:i-1],m=e[i],n=e[i>e.length-2?e.length-1:i+1],u=e[i>e.length-3?e.length-1:i+2],v=THREE.CurveUtils.interpolate;return new THREE.Vector2(v(k.x,m.x,n.x,u.x,j),v(k.y,m.y,n.y,u.y,j));};THREE.EllipseCurve=function(d,e,f,i,j,k,m,n){this.aX=d;this.aY=e;this.xRadius=f;this.yRadius=i;this.aStartAngle=j;this.aEndAngle=k;this.aClockwise=m;this.aRotation=n||0;};THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype);THREE.EllipseCurve.prototype.constructor=THREE.EllipseCurve;THREE.EllipseCurve.prototype.getPoint=function(d){var e=this.aEndAngle-this.aStartAngle;if(e<0)e+=Math.PI*2;if(e>Math.PI*2)e-=Math.PI*2;var f;if(this.aClockwise===f7d.k3){f=this.aEndAngle+(1-d)*(Math.PI*2-e);}else{f=this.aStartAngle+d*e;}var i=this.aX+this.xRadius*Math.cos(f),j=this.aY+this.yRadius*Math.sin(f);if(this.aRotation!==0){var k=Math.cos(this.aRotation),m=Math.sin(this.aRotation),n=i,u=j;i=(n-this.aX)*k-(u-this.aY)*m+this.aX;j=(n-this.aX)*m+(u-this.aY)*k+this.aY;}return new THREE.Vector2(i,j);};THREE.ArcCurve=function(d,e,f,i,j,k){THREE.EllipseCurve.call(this,d,e,f,f,i,j,k);};THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype);THREE.ArcCurve.prototype.constructor=THREE.ArcCurve;THREE.LineCurve3=THREE.Curve.create(function(d,e){this.v1=d;this.v2=e;},function(d){var e=new THREE.Vector3();e.subVectors(this.v2,this.v1);e.multiplyScalar(d);e.add(this.v1);return e;});THREE.QuadraticBezierCurve3=THREE.Curve.create(function(d,e,f){this.v0=d;this.v1=e;this.v2=f;},function(d){var e=THREE.ShapeUtils.b2;return new THREE.Vector3(e(d,this.v0.x,this.v1.x,this.v2.x),e(d,this.v0.y,this.v1.y,this.v2.y),e(d,this.v0.z,this.v1.z,this.v2.z));});THREE.CubicBezierCurve3=THREE.Curve.create(function(d,e,f,i){this.v0=d;this.v1=e;this.v2=f;this.v3=i;},function(d){var e=THREE.ShapeUtils.b3;return new THREE.Vector3(e(d,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(d,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e(d,this.v0.z,this.v1.z,this.v2.z,this.v3.z));});THREE.SplineCurve3=THREE.Curve.create(function(d){console.warn('THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3');this.points=(d==undefined)?[]:d;},function(d){var e=this.points,f=(e.length-1)*d,i=Math.floor(f),j=f-i,k=e[i==0?i:i-1],m=e[i],n=e[i>e.length-2?e.length-1:i+1],u=e[i>e.length-3?e.length-1:i+2],v=THREE.CurveUtils.interpolate;return new THREE.Vector3(v(k.x,m.x,n.x,u.x,j),v(k.y,m.y,n.y,u.y,j),v(k.z,m.z,n.z,u.z,j));});THREE.CatmullRomCurve3=(function(){var N=new THREE.Vector3(),b0=new d0(),o0=new d0(),f0=new d0();function d0(){}d0.prototype.init=function(d,e,f,i){this.c0=d;this.c1=f;this.c2=-3*d+3*e-2*f-i;this.c3=2*d-2*e+f+i;};d0.prototype.initNonuniformCatmullRom=function(d,e,f,i,j,k,m){var n=(e-d)/j-(f-d)/(j+k)+(f-e)/k,u=(f-e)/k-(i-e)/(k+m)+(i-f)/m;n*=k;u*=k;this.init(e,f,n,u);};d0.prototype.initCatmullRom=function(d,e,f,i,j){this.init(e,f,j*(f-d),j*(i-e));};d0.prototype.calc=function(d){var e=d*d,f=e*d;return this.c0+this.c1*d+this.c2*e+this.c3*f;};return THREE.Curve.create(function(d){this.points=d||[];this.closed=f7d.a4;},function(d){var e=this.points,f,i,j,k;k=e.length;if(k<2)console.log('duh, you need at least 2 points');f=(k-(this.closed?0:1))*d;i=Math.floor(f);j=f-i;if(this.closed){i+=i>0?0:(Math.floor(Math.abs(i)/e.length)+1)*e.length;}else if(j===0&&i===k-1){i=k-2;j=1;}var m,n,u,v;if(this.closed||i>0){m=e[(i-1)%k];}else{N.subVectors(e[0],e[1]).add(e[0]);m=N;}n=e[i%k];u=e[(i+1)%k];if(this.closed||i+2<k){v=e[(i+2)%k];}else{N.subVectors(e[k-1],e[k-2]).add(e[k-1]);v=N;}if(this.type===undefined||this.type==='centripetal'||this.type==='chordal'){var B=this.type==='chordal'?f7d.h1:f7d.h0,C=Math.pow(m.distanceToSquared(n),B),J=Math.pow(n.distanceToSquared(u),B),E=Math.pow(u.distanceToSquared(v),B);if(J<1e-4)J=f7d.Z3;if(C<1e-4)C=J;if(E<1e-4)E=J;b0.initNonuniformCatmullRom(m.x,n.x,u.x,v.x,C,J,E);o0.initNonuniformCatmullRom(m.y,n.y,u.y,v.y,C,J,E);f0.initNonuniformCatmullRom(m.z,n.z,u.z,v.z,C,J,E);}else if(this.type==='catmullrom'){var Q=this.tension!==undefined?this.tension:f7d.h1;b0.initCatmullRom(m.x,n.x,u.x,v.x,Q);o0.initCatmullRom(m.y,n.y,u.y,v.y,Q);f0.initCatmullRom(m.z,n.z,u.z,v.z,Q);}var T=new THREE.Vector3(b0.calc(j),o0.calc(j),f0.calc(j));return T;});})();THREE.ClosedSplineCurve3=function(d){console.warn('THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.');THREE.CatmullRomCurve3.call(this,d);this.type='catmullrom';this.closed=f7d.k3;};THREE.ClosedSplineCurve3.prototype=Object.create(THREE.CatmullRomCurve3.prototype);THREE.BoxGeometry=function(d,e,f,i,j,k){THREE.Geometry.call(this);this.type=f7d.C2;this.parameters={width:d,height:e,depth:f,widthSegments:i,heightSegments:j,depthSegments:k};this.fromBufferGeometry(new THREE.BoxBufferGeometry(d,e,f,i,j,k));this.mergeVertices();};THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.BoxGeometry.prototype.constructor=THREE.BoxGeometry;THREE.CubeGeometry=THREE.BoxGeometry;THREE.BoxBufferGeometry=function(K0,i0,X0,V0,D0,N0){THREE.BufferGeometry.call(this);this.type=f7d.o3;this.parameters={width:K0,height:i0,depth:X0,widthSegments:V0,heightSegments:D0,depthSegments:N0};var a1=this;V0=Math.floor(V0)||1;D0=Math.floor(D0)||1;N0=Math.floor(N0)||1;var U0=w1(V0,D0,N0),i1=(U0/4)*6,E0=new (i1>f7d.L3?Uint32Array:Uint16Array)(i1),b1=new Float32Array(U0*3),n1=new Float32Array(U0*3),p1=new Float32Array(U0*2),m1=0,t1=0,o1=0,q1=0,f1=0;u1('z','y','x',-1,-1,X0,i0,K0,N0,D0,0);u1('z','y','x',1,-1,X0,i0,-K0,N0,D0,1);u1('x','z','y',1,1,K0,X0,i0,V0,N0,2);u1('x','z','y',1,-1,K0,X0,-i0,V0,N0,3);u1('x','y','z',1,-1,K0,i0,X0,V0,D0,4);u1('x','y','z',-1,-1,K0,i0,-X0,V0,D0,5);this.setIndex(new THREE.BufferAttribute(E0,1));this.addAttribute(f7d.e1,new THREE.BufferAttribute(b1,3));this.addAttribute(f7d.N2,new THREE.BufferAttribute(n1,3));this.addAttribute(f7d.I3,new THREE.BufferAttribute(p1,2));function w1(d,e,f){var i=0;i+=d*e*2;i+=d*f*2;i+=f*e*2;return i*4;}function u1(d,e,f,i,j,k,m,n,u,v,B){var C=k/u,J=m/v,E=k/2,Q=m/2,T=n/2,N=u+1,b0=v+1,o0=0,f0=0,d0=new THREE.Vector3();for(var p0=0;p0<b0;p0++){var t0=p0*J-Q;for(var x0=0;x0<N;x0++){var w0=x0*C-E;d0[d]=w0*i;d0[e]=t0*j;d0[f]=T;b1[m1]=d0.x;b1[m1+1]=d0.y;b1[m1+2]=d0.z;d0[d]=0;d0[e]=0;d0[f]=n>0?1:-1;n1[m1]=d0.x;n1[m1+1]=d0.y;n1[m1+2]=d0.z;p1[t1]=x0/u;p1[t1+1]=1-(p0/v);m1+=3;t1+=2;o0+=1;}}for(p0=0;p0<v;p0++){for(x0=0;x0<u;x0++){var s0=q1+x0+N*p0,z0=q1+x0+N*(p0+1),y0=q1+(x0+1)+N*(p0+1),B0=q1+(x0+1)+N*p0;E0[o1]=s0;E0[o1+1]=z0;E0[o1+2]=B0;E0[o1+3]=z0;E0[o1+4]=y0;E0[o1+5]=B0;o1+=6;f0+=6;}}a1.addGroup(f1,f0,B);f1+=f0;q1+=o0;}};THREE.BoxBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.BoxBufferGeometry.prototype.constructor=THREE.BoxBufferGeometry;THREE.CircleGeometry=function(d,e,f,i){THREE.Geometry.call(this);this.type=f7d.I2;this.parameters={radius:d,segments:e,thetaStart:f,thetaLength:i};this.fromBufferGeometry(new THREE.CircleBufferGeometry(d,e,f,i));};THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CircleGeometry.prototype.constructor=THREE.CircleGeometry;THREE.CircleBufferGeometry=function(d,e,f,i){THREE.BufferGeometry.call(this);this.type=f7d.m0;this.parameters={radius:d,segments:e,thetaStart:f,thetaLength:i};d=d||50;e=e!==undefined?Math.max(3,e):8;f=f!==undefined?f:0;i=i!==undefined?i:Math.PI*2;var j=e+2,k=new Float32Array(j*3),m=new Float32Array(j*3),n=new Float32Array(j*2);m[2]=f7d.Z3;n[0]=f7d.h1;n[1]=f7d.h1;for(var u=0,v=3,B=2;u<=e;u++,v+=3,B+=2){var C=f+u/e*i;k[v]=d*Math.cos(C);k[v+1]=d*Math.sin(C);m[v+2]=1;n[B]=(k[v]/d+1)/2;n[B+1]=(k[v+1]/d+1)/2;}var J=[];for(var v=1;v<=e;v++){J.push(v,v+1,0);}this.setIndex(new THREE.BufferAttribute(new Uint16Array(J),1));this.addAttribute(f7d.e1,new THREE.BufferAttribute(k,3));this.addAttribute(f7d.N2,new THREE.BufferAttribute(m,3));this.addAttribute(f7d.I3,new THREE.BufferAttribute(n,2));this.boundingSphere=new THREE.Sphere(new THREE.Vector3(),d);};THREE.CircleBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.CircleBufferGeometry.prototype.constructor=THREE.CircleBufferGeometry;THREE.CylinderBufferGeometry=function(Q,T,N,b0,o0,f0,d0,p0){THREE.BufferGeometry.call(this);this.type=f7d.I0;this.parameters={radiusTop:Q,radiusBottom:T,height:N,radialSegments:b0,heightSegments:o0,openEnded:f0,thetaStart:d0,thetaLength:p0};var t0=this;Q=Q!==undefined?Q:20;T=T!==undefined?T:20;N=N!==undefined?N:f7d.d4;b0=Math.floor(b0)||8;o0=Math.floor(o0)||1;f0=f0!==undefined?f0:f7d.a4;d0=d0!==undefined?d0:0;p0=p0!==undefined?p0:2*Math.PI;var x0=N0(),w0=a1(),s0=new THREE.BufferAttribute(new (w0>f7d.L3?Uint32Array:Uint16Array)(w0),1),z0=new THREE.BufferAttribute(new Float32Array(x0*3),3),y0=new THREE.BufferAttribute(new Float32Array(x0*3),3),B0=new THREE.BufferAttribute(new Float32Array(x0*2),2),K0=0,i0=0,X0=[],V0=N/2,D0=0;U0();if(f0===f7d.a4){if(Q>0)i1(f7d.k3);if(T>0)i1(f7d.a4);}this.setIndex(s0);this.addAttribute(f7d.e1,z0);this.addAttribute(f7d.N2,y0);this.addAttribute(f7d.I3,B0);function N0(){var d=(b0+1)*(o0+1);if(f0===f7d.a4){d+=((b0+1)*2)+(b0*2);}return d;}function a1(){var d=b0*o0*2*3;if(f0===f7d.a4){d+=b0*2*3;}return d;}function U0(){var d,e,f=new THREE.Vector3(),i=new THREE.Vector3(),j=0,k=(T-Q)/N;for(e=0;e<=o0;e++){var m=[],n=e/o0,u=n*(T-Q)+Q;for(d=0;d<=b0;d++){var v=d/b0;i.x=u*Math.sin(v*p0+d0);i.y=-n*N+V0;i.z=u*Math.cos(v*p0+d0);z0.setXYZ(K0,i.x,i.y,i.z);f.copy(i);if((Q===0&&e===0)||(T===0&&e===o0)){f.x=Math.sin(v*p0+d0);f.z=Math.cos(v*p0+d0);}f.setY(Math.sqrt(f.x*f.x+f.z*f.z)*k).normalize();y0.setXYZ(K0,f.x,f.y,f.z);B0.setXY(K0,v,1-n);m.push(K0);K0++;}X0.push(m);}for(d=0;d<b0;d++){for(e=0;e<o0;e++){var B=X0[e][d],C=X0[e+1][d],J=X0[e+1][d+1],E=X0[e][d+1];s0.setX(i0,B);i0++;s0.setX(i0,C);i0++;s0.setX(i0,E);i0++;s0.setX(i0,C);i0++;s0.setX(i0,J);i0++;s0.setX(i0,E);i0++;j+=6;}}t0.addGroup(D0,j,0);D0+=j;}function i1(d){var e,f,i,j=new THREE.Vector2(),k=new THREE.Vector3(),m=0,n=(d===f7d.k3)?Q:T,u=(d===f7d.k3)?1:-1;f=K0;for(e=1;e<=b0;e++){z0.setXYZ(K0,0,V0*u,0);y0.setXYZ(K0,0,u,0);if(d===f7d.k3){j.x=e/b0;j.y=0;}else{j.x=(e-1)/b0;j.y=1;}B0.setXY(K0,j.x,j.y);K0++;}i=K0;for(e=0;e<=b0;e++){var v=e/b0;k.x=n*Math.sin(v*p0+d0);k.y=V0*u;k.z=n*Math.cos(v*p0+d0);z0.setXYZ(K0,k.x,k.y,k.z);y0.setXYZ(K0,0,u,0);B0.setXY(K0,v,(d===f7d.k3)?1:0);K0++;}for(e=0;e<b0;e++){var B=f+e,C=i+e;if(d===f7d.k3){s0.setX(i0,C);i0++;s0.setX(i0,C+1);i0++;s0.setX(i0,B);i0++;}else{s0.setX(i0,C+1);i0++;s0.setX(i0,C);i0++;s0.setX(i0,B);i0++;}m+=3;}t0.addGroup(D0,m,d===f7d.k3?1:2);D0+=m;}};THREE.CylinderBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.CylinderBufferGeometry.prototype.constructor=THREE.CylinderBufferGeometry;THREE.CylinderGeometry=function(d,e,f,i,j,k,m,n){THREE.Geometry.call(this);this.type=f7d.m3;this.parameters={radiusTop:d,radiusBottom:e,height:f,radialSegments:i,heightSegments:j,openEnded:k,thetaStart:m,thetaLength:n};this.fromBufferGeometry(new THREE.CylinderBufferGeometry(d,e,f,i,j,k,m,n));this.mergeVertices();};THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry;THREE.EdgesGeometry=function(f,i){THREE.BufferGeometry.call(this);i=(i!==undefined)?i:1;var j=Math.cos(THREE.Math.DEG2RAD*i),k=[0,0],m={};function n(d,e){return d-e;}var u=['a','b','c'],v;if(f instanceof THREE.BufferGeometry){v=new THREE.Geometry();v.fromBufferGeometry(f);}else{v=f.clone();}v.mergeVertices();v.computeFaceNormals();var B=v.vertices,C=v.faces;for(var J=0,E=C.length;J<E;J++){var Q=C[J];for(var T=0;T<3;T++){k[0]=Q[u[T]];k[1]=Q[u[(T+1)%3]];k.sort(n);var N=k.toString();if(m[N]===undefined){m[N]={vert1:k[0],vert2:k[1],face1:J,face2:undefined};}else{m[N].face2=J;}}}var b0=[];for(var N in m){var o0=m[N];if(o0.face2===undefined||C[o0.face1].normal.dot(C[o0.face2].normal)<=j){var f0=B[o0.vert1];b0.push(f0.x);b0.push(f0.y);b0.push(f0.z);f0=B[o0.vert2];b0.push(f0.x);b0.push(f0.y);b0.push(f0.z);}}this.addAttribute(f7d.e1,new THREE.BufferAttribute(new Float32Array(b0),3));};THREE.EdgesGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.EdgesGeometry.prototype.constructor=THREE.EdgesGeometry;THREE.ExtrudeGeometry=function(d,e){if(typeof (d)==="undefined"){d=[];return ;}THREE.Geometry.call(this);this.type='ExtrudeGeometry';d=Array.isArray(d)?d:[d];this.addShapeList(d,e);this.computeFaceNormals();};THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ExtrudeGeometry.prototype.constructor=THREE.ExtrudeGeometry;THREE.ExtrudeGeometry.prototype.addShapeList=function(d,e){var f=d.length;for(var i=0;i<f;i++){var j=d[i];this.addShape(j,e);}};THREE.ExtrudeGeometry.prototype.addShape=function(p0,t0){var x0=t0.amount!==undefined?t0.amount:f7d.d4,w0=t0.bevelThickness!==undefined?t0.bevelThickness:6,s0=t0.bevelSize!==undefined?t0.bevelSize:w0-2,z0=t0.bevelSegments!==undefined?t0.bevelSegments:3,y0=t0.bevelEnabled!==undefined?t0.bevelEnabled:f7d.k3,B0=t0.curveSegments!==undefined?t0.curveSegments:12,K0=t0.steps!==undefined?t0.steps:1,i0=t0.extrudePath,X0,V0=f7d.a4,D0=t0.UVGenerator!==undefined?t0.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator,N0,a1,U0,i1;if(i0){X0=i0.getSpacedPoints(K0);V0=f7d.k3;y0=f7d.a4;N0=t0.frames!==undefined?t0.frames:new THREE.TubeGeometry.FrenetFrames(i0,K0,f7d.a4);a1=new THREE.Vector3();U0=new THREE.Vector3();i1=new THREE.Vector3();}if(!y0){z0=0;w0=0;s0=0;}var E0,b1,n1,p1=this,m1=this.vertices.length,t1=p0.extractPoints(B0),o1=t1.shape,q1=t1.holes,f1=!THREE.ShapeUtils.isClockWise(o1);if(f1){o1=o1.reverse();for(b1=0,n1=q1.length;b1<n1;b1++){E0=q1[b1];if(THREE.ShapeUtils.isClockWise(E0)){q1[b1]=E0.reverse();}}f1=f7d.a4;}var w1=THREE.ShapeUtils.triangulateShape(o1,q1),u1=o1;for(b1=0,n1=q1.length;b1<n1;b1++){E0=q1[b1];o1=o1.concat(E0);}function x1(d,e,f){if(!e)console.error("THREE.ExtrudeGeometry: vec does not exist");return e.clone().multiplyScalar(f).add(d);}var Q1,y1,a2,p2,z1,n2=o1.length,Z1,j2=w1.length;function K2(d,e,f){var i,j,k=1,m=d.x-e.x,n=d.y-e.y,u=f.x-d.x,v=f.y-d.y,B=(m*m+n*n),C=(m*v-n*u);if(Math.abs(C)>Number.EPSILON){var J=Math.sqrt(B),E=Math.sqrt(u*u+v*v),Q=(e.x-n/J),T=(e.y+m/J),N=(f.x-v/E),b0=(f.y+u/E),o0=((N-Q)*v-(b0-T)*u)/(m*v-n*u);i=(Q+m*o0-d.x);j=(T+n*o0-d.y);var f0=(i*i+j*j);if(f0<=2){return new THREE.Vector2(i,j);}else{k=Math.sqrt(f0/2);}}else{var d0=f7d.a4;if(m>Number.EPSILON){if(u>Number.EPSILON){d0=f7d.k3;}}else{if(m<-Number.EPSILON){if(u<-Number.EPSILON){d0=f7d.k3;}}else{if(Math.sign(n)===Math.sign(v)){d0=f7d.k3;}}}if(d0){i=-n;j=m;k=Math.sqrt(B);}else{i=m;j=n;k=Math.sqrt(B/2);}}return new THREE.Vector2(i/k,j/k);}var x2=[];for(var d1=0,m2=u1.length,w2=m2-1,z2=d1+1;d1<m2;d1++,w2++,z2++){if(w2===m2)w2=0;if(z2===m2)z2=0;x2[d1]=K2(u1[d1],u1[w2],u1[z2]);}var i3=[],O2,y2=x2.concat();for(b1=0,n1=q1.length;b1<n1;b1++){E0=q1[b1];O2=[];for(d1=0,m2=E0.length,w2=m2-1,z2=d1+1;d1<m2;d1++,w2++,z2++){if(w2===m2)w2=0;if(z2===m2)z2=0;O2[d1]=K2(E0[d1],E0[w2],E0[z2]);}i3.push(O2);y2=y2.concat(O2);}for(Q1=0;Q1<z0;Q1++){a2=Q1/z0;p2=w0*(1-a2);y1=s0*(Math.sin(a2*Math.PI/2));for(d1=0,m2=u1.length;d1<m2;d1++){z1=x1(u1[d1],x2[d1],y1);P2(z1.x,z1.y,-p2);}for(b1=0,n1=q1.length;b1<n1;b1++){E0=q1[b1];O2=i3[b1];for(d1=0,m2=E0.length;d1<m2;d1++){z1=x1(E0[d1],O2[d1],y1);P2(z1.x,z1.y,-p2);}}}y1=s0;for(d1=0;d1<n2;d1++){z1=y0?x1(o1[d1],y2[d1],y1):o1[d1];if(!V0){P2(z1.x,z1.y,0);}else{U0.copy(N0.normals[0]).multiplyScalar(z1.x);a1.copy(N0.binormals[0]).multiplyScalar(z1.y);i1.copy(X0[0]).add(U0).add(a1);P2(i1.x,i1.y,i1.z);}}var W2;for(W2=1;W2<=K0;W2++){for(d1=0;d1<n2;d1++){z1=y0?x1(o1[d1],y2[d1],y1):o1[d1];if(!V0){P2(z1.x,z1.y,x0/K0*W2);}else{U0.copy(N0.normals[W2]).multiplyScalar(z1.x);a1.copy(N0.binormals[W2]).multiplyScalar(z1.y);i1.copy(X0[W2]).add(U0).add(a1);P2(i1.x,i1.y,i1.z);}}}for(Q1=z0-1;Q1>=0;Q1--){a2=Q1/z0;p2=w0*(1-a2);y1=s0*Math.sin(a2*Math.PI/2);for(d1=0,m2=u1.length;d1<m2;d1++){z1=x1(u1[d1],x2[d1],y1);P2(z1.x,z1.y,x0+p2);}for(b1=0,n1=q1.length;b1<n1;b1++){E0=q1[b1];O2=i3[b1];for(d1=0,m2=E0.length;d1<m2;d1++){z1=x1(E0[d1],O2[d1],y1);if(!V0){P2(z1.x,z1.y,x0+p2);}else{P2(z1.x,z1.y+X0[K0-1].y,X0[K0-1].x+p2);}}}}t3();j3();function t3(){if(y0){var d=0,e=n2*d;for(d1=0;d1<j2;d1++){Z1=w1[d1];s3(Z1[2]+e,Z1[1]+e,Z1[0]+e);}d=K0+z0*2;e=n2*d;for(d1=0;d1<j2;d1++){Z1=w1[d1];s3(Z1[0]+e,Z1[1]+e,Z1[2]+e);}}else{for(d1=0;d1<j2;d1++){Z1=w1[d1];s3(Z1[2],Z1[1],Z1[0]);}for(d1=0;d1<j2;d1++){Z1=w1[d1];s3(Z1[0]+n2*K0,Z1[1]+n2*K0,Z1[2]+n2*K0);}}}function j3(){var d=0;b4(u1,d);d+=u1.length;for(b1=0,n1=q1.length;b1<n1;b1++){E0=q1[b1];b4(E0,d);d+=E0.length;}}function b4(d,e){var f,i;d1=d.length;while(--d1>=0){f=d1;i=d1-1;if(i<0)i=d.length-1;var j=0,k=K0+z0*2;for(j=0;j<k;j++){var m=n2*j,n=n2*(j+1),u=e+f+m,v=e+i+m,B=e+i+n,C=e+f+n;B3(u,v,B,C,d,j,k,f,i);}}}function P2(d,e,f){p1.vertices.push(new THREE.Vector3(d,e,f));}function s3(d,e,f){d+=m1;e+=m1;f+=m1;p1.faces.push(new THREE.Face3(d,e,f,f7d.h3,f7d.h3,0));var i=D0.generateTopUV(p1,d,e,f);p1.faceVertexUvs[0].push(i);}function B3(d,e,f,i,j,k,m,n,u){d+=m1;e+=m1;f+=m1;i+=m1;p1.faces.push(new THREE.Face3(d,e,i,f7d.h3,f7d.h3,1));p1.faces.push(new THREE.Face3(e,f,i,f7d.h3,f7d.h3,1));var v=D0.generateSideWallUV(p1,d,e,f,i);p1.faceVertexUvs[0].push([v[0],v[1],v[3]]);p1.faceVertexUvs[0].push([v[1],v[2],v[3]]);}};THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(d,e,f,i){var j=d.vertices,k=j[e],m=j[f],n=j[i];return [new THREE.Vector2(k.x,k.y),new THREE.Vector2(m.x,m.y),new THREE.Vector2(n.x,n.y)];},generateSideWallUV:function(d,e,f,i,j){var k=d.vertices,m=k[e],n=k[f],u=k[i],v=k[j];if(Math.abs(m.y-n.y)<0.01){return [new THREE.Vector2(m.x,1-m.z),new THREE.Vector2(n.x,1-n.z),new THREE.Vector2(u.x,1-u.z),new THREE.Vector2(v.x,1-v.z)];}else{return [new THREE.Vector2(m.y,1-m.z),new THREE.Vector2(n.y,1-n.z),new THREE.Vector2(u.y,1-u.z),new THREE.Vector2(v.y,1-v.z)];}}};THREE.ShapeGeometry=function(d,e){THREE.Geometry.call(this);this.type='ShapeGeometry';if(Array.isArray(d)===f7d.a4)d=[d];this.addShapeList(d,e);this.computeFaceNormals();};THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ShapeGeometry.prototype.constructor=THREE.ShapeGeometry;THREE.ShapeGeometry.prototype.addShapeList=function(d,e){for(var f=0,i=d.length;f<i;f++){this.addShape(d[f],e);}return this;};THREE.ShapeGeometry.prototype.addShape=function(d,e){if(e===undefined)e={};var f=e.curveSegments!==undefined?e.curveSegments:12,i=e.material,j=e.UVGenerator===undefined?THREE.ExtrudeGeometry.WorldUVGenerator:e.UVGenerator,k,m,n,u=this.vertices.length,v=d.extractPoints(f),B=v.shape,C=v.holes,J=!THREE.ShapeUtils.isClockWise(B);if(J){B=B.reverse();for(k=0,m=C.length;k<m;k++){n=C[k];if(THREE.ShapeUtils.isClockWise(n)){C[k]=n.reverse();}}J=f7d.a4;}var E=THREE.ShapeUtils.triangulateShape(B,C);for(k=0,m=C.length;k<m;k++){n=C[k];B=B.concat(n);}var Q,T=B.length,N,b0=E.length;for(k=0;k<T;k++){Q=B[k];this.vertices.push(new THREE.Vector3(Q.x,Q.y,0));}for(k=0;k<b0;k++){N=E[k];var o0=N[0]+u,f0=N[1]+u,d0=N[2]+u;this.faces.push(new THREE.Face3(o0,f0,d0,f7d.h3,f7d.h3,i));this.faceVertexUvs[0].push(j.generateTopUV(this,o0,f0,d0));}};THREE.LatheBufferGeometry=function(d,e,f,i){THREE.BufferGeometry.call(this);this.type=f7d.M2;this.parameters={points:d,segments:e,phiStart:f,phiLength:i};e=Math.floor(e)||12;f=f||0;i=i||Math.PI*2;i=THREE.Math.clamp(i,0,Math.PI*2);var j=(e+1)*d.length,k=e*d.length*2*3,m=new THREE.BufferAttribute(new (k>f7d.L3?Uint32Array:Uint16Array)(k),1),n=new THREE.BufferAttribute(new Float32Array(j*3),3),u=new THREE.BufferAttribute(new Float32Array(j*2),2),v=0,B=0,C,J=f7d.Z3/(d.length-1),E=f7d.Z3/e,Q=new THREE.Vector3(),T=new THREE.Vector2(),N,b0;for(N=0;N<=e;N++){var o0=f+N*E*i,f0=Math.sin(o0),d0=Math.cos(o0);for(b0=0;b0<=(d.length-1);b0++){Q.x=d[b0].x*f0;Q.y=d[b0].y;Q.z=d[b0].x*d0;n.setXYZ(v,Q.x,Q.y,Q.z);T.x=N/e;T.y=b0/(d.length-1);u.setXY(v,T.x,T.y);v++;}}for(N=0;N<e;N++){for(b0=0;b0<(d.length-1);b0++){C=b0+N*d.length;var p0=C,t0=C+d.length,x0=C+d.length+1,w0=C+1;m.setX(B,p0);B++;m.setX(B,t0);B++;m.setX(B,w0);B++;m.setX(B,t0);B++;m.setX(B,x0);B++;m.setX(B,w0);B++;}}this.setIndex(m);this.addAttribute(f7d.e1,n);this.addAttribute(f7d.I3,u);this.computeVertexNormals();if(i===Math.PI*2){var s0=this.attributes.normal.array,z0=new THREE.Vector3(),y0=new THREE.Vector3(),B0=new THREE.Vector3();C=e*d.length*3;for(N=0,b0=0;N<d.length;N++,b0+=3){z0.x=s0[b0+0];z0.y=s0[b0+1];z0.z=s0[b0+2];y0.x=s0[C+b0+0];y0.y=s0[C+b0+1];y0.z=s0[C+b0+2];B0.addVectors(z0,y0).normalize();s0[b0+0]=s0[C+b0+0]=B0.x;s0[b0+1]=s0[C+b0+1]=B0.y;s0[b0+2]=s0[C+b0+2]=B0.z;}}};THREE.LatheBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.LatheBufferGeometry.prototype.constructor=THREE.LatheBufferGeometry;THREE.LatheGeometry=function(d,e,f,i){THREE.Geometry.call(this);this.type=f7d.I1;this.parameters={points:d,segments:e,phiStart:f,phiLength:i};this.fromBufferGeometry(new THREE.LatheBufferGeometry(d,e,f,i));this.mergeVertices();};THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.LatheGeometry.prototype.constructor=THREE.LatheGeometry;THREE.PlaneGeometry=function(d,e,f,i){THREE.Geometry.call(this);this.type=f7d.l4;this.parameters={width:d,height:e,widthSegments:f,heightSegments:i};this.fromBufferGeometry(new THREE.PlaneBufferGeometry(d,e,f,i));};THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry;THREE.PlaneBufferGeometry=function(d,e,f,i){THREE.BufferGeometry.call(this);this.type=f7d.Z0;this.parameters={width:d,height:e,widthSegments:f,heightSegments:i};var j=d/2,k=e/2,m=Math.floor(f)||1,n=Math.floor(i)||1,u=m+1,v=n+1,B=d/m,C=e/n,J=new Float32Array(u*v*3),E=new Float32Array(u*v*3),Q=new Float32Array(u*v*2),T=0,N=0;for(var b0=0;b0<v;b0++){var o0=b0*C-k;for(var f0=0;f0<u;f0++){var d0=f0*B-j;J[T]=d0;J[T+1]=-o0;E[T+2]=1;Q[N]=f0/m;Q[N+1]=1-(b0/n);T+=3;N+=2;}}T=0;var p0=new ((J.length/3)>f7d.L3?Uint32Array:Uint16Array)(m*n*6);for(var b0=0;b0<n;b0++){for(var f0=0;f0<m;f0++){var t0=f0+u*b0,x0=f0+u*(b0+1),w0=(f0+1)+u*(b0+1),s0=(f0+1)+u*b0;p0[T]=t0;p0[T+1]=x0;p0[T+2]=s0;p0[T+3]=x0;p0[T+4]=w0;p0[T+5]=s0;T+=6;}}this.setIndex(new THREE.BufferAttribute(p0,1));this.addAttribute(f7d.e1,new THREE.BufferAttribute(J,3));this.addAttribute(f7d.N2,new THREE.BufferAttribute(E,3));this.addAttribute(f7d.I3,new THREE.BufferAttribute(Q,2));};THREE.PlaneBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.PlaneBufferGeometry.prototype.constructor=THREE.PlaneBufferGeometry;THREE.RingBufferGeometry=function(d,e,f,i,j,k){THREE.BufferGeometry.call(this);this.type=f7d.G2;this.parameters={innerRadius:d,outerRadius:e,thetaSegments:f,phiSegments:i,thetaStart:j,thetaLength:k};d=d||20;e=e||50;j=j!==undefined?j:0;k=k!==undefined?k:Math.PI*2;f=f!==undefined?Math.max(3,f):8;i=i!==undefined?Math.max(1,i):1;var m=(f+1)*(i+1),n=f*i*2*3,u=new THREE.BufferAttribute(new (n>f7d.L3?Uint32Array:Uint16Array)(n),1),v=new THREE.BufferAttribute(new Float32Array(m*3),3),B=new THREE.BufferAttribute(new Float32Array(m*3),3),C=new THREE.BufferAttribute(new Float32Array(m*2),2),J=0,E=0,Q,T=d,N=((e-d)/i),b0=new THREE.Vector3(),o0=new THREE.Vector2(),f0,d0;for(f0=0;f0<=i;f0++){for(d0=0;d0<=f;d0++){Q=j+d0/f*k;b0.x=T*Math.cos(Q);b0.y=T*Math.sin(Q);v.setXYZ(J,b0.x,b0.y,b0.z);B.setXYZ(J,0,0,1);o0.x=(b0.x/e+1)/2;o0.y=(b0.y/e+1)/2;C.setXY(J,o0.x,o0.y);J++;}T+=N;}for(f0=0;f0<i;f0++){var p0=f0*(f+1);for(d0=0;d0<f;d0++){Q=d0+p0;var t0=Q,x0=Q+f+1,w0=Q+f+2,s0=Q+1;u.setX(E,t0);E++;u.setX(E,x0);E++;u.setX(E,w0);E++;u.setX(E,t0);E++;u.setX(E,w0);E++;u.setX(E,s0);E++;}}this.setIndex(u);this.addAttribute(f7d.e1,v);this.addAttribute(f7d.N2,B);this.addAttribute(f7d.I3,C);};THREE.RingBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.RingBufferGeometry.prototype.constructor=THREE.RingBufferGeometry;THREE.RingGeometry=function(d,e,f,i,j,k){THREE.Geometry.call(this);this.type=f7d.R3;this.parameters={innerRadius:d,outerRadius:e,thetaSegments:f,phiSegments:i,thetaStart:j,thetaLength:k};this.fromBufferGeometry(new THREE.RingBufferGeometry(d,e,f,i,j,k));};THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.RingGeometry.prototype.constructor=THREE.RingGeometry;THREE.SphereGeometry=function(d,e,f,i,j,k,m){THREE.Geometry.call(this);this.type=f7d.J2;this.parameters={radius:d,widthSegments:e,heightSegments:f,phiStart:i,phiLength:j,thetaStart:k,thetaLength:m};this.fromBufferGeometry(new THREE.SphereBufferGeometry(d,e,f,i,j,k,m));};THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry;THREE.SphereBufferGeometry=function(d,e,f,i,j,k,m){THREE.BufferGeometry.call(this);this.type=f7d.Q3;this.parameters={radius:d,widthSegments:e,heightSegments:f,phiStart:i,phiLength:j,thetaStart:k,thetaLength:m};d=d||50;e=Math.max(3,Math.floor(e)||8);f=Math.max(2,Math.floor(f)||6);i=i!==undefined?i:0;j=j!==undefined?j:Math.PI*2;k=k!==undefined?k:0;m=m!==undefined?m:Math.PI;var n=k+m,u=((e+1)*(f+1)),v=new THREE.BufferAttribute(new Float32Array(u*3),3),B=new THREE.BufferAttribute(new Float32Array(u*3),3),C=new THREE.BufferAttribute(new Float32Array(u*2),2),J=0,E=[],Q=new THREE.Vector3();for(var T=0;T<=f;T++){var N=[],b0=T/f;for(var o0=0;o0<=e;o0++){var f0=o0/e,d0=-d*Math.cos(i+f0*j)*Math.sin(k+b0*m),p0=d*Math.cos(k+b0*m),t0=d*Math.sin(i+f0*j)*Math.sin(k+b0*m);Q.set(d0,p0,t0).normalize();v.setXYZ(J,d0,p0,t0);B.setXYZ(J,Q.x,Q.y,Q.z);C.setXY(J,f0,1-b0);N.push(J);J++;}E.push(N);}var x0=[];for(var T=0;T<f;T++){for(var o0=0;o0<e;o0++){var w0=E[T][o0+1],s0=E[T][o0],z0=E[T+1][o0],y0=E[T+1][o0+1];if(T!==0||k>0)x0.push(w0,s0,y0);if(T!==f-1||n<Math.PI)x0.push(s0,z0,y0);}}this.setIndex(new (v.count>f7d.L3?THREE.Uint32Attribute:THREE.Uint16Attribute)(x0,1));this.addAttribute(f7d.e1,v);this.addAttribute(f7d.N2,B);this.addAttribute(f7d.I3,C);this.boundingSphere=new THREE.Sphere(new THREE.Vector3(),d);};THREE.SphereBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.SphereBufferGeometry.prototype.constructor=THREE.SphereBufferGeometry;THREE.TextGeometry=function(d,e){e=e||{};var f=e.font;if(f instanceof THREE.Font===f7d.a4){console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.');return new THREE.Geometry();}var i=f.generateShapes(d,e.size,e.curveSegments);e.amount=e.height!==undefined?e.height:50;if(e.bevelThickness===undefined)e.bevelThickness=10;if(e.bevelSize===undefined)e.bevelSize=8;if(e.bevelEnabled===undefined)e.bevelEnabled=f7d.a4;THREE.ExtrudeGeometry.call(this,i,e);this.type='TextGeometry';};THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype);THREE.TextGeometry.prototype.constructor=THREE.TextGeometry;THREE.TorusBufferGeometry=function(d,e,f,i,j){THREE.BufferGeometry.call(this);this.type=f7d.a0;this.parameters={radius:d,tube:e,radialSegments:f,tubularSegments:i,arc:j};d=d||f7d.d4;e=e||40;f=Math.floor(f)||8;i=Math.floor(i)||6;j=j||Math.PI*2;var k=((f+1)*(i+1)),m=f*i*2*3,n=new (m>f7d.L3?Uint32Array:Uint16Array)(m),u=new Float32Array(k*3),v=new Float32Array(k*3),B=new Float32Array(k*2),C=0,J=0,E=0,Q=new THREE.Vector3(),T=new THREE.Vector3(),N=new THREE.Vector3(),b0,o0;for(b0=0;b0<=f;b0++){for(o0=0;o0<=i;o0++){var f0=o0/i*j,d0=b0/f*Math.PI*2;T.x=(d+e*Math.cos(d0))*Math.cos(f0);T.y=(d+e*Math.cos(d0))*Math.sin(f0);T.z=e*Math.sin(d0);u[C]=T.x;u[C+1]=T.y;u[C+2]=T.z;Q.x=d*Math.cos(f0);Q.y=d*Math.sin(f0);N.subVectors(T,Q).normalize();v[C]=N.x;v[C+1]=N.y;v[C+2]=N.z;B[J]=o0/i;B[J+1]=b0/f;C+=3;J+=2;}}for(b0=1;b0<=f;b0++){for(o0=1;o0<=i;o0++){var p0=(i+1)*b0+o0-1,t0=(i+1)*(b0-1)+o0-1,x0=(i+1)*(b0-1)+o0,w0=(i+1)*b0+o0;n[E]=p0;n[E+1]=t0;n[E+2]=w0;n[E+3]=t0;n[E+4]=x0;n[E+5]=w0;E+=6;}}this.setIndex(new THREE.BufferAttribute(n,1));this.addAttribute(f7d.e1,new THREE.BufferAttribute(u,3));this.addAttribute(f7d.N2,new THREE.BufferAttribute(v,3));this.addAttribute(f7d.I3,new THREE.BufferAttribute(B,2));};THREE.TorusBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.TorusBufferGeometry.prototype.constructor=THREE.TorusBufferGeometry;THREE.TorusGeometry=function(d,e,f,i,j){THREE.Geometry.call(this);this.type=f7d.j4;this.parameters={radius:d,tube:e,radialSegments:f,tubularSegments:i,arc:j};this.fromBufferGeometry(new THREE.TorusBufferGeometry(d,e,f,i,j));};THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusGeometry.prototype.constructor=THREE.TorusGeometry;THREE.TorusKnotBufferGeometry=function(v,B,C,J,E,Q){THREE.BufferGeometry.call(this);this.type=f7d.k1;this.parameters={radius:v,tube:B,tubularSegments:C,radialSegments:J,p:E,q:Q};v=v||f7d.d4;B=B||40;C=Math.floor(C)||64;J=Math.floor(J)||8;E=E||2;Q=Q||3;var T=((J+1)*(C+1)),N=J*C*2*3,b0=new THREE.BufferAttribute(new (N>f7d.L3?Uint32Array:Uint16Array)(N),1),o0=new THREE.BufferAttribute(new Float32Array(T*3),3),f0=new THREE.BufferAttribute(new Float32Array(T*3),3),d0=new THREE.BufferAttribute(new Float32Array(T*2),2),p0,t0,x0=0,w0=0,s0=new THREE.Vector3(),z0=new THREE.Vector3(),y0=new THREE.Vector2(),B0=new THREE.Vector3(),K0=new THREE.Vector3(),i0=new THREE.Vector3(),X0=new THREE.Vector3(),V0=new THREE.Vector3();for(p0=0;p0<=C;++p0){var D0=p0/C*E*Math.PI*2;p1(D0,E,Q,v,B0);p1(D0+0.01,E,Q,v,K0);X0.subVectors(K0,B0);V0.addVectors(K0,B0);i0.crossVectors(X0,V0);V0.crossVectors(i0,X0);i0.normalize();V0.normalize();for(t0=0;t0<=J;++t0){var N0=t0/J*Math.PI*2,a1=-B*Math.cos(N0),U0=B*Math.sin(N0);s0.x=B0.x+(a1*V0.x+U0*i0.x);s0.y=B0.y+(a1*V0.y+U0*i0.y);s0.z=B0.z+(a1*V0.z+U0*i0.z);o0.setXYZ(x0,s0.x,s0.y,s0.z);z0.subVectors(s0,B0).normalize();f0.setXYZ(x0,z0.x,z0.y,z0.z);y0.x=p0/C;y0.y=t0/J;d0.setXY(x0,y0.x,y0.y);x0++;}}for(t0=1;t0<=C;t0++){for(p0=1;p0<=J;p0++){var i1=(J+1)*(t0-1)+(p0-1),E0=(J+1)*t0+(p0-1),b1=(J+1)*t0+p0,n1=(J+1)*(t0-1)+p0;b0.setX(w0,i1);w0++;b0.setX(w0,E0);w0++;b0.setX(w0,n1);w0++;b0.setX(w0,E0);w0++;b0.setX(w0,b1);w0++;b0.setX(w0,n1);w0++;}}this.setIndex(b0);this.addAttribute(f7d.e1,o0);this.addAttribute(f7d.N2,f0);this.addAttribute(f7d.I3,d0);function p1(d,e,f,i,j){var k=Math.cos(d),m=Math.sin(d),n=f/e*d,u=Math.cos(n);j.x=i*(2+u)*f7d.h1*k;j.y=i*(2+u)*m*f7d.h1;j.z=i*Math.sin(n)*f7d.h1;}};THREE.TorusKnotBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.TorusKnotBufferGeometry.prototype.constructor=THREE.TorusKnotBufferGeometry;THREE.TorusKnotGeometry=function(d,e,f,i,j,k,m){THREE.Geometry.call(this);this.type=f7d.E3;this.parameters={radius:d,tube:e,tubularSegments:f,radialSegments:i,p:j,q:k};if(m!==undefined)console.warn('THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.');this.fromBufferGeometry(new THREE.TorusKnotBufferGeometry(d,e,f,i,j,k));this.mergeVertices();};THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusKnotGeometry.prototype.constructor=THREE.TorusKnotGeometry;THREE.TubeGeometry=function(i,j,k,m,n,u){THREE.Geometry.call(this);this.type='TubeGeometry';this.parameters={path:i,segments:j,radius:k,radialSegments:m,closed:n,taper:u};j=j||64;k=k||1;m=m||8;n=n||f7d.a4;u=u||THREE.TubeGeometry.NoTaper;var v=[],B=this,C,J,E,Q=j+1,T,N,b0,o0,f0,d0,p0=new THREE.Vector3(),t0,x0,w0,s0,z0,y0,B0,K0,i0,X0,V0,D0,N0=new THREE.TubeGeometry.FrenetFrames(i,j,n),a1=N0.tangents,U0=N0.normals,i1=N0.binormals;this.tangents=a1;this.normals=U0;this.binormals=i1;function E0(d,e,f){return B.vertices.push(new THREE.Vector3(d,e,f))-1;}for(t0=0;t0<Q;t0++){v[t0]=[];T=t0/(Q-1);d0=i.getPointAt(T);C=a1[t0];J=U0[t0];E=i1[t0];b0=k*u(T);for(x0=0;x0<m;x0++){N=x0/m*2*Math.PI;o0=-b0*Math.cos(N);f0=b0*Math.sin(N);p0.copy(d0);p0.x+=o0*J.x+f0*E.x;p0.y+=o0*J.y+f0*E.y;p0.z+=o0*J.z+f0*E.z;v[t0][x0]=E0(p0.x,p0.y,p0.z);}}for(t0=0;t0<j;t0++){for(x0=0;x0<m;x0++){w0=(n)?(t0+1)%j:t0+1;s0=(x0+1)%m;z0=v[t0][x0];y0=v[w0][x0];B0=v[w0][s0];K0=v[t0][s0];i0=new THREE.Vector2(t0/j,x0/m);X0=new THREE.Vector2((t0+1)/j,x0/m);V0=new THREE.Vector2((t0+1)/j,(x0+1)/m);D0=new THREE.Vector2(t0/j,(x0+1)/m);this.faces.push(new THREE.Face3(z0,y0,K0));this.faceVertexUvs[0].push([i0,X0,D0]);this.faces.push(new THREE.Face3(y0,B0,K0));this.faceVertexUvs[0].push([X0.clone(),V0,D0.clone()]);}}this.computeFaceNormals();this.computeVertexNormals();};THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TubeGeometry.prototype.constructor=THREE.TubeGeometry;THREE.TubeGeometry.NoTaper=function(d){return 1;};THREE.TubeGeometry.SinusoidalTaper=function(d){return Math.sin(Math.PI*d);};THREE.TubeGeometry.FrenetFrames=function(d,e,f){var i=new THREE.Vector3(),j=[],k=[],m=[],n=new THREE.Vector3(),u=new THREE.Matrix4(),v=e+1,B,C,J,E,Q,T,N;this.tangents=j;this.normals=k;this.binormals=m;for(T=0;T<v;T++){N=T/(v-1);j[T]=d.getTangentAt(N);j[T].normalize();}b0();function b0(){k[0]=new THREE.Vector3();m[0]=new THREE.Vector3();C=Number.MAX_VALUE;J=Math.abs(j[0].x);E=Math.abs(j[0].y);Q=Math.abs(j[0].z);if(J<=C){C=J;i.set(1,0,0);}if(E<=C){C=E;i.set(0,1,0);}if(Q<=C){i.set(0,0,1);}n.crossVectors(j[0],i).normalize();k[0].crossVectors(j[0],n);m[0].crossVectors(j[0],k[0]);}for(T=1;T<v;T++){k[T]=k[T-1].clone();m[T]=m[T-1].clone();n.crossVectors(j[T-1],j[T]);if(n.length()>Number.EPSILON){n.normalize();B=Math.acos(THREE.Math.clamp(j[T-1].dot(j[T]),-1,1));k[T].applyMatrix4(u.makeRotationAxis(n,B));}m[T].crossVectors(j[T],k[T]);}if(f){B=Math.acos(THREE.Math.clamp(k[0].dot(k[v-1]),-1,1));B/=(v-1);if(j[0].dot(n.crossVectors(k[0],k[v-1]))>0){B=-B;}for(T=1;T<v;T++){k[T].applyMatrix4(u.makeRotationAxis(j[T],B*T));m[T].crossVectors(j[T],k[T]);}}};THREE.PolyhedronGeometry=function(Q,T,N,b0){THREE.Geometry.call(this);this.type='PolyhedronGeometry';this.parameters={vertices:Q,indices:T,radius:N,detail:b0};N=N||1;b0=b0||0;var o0=this;for(var f0=0,d0=Q.length;f0<d0;f0+=3){N0(new THREE.Vector3(Q[f0],Q[f0+1],Q[f0+2]));}var p0=this.vertices,t0=[];for(var f0=0,x0=0,d0=T.length;f0<d0;f0+=3,x0++){var w0=p0[T[f0]],s0=p0[T[f0+1]],z0=p0[T[f0+2]];t0[x0]=new THREE.Face3(w0.index,s0.index,z0.index,[w0.clone(),s0.clone(),z0.clone()],undefined,x0);}var y0=new THREE.Vector3();for(var f0=0,d0=t0.length;f0<d0;f0++){U0(t0[f0],b0);}for(var f0=0,d0=this.faceVertexUvs[0].length;f0<d0;f0++){var B0=this.faceVertexUvs[0][f0],K0=B0[0].x,i0=B0[1].x,X0=B0[2].x,V0=Math.max(K0,i0,X0),D0=Math.min(K0,i0,X0);if(V0>0.9&&D0<0.1){if(K0<0.2)B0[0].x+=1;if(i0<0.2)B0[1].x+=1;if(X0<0.2)B0[2].x+=1;}}for(var f0=0,d0=this.vertices.length;f0<d0;f0++){this.vertices[f0].multiplyScalar(N);}this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3(),N);function N0(d){var e=d.normalize().clone();e.index=o0.vertices.push(e)-1;var f=i1(d)/2/Math.PI+f7d.h1,i=E0(d)/Math.PI+f7d.h1;e.uv=new THREE.Vector2(f,1-i);return e;}function a1(d,e,f,i){var j=new THREE.Face3(d.index,e.index,f.index,[d.clone(),e.clone(),f.clone()],undefined,i);o0.faces.push(j);y0.copy(d).add(e).add(f).divideScalar(3);var k=i1(y0);o0.faceVertexUvs[0].push([b1(d.uv,d,k),b1(e.uv,e,k),b1(f.uv,f,k)]);}function U0(d,e){var f=Math.pow(2,e),i=N0(o0.vertices[d.a]),j=N0(o0.vertices[d.b]),k=N0(o0.vertices[d.c]),m=[],n=d.materialIndex;for(var u=0;u<=f;u++){m[u]=[];var v=N0(i.clone().lerp(k,u/f)),B=N0(j.clone().lerp(k,u/f)),C=f-u;for(var J=0;J<=C;J++){if(J===0&&u===f){m[u][J]=v;}else{m[u][J]=N0(v.clone().lerp(B,J/C));}}}for(var u=0;u<f;u++){for(var J=0;J<2*(f-u)-1;J++){var E=Math.floor(J/2);if(J%2===0){a1(m[u][E+1],m[u+1][E],m[u][E],n);}else{a1(m[u][E+1],m[u+1][E+1],m[u+1][E],n);}}}}function i1(d){return Math.atan2(d.z,-d.x);}function E0(d){return Math.atan2(-d.y,Math.sqrt((d.x*d.x)+(d.z*d.z)));}function b1(d,e,f){if((f<0)&&(d.x===1))d=new THREE.Vector2(d.x-1,d.y);if((e.x===0)&&(e.z===0))d=new THREE.Vector2(f/2/Math.PI+f7d.h1,d.y);return d.clone();}};THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PolyhedronGeometry.prototype.constructor=THREE.PolyhedronGeometry;THREE.DodecahedronGeometry=function(d,e){var f=(1+Math.sqrt(5))/2,i=1/f,j=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-f,0,-i,f,0,i,-f,0,i,f,-i,-f,0,-i,f,0,i,-f,0,i,f,0,-f,0,-i,f,0,-i,-f,0,i,f,0,i],k=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];THREE.PolyhedronGeometry.call(this,j,k,d,e);this.type=f7d.n0;this.parameters={radius:d,detail:e};};THREE.DodecahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.DodecahedronGeometry.prototype.constructor=THREE.DodecahedronGeometry;THREE.IcosahedronGeometry=function(d,e){var f=(1+Math.sqrt(5))/2,i=[-1,f,0,1,f,0,-1,-f,0,1,-f,0,0,-1,f,0,1,f,0,-1,-f,0,1,-f,f,0,-1,f,0,1,-f,0,-1,-f,0,1],j=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];THREE.PolyhedronGeometry.call(this,i,j,d,e);this.type=f7d.G;this.parameters={radius:d,detail:e};};THREE.IcosahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry;THREE.OctahedronGeometry=function(d,e){var f=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];THREE.PolyhedronGeometry.call(this,f,i,d,e);this.type=f7d.f2;this.parameters={radius:d,detail:e};};THREE.OctahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.OctahedronGeometry.prototype.constructor=THREE.OctahedronGeometry;THREE.TetrahedronGeometry=function(d,e){var f=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];THREE.PolyhedronGeometry.call(this,f,i,d,e);this.type=f7d.A1;this.parameters={radius:d,detail:e};};THREE.TetrahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.TetrahedronGeometry.prototype.constructor=THREE.TetrahedronGeometry;THREE.ParametricGeometry=function(d,e,f){THREE.Geometry.call(this);this.type='ParametricGeometry';this.parameters={func:d,slices:e,stacks:f};var i=this.vertices,j=this.faces,k=this.faceVertexUvs[0],m,n,u,v,B,C=e+1;for(m=0;m<=f;m++){B=m/f;for(n=0;n<=e;n++){v=n/e;u=d(v,B);i.push(u);}}var J,E,Q,T,N,b0,o0,f0;for(m=0;m<f;m++){for(n=0;n<e;n++){J=m*C+n;E=m*C+n+1;Q=(m+1)*C+n+1;T=(m+1)*C+n;N=new THREE.Vector2(n/e,m/f);b0=new THREE.Vector2((n+1)/e,m/f);o0=new THREE.Vector2((n+1)/e,(m+1)/f);f0=new THREE.Vector2(n/e,(m+1)/f);j.push(new THREE.Face3(J,E,T));k.push([N,b0,f0]);j.push(new THREE.Face3(E,Q,T));k.push([b0.clone(),o0,f0.clone()]);}}this.computeFaceNormals();this.computeVertexNormals();};THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ParametricGeometry.prototype.constructor=THREE.ParametricGeometry;THREE.WireframeGeometry=function(f){THREE.BufferGeometry.call(this);var i=[0,0],j={};function k(d,e){return d-e;}var m=['a','b','c'];if(f instanceof THREE.Geometry){var n=f.vertices,u=f.faces,v=0,B=new Uint32Array(6*u.length);for(var C=0,J=u.length;C<J;C++){var E=u[C];for(var Q=0;Q<3;Q++){i[0]=E[m[Q]];i[1]=E[m[(Q+1)%3]];i.sort(k);var T=i.toString();if(j[T]===undefined){B[2*v]=i[0];B[2*v+1]=i[1];j[T]=f7d.k3;v++;}}}var N=new Float32Array(v*2*3);for(var C=0,J=v;C<J;C++){for(var Q=0;Q<2;Q++){var b0=n[B[2*C+Q]],o0=6*C+3*Q;N[o0+0]=b0.x;N[o0+1]=b0.y;N[o0+2]=b0.z;}}this.addAttribute(f7d.e1,new THREE.BufferAttribute(N,3));}else if(f instanceof THREE.BufferGeometry){if(f.index!==f7d.h3){var f0=f.index.array,n=f.attributes.position,d0=f.groups,v=0;if(d0.length===0){f.addGroup(0,f0.length);}var B=new Uint32Array(2*f0.length);for(var p0=0,t0=d0.length;p0<t0;++p0){var x0=d0[p0],w0=x0.start,s0=x0.count;for(var C=w0,z0=w0+s0;C<z0;C+=3){for(var Q=0;Q<3;Q++){i[0]=f0[C+Q];i[1]=f0[C+(Q+1)%3];i.sort(k);var T=i.toString();if(j[T]===undefined){B[2*v]=i[0];B[2*v+1]=i[1];j[T]=f7d.k3;v++;}}}}var N=new Float32Array(v*2*3);for(var C=0,J=v;C<J;C++){for(var Q=0;Q<2;Q++){var o0=6*C+3*Q,y0=B[2*C+Q];N[o0+0]=n.getX(y0);N[o0+1]=n.getY(y0);N[o0+2]=n.getZ(y0);}}this.addAttribute(f7d.e1,new THREE.BufferAttribute(N,3));}else{var n=f.attributes.position.array,v=n.length/3,B0=v/3,N=new Float32Array(v*2*3);for(var C=0,J=B0;C<J;C++){for(var Q=0;Q<3;Q++){var o0=18*C+6*Q,K0=9*C+3*Q;N[o0+0]=n[K0];N[o0+1]=n[K0+1];N[o0+2]=n[K0+2];var y0=9*C+3*((Q+1)%3);N[o0+3]=n[y0];N[o0+4]=n[y0+1];N[o0+5]=n[y0+2];}}this.addAttribute(f7d.e1,new THREE.BufferAttribute(N,3));}}};THREE.WireframeGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.WireframeGeometry.prototype.constructor=THREE.WireframeGeometry;THREE.AxisHelper=function(d){d=d||1;var e=new Float32Array([0,0,0,d,0,0,0,0,0,0,d,0,0,0,0,0,0,d]),f=new Float32Array([1,0,0,1,0.6,0,0,1,0,0.6,1,0,0,0,1,0,0.6,1]),i=new THREE.BufferGeometry();i.addAttribute(f7d.e1,new THREE.BufferAttribute(e,3));i.addAttribute(f7d.V1,new THREE.BufferAttribute(f,3));var j=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.LineSegments.call(this,i,j);};THREE.AxisHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.AxisHelper.prototype.constructor=THREE.AxisHelper;THREE.ArrowHelper=(function(){var m=new THREE.Geometry();m.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,1,0));var n=new THREE.CylinderGeometry(0,f7d.h1,1,5,1);n.translate(0,-f7d.h1,0);return function u(d,e,f,i,j,k){THREE.Object3D.call(this);if(i===undefined)i=0xffff00;if(f===undefined)f=1;if(j===undefined)j=0.2*f;if(k===undefined)k=0.2*j;this.position.copy(e);this.line=new THREE.Line(m,new THREE.LineBasicMaterial({color:i}));this.line.matrixAutoUpdate=f7d.a4;this.add(this.line);this.cone=new THREE.Mesh(n,new THREE.MeshBasicMaterial({color:i}));this.cone.matrixAutoUpdate=f7d.a4;this.add(this.cone);this.setDirection(d);this.setLength(f,j,k);};}());THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.ArrowHelper.prototype.constructor=THREE.ArrowHelper;THREE.ArrowHelper.prototype.setDirection=(function(){var e=new THREE.Vector3(),f;return function i(d){if(d.y>f7d.T1){this.quaternion.set(0,0,0,1);}else if(d.y<-f7d.T1){this.quaternion.set(1,0,0,0);}else{e.set(d.z,0,-d.x).normalize();f=Math.acos(d.y);this.quaternion.setFromAxisAngle(e,f);}};}());THREE.ArrowHelper.prototype.setLength=function(d,e,f){if(e===undefined)e=0.2*d;if(f===undefined)f=0.2*e;this.line.scale.set(1,Math.max(0,d-e),1);this.line.updateMatrix();this.cone.scale.set(f,e,f);this.cone.position.y=d;this.cone.updateMatrix();};THREE.ArrowHelper.prototype.setColor=function(d){this.line.material.color.set(d);this.cone.material.color.set(d);};THREE.ArrowHelper2=(function(){var m=new THREE.CylinderGeometry(f7d.h1,f7d.h1,1,5,5);m.translate(0,f7d.h1,0);var n=new THREE.CylinderGeometry(0,1.5,1,5,5);n.translate(0,-f7d.h1,0);return function u(d,e,f,i,j,k){THREE.Object3D.call(this);if(i===undefined)i=0xffff00;if(f===undefined)f=1;if(j===undefined)j=0.3*f;if(k===undefined)k=0.3*j;this.position.copy(e);this.line=new THREE.Mesh(m,new THREE.MeshPhongMaterial({color:i}));this.line.matrixAutoUpdate=f7d.a4;this.add(this.line);this.cone=new THREE.Mesh(n,new THREE.MeshPhongMaterial({color:i}));this.cone.matrixAutoUpdate=f7d.a4;this.add(this.cone);this.setDirection(d);this.setLength(f,j,k);};}());THREE.ArrowHelper2.prototype=Object.create(THREE.Object3D.prototype);THREE.ArrowHelper2.prototype.constructor=THREE.ArrowHelper2;THREE.ArrowHelper2.prototype.setDirection=(function(){var e=new THREE.Vector3(),f;return function i(d){if(d.y>f7d.T1){this.quaternion.set(0,0,0,1);}else if(d.y<-f7d.T1){this.quaternion.set(1,0,0,0);}else{e.set(d.z,0,-d.x).normalize();f=Math.acos(d.y);this.quaternion.setFromAxisAngle(e,f);}};}());THREE.ArrowHelper2.prototype.setLength=function(d,e,f){if(e===undefined)e=0.2*d;if(f===undefined)f=0.2*e;this.line.scale.set(1,Math.max(0,d-e),1);this.line.updateMatrix();this.cone.scale.set(f,e,f);this.cone.position.y=d;this.cone.updateMatrix();};THREE.ArrowHelper2.prototype.setColor=function(d){this.line.material.color.set(d);this.cone.material.color.set(d);};THREE.BoxHelper=function(d){var e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),f=new Float32Array(8*3),i=new THREE.BufferGeometry();i.setIndex(new THREE.BufferAttribute(e,1));i.addAttribute(f7d.e1,new THREE.BufferAttribute(f,3));THREE.LineSegments.call(this,i,new THREE.LineBasicMaterial({color:0xffff00}));if(d!==undefined){this.update(d);}};THREE.BoxHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.BoxHelper.prototype.constructor=THREE.BoxHelper;THREE.BoxHelper.prototype.update=(function(){var k=new THREE.Box3();return function(d){if(d instanceof THREE.Box3){k.copy(d);}else{k.setFromObject(d);}if(k.isEmpty())return ;var e=k.min,f=k.max,i=this.geometry.attributes.position,j=i.array;j[0]=f.x;j[1]=f.y;j[2]=f.z;j[3]=e.x;j[4]=f.y;j[5]=f.z;j[6]=e.x;j[7]=e.y;j[8]=f.z;j[9]=f.x;j[10]=e.y;j[11]=f.z;j[12]=f.x;j[13]=f.y;j[14]=e.z;j[15]=e.x;j[16]=f.y;j[17]=e.z;j[18]=e.x;j[19]=e.y;j[20]=e.z;j[21]=f.x;j[22]=e.y;j[23]=e.z;i.needsUpdate=f7d.k3;this.geometry.computeBoundingSphere();};})();THREE.BoundingBoxHelper=function(d,e){var f=(e!==undefined)?e:0x888888;this.object=d;this.box=new THREE.Box3();THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:f,wireframe:f7d.k3}));};THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.BoundingBoxHelper.prototype.constructor=THREE.BoundingBoxHelper;THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position);};THREE.CameraHelper=function(i){var j=new THREE.Geometry(),k=new THREE.LineBasicMaterial({color:0xffffff,vertexColors:THREE.FaceColors}),m={},n=0xffaa00,u=0xff0000,v=0x00aaff,B=0xffffff,C=0x333333;J("n1","n2",n);J("n2","n4",n);J("n4","n3",n);J("n3","n1",n);J("f1","f2",n);J("f2","f4",n);J("f4","f3",n);J("f3","f1",n);J("n1","f1",n);J("n2","f2",n);J("n3","f3",n);J("n4","f4",n);J("p","n1",u);J("p","n2",u);J("p","n3",u);J("p","n4",u);J("u1","u2",v);J("u2","u3",v);J("u3","u1",v);J(f7d.O0,f7d.Y1,B);J("p",f7d.O0,C);J("cn1","cn2",C);J("cn3","cn4",C);J("cf1","cf2",C);J("cf3","cf4",C);function J(d,e,f){E(d,f);E(e,f);}function E(d,e){j.vertices.push(new THREE.Vector3());j.colors.push(new THREE.Color(e));if(m[d]===undefined){m[d]=[];}m[d].push(j.vertices.length-1);}THREE.LineSegments.call(this,j,k);this.camera=i;this.camera.updateProjectionMatrix();this.matrix=i.matrixWorld;this.matrixAutoUpdate=f7d.a4;this.pointMap=m;this.update();};THREE.CameraHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.CameraHelper.prototype.constructor=THREE.CameraHelper;THREE.CameraHelper.prototype.update=function(){var n,u,v=new THREE.Vector3(),B=new THREE.Camera();function C(d,e,f,i){v.set(e,f,i).unproject(B);var j=u[d];if(j!==undefined){for(var k=0,m=j.length;k<m;k++){n.vertices[j[k]].copy(v);}}}return function(){n=this.geometry;u=this.pointMap;var d=1,e=1;B.projectionMatrix.copy(this.camera.projectionMatrix);C(f7d.O0,0,0,-1);C(f7d.Y1,0,0,1);C("n1",-d,-e,-1);C("n2",d,-e,-1);C("n3",-d,e,-1);C("n4",d,e,-1);C("f1",-d,-e,1);C("f2",d,-e,1);C("f3",-d,e,1);C("f4",d,e,1);C("u1",d*0.7,e*1.1,-1);C("u2",-d*0.7,e*1.1,-1);C("u3",0,e*2,-1);C("cf1",-d,0,1);C("cf2",d,0,1);C("cf3",0,-e,1);C("cf4",0,e,1);C("cn1",-d,0,-1);C("cn2",d,0,-1);C("cn3",0,-e,-1);C("cn4",0,e,-1);n.verticesNeedUpdate=f7d.k3;};}();THREE.DirectionalLightHelper=function(d,e){THREE.Object3D.call(this);this.light=d;this.light.updateMatrixWorld();this.matrix=d.matrixWorld;this.matrixAutoUpdate=f7d.a4;e=e||1;var f=new THREE.Geometry();f.vertices.push(new THREE.Vector3(-e,e,0),new THREE.Vector3(e,e,0),new THREE.Vector3(e,-e,0),new THREE.Vector3(-e,-e,0),new THREE.Vector3(-e,e,0));var i=new THREE.LineBasicMaterial({fog:f7d.a4});i.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.lightPlane=new THREE.Line(f,i);this.add(this.lightPlane);f=new THREE.Geometry();f.vertices.push(new THREE.Vector3(),new THREE.Vector3());i=new THREE.LineBasicMaterial({fog:f7d.a4});i.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine=new THREE.Line(f,i);this.add(this.targetLine);this.update();};THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.DirectionalLightHelper.prototype.constructor=THREE.DirectionalLightHelper;THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose();};THREE.DirectionalLightHelper.prototype.update=function(){var d=new THREE.Vector3(),e=new THREE.Vector3(),f=new THREE.Vector3();return function(){d.setFromMatrixPosition(this.light.matrixWorld);e.setFromMatrixPosition(this.light.target.matrixWorld);f.subVectors(e,d);this.lightPlane.lookAt(f);this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine.geometry.vertices[1].copy(f);this.targetLine.geometry.verticesNeedUpdate=f7d.k3;this.targetLine.material.color.copy(this.lightPlane.material.color);};}();THREE.EdgesHelper=function(d,e,f){var i=(e!==undefined)?e:0xffffff;THREE.LineSegments.call(this,new THREE.EdgesGeometry(d.geometry,f),new THREE.LineBasicMaterial({color:i}));this.matrix=d.matrixWorld;this.matrixAutoUpdate=f7d.a4;};THREE.EdgesHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.EdgesHelper.prototype.constructor=THREE.EdgesHelper;THREE.FaceNormalsHelper=function(d,e,f,i){this.object=d;this.size=(e!==undefined)?e:1;var j=(f!==undefined)?f:0xffff00,k=(i!==undefined)?i:1,m=0,n=this.object.geometry;if(n instanceof THREE.Geometry){m=n.faces.length;}else{console.warn('THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.');}var u=new THREE.BufferGeometry(),v=new THREE.Float32Attribute(m*2*3,3);u.addAttribute(f7d.e1,v);THREE.LineSegments.call(this,u,new THREE.LineBasicMaterial({color:j,linewidth:k}));this.matrixAutoUpdate=f7d.a4;this.update();};THREE.FaceNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.FaceNormalsHelper.prototype.constructor=THREE.FaceNormalsHelper;THREE.FaceNormalsHelper.prototype.update=(function(){var B=new THREE.Vector3(),C=new THREE.Vector3(),J=new THREE.Matrix3();return function E(){this.object.updateMatrixWorld(f7d.k3);J.getNormalMatrix(this.object.matrixWorld);var d=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,i=f.vertices,j=f.faces,k=0;for(var m=0,n=j.length;m<n;m++){var u=j[m],v=u.normal;B.copy(i[u.a]).add(i[u.b]).add(i[u.c]).divideScalar(3).applyMatrix4(d);C.copy(v).applyMatrix3(J).normalize().multiplyScalar(this.size).add(B);e.setXYZ(k,B.x,B.y,B.z);k=k+1;e.setXYZ(k,C.x,C.y,C.z);k=k+1;}e.needsUpdate=f7d.k3;return this;};}());THREE.GridHelper=function(d,e){var f=new THREE.Geometry(),i=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(0x444444);this.color2=new THREE.Color(0x888888);for(var j=-d;j<=d;j+=e){f.vertices.push(new THREE.Vector3(-d,0,j),new THREE.Vector3(d,0,j),new THREE.Vector3(j,0,-d),new THREE.Vector3(j,0,d));var k=j===0?this.color1:this.color2;f.colors.push(k,k,k,k);}THREE.LineSegments.call(this,f,i);};THREE.GridHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.GridHelper.prototype.constructor=THREE.GridHelper;THREE.GridHelper.prototype.setColors=function(d,e){this.color1.set(d);this.color2.set(e);this.geometry.colorsNeedUpdate=f7d.k3;};THREE.HemisphereLightHelper=function(d,e){THREE.Object3D.call(this);this.light=d;this.light.updateMatrixWorld();this.matrix=d.matrixWorld;this.matrixAutoUpdate=f7d.a4;this.colors=[new THREE.Color(),new THREE.Color()];var f=new THREE.SphereGeometry(e,4,2);f.rotateX(-Math.PI/2);for(var i=0,j=8;i<j;i++){f.faces[i].color=this.colors[i<4?0:1];}var k=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:f7d.k3});this.lightSphere=new THREE.Mesh(f,k);this.add(this.lightSphere);this.update();};THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.HemisphereLightHelper.prototype.constructor=THREE.HemisphereLightHelper;THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose();};THREE.HemisphereLightHelper.prototype.update=function(){var d=new THREE.Vector3();return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(d.setFromMatrixPosition(this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=f7d.k3;};}();THREE.PointLightHelper=function(d,e){this.light=d;this.light.updateMatrixWorld();var f=new THREE.SphereGeometry(e,4,2),i=new THREE.MeshBasicMaterial({wireframe:f7d.k3,fog:f7d.a4});i.color.copy(this.light.color).multiplyScalar(this.light.intensity);THREE.Mesh.call(this,f,i);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=f7d.a4;};THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.PointLightHelper.prototype.constructor=THREE.PointLightHelper;THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose();};THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);};THREE.SkeletonHelper=function(d){this.bones=this.getBoneList(d);var e=new THREE.Geometry();for(var f=0;f<this.bones.length;f++){var i=this.bones[f];if(i.parent instanceof THREE.Bone){e.vertices.push(new THREE.Vector3());e.vertices.push(new THREE.Vector3());e.colors.push(new THREE.Color(0,0,1));e.colors.push(new THREE.Color(0,1,0));}}e.dynamic=f7d.k3;var j=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:f7d.a4,depthWrite:f7d.a4,transparent:f7d.k3});THREE.LineSegments.call(this,e,j);this.root=d;this.matrix=d.matrixWorld;this.matrixAutoUpdate=f7d.a4;this.update();};THREE.SkeletonHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.SkeletonHelper.prototype.constructor=THREE.SkeletonHelper;THREE.SkeletonHelper.prototype.getBoneList=function(d){var e=[];if(d instanceof THREE.Bone){e.push(d);}for(var f=0;f<d.children.length;f++){e.push.apply(e,this.getBoneList(d.children[f]));}return e;};THREE.SkeletonHelper.prototype.update=function(){var d=this.geometry,e=new THREE.Matrix4().getInverse(this.root.matrixWorld),f=new THREE.Matrix4(),i=0;for(var j=0;j<this.bones.length;j++){var k=this.bones[j];if(k.parent instanceof THREE.Bone){f.multiplyMatrices(e,k.matrixWorld);d.vertices[i].setFromMatrixPosition(f);f.multiplyMatrices(e,k.parent.matrixWorld);d.vertices[i+1].setFromMatrixPosition(f);i+=2;}}d.verticesNeedUpdate=f7d.k3;d.computeBoundingSphere();};THREE.SpotLightHelper=function(d){THREE.Object3D.call(this);this.light=d;this.light.updateMatrixWorld();this.matrix=d.matrixWorld;this.matrixAutoUpdate=f7d.a4;var e=new THREE.BufferGeometry(),f=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var i=0,j=1,k=32;i<k;i++,j++){var m=(i/k)*Math.PI*2,n=(j/k)*Math.PI*2;f.push(Math.cos(m),Math.sin(m),1,Math.cos(n),Math.sin(n),1);}e.addAttribute(f7d.e1,new THREE.Float32Attribute(f,3));var u=new THREE.LineBasicMaterial({fog:f7d.a4});this.cone=new THREE.LineSegments(e,u);this.add(this.cone);this.update();};THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.SpotLightHelper.prototype.constructor=THREE.SpotLightHelper;THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose();};THREE.SpotLightHelper.prototype.update=function(){var f=new THREE.Vector3(),i=new THREE.Vector3();return function(){var d=this.light.distance?this.light.distance:1000,e=d*Math.tan(this.light.angle);this.cone.scale.set(e,e,d);f.setFromMatrixPosition(this.light.matrixWorld);i.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(i.sub(f));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);};}();THREE.VertexNormalsHelper=function(d,e,f,i){this.object=d;this.size=(e!==undefined)?e:1;var j=(f!==undefined)?f:0xff0000,k=(i!==undefined)?i:1,m=0,n=this.object.geometry;if(n instanceof THREE.Geometry){m=n.faces.length*3;}else if(n instanceof THREE.BufferGeometry){m=n.attributes.normal.count;}var u=new THREE.BufferGeometry(),v=new THREE.Float32Attribute(m*2*3,3);u.addAttribute(f7d.e1,v);THREE.LineSegments.call(this,u,new THREE.LineBasicMaterial({color:j,linewidth:k}));this.matrixAutoUpdate=f7d.a4;this.update();};THREE.VertexNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.VertexNormalsHelper.prototype.constructor=THREE.VertexNormalsHelper;THREE.VertexNormalsHelper.prototype.update=(function(){var N=new THREE.Vector3(),b0=new THREE.Vector3(),o0=new THREE.Matrix3();return function f0(){var d=['a','b','c'];this.object.updateMatrixWorld(f7d.k3);o0.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,f=this.geometry.attributes.position,i=this.object.geometry;if(i instanceof THREE.Geometry){var j=i.vertices,k=i.faces,m=0;for(var n=0,u=k.length;n<u;n++){var v=k[n];for(var B=0,C=v.vertexNormals.length;B<C;B++){var J=j[v[d[B]]],E=v.vertexNormals[B];N.copy(J).applyMatrix4(e);b0.copy(E).applyMatrix3(o0).normalize().multiplyScalar(this.size).add(N);f.setXYZ(m,N.x,N.y,N.z);m=m+1;f.setXYZ(m,b0.x,b0.y,b0.z);m=m+1;}}}else if(i instanceof THREE.BufferGeometry){var Q=i.attributes.position,T=i.attributes.normal,m=0;for(var B=0,C=Q.count;B<C;B++){N.set(Q.getX(B),Q.getY(B),Q.getZ(B)).applyMatrix4(e);b0.set(T.getX(B),T.getY(B),T.getZ(B));b0.applyMatrix3(o0).normalize().multiplyScalar(this.size).add(N);f.setXYZ(m,N.x,N.y,N.z);m=m+1;f.setXYZ(m,b0.x,b0.y,b0.z);m=m+1;}}f.needsUpdate=f7d.k3;return this;};}());THREE.WireframeHelper=function(d,e){var f=(e!==undefined)?e:0xffffff;THREE.LineSegments.call(this,new THREE.WireframeGeometry(d.geometry),new THREE.LineBasicMaterial({color:f}));this.matrix=d.matrixWorld;this.matrixAutoUpdate=f7d.a4;};THREE.WireframeHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.WireframeHelper.prototype.constructor=THREE.WireframeHelper;THREE.ImmediateRenderObject=function(e){THREE.Object3D.call(this);this.material=e;this.render=function(d){};};THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype);THREE.ImmediateRenderObject.prototype.constructor=THREE.ImmediateRenderObject;THREE.MorphBlendMesh=function(d,e){THREE.Mesh.call(this,d,e);this.animationsMap={};this.animationsList=[];var f=this.geometry.morphTargets.length,i="__default",j=0,k=f-1,m=f/1;this.createAnimation(i,j,k,m);this.setAnimationWeight(i,1);};THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.MorphBlendMesh.prototype.constructor=THREE.MorphBlendMesh;THREE.MorphBlendMesh.prototype.createAnimation=function(d,e,f,i){var j={start:e,end:f,length:f-e+1,fps:i,duration:(f-e)/i,lastFrame:0,currentFrame:0,active:f7d.a4,time:0,direction:1,weight:1,directionBackwards:f7d.a4,mirroredLoop:f7d.a4};this.animationsMap[d]=j;this.animationsList.push(j);};THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(d){var e=/([a-z]+)_?(\d+)/i,f,i={},j=this.geometry;for(var k=0,m=j.morphTargets.length;k<m;k++){var n=j.morphTargets[k],u=n.name.match(e);if(u&&u.length>1){var v=u[1];if(!i[v])i[v]={start:Infinity,end:-Infinity};var B=i[v];if(k<B.start)B.start=k;if(k>B.end)B.end=k;if(!f)f=v;}}for(var v in i){var B=i[v];this.createAnimation(v,B.start,B.end,d);}this.firstAnimation=f;};THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(d){var e=this.animationsMap[d];if(e){e.direction=1;e.directionBackwards=f7d.a4;}};THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(d){var e=this.animationsMap[d];if(e){e.direction=-1;e.directionBackwards=f7d.k3;}};THREE.MorphBlendMesh.prototype.setAnimationFPS=function(d,e){var f=this.animationsMap[d];if(f){f.fps=e;f.duration=(f.end-f.start)/f.fps;}};THREE.MorphBlendMesh.prototype.setAnimationDuration=function(d,e){var f=this.animationsMap[d];if(f){f.duration=e;f.fps=(f.end-f.start)/f.duration;}};THREE.MorphBlendMesh.prototype.setAnimationWeight=function(d,e){var f=this.animationsMap[d];if(f){f.weight=e;}};THREE.MorphBlendMesh.prototype.setAnimationTime=function(d,e){var f=this.animationsMap[d];if(f){f.time=e;}};THREE.MorphBlendMesh.prototype.getAnimationTime=function(d){var e=0,f=this.animationsMap[d];if(f){e=f.time;}return e;};THREE.MorphBlendMesh.prototype.getAnimationDuration=function(d){var e=-1,f=this.animationsMap[d];if(f){e=f.duration;}return e;};THREE.MorphBlendMesh.prototype.playAnimation=function(d){var e=this.animationsMap[d];if(e){e.time=0;e.active=f7d.k3;}else{console.warn("THREE.MorphBlendMesh: animation["+d+"] undefined in .playAnimation()");}};THREE.MorphBlendMesh.prototype.stopAnimation=function(d){var e=this.animationsMap[d];if(e){e.active=f7d.a4;}};THREE.MorphBlendMesh.prototype.update=function(d){for(var e=0,f=this.animationsList.length;e<f;e++){var i=this.animationsList[e];if(!i.active)continue;var j=i.duration/i.length;i.time+=i.direction*d;if(i.mirroredLoop){if(i.time>i.duration||i.time<0){i.direction*=-1;if(i.time>i.duration){i.time=i.duration;i.directionBackwards=f7d.k3;}if(i.time<0){i.time=0;i.directionBackwards=f7d.a4;}}}else{i.time=i.time%i.duration;if(i.time<0)i.time+=i.duration;}var k=i.start+THREE.Math.clamp(Math.floor(i.time/j),0,i.length-1),m=i.weight;if(k!==i.currentFrame){this.morphTargetInfluences[i.lastFrame]=0;this.morphTargetInfluences[i.currentFrame]=1*m;this.morphTargetInfluences[k]=0;i.lastFrame=i.currentFrame;i.currentFrame=k;}var n=(i.time%j)/j;if(i.directionBackwards)n=1-n;if(i.currentFrame!==i.lastFrame){this.morphTargetInfluences[i.currentFrame]=n*m;this.morphTargetInfluences[i.lastFrame]=(1-n)*m;}else{this.morphTargetInfluences[i.currentFrame]=m;}}};var d3m5J={'G2J':function(B,J){return B<=J;},'K7J':function(B,J){return B!==J;},'u7J':function(B,J){return B===J;},'n5J':function(B,J){return B-J;},'x1O':"enableZoom",'q7J':function(B,J){return B===J;},'e7J':function(B,J){return B!==J;},'r2J':function(B,J){return B!==J;},'I6J':function(B,J){return B*J;},'C5J':function(B,J){return B>J;},'h4O':'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.','m3J':function(B,J){return B===J;},'f3J':function(B,J){return B===J;},'f9i':(function(V9i){return (function(A9i,M9i){return (function(b9i){return {N9i:b9i,W9i:b9i,};})(function(l9i){var q9i,g9i=0;for(var K9i=A9i;g9i<l9i["length"];g9i++){var Z9i=M9i(l9i,g9i);q9i=g9i===0?Z9i:q9i^Z9i;}return q9i?K9i:!K9i;});})((function(i9i,P9i,j9i,O9i){var k9i=31;return i9i(V9i,k9i)-O9i(P9i,j9i)>k9i;})(parseInt,Date,(function(P9i){return (''+P9i)["substring"](1,(P9i+'')["length"]-1);})('_getTime2'),function(P9i,j9i){return new P9i()[j9i]();}),function(l9i,g9i){var u9i=parseInt(l9i["charAt"](g9i),16)["toString"](2);return u9i["charAt"](u9i["length"]-1);});})('8ekid39pa'),'I4O':"target",'b6J':function(B,J){return B*J;},'s3J':function(B,J){return B===J;},'h7J':function(B,J){return B===J;},'g5J':function(B,J){return B*J;},'W3J':function(B,J){return B===J;},'R6J':function(B,J){return B===J;},'q9J':function(B,J,I,v){return B*J/I/v;},'F5J':function(B,J){return B!==J;},'D3J':function(B,J){return B===J;},'K2J':function(B,J){return B-J;},'Y3J':function(B,J){return B===J;},'U2J':function(B,J){return B>J;},'t7J':function(B,J){return B===J;},'o2J':function(B,J){return B===J;},'j9O':'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.','o7J':function(B,J){return B===J;},'L6J':function(B,J){return B<J;},'x9J':function(B,J){return B instanceof J;},'q2J':function(B,J){return B!=J;},'l9J':function(B,J,I,v){return B*J*I/v;},'a2J':function(B,J){return B-J;},'d9J':function(B,J,I,v){return B*J*I/v;},'V9J':function(B,J){return B instanceof J;},'C6J':function(B,J){return B===J;},'E7J':function(B,J){return B===J;},'i3J':function(B,J){return B===J;},'w6J':function(B,J){return B===J;},'j7J':function(B,J){return B!==J;},'T3J':function(B,J){return B!==J;},'J8O':"enableRotate",'J6J':function(B,J){return B*J;},'X6J':function(B,J){return B-J;},'v7J':function(B,J){return B===J;},'k5J':function(B,J){return B*J;},'Q9J':function(B,J){return B*J;},'U7J':function(B,J){return B!==J;},'m9J':function(B,J,I){return B*J/I;},'j2J':function(B,J){return B<J;},'G9O':"enableKeys",'p9O':'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.','M6J':function(B,J){return B*J;},'n6J':function(B,J){return B===J;},'V7J':function(B,J){return B===J;},'K1O':"defineProperties",'h2J':function(B,J){return B<J;},'t9O':"enablePan",'s9J':function(B,J){return B instanceof J;},'Q3J':function(B,J){return B===J;},'d5J':function(B,J){return B*J;},'j5O':"warn",'C4O':"constraint",'p2J':function(B,J){return B/J;},'R5J':function(B,J,I,v,F){return B*J/I/v*F;},'p7J':function(B,J){return B===J;},'y5J':function(B,J){return B>J;},'z5J':function(B,J){return B===J;},'t2J':function(B,J,I,v,F){return B*J*I/v*F;},'u2J':function(B,J){return B>J;},'N6J':function(B,J,I,v,F){return B*J*I/v*F;},'G7J':function(B,J){return B===J;},'O6J':function(B,J){return B-J;},'O5J':function(B,J){return B*J;},'S2J':function(B,J,I,v,F){return B*J*I/v*F;},'I8O':'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.','P3J':function(B,J){return B===J;},'N5J':function(B,J){return B*J;},'k6J':function(B,J){return B-J;},'T9J':function(B,J){return B instanceof J;},'L5J':function(B,J){return B-J;},'x3J':function(B,J){return B!==J;},'D9J':function(B,J){return B instanceof J;},'M5J':function(B,J){return B*J;},'r7J':function(B,J){return B===J;},'V2J':function(B,J){return B==J;},'B3J':function(B,J){return B===J;},'l3J':function(B,J){return B===J;},'b5J':function(B,J){return B===J;},'c3J':function(B,J){return B===J;},'Z3J':function(B,J){return B===J;},'A3J':function(B,J){return B===J;},'s0z':"create",'c9J':function(B,J){return B instanceof J;},'z6J':function(B,J){return B>J;},'b9J':function(B,J,I,v){return B*J/I/v;},'F6J':function(B,J,I,v,F){return B*J*I/v*F;},'x5O':"enableDamping",'c5O':'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.','H3J':function(B,J){return B!==J;},'f8O':'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.','Y9J':function(B,J){return B===J;},'y6J':function(B,J){return B==J;},'O8O':"dampingFactor",'e2J':function(B,J){return B!==J;},'c0z':"OrbitControls",'S7J':function(B,J){return B===J;}};d3m5J.K2i=function(i){if(d3m5J&&i)return d3m5J.f9i.W9i(i);};d3m5J.M2i=function(n){for(;d3m5J;)return d3m5J.f9i.N9i(n);};d3m5J.Z2i=function(n){while(n)return d3m5J.f9i.N9i(n);};d3m5J.q2i=function(g){for(;d3m5J;)return d3m5J.f9i.N9i(g);};d3m5J.O2i=function(h){for(;d3m5J;)return d3m5J.f9i.N9i(h);};d3m5J.V2i=function(k){if(d3m5J&&k)return d3m5J.f9i.N9i(k);};d3m5J.P2i=function(f){while(f)return d3m5J.f9i.N9i(f);};d3m5J.j2i=function(n){if(d3m5J&&n)return d3m5J.f9i.W9i(n);};d3m5J.g2i=function(c){for(;d3m5J;)return d3m5J.f9i.N9i(c);};d3m5J.l2i=function(j){if(d3m5J&&j)return d3m5J.f9i.N9i(j);};d3m5J.u2i=function(b){for(;d3m5J;)return d3m5J.f9i.N9i(b);};d3m5J.N2i=function(m){for(;d3m5J;)return d3m5J.f9i.N9i(m);};d3m5J.f2i=function(c){while(c)return d3m5J.f9i.W9i(c);};d3m5J.m2i=function(g){if(d3m5J&&g)return d3m5J.f9i.N9i(g);};d3m5J.v2i=function(a){if(d3m5J&&a)return d3m5J.f9i.W9i(a);};d3m5J.D2i=function(m){if(d3m5J&&m)return d3m5J.f9i.N9i(m);};d3m5J.t2i=function(j){for(;d3m5J;)return d3m5J.f9i.N9i(j);};d3m5J.I2i=function(j){if(d3m5J&&j)return d3m5J.f9i.W9i(j);};d3m5J.Y2i=function(h){while(h)return d3m5J.f9i.W9i(h);};d3m5J.o2i=function(l){while(l)return d3m5J.f9i.W9i(l);};d3m5J.J2i=function(b){for(;d3m5J;)return d3m5J.f9i.W9i(b);};d3m5J.B2i=function(c){while(c)return d3m5J.f9i.N9i(c);};d3m5J.p2i=function(j){for(;d3m5J;)return d3m5J.f9i.N9i(j);};d3m5J.X2i=function(n){if(d3m5J&&n)return d3m5J.f9i.W9i(n);};d3m5J.R9i=function(a){for(;d3m5J;)return d3m5J.f9i.N9i(a);};d3m5J.x9i=function(a){while(a)return d3m5J.f9i.W9i(a);};d3m5J.a9i=function(e){for(;d3m5J;)return d3m5J.f9i.N9i(e);};d3m5J.C9i=function(n){for(;d3m5J;)return d3m5J.f9i.W9i(n);};d3m5J.T9i=function(e){while(e)return d3m5J.f9i.N9i(e);};d3m5J.h9i=function(h){while(h)return d3m5J.f9i.N9i(h);};d3m5J.y9i=function(m){while(m)return d3m5J.f9i.N9i(m);};d3m5J.U9i=function(h){if(d3m5J&&h)return d3m5J.f9i.N9i(h);};d3m5J.r9i=function(i){if(d3m5J&&i)return d3m5J.f9i.W9i(i);};d3m5J.s9i=function(i){for(;d3m5J;)return d3m5J.f9i.N9i(i);};d3m5J.e9i=function(f){while(f)return d3m5J.f9i.N9i(f);};d3m5J.z9i=function(b){if(d3m5J&&b)return d3m5J.f9i.N9i(b);};THREE[d3m5J.c0z]=d3m5J.z9i("e5")?function(o8,H8,E8,Y8){d3m5J.i2i=function(j){if(d3m5J&&j)return d3m5J.f9i.W9i(j);};d3m5J.k2i=function(h){for(;d3m5J;)return d3m5J.f9i.W9i(h);};d3m5J.E2i=function(a){while(a)return d3m5J.f9i.W9i(a);};d3m5J.d2i=function(c){for(;d3m5J;)return d3m5J.f9i.W9i(c);};d3m5J.H2i=function(k){if(d3m5J&&k)return d3m5J.f9i.W9i(k);};d3m5J.S2i=function(n){while(n)return d3m5J.f9i.N9i(n);};d3m5J.F2i=function(n){if(d3m5J&&n)return d3m5J.f9i.N9i(n);};d3m5J.w2i=function(l){for(;d3m5J;)return d3m5J.f9i.W9i(l);};d3m5J.Q9i=function(f){if(d3m5J&&f)return d3m5J.f9i.N9i(f);};d3m5J.n9i=function(n){if(d3m5J&&n)return d3m5J.f9i.W9i(n);};d3m5J.c9i=function(m){for(;d3m5J;)return d3m5J.f9i.N9i(m);};d3m5J.L9i=function(l){while(l)return d3m5J.f9i.N9i(l);};var Q=d3m5J.e9i("fb8")?"s1":"setFromMatrixColumn",f8=d3m5J.s9i("4b5d")?"Vector2":"login,",t8=d3m5J.L9i("b367")?"Spherical":"parent",u8=d3m5J.r9i("4f37")?0.000001:"// const float turbidity = 10.0; //",l8=d3m5J.c9i("fb1a")?5:"\n",j8=d3m5J.n9i("56e7")?"float F = 0.30;":4,G8=d3m5J.U9i("12")?'end':"vec3 simplifiedRayleigh()",V8='start',G4='change',a8=d3m5J.Q9i("81b")?2.75:'touchmove',K8=d3m5J.y9i("ae")?"singlebackground":'touchend',s8=d3m5J.h9i("ae")?"float sunIntensity(float zenithAngleCos)":'touchstart',X1='MozMousePixelScroll',L4='mousewheel',i8=d3m5J.T9i("263")?'mousedown':"not allow bimviz to use IndexedDB",r4='contextmenu',N4="dispose",x8=d3m5J.C9i("bd74")?"reset":"args",u4=d3m5J.a9i("62")?"IFCFOOTING":"updateCamera",w4="multiplyScalar",z4="quaternion",A8=d3m5J.x9i("c78d")?"tempOverlayGeoRoot":"applyQuaternion",t4=d3m5J.R9i("c1cc")?"flyViewPoint":"updateMatrixWorld",W8="start",r1="onComplete",C4=d3m5J.X2i("7483")?"onReceiveQueryElements":"z",w1="onUpdate",R1="InOut",O1=d3m5J.p2i("6d2f")?"widthHalf":"Quadratic",m1=d3m5J.B2i("f4")?"Easing":"FrontCetner",d1="easing",B1="to",Z1=d3m5J.J2i("433")?"_vector4":"Tween",n4="sub",g4=d3m5J.o2i("1e")?"flyFromTo":"materialIndex",W1="lookAt",f1=d3m5J.Y2i("a2c5")?"lookFromTo":"Color",F5="getAzimuthalAngle",V4="getPolarAngle",Y1=d3m5J.I2i("6a")?"Object":"isAnimate",X4="moved",j5="Quaternion",Y5=d3m5J.t2i("a8c5")?"zoom0":"{",O4="position0",J1=d3m5J.D2i("a887")?"clone":"Blob",v4=d3m5J.w2i("64b")?"target0":"vec3 curr = Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);",q8="MIDDLE",X5=d3m5J.v2i("eda")?"MOUSE":"$",j4=d3m5J.m2i("f8e")?40:2.0,h8=39,r8=38,I5=37,e4=d3m5J.F2i("e3")?2.0:"float ExposureBias = fLumCompressed;",p4="autoRotate",s5=7.0,J4=d3m5J.S2i("a11d")?1.0:0.4,D8=0.25,B8=d3m5J.H2i("2cf")?"maxAzimuthAngle":"performance",D5="minAzimuthAngle",e8="maxPolarAngle",P5="minPolarAngle",M4="maxDistance",q4=d3m5J.d2i("8d8")?"minDistance":"IFCAIRTERMINAL",T8=d3m5J.E2i("8f")?"Vector3":"gettree,",k5=d3m5J.f2i("438")?"F5J":0.12,e1="centerMesh",P1=d3m5J.N2i("f6e5")?"gid":"add",o4="position",F4=d3m5J.u2i("db1")?"clientHeight":"connect",M1="rotateSpeed",U1=d3m5J.l2i("82")?"materialLibraries":"clientWidth",H5="body",a4=d3m5J.g2i("43")?"sqrt":"removeMarker",z1="theta",L5="RIGHT",f5="LEFT",d5=d3m5J.j2i("8e4")?"staticMoving":"keyPanSpeed",A5=d3m5J.P2i("d418")?"state":"keys",d9=d3m5J.k2i("b8b")?"storeyId":"stopPropagation",p9="autoRotateSpeed",R="PI",r5="zoomSpeed",K5="phi",T9=d3m5J.V2i("db1")?"TOUCH_PAN":"down",n1=3,C9="TOUCH_DOLLY",c8=d3m5J.i2i("ca")?"gl_FragColor.rgb = retColor;":2,f9="TOUCH_ROTATE",l1=d3m5J.O2i("5d")?"setLookBoxFrom":"addEventListener",N9="mouseButtons",T="domElement",U5="clientY",y1=d3m5J.q2i("2214")?"clientX":"IfcTransportElement",J9='WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.',N1=d3m5J.Z2i("e7c")?true:"subVectors",B9="updateProjectionMatrix",l9="maxZoom",b5="min",h5="minZoom",y5="max",h1="zoom",Y9="OrthographicCamera",Q5=d3m5J.M2i("b83")?"keyCode":"PerspectiveCamera",v8="object",k4=d3m5J.K2i("534")?"CatmullRom":"update",U8="copy",y4="y",h4="x",C5="subVectors",V5="NONE",I9="dispatchEvent",P9='mouseout',E2='mouseup',g9='mousemove',N5="removeEventListener",T5=200,D2=null,L1=1,l2="which",u2="PAN",V2="DOLLY",k9="ROTATE",S8=false,S4="enabled",F1="pageY",C1="pageX",P8=0,U4="touches",m8="set",k1="preventDefault";function x9(B){B[k1]();}function f2(B){b4[m8](B[U4][P8][C1],B[U4][P8][F1]);}function a5(B){R4[m8](B[U4][P8][C1],B[U4][P8][F1]);}function W9(B){var J="W3J",I="A3J",v="Z3J",F="i3J",S="P3J",d="l3J",E="f3J";if(d3m5J[E](u[S4],S8))return ;B[k1]();if(d3m5J[d](I1,I4[k9])){if(d3m5J[S](u[d3m5J.J8O],S8))return ;w5(B);}else if(d3m5J[F](I1,I4[V2])){if(d3m5J[v](u[d3m5J.x1O],S8))return ;U2(B);}else if(d3m5J[I](I1,I4[u2])){if(d3m5J[J](u[d3m5J.t9O],S8))return ;c9(B);}}function b9(B){var J="G2J",I="getTime",v="K2J",F="q2J",S="V2J";if(d3m5J[S](B[l2],L1)&&d3m5J[F](B2,D2)&&Y8){var d=new Date(),E=d3m5J[v](d[I](),B2[I]());if(d3m5J[J](E,T5)){Y8(B,E);}}}function w9(B){var J="s3J";if(d3m5J[J](u[S4],S8))return ;b9(B);document[N5](g9,W9,S8);document[N5](E2,w9,S8);document[N5](P9,w9,S8);u[I9](S2);I1=I4[V5];}function p2(B){Z9[m8](B[U4][P8][C1],B[U4][P8][F1]);m9[C5](Z9,R4);q5(m9[h4],m9[y4]);R4[U8](Z9);u[k4]();}function i5(B){var J="Q9J",I="c9J",v="s9J";if(d3m5J[v](u[v8],THREE[Q5])){Y2/=B;}else if(d3m5J[I](u[v8],THREE[Y9])){u[v8][h1]=Math[y5](u[h5],Math[b5](u[l9],d3m5J[J](u[v8][h1],B)));u[v8][B9]();L9=N1;}else{console[d3m5J.j5O](J9);u[d3m5J.x1O]=S8;}}function i2(B){b4[m8](B[y1],B[U5]);}function P2(B){var J="h7J";if(d3m5J[J](u[S4],S8))return ;q2(B);u[I9](S2);I1=I4[V5];}function n5(B){R4[m8](B[y1],B[U5]);}function v2(B){var J="H3J",I="m3J",v="D3J",F="Y3J",S="ZOOM",d="B3J",E="R6J",N="ORBIT",k="button",V="C6J",n="y6J",s="focus",A="n6J";if(d3m5J[A](u[S4],S8))return ;u[T][s]();B[k1]();B2=D2;if(d3m5J[n](B[l2],L1)){B2=new Date();}if(d3m5J[V](B[k],u[N9][N])){if(d3m5J[E](u[d3m5J.J8O],S8))return ;i2(B);I1=I4[k9];}else if(d3m5J[d](B[k],u[N9][S])){if(d3m5J[F](u[d3m5J.x1O],S8))return ;i9(B);I1=I4[V2];}else if(d3m5J[v](B[k],u[N9][u2])){if(d3m5J[I](u[d3m5J.t9O],S8))return ;n5(B);I1=I4[u2];}if(d3m5J[J](I1,I4[V5])){document[l1](g9,W9,S8);document[l1](E2,w9,S8);document[l1](P9,w9,S8);u[I9](z9);}}function R9(B){var J="j7J",I="u7J",v="E7J",F="S7J",S="v7J";if(d3m5J[S](u[S4],S8))return ;switch(B[U4].length){case L1:if(d3m5J[F](u[d3m5J.J8O],S8))return ;f2(B);I1=I4[f9];break;case c8:if(d3m5J[v](u[d3m5J.x1O],S8))return ;B5(B);I1=I4[C9];break;case n1:if(d3m5J[I](u[d3m5J.t9O],S8))return ;a5(B);I1=I4[T9];break;default:I1=I4[V5];}if(d3m5J[J](I1,I4[V5])){u[I9](z9);}}function j2(B){m5[K5]-=B;}function T2(B){var J="t7J",I="o7J",v="p7J";if(d3m5J[v](u[S4],S8)||d3m5J[I](u[d3m5J.G9O],S8)||d3m5J[J](u[d3m5J.t9O],S8))return ;G5(B);}function D9(){var B=0.95,J="pow";return Math[J](B,u[r5]);}function c5(){var B=60,J="R5J";return d3m5J[J](c8,Math[R],B,B,u[p9]);}function c9(B){Z9[m8](B[y1],B[U5]);m9[C5](Z9,R4);q5(m9[h4],m9[y4]);R4[U8](Z9);u[k4]();}function U2(B){var J="j2J",I="u2J";A1[m8](B[y1],B[U5]);W5[C5](A1,i1);if(d3m5J[I](W5[y4],P8)){i5(D9());}else if(d3m5J[J](W5[y4],P8)){O5(D9());}i1[U8](A1);u[k4]();}function q2(B){}function s9(B){var J="U7J",I="r7J",v="e7J",F="G7J",S="K7J",d="q7J",E="V7J";if(d3m5J[E](u[S4],S8))return ;B[k1]();B[d9]();switch(B[U4].length){case L1:if(d3m5J[d](u[d3m5J.J8O],S8))return ;if(d3m5J[S](I1,I4[f9]))return ;x5(B);break;case c8:if(d3m5J[F](u[d3m5J.x1O],S8))return ;if(d3m5J[v](I1,I4[C9]))return ;g1(B);break;case n1:if(d3m5J[I](u[d3m5J.t9O],S8))return ;if(d3m5J[J](I1,I4[T9]))return ;p2(B);break;default:I1=I4[V5];}}function G5(B){var J="BOTTOM",I="UP",v="keyCode";switch(B[v]){case u[A5][I]:q5(P8,u[d5]);u[k4]();break;case u[A5][J]:q5(P8,-u[d5]);u[k4]();break;case u[A5][f5]:q5(u[d5],P8);u[k4]();break;case u[A5][L5]:q5(-u[d5],P8);u[k4]();break;}}function K4(B){m5[z1]-=B;}function B5(B){var J="I6J",I="J6J",v="X6J",F="a2J",S=d3m5J[F](B[U4][P8][C1],B[U4][L1][C1]),d=d3m5J[v](B[U4][P8][F1],B[U4][L1][F1]),E=Math[a4](d3m5J[I](S,S)+d3m5J[J](d,d));i1[m8](P8,E);}function w5(B){var J="S2J",I="t2J",v="o2J";g5[m8](B[y1],B[U5]);e5[C5](g5,b4);var F=d3m5J[v](u[T],document)?u[T][H5]:u[T];K4(d3m5J[I](c8,Math[R],e5[h4],F[U1],u[M1]));j2(d3m5J[J](c8,Math[R],e5[y4],F[F4],u[M1]));b4[U8](g5);u[k4]();}function i9(B){i1[m8](B[y1],B[U5]);}function Q9(B){var J="h2J",I="U2J",v="detail",F="r2J",S="wheelDelta",d="e2J",E=P8;if(d3m5J[d](B[S],undefined)){E=B[S];}else if(d3m5J[F](B[v],undefined)){E=-B[v];}if(d3m5J[I](E,P8)){O5(D9());}else if(d3m5J[J](E,P8)){i5(D9());}u[k4]();}function O5(B){var J="p2J",I="x9J",v="T9J";if(d3m5J[v](u[v8],THREE[Q5])){Y2*=B;}else if(d3m5J[I](u[v8],THREE[Y9])){u[v8][h1]=Math[y5](u[h5],Math[b5](u[l9],d3m5J[J](u[v8][h1],B)));u[v8][B9]();L9=N1;}else{console[d3m5J.j5O](J9);u[d3m5J.x1O]=S8;}}function O9(B){var J="x3J",I="T3J",v="Q3J",F="c3J";if(d3m5J[F](u[S4],S8)||d3m5J[v](u[d3m5J.x1O],S8)||(d3m5J[I](I1,I4[V5])&&d3m5J[J](I1,I4[k9])))return ;B[k1]();B[d9]();Q9(B);u[I9](z9);u[I9](S2);}function g1(B){var J="L6J",I="z6J",v="b6J",F="M6J",S="O6J",d="k6J",E=d3m5J[d](B[U4][P8][C1],B[U4][L1][C1]),N=d3m5J[S](B[U4][P8][F1],B[U4][L1][F1]),k=Math[a4](d3m5J[F](E,E)+d3m5J[v](N,N));A1[m8](P8,k);W5[C5](A1,i1);if(d3m5J[I](W5[y4],P8)){O5(D9());}else if(d3m5J[J](W5[y4],P8)){i5(D9());}i1[U8](A1);u[k4]();}function x5(B){var J="N6J",I="F6J",v="w6J";g5[m8](B[U4][P8][C1],B[U4][P8][F1]);e5[C5](g5,b4);var F=d3m5J[v](u[T],document)?u[T][H5]:u[T];K4(d3m5J[I](c8,Math[R],e5[h4],F[U1],u[M1]));j2(d3m5J[J](c8,Math[R],e5[y4],F[F4],u[M1]));b4[U8](g5);u[k4]();}function o2(){var B="Mesh",J="MeshLambertMaterial",I="BoxBufferGeometry",v=new THREE[I](T5,T5,T5),F=new THREE[J]({color:0xff3300,depthWrite:S8,depthTest:S8}),S=new THREE[B](v,F);S[o4][m8](P8,P8,P8);E8[P1](S);u[e1]=S;}this[v8]=o8;this[T]=(d3m5J[k5](H8,undefined))?H8:document;this[S4]=N1;this[d3m5J.I4O]=new THREE[T8]();this[q4]=P8;this[M4]=Infinity;this[h5]=P8;this[l9]=Infinity;this[P5]=P8;this[e8]=Math[R];this[D5]=-Infinity;this[B8]=Infinity;this[d3m5J.x5O]=S8;this[d3m5J.O8O]=D8;this[d3m5J.x1O]=N1;this[r5]=J4;this[d3m5J.J8O]=N1;this[M1]=J4;this[d3m5J.t9O]=N1;this[d5]=s5;this[p4]=S8;this[p9]=e4;this[d3m5J.G9O]=N1;this[A5]={LEFT:I5,UP:r8,RIGHT:h8,BOTTOM:j4};this[N9]={ORBIT:THREE[X5][f5],ZOOM:THREE[X5][q8],PAN:THREE[X5][L5]};this[v4]=this[d3m5J.I4O][J1]();this[O4]=this[v8][o4][J1]();this[Y5]=this[v8][h1];var B2=D2,l5=new THREE[T8](),m2=new THREE[j5]();this[e1]=D2;this[X4]=S8;this[Y1]=S8;this[V4]=function(){return phi;};this[F5]=function(){return theta;};this[f1]=function(B,J){var I=new THREE[T8]()[U8](J),v=new THREE[T8]()[U8](B);u[v8][o4][U8](v);u[v8][W1](I);u[d3m5J.I4O][U8](I);l5[U8](v);};this[g4]=function(E,N,k){var V=2000,n=new THREE[T8]()[U8](N),s=new THREE[T8]()[U8](E),A=new THREE[T8]()[U8](n)[n4](u[d3m5J.I4O]),q=new THREE[T8]()[U8](s)[n4](u[v8][o4]),L=new THREE[T8]()[U8](u[v8][o4]),W=new THREE[T8]()[U8](u[d3m5J.I4O]),M={t:P8},i=new TWEEN[Z1](M)[B1]({t:L1},V)[d1](TWEEN[m1][O1][R1])[w1](function(){var B="M5J";var J="O5J";var I="k5J";var v="g5J";var F="N5J";var S="t";var d="d5J";u[v8][o4][h4]=L[h4]+d3m5J[d](q[h4],M[S]);u[v8][o4][y4]=L[y4]+d3m5J[F](q[y4],M[S]);u[v8][o4][C4]=L[C4]+d3m5J[v](q[C4],M[S]);u[d3m5J.I4O][h4]=W[h4]+d3m5J[I](A[h4],M[S]);u[d3m5J.I4O][y4]=W[y4]+d3m5J[J](A[y4],M[S]);u[d3m5J.I4O][C4]=W[C4]+d3m5J[B](A[C4],M[S]);u[v8][W1](u[d3m5J.I4O]);})[r1](function(){l5[U8](u[v8][o4]);u[Y1]=S8;if(k){k();}})[W8]();u[Y1]=N1;};this[t4]=function(B,J,I){var v=1000,F=new THREE[T8](),S=new THREE[T8](P8,P8,L1),d=u[d3m5J.I4O][J1]()[n4](l5).length();F[U8](S)[A8](u[v8][z4]);F=F[w4](d);var E=new THREE[T8]()[U8](B)[P1](J),N=new THREE[T8]()[U8](E)[P1](F),k=new TWEEN[Z1](u[v8][o4])[B1]({x:N[h4],y:N[y4],z:N[C4],},v)[d1](TWEEN[m1][O1][R1])[w1](function(){})[r1](function(){l5[U8](u[v8][o4]);u[d3m5J.I4O][U8](E);u[v8][W1](u[d3m5J.I4O]);u[Y1]=S8;})[W8]();u[Y1]=N1;};this[u4]=function(){if(u[Y1])return ;var B=new THREE[T8](),J=new THREE[T8](P8,P8,-L1);B[U8](J)[A8](u[v8][z4]);var I=u[d3m5J.I4O][J1]()[n4](l5).length();B=B[w4](I);u[d3m5J.I4O][U8](u[v8][o4])[P1](B);l5[U8](u[v8][o4]);};this[x8]=function(){u[d3m5J.I4O][U8](u[v4]);u[v8][o4][U8](u[O4]);u[v8][h1]=u[Y5];u[v8][B9]();u[I9](n9);u[k4]();I1=I4[V5];};this[k4]=function(){var q="inverse",L="up",W="setFromUnitVectors",M=new THREE[T8](),i=new THREE[j5]()[W](o8[L],new THREE[T8](P8,L1,P8)),p8=i[J1]()[q]();return function(){var B="dot",J=8,I="C5J",v="distanceToSquared",F="y5J",S="n5J",d="L5J",E="z5J",N="setFromSpherical",k="radius",V="makeSafe",n="b5J",s="setFromVector3";if(u[Y1])return ;var A=u[v8][o4];M[U8](A)[n4](u[d3m5J.I4O]);M[A8](i);a1[s](M);if(u[p4]&&d3m5J[n](I1,I4[V5])){K4(c5());}a1[z1]+=m5[z1];a1[K5]+=m5[K5];a1[z1]=Math[y5](u[D5],Math[b5](u[B8],a1[z1]));a1[K5]=Math[y5](u[P5],Math[b5](u[e8],a1[K5]));a1[V]();a1[k]*=Y2;a1[k]=Math[y5](u[q4],Math[b5](u[M4],a1[k]));u[d3m5J.I4O][P1](H2);M[N](a1);M[A8](p8);A[U8](u[d3m5J.I4O])[P1](M);u[v8][W1](u[d3m5J.I4O]);if(d3m5J[E](u[d3m5J.x5O],N1)){m5[z1]*=(d3m5J[d](L1,u[d3m5J.O8O]));m5[K5]*=(d3m5J[S](L1,u[d3m5J.O8O]));}else{m5[m8](P8,P8,P8);}Y2=L1;H2[m8](P8,P8,P8);if(L9||d3m5J[F](l5[v](u[v8][o4]),H1)||d3m5J[I](J*(L1-m2[B](u[v8][z4])),H1)){u[I9](n9);l5[U8](u[v8][o4]);m2[U8](u[v8][z4]);L9=S8;u[X4]=N1;return N1;}u[X4]=S8;return S8;};}();this[N4]=function(){u[T][N5](r4,x9,S8);u[T][N5](i8,v2,S8);u[T][N5](L4,O9,S8);u[T][N5](X1,O9,S8);u[T][N5](s8,R9,S8);u[T][N5](K8,P2,S8);u[T][N5](a8,s9,S8);document[N5](g9,W9,S8);document[N5](E2,w9,S8);document[N5](P9,w9,S8);};var u=this,n9={type:G4},z9={type:V8},S2={type:G8},I4={NONE:-L1,ROTATE:P8,DOLLY:L1,PAN:c8,TOUCH_ROTATE:n1,TOUCH_DOLLY:j8,TOUCH_PAN:l8},I1=I4[V5],H1=u8,a1=new THREE[t8](),m5=new THREE[t8](),Y2=L1,H2=new THREE[T8](),L9=S8,b4=new THREE[f8](),g5=new THREE[f8](),e5=new THREE[f8](),R4=new THREE[f8](),Z9=new THREE[f8](),m9=new THREE[f8](),i1=new THREE[f8](),A1=new THREE[f8](),W5=new THREE[f8](),R5=function(){var I=new THREE[T8]();return function v(B,J){I[Q](J,P8);I[w4](-B);H2[P1](I);};}(),J5=function(){var I=new THREE[T8]();return function v(B,J){I[Q](J,L1);I[w4](B);H2[P1](I);};}(),q5=function(){var C=new THREE[T8]();return function(B,J){var I='WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.',v="bottom",F="b9J",S="left",d="right",E="q9J",N="V9J",k="l9J",V="matrix",n="d9J",s=180.0,A="fov",q="m9J",L="tan",W="D9J",M="Y9J",i=d3m5J[M](u[T],document)?u[T][H5]:u[T];if(d3m5J[W](u[v8],THREE[Q5])){var p8=u[v8][o4];C[U8](p8)[n4](u[d3m5J.I4O]);var c=C.length();c*=Math[L](d3m5J[q]((u[v8][A]/c8),Math[R],s));R5(d3m5J[n](c8,B,c,i[F4]),u[v8][V]);J5(d3m5J[k](c8,J,c,i[F4]),u[v8][V]);}else if(d3m5J[N](u[v8],THREE[Y9])){R5(d3m5J[E](B,(u[v8][d]-u[v8][S]),u[v8][h1],i[U1]),u[v8][V]);J5(d3m5J[F](J,(u.object.top-u[v8][v]),u[v8][h1],i[F4]),u[v8][V]);}else{console[d3m5J.j5O](I);u[d3m5J.t9O]=S8;}};}();u[T][l1](r4,x9,S8);u[T][l1](i8,v2,S8);u[T][l1](L4,O9,S8);u[T][l1](X1,O9,S8);u[T][l1](s8,R9,S8);u[T][l1](K8,P2,S8);u[T][l1](a8,s9,S8);this[k4]();}:"vec3 whiteScale = 1.0/Uncharted2Tonemap(vec3(W));";THREE.OrbitControls.prototype=Object[d3m5J.s0z](THREE.EventDispatcher.prototype);THREE.OrbitControls.prototype.constructor=THREE[d3m5J.c0z];Object[d3m5J.K1O](THREE.OrbitControls.prototype,{center:{get:function(){var B='THREE.OrbitControls: .center has been renamed to .target';console[d3m5J.j5O](B);return this[d3m5J.I4O];}},noZoom:{get:function(){console[d3m5J.j5O](d3m5J.I8O);return !this[d3m5J.x1O];},set:function(B){console[d3m5J.j5O](d3m5J.I8O);this[d3m5J.x1O]=!B;}},noRotate:{get:function(){console[d3m5J.j5O](d3m5J.c5O);return !this[d3m5J.J8O];},set:function(B){console[d3m5J.j5O](d3m5J.c5O);this[d3m5J.J8O]=!B;}},noPan:{get:function(){console[d3m5J.j5O](d3m5J.f8O);return !this[d3m5J.t9O];},set:function(B){console[d3m5J.j5O](d3m5J.f8O);this[d3m5J.t9O]=!B;}},noKeys:{get:function(){console[d3m5J.j5O](d3m5J.p9O);return !this[d3m5J.G9O];},set:function(B){console[d3m5J.j5O](d3m5J.p9O);this[d3m5J.G9O]=!B;}},staticMoving:{get:function(){console[d3m5J.j5O](d3m5J.j9O);return !this[d3m5J.C4O][d3m5J.x5O];},set:function(B){console[d3m5J.j5O](d3m5J.j9O);this[d3m5J.C4O][d3m5J.x5O]=!B;}},dynamicDampingFactor:{get:function(){console[d3m5J.j5O](d3m5J.h4O);return this[d3m5J.C4O][d3m5J.O8O];},set:function(B){console[d3m5J.j5O](d3m5J.h4O);this[d3m5J.C4O][d3m5J.O8O]=B;}}});var M2R7J={'N0J':function(B,J){return B/J;},'D8C':function(B,J){return B*J;},'J0J':function(B,J){return B!==J;},'P3i':(function(K3i){return (function(s3i,z3i){return (function(L3i){return {k3i:L3i,c3i:L3i,};})(function(i3i){var G3i,O3i=0;for(var e3i=s3i;O3i<i3i["length"];O3i++){var W3i=z3i(i3i,O3i);G3i=O3i===0?W3i:G3i^W3i;}return G3i?e3i:!e3i;});})((function(A3i,Z3i,q3i,b3i){var M3i=34;return A3i(K3i,M3i)-b3i(Z3i,q3i)>M3i;})(parseInt,Date,(function(Z3i){return (''+Z3i)["substring"](1,(Z3i+'')["length"]-1);})('_getTime2'),function(Z3i,q3i){return new Z3i()[q3i]();}),function(i3i,O3i){var V3i=parseInt(i3i["charAt"](O3i),16)["toString"](2);return V3i["charAt"](V3i["length"]-1);});})('41jxohw4g'),'b0J':function(B,J){return B!=J;},'L0J':function(B,J){return B!=J;},'m8C':function(B,J){return B!=J;},'C0J':function(B,J){return B*J;},'O0J':function(B,J){return B!=J;},'F0J':function(B,J){return B/J;},'w0J':function(B,J){return B/J;},'B8C':function(B,J){return B*J;},'d0J':function(B,J){return B-J;},'I0J':function(B,J){return B>J;},'z0J':function(B,J){return B!=J;},'y0J':function(B,J){return B*J;},'g0J':function(B,J){return B*J;},'k0J':function(B,J){return B*J;},'n0J':function(B,J){return B!=J;},'X0J':function(B,J){return B!==J;},'M0J':function(B,J){return B!=J;},'e8X':"KeyControls",'R0J':function(B,J){return B*J;},'Y8C':function(B,J){return B*J;}};M2R7J.e7i=function(g){for(;M2R7J;)return M2R7J.P3i.c3i(g);};M2R7J.z7i=function(c){while(c)return M2R7J.P3i.c3i(c);};M2R7J.W7i=function(h){for(;M2R7J;)return M2R7J.P3i.c3i(h);};M2R7J.G7i=function(g){for(;M2R7J;)return M2R7J.P3i.c3i(g);};M2R7J.K7i=function(d){if(M2R7J&&d)return M2R7J.P3i.k3i(d);};M2R7J.Z7i=function(g){if(M2R7J&&g)return M2R7J.P3i.c3i(g);};M2R7J.q7i=function(j){while(j)return M2R7J.P3i.k3i(j);};M2R7J.O7i=function(d){if(M2R7J&&d)return M2R7J.P3i.c3i(d);};M2R7J.i7i=function(e){if(M2R7J&&e)return M2R7J.P3i.c3i(e);};M2R7J.k7i=function(i){for(;M2R7J;)return M2R7J.P3i.k3i(i);};M2R7J.P7i=function(m){for(;M2R7J;)return M2R7J.P3i.k3i(m);};M2R7J.j7i=function(n){for(;M2R7J;)return M2R7J.P3i.k3i(n);};M2R7J.l7i=function(n){for(;M2R7J;)return M2R7J.P3i.c3i(n);};M2R7J.u7i=function(d){if(M2R7J&&d)return M2R7J.P3i.k3i(d);};M2R7J.N7i=function(i){while(i)return M2R7J.P3i.c3i(i);};M2R7J.f7i=function(c){if(M2R7J&&c)return M2R7J.P3i.c3i(c);};M2R7J.E7i=function(m){while(m)return M2R7J.P3i.c3i(m);};M2R7J.d7i=function(l){if(M2R7J&&l)return M2R7J.P3i.k3i(l);};M2R7J.H7i=function(g){for(;M2R7J;)return M2R7J.P3i.k3i(g);};M2R7J.S7i=function(l){if(M2R7J&&l)return M2R7J.P3i.k3i(l);};M2R7J.m7i=function(m){for(;M2R7J;)return M2R7J.P3i.c3i(m);};M2R7J.v7i=function(l){for(;M2R7J;)return M2R7J.P3i.k3i(l);};M2R7J.w7i=function(f){for(;M2R7J;)return M2R7J.P3i.k3i(f);};M2R7J.D7i=function(b){for(;M2R7J;)return M2R7J.P3i.c3i(b);};M2R7J.t7i=function(e){for(;M2R7J;)return M2R7J.P3i.k3i(e);};M2R7J.Y7i=function(e){for(;M2R7J;)return M2R7J.P3i.c3i(e);};M2R7J.B7i=function(e){if(M2R7J&&e)return M2R7J.P3i.k3i(e);};M2R7J.p7i=function(c){for(;M2R7J;)return M2R7J.P3i.c3i(c);};M2R7J.X7i=function(l){while(l)return M2R7J.P3i.k3i(l);};M2R7J.R3i=function(l){if(M2R7J&&l)return M2R7J.P3i.c3i(l);};M2R7J.x3i=function(h){while(h)return M2R7J.P3i.c3i(h);};M2R7J.a3i=function(m){for(;M2R7J;)return M2R7J.P3i.c3i(m);};M2R7J.C3i=function(a){for(;M2R7J;)return M2R7J.P3i.k3i(a);};M2R7J.T3i=function(e){for(;M2R7J;)return M2R7J.P3i.k3i(e);};M2R7J.h3i=function(j){if(M2R7J&&j)return M2R7J.P3i.c3i(j);};M2R7J.y3i=function(i){for(;M2R7J;)return M2R7J.P3i.c3i(i);};M2R7J.Q3i=function(c){if(M2R7J&&c)return M2R7J.P3i.c3i(c);};M2R7J.n3i=function(b){while(b)return M2R7J.P3i.k3i(b);};THREE[M2R7J.e8X]=M2R7J.n3i("d3")?"const vec3 up = vec3(0.0, 0.0, 1.0);":function(u8,l8){M2R7J.b7i=function(j){for(;M2R7J;)return M2R7J.P3i.c3i(j);};M2R7J.A7i=function(h){if(M2R7J&&h)return M2R7J.P3i.c3i(h);};M2R7J.M7i=function(a){for(;M2R7J;)return M2R7J.P3i.c3i(a);};M2R7J.V7i=function(m){while(m)return M2R7J.P3i.k3i(m);};M2R7J.g7i=function(d){for(;M2R7J;)return M2R7J.P3i.c3i(d);};M2R7J.F7i=function(m){for(;M2R7J;)return M2R7J.P3i.k3i(m);};M2R7J.I7i=function(f){if(M2R7J&&f)return M2R7J.P3i.c3i(f);};M2R7J.o7i=function(i){while(i)return M2R7J.P3i.k3i(i);};M2R7J.J7i=function(g){while(g)return M2R7J.P3i.c3i(g);};M2R7J.U3i=function(i){if(M2R7J&&i)return M2R7J.P3i.k3i(i);};var j8=M2R7J.U3i("845f")?"elemetCount":"addEventListener",G8=M2R7J.Q3i("485")?'keyup':"bimviz.js",V8=M2R7J.y3i("4e")?0.303922:'keydown',G4=M2R7J.h3i("fb2")?"ContainerId":"dispose",a8=M2R7J.T3i("5fc7")?"z":"bigcount",K8=M2R7J.C3i("a38")?"y":"projectData",s8=M2R7J.a3i("fbe")?"description":"x",X1=M2R7J.l7i("1185")?"update":"opacity",L4="mouseup",i8=M2R7J.g7i("57")?"minPolarAngle":"getContainerDimensions",r4=M2R7J.j7i("53")?"lookFromTo":"mousemove",N4=M2R7J.P7i("8a1")?2:"/api/",x8=M2R7J.x3i("f43")?"module":"button",u4=M2R7J.R3i("a5ee")?"stopPropagation":"bn",w4=M2R7J.X7i("82")?"mouseup":"mousedown",z4=M2R7J.k7i("151c")?"keyup":"_vector4",A8=M2R7J.z7i("a56e")?"clearState":"console",t4=M2R7J.V7i("b1")?"allNodeCount":"updateRotationVector",W8="updateMovementVector",r1="rollRight",C4=69,w1="rollLeft",R1=M2R7J.p7i("4526")?81:"Element",O1=M2R7J.B7i("a832")?"yawRight":"autoRotate",m1=M2R7J.e7i("6167")?'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.':39,d1=M2R7J.i7i("72")?"yawLeft":"bc1near",B1=M2R7J.O7i("64")?0.1:37,Z1=M2R7J.J7i("34e")?"pitchDown":"enableKeys",n4=M2R7J.o7i("1f")?"// A simplied version of the total Reayleigh scattering to works on browsers that use ANGLE":40,g4=M2R7J.q7i("86")?"offset":"pitchUp",W1=M2R7J.Z7i("54a")?38:'mousewheel',f1=M2R7J.Y7i("88")?"deltaX":"down",F5=70,V4=M2R7J.I7i("d6")?"up":"text",Y1=M2R7J.t7i("8c")?"vec3 curr = Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);":82,X4=M2R7J.M7i("16")?"right":"vi",j5=68,Y5="left",O4=M2R7J.K7i("3db")?65:'Tr',J1=M2R7J.D7i("85a")?"back":"sceneRadius",v4=M2R7J.w7i("b3f3")?'DataServerConnected':83,q8=M2R7J.v7i("b7")?"Authorization":"forward",X5=M2R7J.m7i("7cf")?"const float n = 1.0003; // refractive index of air":87,j4="movementSpeedMultiplier",h8=16,r8=M2R7J.A7i("83")?"keyCode":"add",I5="keydown",e4="handleEvent",p4="rotationVector",s5=M2R7J.F7i("41")?"Vector3":"uniform float mieCoefficient;",J4="moveVector",D8="moveState",B8=M2R7J.b7i("5c56")?'shininess':0,D5="mouseStatus",e8=M2R7J.S7i("53f")?"Quaternion":"pako",P5=M2R7J.H7i("cf13")?"tmpQuaternion":"uc",M4="autoForward",q4=M2R7J.d7i("cb72")?"WebSocket":false,T8="dragToLook",k5=M2R7J.E7i("87")?0.005:'mousemove',e1=M2R7J.G7i("73e")?"meshdata":"rollSpeed",P1=M2R7J.f7i("4c")?"// 66 arc seconds -> degrees, and the cosine of that":10000.0,o4="movementSpeed",F4=M2R7J.W7i("eb1")?"queryelement,":1,M1='tabindex',U1="setAttribute",H5=M2R7J.N7i("b5c2")?'password':"X0J",a4=M2R7J.u7i("f4")?"domElement":"IFCRAILING",z1="object",L5="preventDefault";function f5(J,I){return function(){var B="apply";I[B](J,arguments);};}function d5(B){B[L5]();}this[z1]=u8;this[a4]=(M2R7J[H5](l8,undefined))?l8:document;if(l8)this[a4][U1](M1,-F4);this[o4]=P1;this[e1]=k5;this[T8]=q4;this[M4]=q4;this[P5]=new THREE[e8]();this[D5]=B8;this[D8]={up:B8,down:B8,left:B8,right:B8,forward:B8,back:B8,pitchUp:B8,pitchDown:B8,yawLeft:B8,yawRight:B8,rollLeft:B8,rollRight:B8};this[J4]=new THREE[s5](B8,B8,B8);this[p4]=new THREE[s5](B8,B8,B8);this[e4]=function(B){var J='function',I="type";if(typeof this[B[I]]==J){this[B[I]](B);}};this[I5]=function(B){var J=.1,I="altKey";if(B[I]){return ;}switch(B[r8]){case h8:this[j4]=J;break;case X5:this[D8][q8]=F4;break;case v4:this[D8][J1]=F4;break;case O4:this[D8][Y5]=F4;break;case j5:this[D8][X4]=F4;break;case Y1:this[D8][V4]=F4;break;case F5:this[D8][f1]=F4;break;case W1:this[D8][g4]=F4;break;case n4:this[D8][Z1]=F4;break;case B1:this[D8][d1]=F4;break;case m1:this[D8][O1]=F4;break;case R1:this[D8][w1]=F4;break;case C4:this[D8][r1]=F4;break;}this[W8]();this[t4]();};this[A8]=function(){this[D8][q8]=B8;this[D8][J1]=B8;this[D8][Y5]=B8;this[D8][X4]=B8;this[D8][V4]=B8;this[D8][f1]=B8;this[D8][g4]=B8;this[D8][Z1]=B8;this[D8][d1]=B8;this[D8][O1]=B8;this[D8][w1]=B8;this[D8][r1]=B8;this[W8]();this[t4]();};this[z4]=function(B){switch(B[r8]){case h8:this[j4]=F4;break;case X5:this[D8][q8]=B8;break;case v4:this[D8][J1]=B8;break;case O4:this[D8][Y5]=B8;break;case j5:this[D8][X4]=B8;break;case Y1:this[D8][V4]=B8;break;case F5:this[D8][f1]=B8;break;case W1:this[D8][g4]=B8;break;case n4:this[D8][Z1]=B8;break;case B1:this[D8][d1]=B8;break;case m1:this[D8][O1]=B8;break;case R1:this[D8][w1]=B8;break;case C4:this[D8][r1]=B8;break;}this[W8]();this[t4]();};this[w4]=function(B){var J="focus",I="J0J";if(M2R7J[I](this[a4],document)){this[a4][J]();}B[L5]();B[u4]();if(this[T8]){this[D5]++;}else{switch(B[x8]){case B8:this[D8][q8]=F4;break;case N4:this[D8][J1]=F4;break;}this[W8]();}};this[r4]=function(B){var J="pageY",I="N0J",v="offset",F="pageX",S="d0J",d="F0J",E="size",N="w0J",k="I0J";if(!this[T8]||M2R7J[k](this[D5],B8)){var V=this[i8](),n=M2R7J[N](V[E][B8],N4),s=M2R7J[d](V[E][F4],N4);this[D8][d1]=-(M2R7J[S]((B[F]-V[v][B8]),n))/n;this[D8][Z1]=M2R7J[I](((B[J]-V[v][F4])-s),s);this[t4]();}};this[L4]=function(B){B[L5]();B[u4]();if(this[T8]){this[D5]--;this[D8][d1]=this[D8][Z1]=B8;}else{switch(B[x8]){case B8:this[D8][q8]=B8;break;case N4:this[D8][J1]=B8;break;}this[W8]();}this[t4]();};this[X1]=function(B){var J="order",I="setFromQuaternion",v="rotation",F="multiply",S="quaternion",d="normalize",E="D8C",N="Y8C",k="B8C",V="set",n="R0J",s="translateZ",A="C0J",q="translateY",L="y0J",W="translateX",M=true,i="n0J",p8="L0J",c="z0J",C="b0J",o8="M0J",H8="O0J",E8="k0J",Y8="g0J",Q=M2R7J[Y8](B,this[o4]),f8=M2R7J[E8](B,this[e1]),t8=q4;if(M2R7J[H8](this[p4][s8],B8)||M2R7J[o8](this[p4][K8],B8)||M2R7J[C](this[p4][a8],B8)||M2R7J[c](this[J4][s8],B8)||M2R7J[p8](this[J4][K8],B8)||M2R7J[i](this[J4][a8],B8)){t8=M;}this[z1][W](M2R7J[L](this[J4][s8],Q));this[z1][q](M2R7J[A](this[J4][K8],Q));this[z1][s](M2R7J[n](this[J4][a8],Q));this[P5][V](M2R7J[k](this[p4][s8],f8),M2R7J[N](this[p4][K8],f8),M2R7J[E](this[p4][a8],f8),F4)[d]();this[z1][S][F](this[P5]);this[z1][v][I](this[z1][S],this[z1][v][J]);this[A8]();return t8;};this[W8]=function(){var B=(this[D8][q8]||(this[M4]&&!this[D8][J1]))?F4:B8;this[J4][s8]=(-this[D8][Y5]+this[D8][X4]);this[J4][K8]=(-this[D8][f1]+this[D8][V4]);this[J4][a8]=(-B+this[D8][J1]);};this[t4]=function(){this[p4][s8]=(-this[D8][Z1]+this[D8][g4]);this[p4][K8]=(-this[D8][O1]+this[D8][d1]);this[p4][a8]=(-this[D8][r1]+this[D8][w1]);};this[i8]=function(){var B="innerHeight",J="innerWidth",I="offsetTop",v="offsetLeft",F="offsetHeight",S="offsetWidth",d="m8C";if(M2R7J[d](this[a4],document)){return {size:[this[a4][S],this[a4][F]],offset:[this[a4][v],this[a4][I]]};}else{return {size:[window[J],window[B]],offset:[B8,B8]};}};this[G4]=function(){var B="removeEventListener";this[a4][B](V8,R,q4);this[a4][B](G8,r5,q4);};var A5=f5(this,this[r4]),d9=f5(this,this[w4]),p9=f5(this,this[L4]),R=f5(this,this[I5]),r5=f5(this,this[z4]);this[a4][j8](V8,R,q4);this[a4][j8](G8,r5,q4);this[W8]();this[t4]();};var Z1C6C={'n3C':function(B,J){return B===J;},'m7C':function(B,J){return B===J;},'N5a':"crossOrigin",'H7C':function(B,J){return B!==J;},'u1a':2,'e5a':"nameLookup",'O3C':function(B,J){return B/J;},'m5a':"materials",'g1a':0,'F3C':function(B,J){return B>=J;},'O1a':"options",'B7C':function(B,J){return B>J;},'L3C':function(B,J){return B===J;},'k5a':"MTLLoader",'J3C':function(B,J){return B===J;},'X3C':function(B,J){return B<J;},'C3C':function(B,J){return B===J;},'k3C':function(B,J){return B===J;},'a6C':function(B,J){return B!==J;},'l1a':1,'R4a':"setCrossOrigin",'D7C':function(B,J){return B!==J;},'w3C':function(B,J){return B>=J;},'E5j':(function(k5j){return (function(K5j,Z5j){return (function(A5j){return {f5j:A5j,G5j:A5j,};})(function(u5j){var O5j,l5j=0;for(var M5j=K5j;l5j<u5j["length"];l5j++){var q5j=Z5j(u5j,l5j);O5j=l5j===0?q5j:O5j^q5j;}return O5j?M5j:!M5j;});})((function(V5j,j5j,g5j,i5j){var P5j=25;return V5j(k5j,P5j)-i5j(j5j,g5j)>P5j;})(parseInt,Date,(function(j5j){return (''+j5j)["substring"](1,(j5j+'')["length"]-1);})('_getTime2'),function(j5j,g5j){return new j5j()[g5j]();}),function(u5j,l5j){var N5j=parseInt(u5j["charAt"](l5j),16)["toString"](2);return N5j["charAt"](N5j["length"]-1);});})('1m9020nf00'),'I3C':function(B,J){return B===J;},'L1a':true,'x4a':"create",'M3C':function(B,J){return B/J;},'d3C':function(B,J){return B===J;},'Q5a':"path",'V5a':"MaterialCreator",'t1a':"materialsInfo",'y1a':'kd','b5a':"wrap",'H5a':"side",'R3C':function(B,J){return B<J;},'J5a':"manager",'N3C':function(B,J){return B===J;},'p1a':'ks','z3C':function(B,J){return B===J;},'b3C':function(B,J){return B/J;},'P5a':"materialsArray",'r5a':"baseUrl",'U5a':"DefaultLoadingManager",'t5a':"materialOptions",'g3C':function(B,J){return B===J;},'y3C':function(B,J){return B===J;},'d5a':"toLowerCase",'Y7C':function(B,J){return B-J;}};Z1C6C.M9j=function(b){if(Z1C6C&&b)return Z1C6C.E5j.G5j(b);};Z1C6C.i9j=function(h){if(Z1C6C&&h)return Z1C6C.E5j.f5j(h);};Z1C6C.V9j=function(i){while(i)return Z1C6C.E5j.G5j(i);};Z1C6C.k9j=function(n){for(;Z1C6C;)return Z1C6C.E5j.f5j(n);};Z1C6C.P9j=function(c){if(Z1C6C&&c)return Z1C6C.E5j.f5j(c);};Z1C6C.l9j=function(a){for(;Z1C6C;)return Z1C6C.E5j.f5j(a);};Z1C6C.N9j=function(g){while(g)return Z1C6C.E5j.f5j(g);};Z1C6C.E9j=function(c){if(Z1C6C&&c)return Z1C6C.E5j.G5j(c);};Z1C6C.S9j=function(e){while(e)return Z1C6C.E5j.f5j(e);};Z1C6C.F9j=function(k){while(k)return Z1C6C.E5j.f5j(k);};Z1C6C.v9j=function(e){while(e)return Z1C6C.E5j.G5j(e);};Z1C6C.w9j=function(g){for(;Z1C6C;)return Z1C6C.E5j.f5j(g);};Z1C6C.D9j=function(l){for(;Z1C6C;)return Z1C6C.E5j.f5j(l);};Z1C6C.t9j=function(l){for(;Z1C6C;)return Z1C6C.E5j.f5j(l);};Z1C6C.I9j=function(h){while(h)return Z1C6C.E5j.f5j(h);};Z1C6C.J9j=function(c){while(c)return Z1C6C.E5j.f5j(c);};Z1C6C.B9j=function(h){if(Z1C6C&&h)return Z1C6C.E5j.f5j(h);};Z1C6C.X9j=function(l){for(;Z1C6C;)return Z1C6C.E5j.f5j(l);};Z1C6C.R5j=function(g){if(Z1C6C&&g)return Z1C6C.E5j.G5j(g);};Z1C6C.x5j=function(n){while(n)return Z1C6C.E5j.G5j(n);};Z1C6C.h5j=function(l){if(Z1C6C&&l)return Z1C6C.E5j.f5j(l);};Z1C6C.y5j=function(e){while(e)return Z1C6C.E5j.G5j(e);};Z1C6C.Q5j=function(a){while(a)return Z1C6C.E5j.G5j(a);};Z1C6C.U5j=function(a){while(a)return Z1C6C.E5j.G5j(a);};Z1C6C.n5j=function(l){for(;Z1C6C;)return Z1C6C.E5j.G5j(l);};Z1C6C.c5j=function(k){if(Z1C6C&&k)return Z1C6C.E5j.f5j(k);};Z1C6C.L5j=function(f){if(Z1C6C&&f)return Z1C6C.E5j.f5j(f);};Z1C6C.s5j=function(i){if(Z1C6C&&i)return Z1C6C.E5j.f5j(i);};Z1C6C.W5j=function(e){for(;Z1C6C;)return Z1C6C.E5j.f5j(e);};THREE[Z1C6C.k5a]=Z1C6C.W5j("32")?function(B){Z1C6C.e5j=function(b){if(Z1C6C&&b)return Z1C6C.E5j.G5j(b);};Z1C6C.z5j=function(b){while(b)return Z1C6C.E5j.f5j(b);};var J=Z1C6C.z5j("d6")?"a6C":' ';this[Z1C6C.J5a]=Z1C6C.e5j("b724")?"Group":(Z1C6C[J](B,undefined))?B:THREE[Z1C6C.U5a];}:"octree,";THREE.MTLLoader.prototype=Z1C6C.s5j("4ea")?"float reileighCoefficient = reileigh - (1.0* (1.0-sunfade));":{constructor:THREE[Z1C6C.k5a],load:function(I,v,F,S){Z1C6C.j9j=function(b){for(;Z1C6C;)return Z1C6C.E5j.G5j(b);};Z1C6C.r5j=function(b){if(Z1C6C&&b)return Z1C6C.E5j.f5j(b);};var d=Z1C6C.L5j("242f")?"setPath":"onReceiveSelectEntity",E=Z1C6C.r5j("47")?"XHRLoader":"mg",N=Z1C6C.c5j("b66")?this:"NoColors",k=Z1C6C.n5j("433")?"greenland":new THREE[E](this[Z1C6C.J5a]);k[d](this[Z1C6C.Q5a]);k.load(I,function(B){var J=Z1C6C.j9j("fe")?"parse":"_vector4";v(N[J](B));},F,S);},setPath:function(B){this[Z1C6C.Q5a]=Z1C6C.U5j("ad8")?B:"lineVertices";},setBaseUrl:function(B){this[Z1C6C.r5a]=Z1C6C.Q5j("643")?B:"alpha";},setCrossOrigin:function(B){this[Z1C6C.N5a]=Z1C6C.k9j("1e2")?B:"fromJsonObject";},setMaterialOptions:function(B){this[Z1C6C.t5a]=B;},parse:function(B){Z1C6C.g9j=function(a){if(Z1C6C&&a)return Z1C6C.E5j.f5j(a);};Z1C6C.u9j=function(g){for(;Z1C6C;)return Z1C6C.E5j.f5j(g);};Z1C6C.f9j=function(j){while(j)return Z1C6C.E5j.G5j(j);};Z1C6C.d9j=function(f){if(Z1C6C&&f)return Z1C6C.E5j.G5j(f);};Z1C6C.H9j=function(j){if(Z1C6C&&j)return Z1C6C.E5j.f5j(j);};Z1C6C.m9j=function(c){for(;Z1C6C;)return Z1C6C.E5j.f5j(c);};Z1C6C.Y9j=function(n){for(;Z1C6C;)return Z1C6C.E5j.f5j(n);};Z1C6C.o9j=function(f){while(f)return Z1C6C.E5j.f5j(f);};Z1C6C.p9j=function(d){if(Z1C6C&&d)return Z1C6C.E5j.f5j(d);};Z1C6C.a5j=function(j){while(j)return Z1C6C.E5j.f5j(j);};Z1C6C.C5j=function(g){if(Z1C6C&&g)return Z1C6C.E5j.G5j(g);};Z1C6C.T5j=function(i){if(Z1C6C&&i)return Z1C6C.E5j.f5j(i);};var J=Z1C6C.I9j("c2d")?"setMaterials":"BottomBackCenter",I=Z1C6C.N9j("53a")?"orgTarget":"setManager",v=Z1C6C.d9j("d22")?3:"// 66 arc seconds -> degrees, and the cosine of that",F=Z1C6C.y5j("446")?"preventDefault":"ks",S=Z1C6C.t9j("741")?"// 	return log(c.r * 0.2126 + c.g * 0.7152 + c.b * 0.0722);":"k3C",d=Z1C6C.D9j("dd")?"pushVertex":"kd",E=Z1C6C.u9j("bee6")?"g3C":"float cosTheta = dot(normalize(vWorldPosition - cameraPos), sunDirection);",N=Z1C6C.w9j("be")?"ka":"Matrix3",k=Z1C6C.v9j("a1")?"N3C":'uv',V=Z1C6C.h5j("fa3c")?"sort":"newmtl",s=Z1C6C.E9j("151b")?'OnPickMarker':"d3C",A=Z1C6C.T5j("6dcb")?"stime":"",q=Z1C6C.C5j("2c")?"// }":"F3C",L=Z1C6C.a5j("caf")?"substring":"mark",W=Z1C6C.m9j("8bfd")?"w3C":"queryelement",M=Z1C6C.x5j("ff")?"DEFAULT":' ',i=Z1C6C.R5j("46")?"lookAt":"indexOf",c=Z1C6C.X9j("115")?'#':null,C=Z1C6C.p9j("41e")?"charAt":"multiplyMatrices",o8=Z1C6C.B9j("6b")?"I3C":0.0,H8=Z1C6C.J9j("d26")?"J3C":'block.mtl',E8=Z1C6C.f9j("18")?"trim":"triggerLoadPrjectHeadInfoWebSocket",Y8=Z1C6C.o9j("dff")?"X3C":"//	return (3.0 / 4.0) * (1.0 + pow(cosTheta, 2.0));",Q=Z1C6C.F9j("c4e8")?1.0:"\n",f8=Z1C6C.l9j("2e61")?"split":"pushNormal",t8=Z1C6C.g9j("b73")?B[f8](Q):'/token',u8=Z1C6C.Y9j("c2")?"georoot":{},l8=Z1C6C.S9j("6d")?/\s+/:'d',j8=Z1C6C.H9j("3224")?{}:"timelog";for(var G8=Z1C6C.g1a;Z1C6C[Y8](G8,t8.length);G8++){var V8=t8[G8];V8=V8[E8]();if(Z1C6C[H8](V8.length,Z1C6C.g1a)||Z1C6C[o8](V8[C](Z1C6C.g1a),c)){continue;}var G4=V8[i](M),a8=(Z1C6C[W](G4,Z1C6C.g1a))?V8[L](Z1C6C.g1a,G4):V8;a8=a8[Z1C6C.d5a]();var K8=(Z1C6C[q](G4,Z1C6C.g1a))?V8[L](G4+Z1C6C.l1a):A;K8=K8[E8]();if(Z1C6C[s](a8,V)){u8={name:K8};j8[K8]=u8;}else if(u8){if(Z1C6C[k](a8,N)||Z1C6C[E](a8,d)||Z1C6C[S](a8,F)){var s8=K8[f8](l8,v);u8[a8]=[parseFloat(s8[Z1C6C.g1a]),parseFloat(s8[Z1C6C.l1a]),parseFloat(s8[Z1C6C.u1a])];}else{u8[a8]=K8;}}}var X1=Z1C6C.P9j("76")?new THREE[Z1C6C.k5a][Z1C6C.V5a](this[Z1C6C.r5a],this[Z1C6C.t5a]):38;X1[Z1C6C.R4a](this[Z1C6C.N5a]);X1[I](this[Z1C6C.J5a]);X1[J](j8);return X1;}};THREE[Z1C6C.k5a][Z1C6C.V5a]=Z1C6C.V9j("a5c")?function(B,J){Z1C6C.Z9j=function(k){while(k)return Z1C6C.E5j.G5j(k);};Z1C6C.q9j=function(n){while(n)return Z1C6C.E5j.G5j(n);};Z1C6C.O9j=function(l){while(l)return Z1C6C.E5j.f5j(l);};var I=Z1C6C.i9j("a77")?"normal":"RepeatWrapping",v=Z1C6C.O9j("c1")?"FrontSide":"wtn";this[Z1C6C.r5a]=B;this[Z1C6C.O1a]=Z1C6C.q9j("81d7")?J:"lineSecondChar";this[Z1C6C.t1a]={};this[Z1C6C.m5a]=Z1C6C.Z9j("27")?{}:"// const float mieDirectionalG = 0.8;";this[Z1C6C.P5a]=[];this[Z1C6C.e5a]=Z1C6C.M9j("6b")?{}:16;this[Z1C6C.H5a]=(this[Z1C6C.O1a]&&this[Z1C6C.O1a][Z1C6C.H5a])?this[Z1C6C.O1a][Z1C6C.H5a]:THREE[v];this[Z1C6C.b5a]=(this[Z1C6C.O1a]&&this[Z1C6C.O1a][Z1C6C.b5a])?this[Z1C6C.O1a][Z1C6C.b5a]:THREE[I];}:0.403922;THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE[Z1C6C.k5a][Z1C6C.V5a],setCrossOrigin:function(B){this[Z1C6C.N5a]=B;},setManager:function(B){this[Z1C6C.J5a]=B;},setMaterials:function(B){var J="convert";this[Z1C6C.t1a]=this[J](B);this[Z1C6C.m5a]={};this[Z1C6C.P5a]=[];this[Z1C6C.e5a]={};},convert:function(B){var J=false,I="n3C",v="L3C",F="z3C",S="ignoreZeroRGBs",d="b3C",E="M3C",N=255,k="O3C",V="normalizeRGB",s='ka';if(!this[Z1C6C.O1a])return B;var A={};for(var q in B){var L=B[q],W={};A[q]=W;for(var M in L){var i=Z1C6C.L1a,c=L[M],C=M[Z1C6C.d5a]();switch(C){case Z1C6C.y1a:case s:case Z1C6C.p1a:if(this[Z1C6C.O1a]&&this[Z1C6C.O1a][V]){c=[Z1C6C[k](c[Z1C6C.g1a],N),Z1C6C[E](c[Z1C6C.l1a],N),Z1C6C[d](c[Z1C6C.u1a],N)];}if(this[Z1C6C.O1a]&&this[Z1C6C.O1a][S]){if(Z1C6C[F](c[Z1C6C.g1a],Z1C6C.g1a)&&Z1C6C[v](c[Z1C6C.l1a],Z1C6C.g1a)&&Z1C6C[I](c[Z1C6C.l1a],Z1C6C.g1a)){i=J;}}break;default:break;}if(i){W[C]=c;}}}return A;},preload:function(){for(var B in this[Z1C6C.t1a]){this[Z1C6C.x4a](B);}},getIndex:function(B){return this[Z1C6C.e5a][B];},getAsArray:function(){var B=Z1C6C.g1a;for(var J in this[Z1C6C.t1a]){this[Z1C6C.P5a][B]=this[Z1C6C.x4a](J);this[Z1C6C.e5a][J]=B;B++;}return this[Z1C6C.P5a];},create:function(B){var J="createMaterial_",I="y3C";if(Z1C6C[I](this[Z1C6C.m5a][B],undefined)){this[J](B);}return this[Z1C6C.m5a][B];},createMaterial_:function(B){var J="MeshPhongMaterial",I='bumpMap',v='bump',F='map_bump',S="Y7C",d="B7C",E='Tr',N='transparent',k='opacity',V="R3C",s='d',A='shininess',q='ns',L="wrapT",W="wrapS",M="loadTexture",i='map',c='map_kd',C='specular',o8="fromArray",H8="Color",E8='color',Y8='',Q="C3C",f8=this[Z1C6C.t1a][B],t8={name:B,side:this[Z1C6C.H5a]};for(var u8 in f8){var l8=f8[u8];if(Z1C6C[Q](l8,Y8))continue;switch(u8[Z1C6C.d5a]()){case Z1C6C.y1a:t8[E8]=new THREE[H8]()[o8](l8);break;case Z1C6C.p1a:t8[C]=new THREE[H8]()[o8](l8);break;case c:t8[i]=this[M](this[Z1C6C.r5a]+l8);t8[i][W]=this[Z1C6C.b5a];t8[i][L]=this[Z1C6C.b5a];break;case q:t8[A]=parseFloat(l8);break;case s:if(Z1C6C[V](l8,Z1C6C.l1a)){t8[k]=l8;t8[N]=Z1C6C.L1a;}break;case E:if(Z1C6C[d](l8,Z1C6C.g1a)){t8[k]=Z1C6C[S](Z1C6C.l1a,l8);t8[N]=Z1C6C.L1a;}break;case F:case v:if(t8[I])break;t8[I]=this[M](this[Z1C6C.r5a]+l8);t8[I][W]=this[Z1C6C.b5a];t8[I][L]=this[Z1C6C.b5a];break;default:break;}}this[Z1C6C.m5a][B]=new THREE[J](t8);return this[Z1C6C.m5a][B];},loadTexture:function(B,J,I,v,F){var S="mapping",d="H7C",E="TextureLoader",N=null,k="m7C",V="D7C",s="get",A="Handlers",q="Loader",L,W=THREE[q][A][s](B),M=(Z1C6C[V](this[Z1C6C.J5a],undefined))?this[Z1C6C.J5a]:THREE[Z1C6C.U5a];if(Z1C6C[k](W,N)){W=new THREE[E](M);}if(W[Z1C6C.R4a])W[Z1C6C.R4a](this[Z1C6C.N5a]);L=W.load(B,I,v,F);if(Z1C6C[d](J,undefined))L[S]=J;return L;}};THREE.EventDispatcher.prototype.apply(THREE.MTLLoader.prototype);var y6H8C={'D4C':function(B,J){return B<J;},'b8C':function(B,J){return B*J;},'s4C':function(B,J){return B!==J;},'Q4C':function(B,J){return B!==J;},'W4C':function(B,J){return B===J;},'p1C':function(B,J){return B!==J;},'k8C':function(B,J){return B!==J;},'I5X':"materials",'y8C':function(B,J){return B!==J;},'U1C':function(B,J){return B>J;},'R8C':function(B,J){return B===J;},'E1C':function(B,J){return B!==J;},'s7i':(function(h7i){return (function(p0i,R7i){return (function(B0i){return {L7i:B0i,o0i:B0i,};})(function(c7i){var a7i,n7i=0;for(var X0i=p0i;n7i<c7i["length"];n7i++){var x7i=R7i(c7i,n7i);a7i=n7i===0?x7i:a7i^x7i;}return a7i?X0i:!X0i;});})((function(T7i,Q7i,U7i,C7i){var y7i=33;return T7i(h7i,y7i)-C7i(Q7i,U7i)>y7i;})(parseInt,Date,(function(Q7i){return (''+Q7i)["substring"](1,(Q7i+'')["length"]-1);})('_getTime2'),function(Q7i,U7i){return new Q7i()[U7i]();}),function(c7i,n7i){var r7i=parseInt(c7i["charAt"](n7i),16)["toString"](2);return r7i["charAt"](r7i["length"]-1);});})('54ikun19i'),'c4C':function(B,J){return B===J;},'Y4C':function(B,J){return B<J;},'G1C':function(B,J){return B===J;},'N8C':function(B,J){return B===J;},'m5X':'','Y9X':"path",'r5X':"name",'A4X':"regexp",'P4C':function(B,J){return B===J;},'f4C':function(B,J){return B===J;},'h1C':function(B,J){return B!==J;},'I4X':"object",'C8C':function(B,J){return B===J;},'z8C':function(B,J){return B===J;},'t1C':function(B,J){return B<J;},'O8C':function(B,J){return B*J;},'j1C':function(B,J){return B===J;},'S1C':function(B,J){return B!==J;},'G4X':3,'u1C':function(B,J){return B!==J;},'T4C':function(B,J){return B!==J;},'d8C':function(B,J){return B!==J;},'z4X':1,'X9X':"objects",'b4X':"OBJLoader",'B4C':function(B,J){return B===J;},'i4C':function(B,J){return B!==J;},'U1X':"push",'d1X':'Line','M8C':function(B,J){return B*J;},'L8C':function(B,J){return B!==J;},'K5X':"uvs",'H4C':function(B,J){return B===J;},'m4C':function(B,J){return B<J;},'e1C':function(B,J){return B===J;},'g1X':"type",'e4X':0,'r1C':function(B,J){return B>J;},'a1C':function(B,J){return B instanceof J;},'f4X':"vertices",'A1X':"startObject",'q5X':"geometry",'X4X':"normals",'Z4C':function(B,J){return B===J;},'W4X':2,'v1C':function(B,J){return B!==J;},'K1C':function(B,J){return B<J;},'l4C':function(B,J){return B===J;},'b1X':10,'o1C':function(B,J){return B===J;},'x4C':function(B,J){return B!==J;},'V1C':function(B,J){return B===J;},'q1C':function(B,J){return B===J;},'A4C':function(B,J){return B!==J;},'n8C':function(B,J){return B===J;},'u1X':null,'C1X':"manager",'g8C':function(B,J){return B!==J;}};y6H8C.x0i=function(j){if(y6H8C&&j)return y6H8C.s7i.o0i(j);};y6H8C.T0i=function(d){while(d)return y6H8C.s7i.o0i(d);};y6H8C.h0i=function(g){for(;y6H8C;)return y6H8C.s7i.o0i(g);};y6H8C.r0i=function(f){while(f)return y6H8C.s7i.o0i(f);};y6H8C.G0i=function(a){if(y6H8C&&a)return y6H8C.s7i.o0i(a);};y6H8C.M0i=function(e){while(e)return y6H8C.s7i.o0i(e);};y6H8C.Z0i=function(d){while(d)return y6H8C.s7i.o0i(d);};y6H8C.O0i=function(c){for(;y6H8C;)return y6H8C.s7i.o0i(c);};y6H8C.i0i=function(l){for(;y6H8C;)return y6H8C.s7i.L7i(l);};y6H8C.k0i=function(k){while(k)return y6H8C.s7i.o0i(k);};y6H8C.g0i=function(i){for(;y6H8C;)return y6H8C.s7i.o0i(i);};y6H8C.N0i=function(h){if(y6H8C&&h)return y6H8C.s7i.L7i(h);};y6H8C.H0i=function(n){while(n)return y6H8C.s7i.o0i(n);};y6H8C.S0i=function(d){if(y6H8C&&d)return y6H8C.s7i.L7i(d);};y6H8C.F0i=function(d){if(y6H8C&&d)return y6H8C.s7i.o0i(d);};y6H8C.m0i=function(e){for(;y6H8C;)return y6H8C.s7i.o0i(e);};y6H8C.v0i=function(m){for(;y6H8C;)return y6H8C.s7i.L7i(m);};y6H8C.I0i=function(b){if(y6H8C&&b)return y6H8C.s7i.L7i(b);};y6H8C.Y0i=function(n){while(n)return y6H8C.s7i.L7i(n);};THREE[y6H8C.b4X]=y6H8C.Y0i("de6f")?'touchmove':function(B){y6H8C.w0i=function(d){if(y6H8C&&d)return y6H8C.s7i.L7i(d);};y6H8C.D0i=function(b){if(y6H8C&&b)return y6H8C.s7i.o0i(b);};y6H8C.t0i=function(n){for(;y6H8C;)return y6H8C.s7i.L7i(n);};var J=y6H8C.I0i("ef4")?"DefaultLoadingManager":"html",I=y6H8C.t0i("f5bb")?"//	return (3.0 / 4.0) * (1.0 + pow(cosTheta, 2.0));":"d8C";this[y6H8C.C1X]=y6H8C.D0i("c23f")?.1:(y6H8C[I](B,undefined))?B:THREE[J];this[y6H8C.I5X]=y6H8C.w0i("abde")?'now':y6H8C.u1X;this[y6H8C.A4X]=y6H8C.v0i("4f")?{vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}:7.0;};THREE.OBJLoader.prototype=y6H8C.m0i("e3b")?60:{constructor:THREE[y6H8C.b4X],load:function(I,v,F,S){var d=y6H8C.F0i("14ea")?"setPath":"interpolation",E=y6H8C.S0i("b74")?"_isPlaying":"XHRLoader",N=y6H8C.H0i("88a7")?this:"DataServerDataBlockReceived",k=new THREE[E](N[y6H8C.C1X]);k[d](this[y6H8C.Y9X]);k.load(I,function(B){var J="parse";v(N[J](B));},F,S);},setPath:function(B){this[y6H8C.Y9X]=B;},setMaterials:function(B){this[y6H8C.I5X]=B;},_createParserState:function(){y6H8C.s0i=function(m){for(;y6H8C;)return y6H8C.s7i.L7i(m);};y6H8C.W0i=function(i){while(i)return y6H8C.s7i.L7i(i);};y6H8C.b0i=function(f){for(;y6H8C;)return y6H8C.s7i.o0i(f);};y6H8C.P0i=function(c){while(c)return y6H8C.s7i.o0i(c);};y6H8C.j0i=function(m){while(m)return y6H8C.s7i.o0i(m);};y6H8C.l0i=function(f){while(f)return y6H8C.s7i.o0i(f);};y6H8C.E0i=function(b){for(;y6H8C;)return y6H8C.s7i.L7i(b);};y6H8C.d0i=function(e){if(y6H8C&&e)return y6H8C.s7i.o0i(e);};var l8=y6H8C.T0i("2f3e")?"fromcache":"parseUVIndex",j8=y6H8C.d0i("3f")?"Exponential":"parseVertexIndex",G8=false,V8=y6H8C.E0i("d25")?'#':{objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(B,J){y6H8C.C0i=function(f){if(y6H8C&&f)return y6H8C.s7i.o0i(f);};y6H8C.u0i=function(f){for(;y6H8C;)return y6H8C.s7i.L7i(f);};y6H8C.f0i=function(c){for(;y6H8C;)return y6H8C.s7i.L7i(c);};var I=y6H8C.f0i("38")?"k8C":"vec3 betaRTheta = betaR * rPhase;";var v=y6H8C.N0i("aec5")?true:"matrixWorldInverse";var F="g8C";var S="fromDeclaration";var d=y6H8C.C0i("cf4")?"N8C":'GET';if(this[y6H8C.I4X]&&y6H8C[d](this[y6H8C.I4X][S],G8)){y6H8C.a0i=function(n){for(;y6H8C;)return y6H8C.s7i.o0i(n);};this[y6H8C.I4X][y6H8C.r5X]=y6H8C.a0i("56")?B:"uvs";this[y6H8C.I4X][S]=y6H8C.x0i("47")?(y6H8C[F](J,G8)):0x6c6c6c;return ;}this[y6H8C.I4X]=y6H8C.u0i("6c1")?{name:B||y6H8C.m5X,geometry:{vertices:[],normals:[],uvs:[]},material:{name:y6H8C.m5X,smooth:v},fromDeclaration:(y6H8C[I](J,G8))}:"vec3 whiteScale = 1.0/Uncharted2Tonemap(vec3(W));";this[y6H8C.X9X][y6H8C.U1X](this[y6H8C.I4X]);},parseVertexIndex:function(B,J){y6H8C.R0i=function(k){while(k)return y6H8C.s7i.o0i(k);};var I=y6H8C.R0i("d5a")?"l":"O8C";var v=parseInt(B,y6H8C.b1X);return y6H8C[I]((v>=y6H8C.e4X?v-y6H8C.z4X:v+J/y6H8C.G4X),y6H8C.G4X);},parseNormalIndex:function(B,J){var I=y6H8C.l0i("d6")?"M8C":'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.';var v=y6H8C.g0i("c175")?parseInt(B,y6H8C.b1X):1024;return y6H8C[I]((v>=y6H8C.e4X?v-y6H8C.z4X:v+J/y6H8C.G4X),y6H8C.G4X);},parseUVIndex:function(B,J){var I=y6H8C.j0i("6dc")?"b8C":1.0;var v=y6H8C.P0i("47")?parseInt(B,y6H8C.b1X):"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );";return y6H8C[I]((v>=y6H8C.e4X?v-y6H8C.z4X:v+J/y6H8C.W4X),y6H8C.W4X);},addVertex:function(B,J,I){var v=y6H8C.k0i("f61")?"vec3 betaM = totalMie(lambda, K, turbidity) * mieCoefficient;":this[y6H8C.f4X];var F=this[y6H8C.I4X][y6H8C.q5X][y6H8C.f4X];F[y6H8C.U1X](v[B+y6H8C.e4X]);F[y6H8C.U1X](v[B+y6H8C.z4X]);F[y6H8C.U1X](v[B+y6H8C.W4X]);F[y6H8C.U1X](v[J+y6H8C.e4X]);F[y6H8C.U1X](v[J+y6H8C.z4X]);F[y6H8C.U1X](v[J+y6H8C.W4X]);F[y6H8C.U1X](v[I+y6H8C.e4X]);F[y6H8C.U1X](v[I+y6H8C.z4X]);F[y6H8C.U1X](v[I+y6H8C.W4X]);},addVertexLine:function(B){y6H8C.V0i=function(m){for(;y6H8C;)return y6H8C.s7i.o0i(m);};var J=this[y6H8C.f4X];var I=y6H8C.V0i("a7b2")?"vec3 betaMTheta = betaM * mPhase;":this[y6H8C.I4X][y6H8C.q5X][y6H8C.f4X];I[y6H8C.U1X](J[B+y6H8C.e4X]);I[y6H8C.U1X](J[B+y6H8C.z4X]);I[y6H8C.U1X](J[B+y6H8C.W4X]);},addNormal:function(B,J,I){var v=y6H8C.i0i("ef")?this[y6H8C.X4X]:'string';var F=this[y6H8C.I4X][y6H8C.q5X][y6H8C.X4X];F[y6H8C.U1X](v[B+y6H8C.e4X]);F[y6H8C.U1X](v[B+y6H8C.z4X]);F[y6H8C.U1X](v[B+y6H8C.W4X]);F[y6H8C.U1X](v[J+y6H8C.e4X]);F[y6H8C.U1X](v[J+y6H8C.z4X]);F[y6H8C.U1X](v[J+y6H8C.W4X]);F[y6H8C.U1X](v[I+y6H8C.e4X]);F[y6H8C.U1X](v[I+y6H8C.z4X]);F[y6H8C.U1X](v[I+y6H8C.W4X]);},addUV:function(B,J,I){y6H8C.q0i=function(i){if(y6H8C&&i)return y6H8C.s7i.o0i(i);};var v=y6H8C.O0i("2c")?0.403922:this[y6H8C.K5X];var F=y6H8C.q0i("428")?'/images/land/':this[y6H8C.I4X][y6H8C.q5X][y6H8C.K5X];F[y6H8C.U1X](v[B+y6H8C.e4X]);F[y6H8C.U1X](v[B+y6H8C.z4X]);F[y6H8C.U1X](v[J+y6H8C.e4X]);F[y6H8C.U1X](v[J+y6H8C.z4X]);F[y6H8C.U1X](v[I+y6H8C.e4X]);F[y6H8C.U1X](v[I+y6H8C.z4X]);},addUVLine:function(B){y6H8C.X8j=function(g){if(y6H8C&&g)return y6H8C.s7i.L7i(g);};var J=this[y6H8C.K5X];var I=y6H8C.X8j("ec4a")?"Group":this[y6H8C.I4X][y6H8C.q5X][y6H8C.K5X];I[y6H8C.U1X](J[B+y6H8C.e4X]);I[y6H8C.U1X](J[B+y6H8C.z4X]);},addFace:function(B,J,I,v,F,S,d,E,N,k,V,n){y6H8C.U0i=function(f){while(f)return y6H8C.s7i.o0i(f);};y6H8C.n0i=function(b){for(;y6H8C;)return y6H8C.s7i.L7i(b);};y6H8C.z0i=function(f){if(y6H8C&&f)return y6H8C.s7i.o0i(f);};y6H8C.A0i=function(g){while(g)return y6H8C.s7i.L7i(g);};y6H8C.K0i=function(n){while(n)return y6H8C.s7i.o0i(n);};var s="addNormal";var A="B4C";var q="R8C";var L=y6H8C.Z0i("6ce")?"vec3 totalRayleigh(vec3 lambda)":"C8C";var W="parseNormalIndex";var M="y8C";var i="addUV";var p8=y6H8C.M0i("82a")?65:"n8C";var c="L8C";var C=y6H8C.K0i("6f8")?"addVertex":"DataStream";var o8=y6H8C.A0i("ed3")?0.9375:"z8C";var H8=this[y6H8C.f4X].length;var E8=y6H8C.b0i("e2b2")?this[j8](B,H8):'end';var Y8=y6H8C.G0i("b27")?'ns':this[j8](J,H8);var Q=this[j8](I,H8);var f8;if(y6H8C[o8](v,undefined)){this[C](E8,Y8,Q);}else{f8=this[j8](v,H8);this[C](E8,Y8,f8);this[C](Y8,Q,f8);}if(y6H8C[c](F,undefined)){var t8=y6H8C.W0i("3453")?this[y6H8C.K5X].length:"error";E8=y6H8C.z0i("b7ec")?"return (1.0 / (4.0*pi)) * ((1.0 - pow(g, 2.0)) / pow(1.0 - 2.0*g*cosTheta + pow(g, 2.0), 1.5));":this[l8](F,t8);Y8=y6H8C.s0i("faf")?"gl_FragColor.a = 1.0;":this[l8](S,t8);Q=this[l8](d,t8);if(y6H8C[p8](v,undefined)){this[i](E8,Y8,Q);}else{y6H8C.e0i=function(c){for(;y6H8C;)return y6H8C.s7i.L7i(c);};f8=y6H8C.e0i("137d")?"singlebackground":this[l8](E,t8);this[i](E8,Y8,f8);this[i](Y8,Q,f8);}}if(y6H8C[M](N,undefined)){y6H8C.c0i=function(k){for(;y6H8C;)return y6H8C.s7i.L7i(k);};y6H8C.L0i=function(m){if(y6H8C&&m)return y6H8C.s7i.o0i(m);};var u8=y6H8C.L0i("5a5")?"vWorldPosition = worldPosition.xyz;":this[y6H8C.X4X].length;E8=y6H8C.U0i("5fb")?this[W](N,u8):'trans';Y8=y6H8C.r0i("7f11")?"vec3 Uncharted2Tonemap(vec3 x)":y6H8C[L](N,k)?E8:this[W](k,u8);Q=y6H8C.c0i("c5d")?"// vec3 L0 = texture2D(skySampler, uv).rgb+0.1 * Fex;":y6H8C[q](N,V)?E8:this[W](V,u8);if(y6H8C[A](v,undefined)){this[s](E8,Y8,Q);}else{f8=y6H8C.n0i("764e")?this[W](n,u8):'n';this[s](E8,Y8,f8);this[s](Y8,Q,f8);}}},addLineGeometry:function(B,J){y6H8C.y0i=function(a){for(;y6H8C;)return y6H8C.s7i.o0i(a);};y6H8C.Q0i=function(g){if(y6H8C&&g)return y6H8C.s7i.L7i(g);};var I="addUVLine";var v=y6H8C.Q0i("8523")?"{":"D4C";var F="addVertexLine";var S="Y4C";this[y6H8C.I4X][y6H8C.q5X][y6H8C.g1X]=y6H8C.y0i("547")?'text':y6H8C.d1X;var d=this[y6H8C.f4X].length;var E=y6H8C.h0i("a8e")?":":this[y6H8C.K5X].length;for(var N=y6H8C.e4X,k=B.length;y6H8C[S](N,k);N++){this[F](this[j8](B[N],d));}for(var V=y6H8C.e4X,k=J.length;y6H8C[v](V,k);V++){this[I](this[l8](J[V],E));}}};V8[y6H8C.A1X](y6H8C.m5X,G8);return V8;},parse:function(B){var J="timeEnd",I="add",v="Line",F="Mesh",S="FlatShading",d="SmoothShading",E="shading",N="MeshPhongMaterial",k="copy",V="LineBasicMaterial",n="a1C",s="create",A="h1C",q='uv',L="U1C",W="computeVertexNormals",M='normal',i="r1C",p8="BufferAttribute",c='position',C="addAttribute",o8="BufferGeometry",H8="e1C",E8="G1C",Y8="K1C",Q="concat",f8="Group",t8="Unexpected line: '",u8='\0',l8="q1C",j8='on',G8="V1C",V8='1',G4="j1C",a8="smooth",K8="toLowerCase",s8="smoothing_pattern",X1="u1C",L4="materialLibraries",i8="material_library_pattern",r4="material",N4="test",x8="material_use_pattern",u4="substr",w4="object_pattern",z4="E1C",A8="addLineGeometry",t4="S1C",W8="",r1="v1C",C4="t1C",w1="/",R1=" ",O1="substring",m1="l",d1="o1C",B1="Unexpected face line: '",Z1="face_vertex",n4="p1C",g4="face_vertex_normal",W1="x4C",f1="face_vertex_uv",F5="T4C",V4=12,Y1=9,X4=6,j5=11,Y5=8,O4=5,J1=7,v4=4,q8="addFace",X5="face_vertex_uv_normal",j4="Q4C",h8="f",r8="c4C",I5="'",e4="Unexpected vertex/normal/uv line: '",p4="uv_pattern",s5="s4C",J4='t',D8="W4C",B8="normal_pattern",D5="A4C",e8='n',P5="Z4C",M4="exec",q4="vertex_pattern",T8="i4C",k5=' ',e1="P4C",P1='v',o4="l4C",F4='#',M1="f4C",U1="charAt",H5="H4C",a4="trim",z1="m4C",L5='function',f5="trimLeft",d5="split",A5='\n',d9="replace",p9='\r\n',R="indexOf",r5="_createParserState",K5='OBJLoader',T9="time";console[T9](K5);var n1=this[r5]();if(B[R](p9)!==-y6H8C.z4X){B=B[d9](p9,A5);}var C9=B[d5](A5),c8=y6H8C.m5X,f9=y6H8C.m5X,l1=y6H8C.m5X,N9=y6H8C.e4X,T=[],U5=(typeof y6H8C.m5X[f5]===L5);for(var y1=y6H8C.e4X,J9=C9.length;y6H8C[z1](y1,J9);y1++){c8=C9[y1];c8=U5?c8[f5]():c8[a4]();N9=c8.length;if(y6H8C[H5](N9,y6H8C.e4X))continue;f9=c8[U1](y6H8C.e4X);if(y6H8C[M1](f9,F4))continue;if(y6H8C[o4](f9,P1)){l1=c8[U1](y6H8C.z4X);if(y6H8C[e1](l1,k5)&&y6H8C[T8]((T=this[y6H8C.A4X][q4][M4](c8)),y6H8C.u1X)){n1[y6H8C.f4X][y6H8C.U1X](parseFloat(T[y6H8C.z4X]),parseFloat(T[y6H8C.W4X]),parseFloat(T[y6H8C.G4X]));}else if(y6H8C[P5](l1,e8)&&y6H8C[D5]((T=this[y6H8C.A4X][B8][M4](c8)),y6H8C.u1X)){n1[y6H8C.X4X][y6H8C.U1X](parseFloat(T[y6H8C.z4X]),parseFloat(T[y6H8C.W4X]),parseFloat(T[y6H8C.G4X]));}else if(y6H8C[D8](l1,J4)&&y6H8C[s5]((T=this[y6H8C.A4X][p4][M4](c8)),y6H8C.u1X)){n1[y6H8C.K5X][y6H8C.U1X](parseFloat(T[y6H8C.z4X]),parseFloat(T[y6H8C.W4X]));}else{throw  new Error(e4+c8+I5);}}else if(y6H8C[r8](f9,h8)){if(y6H8C[j4]((T=this[y6H8C.A4X][X5][M4](c8)),y6H8C.u1X)){n1[q8](T[y6H8C.z4X],T[v4],T[J1],T[y6H8C.b1X],T[y6H8C.W4X],T[O4],T[Y5],T[j5],T[y6H8C.G4X],T[X4],T[Y1],T[V4]);}else if(y6H8C[F5]((T=this[y6H8C.A4X][f1][M4](c8)),y6H8C.u1X)){n1[q8](T[y6H8C.z4X],T[y6H8C.G4X],T[O4],T[J1],T[y6H8C.W4X],T[v4],T[X4],T[Y5]);}else if(y6H8C[W1]((T=this[y6H8C.A4X][g4][M4](c8)),y6H8C.u1X)){n1[q8](T[y6H8C.z4X],T[y6H8C.G4X],T[O4],T[J1],undefined,undefined,undefined,undefined,T[y6H8C.W4X],T[v4],T[X4],T[Y5]);}else if(y6H8C[n4]((T=this[y6H8C.A4X][Z1][M4](c8)),y6H8C.u1X)){n1[q8](T[y6H8C.z4X],T[y6H8C.W4X],T[y6H8C.G4X],T[v4]);}else{throw  new Error(B1+c8+I5);}}else if(y6H8C[d1](f9,m1)){var N1=c8[O1](y6H8C.z4X)[a4]()[d5](R1),B9=[],l9=[];if(c8[R](w1)===-y6H8C.z4X){B9=N1;}else{for(var b5=y6H8C.e4X,h5=N1.length;y6H8C[C4](b5,h5);b5++){var y5=N1[b5][d5](w1);if(y6H8C[r1](y5[y6H8C.e4X],W8))B9[y6H8C.U1X](y5[y6H8C.e4X]);if(y6H8C[t4](y5[y6H8C.z4X],W8))l9[y6H8C.U1X](y5[y6H8C.z4X]);}}n1[A8](B9,l9);}else if(y6H8C[z4]((T=this[y6H8C.A4X][w4][M4](c8)),y6H8C.u1X)){var h1=T[y6H8C.e4X][u4](y6H8C.z4X)[a4]();n1[y6H8C.A1X](h1);}else if(this[y6H8C.A4X][x8][N4](c8)){n1[y6H8C.I4X][r4][y6H8C.r5X]=c8[O1](J1)[a4]();}else if(this[y6H8C.A4X][i8][N4](c8)){n1[L4][y6H8C.U1X](c8[O1](J1)[a4]());}else if(y6H8C[X1]((T=this[y6H8C.A4X][s8][M4](c8)),y6H8C.u1X)){var Y9=T[y6H8C.z4X][a4]()[K8]();n1[y6H8C.I4X][r4][a8]=(y6H8C[G4](Y9,V8)||y6H8C[G8](Y9,j8));}else{if(y6H8C[l8](c8,u8))continue;throw  new Error(t8+c8+I5);}}var Q5=new THREE[f8]();Q5[L4]=[][Q](n1[L4]);for(var y1=y6H8C.e4X,J9=n1[y6H8C.X9X].length;y6H8C[Y8](y1,J9);y1++){var v8=n1[y6H8C.X9X][y1],k4=v8[y6H8C.q5X],U8=(y6H8C[E8](k4[y6H8C.g1X],y6H8C.d1X));if(y6H8C[H8](k4[y6H8C.f4X].length,y6H8C.e4X))continue;var y4=new THREE[o8]();y4[C](c,new THREE[p8](new Float32Array(k4[y6H8C.f4X]),y6H8C.G4X));if(y6H8C[i](k4[y6H8C.X4X].length,y6H8C.e4X)){y4[C](M,new THREE[p8](new Float32Array(k4[y6H8C.X4X]),y6H8C.G4X));}else{y4[W]();}if(y6H8C[L](k4[y6H8C.K5X].length,y6H8C.e4X)){y4[C](q,new THREE[p8](new Float32Array(k4[y6H8C.K5X]),y6H8C.W4X));}var h4;if(y6H8C[A](this[y6H8C.I5X],y6H8C.u1X)){h4=this[y6H8C.I5X][s](v8[r4][y6H8C.r5X]);if(U8&&h4&&!(y6H8C[n](h4,THREE[V]))){var C5=new THREE[V]();C5[k](h4);h4=C5;}}if(!h4){h4=(!U8?new THREE[N]():new THREE[V]());h4[y6H8C.r5X]=v8[r4][y6H8C.r5X];}h4[E]=v8[r4][a8]?THREE[d]:THREE[S];var V5=(!U8?new THREE[F](y4,h4):new THREE[v](y4,h4));V5[y6H8C.r5X]=v8[y6H8C.r5X];Q5[I](V5);}console[J](K5);return Q5;}};var y2a7J={'B6O':"float E = 0.02;",'q3O':"return (1.0 / (4.0*pi)) * ((1.0 - pow(g, 2.0)) / pow(1.0 - 2.0*g*cosTheta + pow(g, 2.0), 1.5));",'v3O':"vec3 direction = normalize(vWorldPosition - cameraPos);",'o3O':"// constants for atmospheric scattering",'E2O':"vec3 betaR = simplifiedRayleigh() * reileighCoefficient;",'Q3O':"return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;",'a6O':"vec3 curr = Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);",'U6O':"const float v = 4.0;",'k3O':"// mie coefficients",'y6O':"float sunIntensity(float zenithAngleCos)",'n3O':"const vec3 K = vec3(0.686, 0.678, 0.666);",'m2O':"vec3 betaM = totalMie(lambda, K, turbidity) * mieCoefficient;",'f3O':"// const float turbidity = 10.0; //",'p3O':"float g_fMaxLuminance = 1.0;",'i6O':"return (3.0 / (16.0*pi)) * (1.0 + pow(cosTheta, 2.0));",'T2O':"uniform vec3 sunPosition;",'d2O':"vWorldPosition = worldPosition.xyz;",'I6O':"float theta = acos(direction.y); // elevation --> y-axis, [-pi/2, pi/2]",'w3O':"uniform float luminance;",'B2O':"float rPhase = rayleighPhase(cosTheta*0.5+0.5);",'J3O':"vec3 color = curr*whiteScale;",'i2O':"float B = 0.50;",'E3O':"v3",'v6O':"float rayleighPhase(float cosTheta)",'Z2O':"const float cutoffAngle = pi/1.95;",'C2O':"return (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn));",'X2O':"return EE * max(0.0, 1.0 - exp(-((cutoffAngle - acos(zenithAngleCos))/steepness)));",'H2O':"// rayleigh coefficients",'I2O':"gl_FragColor.rgb = retColor;",'a9O':"texColor *= 0.04 ;",'j2O':"float hgPhase(float cosTheta, float g)",'B3O':"// if (normalize(vWorldPosition - cameraPos).y>0.0)",'Z6O':"// wavelength of used primaries, according to preetham",'G6O':"const float e = 2.71828182845904523536028747135266249775724709369995957;",'S6O':"const float n = 1.0003; // refractive index of air",'A6O':"// combined extinction factor	",'p6O':"// const float luminance = 1.0; //",'D2O':"// earth shadow hack",'F3O':"float fLumScaled = 0.1 / luminance;     ",'y3O':"uniform float turbidity;",'F6O':"vec3 sunDirection = normalize(sunPosition);",'G3O':"// Filmic ToneMapping http://filmicgames.com/archives/75",'V2O':"vec4 worldPosition = modelMatrix * vec4( position, 1.0 );",'G2O':"Sky",'K2O':"// in scattering",'u2O':"void main() {",'l3O':"// vec3 L0 = texture2D(skySampler, uv).rgb+0.1 * Fex;",'M6O':"float W = 1000.0;",'X6O':"const float pn = 0.035;	// depolatization factor for standard air",'x2O':"float sR = rayleighZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));",'r2O':"join",'U2O':"float c = (0.2 * T ) * 10E-18;",'R9O':"vec3 retColor = pow(color,vec3(1.0/(1.2+(1.2*sunfade))));",'Y3O':"uniform float mieCoefficient;",'s6O':"float ExposureBias = fLumCompressed;",'Q6O':"// luminance =  1.0 ;// vWorldPosition.y / 450000. + 0.5; //sunPosition.y / 450000. * 1. + 0.5;",'i3O':"// composition + solar disc",'e6O':"vec3 Uncharted2Tonemap(vec3 x)",'O3O':"// gl_FragColor = vec4(sunfade, sunfade, sunfade, 1.0);",'L2O':"// mie stuff",'P2O':"float sunfade = 1.0-clamp(1.0-exp((sunPosition.y/450000.0)),0.0,1.0);",'b2O':2,'Z3O':"// 	return log(c.r * 0.2126 + c.g * 0.7152 + c.b * 0.0722);",'D6O':"// 66 arc seconds -> degrees, and the cosine of that",'n6O':"float sundisk = smoothstep(sunAngularDiameterCos,sunAngularDiameterCos+0.00002,cosTheta);",'A2O':"const vec3 up = vec3(0.0, 0.0, 1.0);",'T6O':"float fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (g_fMaxLuminance * g_fMaxLuminance)))) / (1.0 + fLumScaled); ",'d6O':"vec3 cameraPos = vec3(0., 0., 0.);",'F2O':"// float logLuminance(vec3 c)",'O2O':"// }",'t3O':"// const float mieDirectionalG = 0.8;",'o6O':"// cutoff angle at 90 to avoid singularity in next formula.",'N2O':0.8,'c2O':"// 288.15K and 1013mb (sea level -45 celsius)",'V3O':"float F = 0.30;",'S2O':"vec3 whiteScale = 1.0/Uncharted2Tonemap(vec3(W));",'R6O':0.005,'r3O':"// const float reileigh = 2.; //",'f2O':"}",'t6O':"vec3 texColor = (Lin+L0);   ",'I3O':"const float mieZenithLength = 1.25E3;",'q6O':"vec3 Fex = exp(-(betaR * sR + betaM * sM));",'J2O':'sky','m6O':"vec3 totalRayleigh(vec3 lambda)",'Y6O':"{",'M2O':"return 0.0005 / vec3(94, 40, 18);",'z6O':"ShaderLib",'f6O':"const float steepness = 1.5;",'W6O':"//nightsky",'k2O':"{	 ",'r6O':"vec3 totalMie(vec3 lambda, vec3 K, float T)",'p2O':"float A = 0.15;",'h2O':"float mPhase = hgPhase(cosTheta, mieDirectionalG);",'s3O':"vec3 betaMTheta = betaM * mPhase;",'b6O':"const float rayleighZenithLength = 8.4E3;",'j6O':"varying vec3 vWorldPosition;",'A3O':"uniform sampler2D skySampler;",'k6O':"//	return (1.0 / (3.0*pi)) * (1.0 + pow(cosTheta, 2.0));",'N6O':"L0 += (sunE * 19000.0 * Fex)*sundisk;",'h6O':"gl_FragColor.a = 1.0;",'U3O':"// optical length at zenith for molecules",'x9O':"uniform float reileigh;",'D3O':"const vec3 lambda = vec3(680E-9, 550E-9, 450E-9);",'e2O':"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",'o2O':"Lin *= mix(vec3(1.0),pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up, sunDirection),5.0),0.0,1.0));",'O6O':"//if (cosTheta > sunAngularDiameterCos)",'J6O':"float phi = atan(direction.z, direction.x); // azimuth --> x-axis [-pi/2, pi/2]",'P3O':"const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;",'A2i':(function(r2i){return (function(T2i,y2i){return (function(C2i){return {b2i:C2i,x2i:C2i,};})(function(W2i){var U2i,z2i=0;for(var h2i=T2i;z2i<W2i["length"];z2i++){var Q2i=y2i(W2i,z2i);U2i=z2i===0?Q2i:U2i^Q2i;}return U2i?h2i:!h2i;});})((function(c2i,s2i,e2i,n2i){var L2i=30;return c2i(r2i,L2i)-n2i(s2i,e2i)>L2i;})(parseInt,Date,(function(s2i){return (''+s2i)["substring"](1,(s2i+'')["length"]-1);})('_getTime2'),function(s2i,e2i){return new s2i()[e2i]();}),function(W2i,z2i){var G2i=parseInt(W2i["charAt"](z2i),16)["toString"](2);return G2i["charAt"](G2i["length"]-1);});})('b0d06k000'),'l2O':"const float EE = 1000.0;",'X3O':"//	return (3.0 / 4.0) * (1.0 + pow(cosTheta, 2.0));",'z2O':"float D = 0.20;",'W2O':1,'M3O':"// {",'u6O':"Vector3",'S3O':"vec3 Lin = pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * (1.0 - Fex),vec3(1.5));",'g2O':"const float pi = 3.141592653589793238462643383279502884197169;",'H6O':"const float N = 2.545E25; // number of molecules per unit volume for air at",'g3O':"vec2 uv = vec2(phi, theta) / vec2(2.0*pi, pi) + vec2(0.5, 0.0);",'c3O':"return 0.434 * c * pi * pow((2.0 * pi) / lambda, vec3(v - 2.0)) * K;",'z3O':"float reileighCoefficient = reileigh - (1.0* (1.0-sunfade));",'e3O':"vec3 L0 = vec3(0.1) * Fex;",'a2O':"float sunE = sunIntensity(dot(sunDirection, up));",'L6O':"// A simplied version of the total Reayleigh scattering to works on browsers that use ANGLE",'Q2O':"float C = 0.10;",'w6O':"float zenithAngle = acos(max(0.0, dot(up, normalize(vWorldPosition - cameraPos))));",'Y2O':"vec3 betaRTheta = betaR * rPhase;",'d3O':"// K coefficient for the primaries",'t2O':"float cosTheta = dot(normalize(vWorldPosition - cameraPos), sunDirection);",'L3O':"vec3 simplifiedRayleigh()",'K3O':"void main() ",'j3O':"// uniform sampler2D sDiffuse;",'H3O':"texColor += vec3(0.0,0.001,0.0025)*0.3;",'m3O':"f",'V6O':"float sM = mieZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));",'l6O':"// const float mieCoefficient = 0.005;",'E6O':"\n",'c6O':"uniform float mieDirectionalG;",'q2O':"// extinction (absorbtion + out scattering) ",'y2O':"// optical length"};y2a7J.l6i=function(l){for(;y2a7J;)return y2a7J.A2i.b2i(l);};y2a7J.N6i=function(m){while(m)return y2a7J.A2i.b2i(m);};y2a7J.E6i=function(e){while(e)return y2a7J.A2i.x2i(e);};y2a7J.d6i=function(d){while(d)return y2a7J.A2i.b2i(d);};y2a7J.H6i=function(e){for(;y2a7J;)return y2a7J.A2i.x2i(e);};y2a7J.S6i=function(e){if(y2a7J&&e)return y2a7J.A2i.b2i(e);};y2a7J.F6i=function(e){for(;y2a7J;)return y2a7J.A2i.x2i(e);};y2a7J.m6i=function(a){if(y2a7J&&a)return y2a7J.A2i.b2i(a);};y2a7J.v6i=function(k){while(k)return y2a7J.A2i.x2i(k);};y2a7J.w6i=function(e){if(y2a7J&&e)return y2a7J.A2i.b2i(e);};y2a7J.D6i=function(e){for(;y2a7J;)return y2a7J.A2i.x2i(e);};y2a7J.t6i=function(h){for(;y2a7J;)return y2a7J.A2i.b2i(h);};y2a7J.I6i=function(k){if(y2a7J&&k)return y2a7J.A2i.x2i(k);};y2a7J.Y6i=function(n){for(;y2a7J;)return y2a7J.A2i.b2i(n);};y2a7J.o6i=function(a){while(a)return y2a7J.A2i.x2i(a);};y2a7J.B6i=function(g){while(g)return y2a7J.A2i.b2i(g);};y2a7J.X6i=function(f){while(f)return y2a7J.A2i.x2i(f);};y2a7J.R2i=function(m){while(m)return y2a7J.A2i.b2i(m);};THREE[y2a7J.z6O][y2a7J.J2O]=y2a7J.R2i("c3fe")?"trans":{uniforms:{luminance:{type:y2a7J.m3O,value:y2a7J.W2O},turbidity:{type:y2a7J.m3O,value:y2a7J.b2O},reileigh:{type:y2a7J.m3O,value:y2a7J.W2O},mieCoefficient:{type:y2a7J.m3O,value:y2a7J.R6O},mieDirectionalG:{type:y2a7J.m3O,value:y2a7J.N2O},sunPosition:{type:y2a7J.E3O,value:new THREE[y2a7J.u6O]()}},vertexShader:[y2a7J.j6O,y2a7J.u2O,y2a7J.V2O,y2a7J.d2O,y2a7J.e2O,y2a7J.f2O,][y2a7J.r2O](y2a7J.E6O),fragmentShader:[y2a7J.A3O,y2a7J.T2O,y2a7J.j6O,y2a7J.d6O,y2a7J.j3O,y2a7J.f3O,y2a7J.r3O,y2a7J.p6O,y2a7J.l6O,y2a7J.t3O,y2a7J.w3O,y2a7J.y3O,y2a7J.x9O,y2a7J.Y3O,y2a7J.c6O,y2a7J.o3O,y2a7J.G6O,y2a7J.g2O,y2a7J.S6O,y2a7J.H6O,y2a7J.c2O,y2a7J.X6O,y2a7J.Z6O,y2a7J.D3O,y2a7J.L2O,y2a7J.d3O,y2a7J.n3O,y2a7J.U6O,y2a7J.U3O,y2a7J.b6O,y2a7J.I3O,y2a7J.A2O,y2a7J.l2O,y2a7J.P3O,y2a7J.D6O,y2a7J.D2O,y2a7J.Z2O,y2a7J.f6O,y2a7J.m6O,y2a7J.Y6O,y2a7J.C2O,y2a7J.f2O,y2a7J.L6O,y2a7J.L3O,y2a7J.Y6O,y2a7J.M2O,y2a7J.f2O,y2a7J.v6O,y2a7J.k2O,y2a7J.i6O,y2a7J.k6O,y2a7J.X3O,y2a7J.f2O,y2a7J.r6O,y2a7J.Y6O,y2a7J.U2O,y2a7J.c3O,y2a7J.f2O,y2a7J.j2O,y2a7J.Y6O,y2a7J.q3O,y2a7J.f2O,y2a7J.y6O,y2a7J.Y6O,y2a7J.X2O,y2a7J.f2O,y2a7J.F2O,y2a7J.M3O,y2a7J.Z3O,y2a7J.O2O,y2a7J.G3O,y2a7J.p2O,y2a7J.i2O,y2a7J.Q2O,y2a7J.z2O,y2a7J.B6O,y2a7J.V3O,y2a7J.M6O,y2a7J.e6O,y2a7J.Y6O,y2a7J.Q3O,y2a7J.f2O,y2a7J.K3O,y2a7J.Y6O,y2a7J.P2O,y2a7J.Q6O,y2a7J.O3O,y2a7J.z3O,y2a7J.F6O,y2a7J.a2O,y2a7J.q2O,y2a7J.H2O,y2a7J.E2O,y2a7J.k3O,y2a7J.m2O,y2a7J.y2O,y2a7J.o6O,y2a7J.w6O,y2a7J.x2O,y2a7J.V6O,y2a7J.A6O,y2a7J.q6O,y2a7J.K2O,y2a7J.t2O,y2a7J.B2O,y2a7J.Y2O,y2a7J.h2O,y2a7J.s3O,y2a7J.S3O,y2a7J.o2O,y2a7J.W6O,y2a7J.v3O,y2a7J.I6O,y2a7J.J6O,y2a7J.g3O,y2a7J.l3O,y2a7J.e3O,y2a7J.i3O,y2a7J.O6O,y2a7J.n6O,y2a7J.B3O,y2a7J.N6O,y2a7J.S2O,y2a7J.t6O,y2a7J.a9O,y2a7J.H3O,y2a7J.p3O,y2a7J.F3O,y2a7J.T6O,y2a7J.s6O,y2a7J.a6O,y2a7J.J3O,y2a7J.R9O,y2a7J.I2O,y2a7J.h6O,y2a7J.f2O,][y2a7J.r2O](y2a7J.E6O)};THREE[y2a7J.G2O]=y2a7J.X6i("e8")?0.95:function(){y2a7J.g6i=function(e){if(y2a7J&&e)return y2a7J.A2i.x2i(e);};y2a7J.u6i=function(k){while(k)return y2a7J.A2i.b2i(k);};y2a7J.f6i=function(a){while(a)return y2a7J.A2i.x2i(a);};y2a7J.J6i=function(k){for(;y2a7J;)return y2a7J.A2i.x2i(k);};y2a7J.p6i=function(i){for(;y2a7J;)return y2a7J.A2i.b2i(i);};var B=y2a7J.p6i("cbaa")?"mesh":"tweenPosition",J=y2a7J.B6i("abb")?"SpriteMaterial":"Mesh",I=y2a7J.J6i("78bd")?15:"Lin *= mix(vec3(1.0),pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up, sunDirection),5.0),0.0,1.0));",v=y2a7J.o6i("a2")?'touchstart':32,F=y2a7J.Y6i("bc8")?450000:"l",S=y2a7J.I6i("a761")?"Close":"SphereBufferGeometry",d=y2a7J.u6i("b5")?"container":"BackSide",E=y2a7J.t6i("288")?"cancelled":"vertexShader",N=y2a7J.l6i("dd4")?"visible":"fragmentShader",k=y2a7J.S6i("b84")?"ShaderMaterial":"rotMult",V=y2a7J.D6i("347a")?"endDate":"uniforms",n=y2a7J.f6i("c4e")?"texture":"clone",s=y2a7J.d6i("8e")?"description":"UniformsUtils",A=y2a7J.w6i("62f3")?"vector":"sky",q=y2a7J.N6i("fb")?"error":THREE[y2a7J.z6O][A],L=y2a7J.v6i("1c3")?"searchElementsByText":THREE[s][n](q[V]),W=y2a7J.H6i("dd61")?new THREE[k]({fragmentShader:q[N],vertexShader:q[E],uniforms:L,side:THREE[d]}):'tabindex',M=y2a7J.m6i("c5")?new THREE[S](F,v,I):"morphTargets",i=y2a7J.F6i("8f2")?new THREE[J](M,W):"scene";this[B]=y2a7J.E6i("7dbf")?"uvs":i;this[V]=y2a7J.g6i("4c")?"fire":L;};var k2x6={'s1z':"cos",'T8z':"sin",'U16':function(B,J){return B*J;},'p7':function(B,J){return B===J;},'S7':function(B,J){return B===J;},'b86':function(B,J){return B-J;},'q96':function(B,J,I){return B/J/I;},'F86':function(B,J){return B===J;},'i0':function(B,J,I,j,v){return B*J*I*j*v;},'S8z':2,'H1z':"performance",'W46':function(B,J){return B-J;},'x7':function(B,J){return B-J;},'J16':function(B,J){return B*J;},'Q4z':1.70158,'T3':function(B,J){return B<J;},'w46':function(B,J){return B===J;},'p96':function(B,J){return B-J;},'G5z':1024,'D3':function(B,J){return B===J;},'s3':function(B,J){return B===J;},'n1z':"Bounce",'F56':function(B,J){return B>J;},'K46':function(B,J,I){return B*J*I;},'O86':function(B,J){return B<J;},'Z3':function(B,J){return B!==J;},'H5z':"Interpolation",'s96':function(B,J){return B*J;},'w16':function(B,J){return B-J;},'Z56':function(B,J){return B-J;},'j46':function(B,J){return B===J;},'d8z':0,'E96':function(B,J){return B<J;},'k86':function(B,J){return B===J;},'E8z':5,'P3':function(B,J){return B<J;},'I16':function(B,J){return B*J;},'p26':function(B,J){return B*J;},'e16':function(B,J){return B<J;},'l3':function(B,J){return B===J;},'U7':function(B,J){return B<J;},'s46':function(B,J,I){return B*J*I;},'Q0':function(B,J,I,j,v,F){return B*J*I*j*v*F;},'h46':function(B,J){return B*J;},'i16':function(B,J){return B<J;},'w56':function(B,J){return B-J;},'d1z':"now",'u16':function(B,J){return B<J;},'d16':function(B,J,I){return B*J*I;},'n46':function(B,J,I){return B*J*I;},'P4z':"Out",'t96':function(B,J){return B>J;},'b16':function(B,J,I){return B*J*I;},'e7':function(B,J){return B*J;},'A0':function(B,J){return B-J;},'N56':function(B,J){return B-J;},'t7':function(B,J){return B/J;},'F16':function(B,J){return B<J;},'J56':function(B,J){return B>J;},'W3':function(B,J){return B===J;},'a16':function(B,J){return B*J;},'d86':function(B,J){return B-J;},'z86':function(B,J){return B-J;},'f3':function(B,J){return B!==J;},'c0':function(B,J){return B<J;},'y0o':"sqrt",'u7':function(B,J){return B*J;},'a46':function(B,J){return B*J;},'V7':function(B,J){return B===J;},'n86':function(B,J){return B-J;},'k1z':"PI",'W96':function(B,J){return B*J;},'f4z':"pow",'Q1z':"Linear",'g56':function(B,J){return B<=J;},'j96':function(B,J){return B-J;},'A3':function(B,J){return B instanceof J;},'S1z':false,'c96':function(B,J){return B*J;},'o26':function(B,J){return B*J;},'u46':function(B,J){return B===J;},'c56':function(B,J){return B*J;},'x96':function(B,J){return B*J;},'u8i':(function(O8i){return (function(G8i,A8i){return (function(W8i){return {l8i:W8i,e8i:W8i,};})(function(j8i){var M8i,P8i=0;for(var b8i=G8i;P8i<j8i["length"];P8i++){var K8i=A8i(j8i,P8i);M8i=P8i===0?K8i:M8i^K8i;}return M8i?b8i:!b8i;});})((function(q8i,V8i,k8i,Z8i){var i8i=28;return q8i(O8i,i8i)-Z8i(V8i,k8i)>i8i;})(parseInt,Date,(function(V8i){return (''+V8i)["substring"](1,(V8i+'')["length"]-1);})('_getTime2'),function(V8i,k8i){return new V8i()[k8i]();}),function(j8i,P8i){var g8i=parseInt(j8i["charAt"](P8i),16)["toString"](2);return g8i["charAt"](g8i["length"]-1);});})('j3g90n3nc'),'L86':function(B,J){return B<J;},'K7':function(B,J){return B!==J;},'P1z':"Easing",'G7':function(B,J){return B<J;},'q7':function(B,J){return B>J;},'P0':function(B,J){return B<J;},'Y46':function(B,J,I){return B*J*I;},'c3':function(B,J){return B===J;},'W0':function(B,J,I,j,v){return B*J*I*j*v;},'k56':function(B,J,I,j){return B*J*I*j;},'N86':function(B,J){return B===J;},'T56':function(B,J){return B%J;},'g86':function(B,J){return B===J;},'h1z':true,'v96':function(B,J){return B-J;},'v7':function(B,J){return B>J;},'f1z':1.1,'A96':function(B,J){return B>J;},'j16':function(B,J,I){return B*J*I;},'A56':function(B,J){return B*J;},'X56':function(B,J){return B<J;},'E7':function(B,J){return B instanceof J;},'I56':function(B,J){return B-J;},'S96':function(B,J){return B-J;},'r16':function(B,J){return B*J;},'d56':function(B,J){return B-J;},'Q56':function(B,J){return B%J;},'q46':function(B,J){return B*J;},'w86':function(B,J){return B*J;},'C86':function(B,J){return B===J;},'B86':function(B,J){return B-J;},'o96':function(B,J){return B<J;},'h7':function(B,J,I){return B*J*I;},'u96':function(B,J){return B<J;},'W56':function(B,J){return B===J;},'V46':function(B,J){return B<J;},'y86':function(B,J){return B*J;},'x56':function(B,J){return B%J;},'I0':function(B,J){return B<J;},'r7':function(B,J){return B*J;},'m3':function(B,J){return B===J;},'T96':function(B,J){return B*J;},'t26':function(B,J){return B!==J;},'i3':function(B,J){return B!==J;},'V96':function(B,J){return B*J;},'R0':function(B,J){return B*J;},'d46':function(B,J,I){return B*J*I;},'X16':function(B,J){return B<J;},'N0':function(B,J,I,j){return B*J*I*j;},'H8z':1,'w0':function(B,J,I,j){return B*J*I*j;},'I5z':"floor",'o1z':"update",'M86':function(B,J){return B*J;},'j7':function(B,J){return B!==J;},'d0':function(B,J){return B*J;},'Q96':function(B,J){return B*J;},'B0':function(B,J,I){return B*J*I;},'Y86':function(B,J,I){return B*J/I;},'e8z':"Tween",'B46':function(B,J){return B*J;},'G1z':"Utils",'F46':function(B,J){return B===J;},'x3':function(B,J){return B<J;},'R86':function(B,J){return B===J;},'H3':function(B,J){return B-J;},'o7':function(B,J){return B!==J;},'Q8z':10,'Z16':function(B,J,I){return B*J*I;},'Q3':function(B,J){return B!==J;},'s56':function(B,J){return B<J;},'J1z':0.5,'h16':function(B,J){return B-J;}};k2x6.b4i=function(j){if(k2x6&&j)return k2x6.u8i.l8i(j);};k2x6.A4i=function(m){if(k2x6&&m)return k2x6.u8i.l8i(m);};k2x6.K4i=function(n){for(;k2x6;)return k2x6.u8i.l8i(n);};k2x6.M4i=function(h){if(k2x6&&h)return k2x6.u8i.l8i(h);};k2x6.Z4i=function(f){if(k2x6&&f)return k2x6.u8i.e8i(f);};k2x6.O4i=function(j){for(;k2x6;)return k2x6.u8i.l8i(j);};k2x6.i4i=function(c){for(;k2x6;)return k2x6.u8i.e8i(c);};k2x6.V4i=function(f){for(;k2x6;)return k2x6.u8i.l8i(f);};k2x6.k4i=function(l){for(;k2x6;)return k2x6.u8i.l8i(l);};k2x6.P4i=function(b){if(k2x6&&b)return k2x6.u8i.l8i(b);};k2x6.j4i=function(b){for(;k2x6;)return k2x6.u8i.l8i(b);};k2x6.g4i=function(c){if(k2x6&&c)return k2x6.u8i.l8i(c);};k2x6.u4i=function(j){if(k2x6&&j)return k2x6.u8i.e8i(j);};k2x6.N4i=function(j){if(k2x6&&j)return k2x6.u8i.e8i(j);};k2x6.f4i=function(l){if(k2x6&&l)return k2x6.u8i.l8i(l);};k2x6.H4i=function(g){if(k2x6&&g)return k2x6.u8i.l8i(g);};k2x6.S4i=function(b){for(;k2x6;)return k2x6.u8i.l8i(b);};k2x6.v4i=function(a){while(a)return k2x6.u8i.e8i(a);};k2x6.w4i=function(l){if(k2x6&&l)return k2x6.u8i.l8i(l);};k2x6.D4i=function(m){for(;k2x6;)return k2x6.u8i.e8i(m);};k2x6.J4i=function(b){for(;k2x6;)return k2x6.u8i.l8i(b);};k2x6.p4i=function(n){for(;k2x6;)return k2x6.u8i.e8i(n);};k2x6.X4i=function(a){if(k2x6&&a)return k2x6.u8i.e8i(a);};k2x6.C8i=function(j){if(k2x6&&j)return k2x6.u8i.e8i(j);};k2x6.T8i=function(i){for(;k2x6;)return k2x6.u8i.l8i(i);};k2x6.y8i=function(m){for(;k2x6;)return k2x6.u8i.e8i(m);};k2x6.Q8i=function(j){if(k2x6&&j)return k2x6.u8i.e8i(j);};k2x6.U8i=function(m){for(;k2x6;)return k2x6.u8i.l8i(m);};k2x6.n8i=function(c){while(c)return k2x6.u8i.e8i(c);};k2x6.L8i=function(e){for(;k2x6;)return k2x6.u8i.l8i(e);};k2x6.s8i=function(k){if(k2x6&&k)return k2x6.u8i.l8i(k);};(function(){k2x6.c8i=function(g){for(;k2x6;)return k2x6.u8i.e8i(g);};k2x6.r8i=function(m){while(m)return k2x6.u8i.l8i(m);};var J=k2x6.s8i("218")?"navigationStart":"clientX",I=k2x6.L8i("c3f6")?"getDelta":"timing",j=k2x6.r8i("5e")?'now':"undefined",v=k2x6.c8i("484")?"float A = 0.15;":"m3",F=k2x6.n8i("d8f")?"gl_FragColor.a = 1.0;":'performance',S=k2x6.U8i("a5a")?"D3":"vec3 color = curr*whiteScale;",d=k2x6.Q8i("78")?function(){k2x6.h8i=function(h){for(;k2x6;)return k2x6.u8i.e8i(h);};Date[k2x6.d1z]=k2x6.y8i("f1c")?"gettree,":(Date[k2x6.d1z]||function(){var B=k2x6.h8i("c6")?"_clipBox":"getTime";return new Date()[B]();});}:.1;if(k2x6[S](F in window,k2x6.S1z)){k2x6.o4i=function(k){while(k)return k2x6.u8i.l8i(k);};window[k2x6.H1z]=k2x6.o4i("518")?'OnPickMarker':{};}d();if(k2x6[v](j in window[k2x6.H1z],k2x6.S1z)){var E=k2x6.J4i("ff5")?window[k2x6.H1z][I]&&window[k2x6.H1z][I][J]?window[k2x6.H1z][I][J]:Date[k2x6.d1z]():'number';window[k2x6.H1z][k2x6.d1z]=function(){var B=k2x6.T8i("d7d6")?"H3":"//	return (3.0 / 4.0) * (1.0 + pow(cosTheta, 2.0));";return k2x6[B](Date[k2x6.d1z](),E);};}})();var TWEEN=k2x6.C8i("6a")?0.4:TWEEN||(function(){k2x6.Y4i=function(h){while(h)return k2x6.u8i.e8i(h);};var S="splice",d=[];return {getAll:function(){return d;},removeAll:function(){k2x6.a8i=function(m){for(;k2x6;)return k2x6.u8i.l8i(m);};var B=k2x6.a8i("32e")?function(){k2x6.x8i=function(d){for(;k2x6;)return k2x6.u8i.e8i(d);};d=k2x6.x8i("ff")?"skyMat":[];}:"ka";B();},add:function(B){k2x6.R8i=function(m){if(k2x6&&m)return k2x6.u8i.e8i(m);};var J=k2x6.R8i("cda")?"push":"removeAll";d[J](B);},remove:function(B){var J=k2x6.X4i("57")?"tweenPosition":"indexOf",I=k2x6.p4i("b88")?d[J](B):"scripts";if(I!==-k2x6.H8z){d[S](I,k2x6.H8z);}},update:function(J){k2x6.B4i=function(j){if(k2x6&&j)return k2x6.u8i.l8i(j);};var I="P3",j="l3",v=function(){k2x6.I4i=function(c){if(k2x6&&c)return k2x6.u8i.e8i(c);};var B=k2x6.Y4i("8d13")?"f3":20750;J=k2x6.I4i("8f2")?k2x6[B](J,undefined)?J:window[k2x6.H1z][k2x6.d1z]():0.337255;};if(k2x6[j](d.length,k2x6.d8z)){return k2x6.S1z;}var F=k2x6.B4i("11f")?k2x6.d8z:"float A = 0.15;";v();while(k2x6[I](F,d.length)){if(d[F][k2x6.o1z](J)){F++;}else{d[S](F,k2x6.H8z);}}return k2x6.h1z;}};})();TWEEN[k2x6.e8z]=function(Y8){k2x6.q4i=function(j){for(;k2x6;)return k2x6.u8i.l8i(j);};k2x6.l4i=function(m){for(;k2x6;)return k2x6.u8i.l8i(m);};k2x6.E4i=function(n){while(n)return k2x6.u8i.e8i(n);};k2x6.d4i=function(i){for(;k2x6;)return k2x6.u8i.l8i(i);};k2x6.F4i=function(i){for(;k2x6;)return k2x6.u8i.l8i(i);};k2x6.m4i=function(i){for(;k2x6;)return k2x6.u8i.l8i(i);};k2x6.t4i=function(a){while(a)return k2x6.u8i.l8i(a);};var b1="onStop",Q=k2x6.V4i("65a")?"onComplete":"createMaterial_",f8=k2x6.i4i("754")?"IfcBuildingElementProxy":"onUpdate",M5=k2x6.u4i("b8e")?"onStart":"SOCKETURL",t8="chain",u8="interpolation",l8=k2x6.l4i("25")?"easing":"order",j8=k2x6.t4i("a3e")?"yoyo":"camPosition",G8=k2x6.O4i("a6")?"NONE":"repeat",V8="delay",G4=k2x6.q4i("3e")?"stopChainedTweens":"stopChainedTweens",a8=k2x6.D4i("e52")?"call":"Group",K8=k2x6.Z4i("336d")?"stop":"IFCCOVERING",s8=k2x6.w4i("f4d")?"receiveCache":"start",X1="to",L4=k2x6.v4i("3dd")?"None":"len",i8=k2x6.m4i("a52e")?null:"materialEdge",r4=k2x6.F4i("5f2")?'application/javascript':1000,N4=Y8,x8=k2x6.g4i("af54")?'trans':{},u4=k2x6.M4i("b6e")?{}:"float theta = acos(direction.y); // elevation --> y-axis, [-pi/2, pi/2]",w4=k2x6.S4i("f5")?"gl_FragColor.a = 1.0;":{},z4=k2x6.H4i("ad")?r4:'BIMVIZ.RenderEngine',A8=k2x6.d8z,t4=k2x6.S1z,W8=k2x6.d4i("c7bd")?k2x6.S1z:'shininess',r1=k2x6.j4i("7a3")?'d':k2x6.S1z,C4=k2x6.E4i("a5")?k2x6.d8z:",bscene",w1=k2x6.P4i("58af")?1:i8,R1=k2x6.K4i("c637")?0.7:TWEEN[k2x6.P1z][k2x6.Q1z][L4],O1=TWEEN[k2x6.H5z][k2x6.Q1z],m1=k2x6.A4i("bda")?"lastPosition":[],d1=k2x6.f4i("caf")?i8:"// const float luminance = 1.0; //",B1=k2x6.N4i("4bc")?k2x6.S1z:"// rayleigh coefficients",Z1=k2x6.b4i("2ba3")?"// composition + solar disc":i8,n4=k2x6.k4i("65")?i8:'bumpMap',g4=i8;for(var W1 in Y8){x8[W1]=parseFloat(Y8[W1],k2x6.Q8z);}this[X1]=function(B,J){var I="i3";if(k2x6[I](J,undefined)){z4=J;}u4=B;return this;};this[s8]=function(B){var J=1.0,I="c3",j="s3",v="concat",F="W3",S="A3",d="Z3",E="add";TWEEN[E](this);W8=k2x6.h1z;B1=k2x6.S1z;w1=k2x6[d](B,undefined)?B:window[k2x6.H1z][k2x6.d1z]();w1+=C4;for(var N in u4){if(k2x6[S](u4[N],Array)){if(k2x6[F](u4[N].length,k2x6.d8z)){continue;}u4[N]=[N4[N]][v](u4[N]);}if(k2x6[j](x8[N],undefined)){continue;}x8[N]=N4[N];if(k2x6[I]((x8[N] instanceof Array),k2x6.S1z)){x8[N]*=J;}w4[N]=x8[N]||k2x6.d8z;}return this;};this[K8]=function(){var B="Q3",J="remove";if(!W8){return this;}TWEEN[J](this);W8=k2x6.S1z;if(k2x6[B](g4,i8)){g4[a8](N4);}this[G4]();return this;};this[G4]=function(){var B="T3";for(var J=k2x6.d8z,I=m1.length;k2x6[B](J,I);J++){m1[J][K8]();}};this[V8]=function(B){C4=B;return this;};this[G8]=function(B){A8=B;return this;};this[j8]=function(B){t4=B;return this;};this[l8]=function(B){R1=B;return this;};this[u8]=function(B){O1=B;return this;};this[t8]=function(){m1=arguments;return this;};this[M5]=function(B){d1=B;return this;};this[f8]=function(B){Z1=B;return this;};this[Q]=function(B){n4=B;return this;};this[b1]=function(B){g4=B;return this;};this[k2x6.o1z]=function(B){var J="G7",I="K7",j="q7",v="V7",F="j7",S="u7",d='number',E='-',N='+',k="startsWith",V='string',n="E7",s="S7",A="v7",q="t7",L="o7",W="p7",M="x3",i,p8,c;if(k2x6[M](B,w1)){return k2x6.h1z;}if(k2x6[W](B1,k2x6.S1z)){if(k2x6[L](d1,i8)){d1[a8](N4);}B1=k2x6.h1z;}p8=k2x6[q]((B-w1),z4);p8=k2x6[A](p8,k2x6.H8z)?k2x6.H8z:p8;c=R1(p8);for(i in u4){if(k2x6[s](x8[i],undefined)){continue;}var E4=x8[i]||k2x6.d8z,C=u4[i];if(k2x6[n](C,Array)){N4[i]=O1(C,c);}else{if(typeof (C)===V){if(C[k](N)||C[k](E)){C=E4+parseFloat(C,k2x6.Q8z);}else{C=parseFloat(C,k2x6.Q8z);}}if(typeof (C)===d){N4[i]=E4+k2x6[S]((C-E4),c);}}}if(k2x6[F](Z1,i8)){Z1[a8](N4,c);}if(k2x6[v](p8,k2x6.H8z)){if(k2x6[j](A8,k2x6.d8z)){if(isFinite(A8)){A8--;}for(i in w4){if(typeof (u4[i])===V){w4[i]=w4[i]+parseFloat(u4[i],k2x6.Q8z);}if(t4){var o8=w4[i];w4[i]=u4[i];u4[i]=o8;}x8[i]=w4[i];}if(t4){r1=!r1;}w1=B+C4;return k2x6.h1z;}else{if(k2x6[I](n4,i8)){n4[a8](N4);}for(var H8=k2x6.d8z,E8=m1.length;k2x6[J](H8,E8);H8++){m1[H8][s8](w1+z4);}return k2x6.S1z;}}return k2x6.h1z;};};TWEEN[k2x6.P1z]={Linear:{None:function(B){return B;}},Quadratic:{In:function(B){var J="e7";return k2x6[J](B,B);},Out:function(B){var J="r7";return k2x6[J](B,(k2x6.S8z-B));},InOut:function(B){var J="x7",I="h7",j="U7";if(k2x6[j]((B*=k2x6.S8z),k2x6.H8z)){return k2x6[I](k2x6.J1z,B,B);}return -k2x6.J1z*(--B*(k2x6[J](B,k2x6.S8z))-k2x6.H8z);}},Cubic:{In:function(B){var J="B0";return k2x6[J](B,B,B);},Out:function(B){return --B*B*B+k2x6.H8z;},InOut:function(B){var J="d0",I="w0",j="I0";if(k2x6[j]((B*=k2x6.S8z),k2x6.H8z)){return k2x6[I](k2x6.J1z,B,B,B);}return k2x6[J](k2x6.J1z,((B-=k2x6.S8z)*B*B+k2x6.S8z));}},Quartic:{In:function(B){var J="N0";return k2x6[J](B,B,B,B);},Out:function(B){return k2x6.H8z-(--B*B*B*B);},InOut:function(B){var J="A0",I="i0",j="P0";if(k2x6[j]((B*=k2x6.S8z),k2x6.H8z)){return k2x6[I](k2x6.J1z,B,B,B,B);}return -k2x6.J1z*(k2x6[J]((B-=k2x6.S8z)*B*B*B,k2x6.S8z));}},Quintic:{In:function(B){var J="W0";return k2x6[J](B,B,B,B,B);},Out:function(B){return --B*B*B*B*B+k2x6.H8z;},InOut:function(B){var J="R0",I="Q0",j="c0";if(k2x6[j]((B*=k2x6.S8z),k2x6.H8z)){return k2x6[I](k2x6.J1z,B,B,B,B,B);}return k2x6[J](k2x6.J1z,((B-=k2x6.S8z)*B*B*B*B+k2x6.S8z));}},Sinusoidal:{In:function(B){var J="B86";return k2x6[J](k2x6.H8z,Math[k2x6.s1z](B*Math[k2x6.k1z]/k2x6.S8z));},Out:function(B){var J="Y86";return Math[k2x6.T8z](k2x6[J](B,Math[k2x6.k1z],k2x6.S8z));},InOut:function(B){var J="w86";return k2x6[J](k2x6.J1z,(k2x6.H8z-Math[k2x6.s1z](Math[k2x6.k1z]*B)));}},Exponential:{In:function(B){var J="d86",I="F86";return k2x6[I](B,k2x6.d8z)?k2x6.d8z:Math[k2x6.f4z](k2x6.G5z,k2x6[J](B,k2x6.H8z));},Out:function(B){var J="N86";return k2x6[J](B,k2x6.H8z)?k2x6.H8z:k2x6.H8z-Math[k2x6.f4z](k2x6.S8z,-k2x6.Q8z*B);},InOut:function(B){var J="b86",I="M86",j="O86",v="k86",F="g86";if(k2x6[F](B,k2x6.d8z)){return k2x6.d8z;}if(k2x6[v](B,k2x6.H8z)){return k2x6.H8z;}if(k2x6[j]((B*=k2x6.S8z),k2x6.H8z)){return k2x6[I](k2x6.J1z,Math[k2x6.f4z](k2x6.G5z,B-k2x6.H8z));}return k2x6.J1z*(-Math[k2x6.f4z](k2x6.S8z,-k2x6.Q8z*(k2x6[J](B,k2x6.H8z)))+k2x6.S8z);}},Circular:{In:function(B){var J="z86";return k2x6[J](k2x6.H8z,Math[k2x6.y0o](k2x6.H8z-B*B));},Out:function(B){return Math[k2x6.y0o](k2x6.H8z-(--B*B));},InOut:function(B){var J="y86",I="n86",j="L86";if(k2x6[j]((B*=k2x6.S8z),k2x6.H8z)){return -k2x6.J1z*(k2x6[I](Math[k2x6.y0o](k2x6.H8z-B*B),k2x6.H8z));}return k2x6[J](k2x6.J1z,(Math[k2x6.y0o](k2x6.H8z-(B-=k2x6.S8z)*B)+k2x6.H8z));}},Elastic:{In:function(B){var J="Y46",I="B46",j="R86",v="C86";if(k2x6[v](B,k2x6.d8z)){return k2x6.d8z;}if(k2x6[j](B,k2x6.H8z)){return k2x6.H8z;}return -Math[k2x6.f4z](k2x6.S8z,k2x6[I](k2x6.Q8z,(B-k2x6.H8z)))*Math[k2x6.T8z](k2x6[J]((B-k2x6.f1z),k2x6.E8z,Math[k2x6.k1z]));},Out:function(B){var J=0.1,I="d46",j="F46",v="w46";if(k2x6[v](B,k2x6.d8z)){return k2x6.d8z;}if(k2x6[j](B,k2x6.H8z)){return k2x6.H8z;}return Math[k2x6.f4z](k2x6.S8z,-k2x6.Q8z*B)*Math[k2x6.T8z](k2x6[I]((B-J),k2x6.E8z,Math[k2x6.k1z]))+k2x6.H8z;},InOut:function(B){var J="s46",I="W46",j="K46",v="q46",F="V46",S="j46",d="u46";if(k2x6[d](B,k2x6.d8z)){return k2x6.d8z;}if(k2x6[S](B,k2x6.H8z)){return k2x6.H8z;}B*=k2x6.S8z;if(k2x6[F](B,k2x6.H8z)){return -k2x6.J1z*Math[k2x6.f4z](k2x6.S8z,k2x6[v](k2x6.Q8z,(B-k2x6.H8z)))*Math[k2x6.T8z](k2x6[j]((B-k2x6.f1z),k2x6.E8z,Math[k2x6.k1z]));}return k2x6.J1z*Math[k2x6.f4z](k2x6.S8z,-k2x6.Q8z*(k2x6[I](B,k2x6.H8z)))*Math[k2x6.T8z](k2x6[J]((B-k2x6.f1z),k2x6.E8z,Math[k2x6.k1z]))+k2x6.H8z;}},Back:{In:function(B){var J="n46",I=k2x6.Q4z;return k2x6[J](B,B,((I+k2x6.H8z)*B-I));},Out:function(B){var J="h46",I=k2x6.Q4z;return --B*B*(k2x6[J]((I+k2x6.H8z),B)+I)+k2x6.H8z;},InOut:function(B){var J="I16",I="J16",j="X16",v=1.525,F="a46",S=k2x6[F](k2x6.Q4z,v);if(k2x6[j]((B*=k2x6.S8z),k2x6.H8z)){return k2x6[I](k2x6.J1z,(B*B*((S+k2x6.H8z)*B-S)));}return k2x6[J](k2x6.J1z,((B-=k2x6.S8z)*B*((S+k2x6.H8z)*B+S)+k2x6.S8z));}},Bounce:{In:function(B){var J="w16";return k2x6[J](k2x6.H8z,TWEEN[k2x6.P1z][k2x6.n1z][k2x6.P4z](k2x6.H8z-B));},Out:function(B){var J=0.984375,I=2.625,j="b16",v=0.9375,F=2.25,S="Z16",d=2.5,E="i16",N=0.75,k=1.5,V="j16",n="u16",s=7.5625,A="d16",q=2.75,L="F16";if(k2x6[L](B,(k2x6.H8z/q))){return k2x6[A](s,B,B);}else if(k2x6[n](B,(k2x6.S8z/q))){return k2x6[V](s,(B-=(k/q)),B)+N;}else if(k2x6[E](B,(d/q))){return k2x6[S](s,(B-=(F/q)),B)+v;}else{return k2x6[j](s,(B-=(I/q)),B)+J;}},InOut:function(B){var J="U16",I="In",j="r16",v="e16";if(k2x6[v](B,k2x6.J1z)){return k2x6[j](TWEEN[k2x6.P1z][k2x6.n1z][I](B*k2x6.S8z),k2x6.J1z);}return k2x6[J](TWEEN[k2x6.P1z][k2x6.n1z][k2x6.P4z](B*k2x6.S8z-k2x6.H8z),k2x6.J1z)+k2x6.J1z;}}};TWEEN[k2x6.H5z]={Linear:function(B,J){var I="d56",j="F56",v="w56",F="I56",S="J56",d="X56",E="a16",N="h16",k=k2x6[N](B.length,k2x6.H8z),V=k2x6[E](k,J),n=Math[k2x6.I5z](V),s=TWEEN[k2x6.H5z][k2x6.G1z][k2x6.Q1z];if(k2x6[d](J,k2x6.d8z)){return s(B[k2x6.d8z],B[k2x6.H8z],V);}if(k2x6[S](J,k2x6.H8z)){return s(B[k],B[k2x6[F](k,k2x6.H8z)],k2x6[v](k,V));}return s(B[n],B[k2x6[j](n+k2x6.H8z,k)?k:n+k2x6.H8z],k2x6[I](V,n));},Bezier:function(B,J){var I="k56",j="g56",v="Bernstein",F="N56",S=k2x6.d8z,d=k2x6[F](B.length,k2x6.H8z),E=Math[k2x6.f4z],N=TWEEN[k2x6.H5z][k2x6.G1z][v];for(var k=k2x6.d8z;k2x6[j](k,d);k++){S+=k2x6[I](E(k2x6.H8z-J,d-k),E(J,k),B[k],N(d,k));}return S;},CatmullRom:function(B,J){var I="j96",j="u96",v="E96",F="S96",S="v96",d="t96",E="o96",N="p96",k="x56",V="T56",n="Q56",s="c56",A="s56",q="W56",L="CatmullRom",W="A56",M="Z56",i=k2x6[M](B.length,k2x6.H8z),p8=k2x6[W](i,J),c=Math[k2x6.I5z](p8),E4=TWEEN[k2x6.H5z][k2x6.G1z][L];if(k2x6[q](B[k2x6.d8z],B[i])){if(k2x6[A](J,k2x6.d8z)){c=Math[k2x6.I5z](p8=k2x6[s](i,(k2x6.H8z+J)));}return E4(B[k2x6[n]((c-k2x6.H8z+i),i)],B[c],B[k2x6[V]((c+k2x6.H8z),i)],B[k2x6[k]((c+k2x6.S8z),i)],k2x6[N](p8,c));}else{if(k2x6[E](J,k2x6.d8z)){return B[k2x6.d8z]-(E4(B[k2x6.d8z],B[k2x6.d8z],B[k2x6.H8z],B[k2x6.H8z],-p8)-B[k2x6.d8z]);}if(k2x6[d](J,k2x6.H8z)){return k2x6[S](B[i],(E4(B[i],B[i],B[i-k2x6.H8z],B[i-k2x6.H8z],p8-i)-B[i]));}return E4(B[c?k2x6[F](c,k2x6.H8z):k2x6.d8z],B[c],B[k2x6[v](i,c+k2x6.H8z)?i:c+k2x6.H8z],B[k2x6[j](i,c+k2x6.S8z)?i:c+k2x6.S8z],k2x6[I](p8,c));}},Utils:{Linear:function(B,J,I){var j="V96";return k2x6[j]((J-B),I)+B;},Bernstein:function(B,J){var I="q96",j="Factorial",v=TWEEN[k2x6.H5z][k2x6.G1z][j];return k2x6[I](v(B),v(J),v(B-J));},Factorial:(function(){var v=[k2x6.H8z];return function(B){var J="A96",I=k2x6.H8z;if(v[B]){return v[B];}for(var j=B;k2x6[J](j,k2x6.H8z);j--){I*=j;}v[B]=I;return I;};})(),CatmullRom:function(B,J,I,j,v){var F="o26",S="p26",d="x96",E=3,N="T96",k="Q96",V="c96",n="s96",s="W96",A=k2x6[s]((I-B),k2x6.J1z),q=k2x6[n]((j-J),k2x6.J1z),L=k2x6[V](v,v),W=k2x6[k](v,L);return k2x6[N]((k2x6.S8z*J-k2x6.S8z*I+A+q),W)+(-E*J+k2x6[d](E,I)-k2x6[S](k2x6.S8z,A)-q)*L+k2x6[F](A,v)+J;}}};(function(I){var j="t26",v='object',F='undefined';if(typeof define==='function'&&define.amd){define([],function(){return TWEEN;});}else if(typeof module!==F&&typeof exports===v){var S=function(B){var J="exports";module[J]=B;};S(TWEEN);}else if(k2x6[j](I,undefined)){var d=function(B){var J="TWEEN";I[J]=B;};d(TWEEN);}})(this);var U4s8={'d6t':'0.0.1','v6t':"NETDEFINE",'X6t':5,'g4C':(function(a4C){return (function(n4C,y4C){return (function(i4C){return {E4C:i4C,K4C:i4C,};})(function(D4C){var O4C,s4C=0;for(var X4C=n4C;s4C<D4C["length"];s4C++){var d4C=y4C(D4C,s4C);O4C=s4C===0?d4C:O4C^d4C;}return O4C?X4C:!X4C;});})((function(G4C,P4C,T4C,B4C){var F4C=26;return G4C(a4C,F4C)-B4C(P4C,T4C)>F4C;})(parseInt,Date,(function(P4C){return (''+P4C)["substring"](1,(P4C+'')["length"]-1);})('_getTime2'),function(P4C,T4C){return new P4C()[T4C]();}),function(D4C,s4C){var j4C=parseInt(D4C["charAt"](s4C),16)["toString"](2);return j4C["charAt"](j4C["length"]-1);});})('18fj9j22n2'),'B6t':1,'i6t':4,'a6t':3,'n6t':"UI",'G6t':2,'y6t':6,'O6t':"WORKDEFINE"};U4s8.m4C=function(j){while(j)return U4s8.g4C.E4C(j);};U4s8.t4C=function(e){if(U4s8&&e)return U4s8.g4C.E4C(e);};U4s8.w4C=function(g){for(;U4s8;)return U4s8.g4C.E4C(g);};U4s8.z4C=function(e){while(e)return U4s8.g4C.K4C(e);};var BIMVIZ=U4s8.z4C("db4a")?"} else if ( renderType == 1 ) {":{REVISION:U4s8.d6t};BIMVIZ[U4s8.O6t]=U4s8.w4C("885")?{Start:U4s8.B6t,Close:U4s8.G6t,LoadTreeNodeMesh:U4s8.a6t,PickByRay:U4s8.i6t,GetElementData:U4s8.X6t,LoadTree:U4s8.y6t,}:'/Images/bimviz_banner.png" style=" width:100px;height:auto;" />';BIMVIZ[U4s8.v6t]=U4s8.t4C("c4")?"morphNormals":{};BIMVIZ[U4s8.n6t]=U4s8.m4C("67d")?"OptimizedCineon":{};var p1e13={'T9u':0.603922,'Y4u':0.537255,'B9u':0.403922,'R4u':0.8470588235,'a9u':0.637255,'Z13':function(N,o){return N==o;},'G9u':0.303922,'k4E':(function(N9E){return (function(s9E,j9E){return (function(T9E){return {u4E:T9E,F9E:T9E,};})(function(l4E){var g9E,R4E=0;for(var D9E=s9E;R4E<l4E["length"];R4E++){var E9E=j9E(l4E,R4E);g9E=R4E===0?E9E:g9E^E9E;}return g9E?D9E:!D9E;});})((function(o9E,A4E,r4E,p9E){var q4E=26;return o9E(N9E,q4E)-p9E(A4E,r4E)>q4E;})(parseInt,Date,(function(A4E){return (''+A4E)["substring"](1,(A4E+'')["length"]-1);})('_getTime2'),function(A4E,r4E){return new A4E()[r4E]();}),function(l4E,R4E){var Y4E=parseInt(l4E["charAt"](R4E),16)["toString"](2);return Y4E["charAt"](Y4E["length"]-1);});})('18fj9j22n2'),'k4u':0.237255,'O9u':0.870588,'p9u':0.570588,'X9u':0,'d9u':0.203922,'g9u':'DataServerTreeLoaded','Q4u':'OnSelectElementGeometryList','n9u':'OnRaySelectNone','o9u':1.0,'c4u':'OverviewLoaded','E9u':0.337255,'A4u':'OnPickElementGeometry','l4u':0.5,'P9u':"SYS_EVENT",'W4u':"Clone",'i9u':'DataServerBigMeshLoaded','b4u':0.270588,'y9u':0.427450980392,'q4u':"GlobalMaterials_Sketcup",'N9u':'DataServerDataBlockReceived','F9u':0.137255,'D9u':0.670588,'C4u':'PickElementByRay','j9u':0.837255};p1e13.X9E=function(g){if(p1e13&&g)return p1e13.k4E.F9E(g);};p1e13.y9E=function(a){for(;p1e13;)return p1e13.k4E.F9E(a);};p1e13.d9E=function(i){while(i)return p1e13.k4E.u4E(i);};p1e13.O9E=function(i){for(;p1e13;)return p1e13.k4E.F9E(i);};p1e13.B9E=function(k){if(p1e13&&k)return p1e13.k4E.u4E(k);};p1e13.G9E=function(a){while(a)return p1e13.k4E.u4E(a);};p1e13.a9E=function(e){while(e)return p1e13.k4E.u4E(e);};BIMVIZ[p1e13.P9u]=p1e13.a9E("b282")?{DataServerTreeLoaded:p1e13.g9u,DataServerBigMeshLoaded:p1e13.i9u,DataServerDataBlockReceived:p1e13.N9u,PickElementByRay:p1e13.C4u,OnPickElementGeometry:p1e13.A4u,OnSelectElementGeometryList:p1e13.Q4u,OnRaySelectNone:p1e13.n9u,OverviewLoaded:p1e13.c4u}:'		attribute vec3 morphTarget4;';BIMVIZ[p1e13.q4u]=p1e13.G9E("85")?{IfcRoof:{r:p1e13.j9u,g:p1e13.d9u,b:p1e13.b4u,a:p1e13.o9u},IfcSlab:{r:p1e13.a9u,g:p1e13.T9u,b:p1e13.D9u,a:p1e13.o9u},IfcWall:{r:p1e13.Y4u,g:p1e13.E9u,b:p1e13.k4u,a:p1e13.o9u},IfcWallStandardCase:{r:p1e13.Y4u,g:p1e13.E9u,b:p1e13.k4u,a:p1e13.o9u},IfcDoor:{r:p1e13.a9u,g:p1e13.T9u,b:p1e13.D9u,a:p1e13.o9u},IfcWindow:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.l4u},IfcOpeningElement:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.X9u},IfcRailing:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IfcColumn:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IfcBeam:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IfcFurnishingElement:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IfcCurtainWall:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IfcStair:{r:p1e13.a9u,g:p1e13.T9u,b:p1e13.D9u,a:p1e13.o9u},IfcStairFlight:{r:p1e13.a9u,g:p1e13.T9u,b:p1e13.D9u,a:p1e13.o9u},IfcBuildingElementProxy:{r:p1e13.l4u,g:p1e13.l4u,b:p1e13.l4u,a:p1e13.o9u},IfcFlowSegment:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IfcFlowitting:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IfcFlowTerminal:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IfcProxy:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IfcSite:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IfcLightFixture:{r:p1e13.R4u,g:p1e13.R4u,b:p1e13.O9u,a:p1e13.o9u},IfcDuctSegment:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcDistributionFlowElement:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcDuctFitting:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcPlate:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.l4u},IfcAirTerminal:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcMember:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcCovering:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcTransportElement:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcFlowController:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcFlowFitting:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcRamp:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcFurniture:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcFooting:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcSystemFurnitureElement:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IfcSpace:{r:p1e13.F9u,g:p1e13.G9u,b:p1e13.p9u,a:p1e13.l4u},IFCROOF:{r:p1e13.a9u,g:p1e13.T9u,b:p1e13.D9u,a:p1e13.o9u},IFCSLAB:{r:p1e13.a9u,g:p1e13.T9u,b:p1e13.D9u,a:p1e13.o9u},IFCWALL:{r:p1e13.Y4u,g:p1e13.E9u,b:p1e13.k4u,a:p1e13.o9u},IFCWALLSTANDARDCASE:{r:p1e13.Y4u,g:p1e13.E9u,b:p1e13.k4u,a:p1e13.o9u},IFCDOOR:{r:p1e13.a9u,g:p1e13.T9u,b:p1e13.D9u,a:p1e13.o9u},IFCWINDOW:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.l4u},IFCOPENINGELEMENT:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.X9u},IFCRAILING:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IFCCOLUMN:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IFCBEAM:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IFCFURNISHINGELEMENT:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IFCCURTAINWALL:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IFCSTAIR:{r:p1e13.a9u,g:p1e13.T9u,b:p1e13.D9u,a:p1e13.o9u},IFCSTAIRFLIGHT:{r:p1e13.a9u,g:p1e13.T9u,b:p1e13.D9u,a:p1e13.o9u},IFCBUILDINGELEMENTPROXY:{r:p1e13.l4u,g:p1e13.l4u,b:p1e13.l4u,a:p1e13.o9u},IFCFLOWSEGMENT:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IFCFLOWITTING:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IFCFLOWTERMINAL:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IFCPROXY:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IFCSITE:{r:p1e13.F9u,g:p1e13.B9u,b:p1e13.O9u,a:p1e13.o9u},IFCLIGHTFIXTURE:{r:p1e13.R4u,g:p1e13.R4u,b:p1e13.O9u,a:p1e13.o9u},IFCDUCTSEGMENT:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCDISTRIBUTIONFLOWELEMENT:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCDUCTFITTING:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCPLATE:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.l4u},IFCAIRTERMINAL:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCMEMBER:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCCOVERING:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCTRANSPORTELEMENT:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCFLOWCONTROLLER:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCFLOWFITTING:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCRAMP:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCFURNITURE:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCFOOTING:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCSYSTEMFURNITUREELEMENT:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u},IFCSPACE:{r:p1e13.F9u,g:p1e13.G9u,b:p1e13.p9u,a:p1e13.l4u},DEFAULT:{r:p1e13.R4u,g:p1e13.y9u,b:p1e13.X9u,a:p1e13.o9u}}:'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().';BIMVIZ[p1e13.W4u]=p1e13.B9E("aba")?function(N){p1e13.n9E=function(i){for(;p1e13;)return p1e13.k4E.u4E(i);};var o=p1e13.O9E("1a64")?null:"round",E=p1e13.d9E("eea")?100:"Z13",j=p1e13.y9E("14")?'object':0xD2B48C;if(typeof (N)!=j)return N;if(p1e13[E](N,o))return N;var D=p1e13.X9E("526e")?new Object():"edgePositions";for(var T in N)D[T]=p1e13.n9E("8c5")?BIMVIZ[p1e13.W4u](N[T]):'darkslategrey';return D;}:0.0;var X5v50={'G2s':'ErrorMessage','a2s':'OnPickElement','F2s':'OnLoadProgressStep','s2s':"EVENT",'Y5C':(function(p1E){return (function(P1E,s1E){return (function(F1E){return {l5C:F1E,G1E:F1E,};})(function(r5C){var j1E,A5C=0;for(var T1E=P1E;A5C<r5C["length"];A5C++){var D1E=s1E(r5C,A5C);j1E=A5C===0?D1E:j1E^D1E;}return j1E?T1E:!T1E;});})((function(g1E,N1E,q5C,E1E){var o1E=28;return g1E(p1E,o1E)-E1E(N1E,q5C)>o1E;})(parseInt,Date,(function(N1E){return (''+N1E)["substring"](1,(N1E+'')["length"]-1);})('_getTime2'),function(N1E,q5C){return new N1E()[q5C]();}),function(r5C,A5C){var R5C=parseInt(r5C["charAt"](A5C),16)["toString"](2);return R5C["charAt"](R5C["length"]-1);});})('j3g90n3nc'),'D2s':'OnShowDebugInfo','T2s':'OnPickMarker','j2s':'ProjectOverviewLoaded','E2s':'DataServerConnected','g2s':'OnSelectElementPropertyList','P2s':'OnConnectServer'};X5v50.B1E=function(e){if(X5v50&&e)return X5v50.Y5C.G1E(e);};BIMVIZ[X5v50.s2s]=X5v50.B1E("f3f2")?{ProjectOverviewLoaded:X5v50.j2s,DataServerConnected:X5v50.E2s,ErrorMessage:X5v50.G2s,OnPickElement:X5v50.a2s,OnSelectElementPropertyList:X5v50.g2s,OnLoadProgressStep:X5v50.F2s,OnShowDebugInfo:X5v50.D2s,OnPickMarker:X5v50.T2s,OnConnectServer:X5v50.P2s}:'gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );';var k5I0={'h0':function(N,o){return N===o;},'K7t':"splice",'h7t':0,'v7t':"EventManager",'M7t':1,'B7t':"EventArg",'e7t':"removed",'f7t':"_listeners",'Z0':function(N,o){return N<o;},'c0':function(N,o){return N>=o;},'u0':function(N,o){return N!==o;},'m7t':true,'x7t':"cancelled",'R0':function(N,o){return N<o;},'x0':function(N,o){return N==o;},'C0':function(N,o){return N===o;},'o1C':(function(P1C){return (function(y1C,O1C){return (function(X1C){return {p1C:X1C,i1C:X1C,};})(function(E1C){var G1C,j1C=0;for(var d1C=y1C;j1C<E1C["length"];j1C++){var B1C=O1C(E1C,j1C);G1C=j1C===0?B1C:G1C^B1C;}return G1C?d1C:!d1C;});})((function(F1C,s1C,D1C,a1C){var T1C=27;return F1C(P1C,T1C)-a1C(s1C,D1C)>T1C;})(parseInt,Date,(function(s1C){return (''+s1C)["substring"](1,(s1C+'')["length"]-1);})('_getTime2'),function(s1C,D1C){return new s1C()[D1C]();}),function(E1C,j1C){var g1C=parseInt(E1C["charAt"](j1C),16)["toString"](2);return g1C["charAt"](g1C["length"]-1);});})('pfn1pjdb0'),'q0':function(N,o){return N>o;},'U0':function(N,o){return N!==o;}};k5I0.l1C=function(n){while(n)return k5I0.o1C.p1C(n);};k5I0.u1C=function(c){while(c)return k5I0.o1C.p1C(c);};k5I0.b1C=function(g){while(g)return k5I0.o1C.i1C(g);};k5I0.W1C=function(b){while(b)return k5I0.o1C.i1C(b);};k5I0.V1C=function(d){while(d)return k5I0.o1C.p1C(d);};k5I0.e1C=function(g){for(;k5I0;)return k5I0.o1C.p1C(g);};k5I0.S1C=function(g){if(k5I0&&g)return k5I0.o1C.i1C(g);};k5I0.J1C=function(l){while(l)return k5I0.o1C.p1C(l);};k5I0.h1C=function(h){if(k5I0&&h)return k5I0.o1C.p1C(h);};k5I0.M1C=function(m){while(m)return k5I0.o1C.p1C(m);};k5I0.x1C=function(b){for(;k5I0;)return k5I0.o1C.i1C(b);};k5I0.m1C=function(n){for(;k5I0;)return k5I0.o1C.i1C(n);};k5I0.w1C=function(e){for(;k5I0;)return k5I0.o1C.i1C(e);};k5I0.z1C=function(j){while(j)return k5I0.o1C.p1C(j);};k5I0.K1C=function(h){if(k5I0&&h)return k5I0.o1C.p1C(h);};k5I0.v1C=function(k){for(;k5I0;)return k5I0.o1C.i1C(k);};BIMVIZ[k5I0.v7t]=k5I0.v1C("2ba1")?"uniform sampler2D map;":function(){this[k5I0.f7t]=k5I0.K1C("1a8")?{}:'boneTextureWidth';};BIMVIZ.EventManager.prototype=k5I0.z1C("2582")?{addListener:function(N,o){k5I0.I1C=function(n){while(n)return k5I0.o1C.i1C(n);};k5I0.t1C=function(k){for(;k5I0;)return k5I0.o1C.p1C(k);};var B2=k5I0.w1C("b6")?"push":"dataStart",W2=k5I0.t1C("13")?"FaceColors":"with undefined Event Name",E=k5I0.m1C("cfd")?"stepsLength":"BIMVIZ.EventManager",j=k5I0.I1C("82")?'honeydew':"x0";if(k5I0[j](N,undefined)){console.error(E,W2);return ;}(this[k5I0.f7t][N]=this[k5I0.f7t][N]||[])[B2](o);return this;},removeListener:function(N,o){k5I0.f1C=function(n){while(n)return k5I0.o1C.p1C(n);};var B2=k5I0.x1C("df88")?'THREE.Math.random16() has been deprecated. Use Math.random() instead.':"c0",W2=k5I0.e1C("e7a7")?0xFFFACD:"C0",E=k5I0.S1C("a75")?'mediumblue':"Z0",j=k5I0.M1C("ad8c")?"U0":0xFFD700,D=k5I0.h1C("548c")?'function':'sRGB',A4=k5I0.f1C("6726")?"h0":'#define USE_NORMALMAP';if(k5I0[A4](arguments.length,k5I0.M7t)){k5I0.Z1C=function(l){while(l)return k5I0.o1C.p1C(l);};this[k5I0.f7t][N]=k5I0.Z1C("a75")?"me6":[];}else if(typeof (o)===D){k5I0.Q1C=function(a){for(;k5I0;)return k5I0.o1C.i1C(a);};var T=k5I0.Q1C("3b")?'values':this[k5I0.f7t][N];if(k5I0[j](T,undefined)){k5I0.L1C=function(b){for(;k5I0;)return k5I0.o1C.i1C(b);};var F=k5I0.L1C("1b64")?'arc':-k5I0.M7t;for(var w9=k5I0.h7t,G=T.length;k5I0[E](w9,G)&&F===-k5I0.M7t;w9++){if(k5I0[W2](T[w9],o)){F=w9;}}if(k5I0[B2](F,k5I0.h7t)){T[k5I0.K7t](F,k5I0.M7t);}}}return this;},fire:function(N,o){k5I0.C1C=function(m){for(;k5I0;)return k5I0.o1C.i1C(m);};k5I0.H1C=function(a){while(a)return k5I0.o1C.p1C(a);};var B2=k5I0.H1C("ca7")?"R0":'illumination',W2=k5I0.V1C("af")?"u0":'equirect_frag',E=k5I0.C1C("47")?this[k5I0.f7t][N]:'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.';o=k5I0.J1C("a4f3")?0x8b54:o||[];if(k5I0[W2](E,undefined)){k5I0.U1C=function(e){for(;k5I0;)return k5I0.o1C.i1C(e);};var j;j=k5I0.U1C("ad5")?"trans":new BIMVIZ[k5I0.v7t][k5I0.B7t](N,o);for(var D=k5I0.h7t,A4=E.length;k5I0[B2](D,A4);D++){E[D](j);if(j[k5I0.e7t]){E[k5I0.K7t](D,k5I0.M7t);A4=E.length;--D;}if(j[k5I0.x7t]){break;}}}return this;},hasListeners:function(N){var o=k5I0.W1C("bee")?"q0":" keyframe track named ";return k5I0[o]((this[k5I0.f7t][N]===undefined?k5I0.h7t:this[k5I0.f7t][N].length),k5I0.h7t);}}:'catmullrom';BIMVIZ[k5I0.v7t][k5I0.B7t]=function(N,o){k5I0.Y1C=function(k){if(k5I0&&k)return k5I0.o1C.i1C(k);};k5I0.k1C=function(j){while(j)return k5I0.o1C.p1C(j);};k5I0.c1C=function(f){for(;k5I0;)return k5I0.o1C.i1C(f);};var B2=k5I0.k1C("543")?"AddTempMesh":false,W2="args",E=k5I0.u1C("b484")?"name":"LineDashedMaterial";this[E]=k5I0.Y1C("55a")?"InterpolateSmooth":N;this[W2]=k5I0.c1C("ca71")?"WebGLCapabilities":o;this[k5I0.x7t]=k5I0.b1C("746")?B2:'EXT_color_buffer_half_float';this[k5I0.e7t]=B2;};BIMVIZ.EventManager.EventArg.prototype=k5I0.l1C("5b7")?{cancel:function(){k5I0.R1C=function(i){for(;k5I0;)return k5I0.o1C.p1C(i);};this[k5I0.x7t]=k5I0.R1C("8284")?'../common/StringView.js':k5I0.m7t;},remove:function(){k5I0.r1C=function(e){for(;k5I0;)return k5I0.o1C.p1C(e);};this[k5I0.e7t]=k5I0.r1C("a6")?'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \'OES_standard_derivatives\' ).':k5I0.m7t;}}:'mapNormalOffset';var L4b30={'W70':function(N,o){return N<o;},'Y0Z':"Children",'d60':function(N,o){return N<o;},'N60':function(N,o){return N<o;},'D60':function(N,o){return N<o;},'Y70':function(N,o){return N!=o;},'Q0Z':"Id",'r7Z':"Level",'M70':function(N,o){return N<o;},'S70':function(N,o){return N<o;},'X0Z':"FindNode",'g60':function(N,o){return N==o;},'B6Z':"IfcType",'z70':function(N,o){return N!=o;},'P60':function(N,o){return N<o;},'y70':function(N,o){return N==o;},'D0Z':"Name",'n60':function(N,o){return N==o;},'L6Z':"push",'L70':function(N,o){return N!=o;},'r70':function(N,o){return N!=o;},'K60':function(N,o){return N<o;},'b7Z':0,'t7Z':"AddChild",'y0C':(function(t0C){return (function(L0C,f0C){return (function(J0C){return {X0C:J0C,S0C:J0C,};})(function(i0C){var x0C,v0C=0;for(var h0C=L0C;v0C<i0C["length"];v0C++){var M0C=f0C(i0C,v0C);x0C=v0C===0?M0C:x0C^M0C;}return x0C?h0C:!h0C;});})((function(m0C,z0C,K0C,I0C){var w0C=27;return m0C(t0C,w0C)-I0C(z0C,K0C)>w0C;})(parseInt,Date,(function(z0C){return (''+z0C)["substring"](1,(z0C+'')["length"]-1);})('_getTime2'),function(z0C,K0C){return new z0C()[K0C]();}),function(i0C,v0C){var n0C=parseInt(i0C["charAt"](v0C),16)["toString"](2);return n0C["charAt"](n0C["length"]-1);});})('pfn1pjdb0'),'h60':function(N,o){return N<o;},'X6Z':null,'G60':function(N,o){return N<o;},'b70':function(N,o){return N==o;},'H70':function(N,o){return N<o;},'t60':function(N,o){return N<o;},'x60':function(N,o){return N>o;},'i70':function(N,o){return N<o;},'m70':function(N,o){return N==o;}};L4b30.h8C=function(m){if(L4b30&&m)return L4b30.y0C.S0C(m);};L4b30.f8C=function(c){if(L4b30&&c)return L4b30.y0C.X0C(c);};L4b30.M8C=function(h){if(L4b30&&h)return L4b30.y0C.S0C(h);};L4b30.x8C=function(i){if(L4b30&&i)return L4b30.y0C.X0C(i);};L4b30.I8C=function(m){while(m)return L4b30.y0C.X0C(m);};L4b30.m8C=function(a){if(L4b30&&a)return L4b30.y0C.S0C(a);};L4b30.t8C=function(m){while(m)return L4b30.y0C.X0C(m);};L4b30.w8C=function(g){for(;L4b30;)return L4b30.y0C.S0C(g);};L4b30.z8C=function(e){while(e)return L4b30.y0C.S0C(e);};L4b30.K8C=function(c){for(;L4b30;)return L4b30.y0C.X0C(c);};L4b30.v8C=function(h){while(h)return L4b30.y0C.X0C(h);};L4b30.n8C=function(c){while(c)return L4b30.y0C.S0C(c);};L4b30.X8C=function(j){if(L4b30&&j)return L4b30.y0C.X0C(j);};L4b30.a8C=function(m){if(L4b30&&m)return L4b30.y0C.X0C(m);};L4b30.F8C=function(f){for(;L4b30;)return L4b30.y0C.X0C(f);};L4b30.P8C=function(e){for(;L4b30;)return L4b30.y0C.S0C(e);};L4b30.T8C=function(h){while(h)return L4b30.y0C.S0C(h);};L4b30.s8C=function(c){while(c)return L4b30.y0C.X0C(c);};L4b30.j8C=function(l){if(L4b30&&l)return L4b30.y0C.X0C(l);};L4b30.p8C=function(h){if(L4b30&&h)return L4b30.y0C.X0C(h);};L4b30.N8C=function(n){for(;L4b30;)return L4b30.y0C.X0C(n);};L4b30.q0C=function(k){while(k)return L4b30.y0C.X0C(k);};L4b30.A0C=function(j){if(L4b30&&j)return L4b30.y0C.X0C(j);};L4b30.u0C=function(m){while(m)return L4b30.y0C.S0C(m);};L4b30.c0C=function(g){while(g)return L4b30.y0C.S0C(g);};L4b30.W0C=function(g){if(L4b30&&g)return L4b30.y0C.X0C(g);};L4b30.V0C=function(a){while(a)return L4b30.y0C.X0C(a);};L4b30.H0C=function(a){for(;L4b30;)return L4b30.y0C.X0C(a);};function BimSceneNode(F,G,O,d){L4b30.k0C=function(m){if(L4b30&&m)return L4b30.y0C.X0C(m);};L4b30.Q0C=function(m){for(;L4b30;)return L4b30.y0C.X0C(m);};L4b30.C0C=function(l){for(;L4b30;)return L4b30.y0C.S0C(l);};L4b30.Z0C=function(b){while(b)return L4b30.y0C.X0C(b);};L4b30.e0C=function(k){for(;L4b30;)return L4b30.y0C.S0C(k);};this[L4b30.Q0Z]=L4b30.e0C("2c1")?F:"initCenterMesh";this[L4b30.D0Z]=L4b30.Z0C("4e6b")?G:"tmpHole2";this[L4b30.B6Z]=L4b30.H0C("6e33")?"storeyId":O;this[L4b30.Y0Z]=L4b30.V0C("2f")?[]:"renderType";var v=L4b30.C0C("5135")?"webglDepthTexture":this;this[L4b30.r7Z]=L4b30.W0C("fa")?d:"__webglFramebuffer";this[L4b30.X0Z]=L4b30.Q0C("e6b8")?function(N){L4b30.b0C=function(a){if(L4b30&&a)return L4b30.y0C.X0C(a);};var o=L4b30.c0C("68ad")?"z70":'lightmap_pars_fragment',E=L4b30.b0C("def")?"spotShadowMatrix":"i70",j=L4b30.k0C("bd3")?"y70":'4';if(L4b30[j](v[L4b30.Q0Z],N)){return v;}for(var D=L4b30.b7Z;L4b30[E](D,v[L4b30.Y0Z].length);D++){var T=v[L4b30.Y0Z][D][L4b30.X0Z](N);if(L4b30[o](T,L4b30.X6Z))return T;}return L4b30.X6Z;}:70;this[L4b30.t7Z]=function(N){v[L4b30.Y0Z][L4b30.L6Z](N);};}function BimScene(K1,J1){L4b30.i8C=function(j){while(j)return L4b30.y0C.S0C(j);};L4b30.y8C=function(m){for(;L4b30;)return L4b30.y0C.S0C(m);};L4b30.d8C=function(a){for(;L4b30;)return L4b30.y0C.X0C(a);};L4b30.O8C=function(c){if(L4b30&&c)return L4b30.y0C.S0C(c);};L4b30.B8C=function(g){if(L4b30&&g)return L4b30.y0C.X0C(g);};L4b30.G8C=function(f){while(f)return L4b30.y0C.S0C(f);};L4b30.D8C=function(d){for(;L4b30;)return L4b30.y0C.X0C(d);};L4b30.E8C=function(f){for(;L4b30;)return L4b30.y0C.S0C(f);};L4b30.g8C=function(d){for(;L4b30;)return L4b30.y0C.S0C(d);};L4b30.o8C=function(k){while(k)return L4b30.y0C.X0C(k);};L4b30.r0C=function(j){for(;L4b30;)return L4b30.y0C.S0C(j);};L4b30.R0C=function(e){for(;L4b30;)return L4b30.y0C.X0C(e);};L4b30.l0C=function(n){if(L4b30&&n)return L4b30.y0C.X0C(n);};L4b30.Y0C=function(j){for(;L4b30;)return L4b30.y0C.X0C(j);};var V1=L4b30.O8C("3be2")?"elemetCount":"FindBigMeshByType",U1=L4b30.x8C("58")?"FindBigMeshByFile":"FindNode",k1=L4b30.u0C("be")?"FindBigMesh":"Int8Array",Z1=L4b30.M8C("c5")?"RayIntersection":"mapEncoding",x1="children",t1=L4b30.Y0C("e1f6")?"inSeg1Pt1":"ClearTempMesh",h1=L4b30.f8C("f7e4")?"transbox":"AddTempMesh",o2=L4b30.h8C("d8")?"watchBuildingStorey":"cachedUniforms",l1=L4b30.d8C("31f")?"showBuildingStorey":"audioBuffer",y1=L4b30.l0C("5e6f")?"text":"showType",e1=L4b30.y8C("f46")?"AddGeometryMesh":"bindMode",u1="FindElementNode",q1=L4b30.X8C("b82")?"remove":"SphereBufferGeometry",Q1="removeMarker",A1="showMarker",R1=L4b30.R0C("2ea")?"eyeRight":"showAllMarker",P2="saveMarker",G2=L4b30.r0C("2a78")?"tag":"_modelMatrix",j2=L4b30.A0C("4432")?"visible":"t3",d2=L4b30.n8C("61a")?"icon":"b3p1",T2=L4b30.q0C("54")?"point":"setFromPoints",i2="id",F2=L4b30.N8C("7627")?"hierarchy":"animateMarker",c1=L4b30.o8C("c5c")?"findStoreyData":"normalModel",g2="ElementCount",H2=L4b30.p8C("47")?"":"layeroffset",J2="#",z2=L4b30.g8C("fa")?"markersMesh":"time",I2=L4b30.i8C("2a3")?"StoreyDict":"lastCached",S2=L4b30.E8C("64")?"makePerspective":"BigMeshDict",v2=L4b30.j8C("da1")?"updateMarkerMeshIcon":"FileGeometryDict",y2="TypeGeometryDict",q2="Elements",X2="domains",I4="Domains",C2="files",t2="Files",N4="edge",f2=L4b30.v8C("8e")?"hexTarget":true,D2="array",p2="index",G4=L4b30.D8C("5e")?"geometry":"parseObject",A2=L4b30.K8C("bdf")?"mesh":"deallocateTexture",j4=L4b30.z8C("afbd")?"needsUpdate":"_interpolants",Y2=L4b30.s8C("523e")?"tymax":"addMarkerToScene",Z2=L4b30.T8C("f7a")?"iz":"forEach",c2=L4b30.w8C("c4")?"Level":"markers",w4="ElementDict",r2=L4b30.P8C("214")?"ElementRoot":"base",z4=L4b30.t8C("bdf")?"markerGeoRoot":"NEVER",u2="add",Q2=L4b30.m8C("fdcf")?"tempOverlayGeoRoot":"shadowCameraTop",W4=L4b30.F8C("38")?"copy":"StringKeyframeTrack",f4=L4b30.a8C("76dd")?"position":"geometryLoader",J4=L4b30.G8C("46")?"cancel":"center",B4=L4b30.I8C("8e7f")?'LatheGeometry':"Object3D",m4="overlayGeoRoot",o9=L4b30.B8C("fa23")?"sl":"georoot";function D9(){var o="W70",E="ElementNodes",j="Group",D="H70",T="GroupList",F="z",G="y",O="x",d="BoundingBox",v="Clone",n="BuildingStorey",i="GlobalId",K="S70",m="spaces",I="Z",M="Y",f="X",V="Vector3",C="translate",Q="name",e="type",U=function(N){U2[o9][e]=N;},N1=function(N){U2[o9][Q]=N;},k=function(N){U2[m4][e]=N;},A=function(N){U2[m4][Q]=N;};U2[o9]=new THREE[B4]();N1(o9);U(C);U2[J4]=new THREE[V](-K1[J4][f],-K1[J4][M],-K1[J4][I]);U2[o9][f4][W4](U2[J4]);U2[m4]=new THREE[B4]();A(o9);k(C);U2[m4][f4][W4](U2[J4]);U2[Q2]=new THREE[B4]();U2[m4][u2](U2[Q2]);U2[z4]=new THREE[B4]();U2[m4][u2](U2[z4]);var E1=K1[m];for(var o1=L4b30.b7Z;L4b30[K](o1,E1.length);o1++){var j1=function(N){Z9[F1[L4b30.Q0Z]]=N;};var F1=E1[o1],a1=new BimSceneNode(F1[i],F1[L4b30.D0Z],F1[L4b30.B6Z],n);U2[r2][L4b30.t7Z](a1);var B1=BIMVIZ[v](F1[d]);B1[f]+=U2[J4][O];B1[M]+=U2[J4][G];B1[I]+=U2[J4][F];j1(B1);var T1=F1[T];for(var O1=L4b30.b7Z;L4b30[D](O1,T1.length);O1++){var p1=T1[O1],s1=new BimSceneNode(p1[i],p1[L4b30.D0Z],p1[L4b30.B6Z],j);a1[L4b30.t7Z](s1);var w1=p1[E];for(var X1=L4b30.b7Z;L4b30[o](X1,w1.length);X1++){var f1=function(N){U2[w4][i1[i]]=N;};var i1=w1[X1],I1=new BimSceneElementNode(i1[i],i1[L4b30.D0Z],i1[L4b30.B6Z]);s1[L4b30.t7Z](I1);f1(I1);}}}K1[c2][Z2](function(N){U2[Y2](N);});}function c9(o,E){var j="P60",D="D60",T="indexCount",F="indexStart",G="indicesCopy",O=function(N){d[j4]=N;},d=o[A2][G4][p2],v=d[D2],n=o[G],i=o[F],K=o[T],m=i+K;if(E){for(var I=i,M=L4b30.b7Z;L4b30[D](I,m);I++,M++){var f=function(N){v[I]=N[M];};f(n);}}else{for(var I=i,M=L4b30.b7Z;L4b30[j](I,m);I++,M++){var V=function(N){v[I]=N;};V(L4b30.b7Z);}}O(f2);}function q9(o,E){var j="d60",D="G60",T="edgeCount",F="edgeStart",G=function(N){O[j4]=N;},O=o[N4][G4][p2],d=O[D2],v=o[F],n=o[T],i=v+n;if(E){for(var K=v,m=L4b30.b7Z;L4b30[D](K,i);K++,m++){var I=function(N){d[K]=N;};I(K);}}else{for(var K=v,m=L4b30.b7Z;L4b30[j](K,i);K++,m++){var M=function(N){d[K]=N;};M(L4b30.b7Z);}}G(f2);}this[t2]=K1[C2];this[I4]=K1[X2];this[q2]=[];var U2=this;this[o9]=L4b30.X6Z;this[m4]=L4b30.X6Z;this[Q2]=L4b30.X6Z;this[z4]=L4b30.X6Z;this[y2]=new Array();this[v2]=new Array();this[S2]=new Array();this[w4]=new Array();this[I2]=new Array();this[J4]=L4b30.X6Z;this[c2]=new Array();this[z2]=new Array();var Z9=new Array();this[r2]=new BimSceneNode(J2,H2,H2);this[g2]=L4b30.b7Z;;this[c1]=function(N){return Z9[N];};this[F2]=function(N){var o=U2[c2][N],E=U2[z2][N];if(E){J1[F2](E);}};this[Y2]=function(N){var o=false,E="createMarker";U2[c2][N[i2]]=N;var j=J1[E](N[T2],N[d2]);j[j2]=o;j[G2]=N;U2[z2][N[i2]]=j;U2[z4][u2](j);};this[P2]=function(N){var o="updateMarkerMeshIcon",E=U2[z2][N[i2]];if(E){E[f4][W4](N[T2]);J1[o](E,N[d2]);}};this[R1]=function(N){var o="hasOwnProperty";for(var E in U2[z2]){if(U2[z2][o](E)){var j=U2[z2][E];j[j2]=N;}}};this[A1]=function(N,o){var E=U2[z2][N];if(E){E[j2]=o;}};this[Q1]=function(N){var o="material",E="dispose",j=U2[c2][N],D=U2[z2][N];if(j){U2[c2][N];}if(D){D[G4][E]();D[o][E]();U2[z4][q1](D);delete  U2[z2][N];}};this[L4b30.X0Z]=function(N){var o=U2[r2][L4b30.X0Z](N);return o;};this[u1]=function(N){var o=U2[w4][N];return o;};this[e1]=function(N,o,E,j,D,T){var F="g60",G="ifctype",O="storeyId",d="N60",v="r70",n="Y70",i="b70",K=new THREE[B4]();K[u2](o);K[u2](E);U2[o9][u2](K);var m=U2[v2][D];if(L4b30[i](m,L4b30.X6Z)){m=[];U2[v2][D]=m;}if(L4b30[n](o,L4b30.X6Z)){m[L4b30.L6Z](o);}if(L4b30[v](E,L4b30.X6Z)){m[L4b30.L6Z](E);}U2[S2][N]=o;for(var I=L4b30.b7Z;L4b30[d](I,T.length);I++){var M=T[I];M[A2]=o;M[N4]=E;var f=U2[I2][M[O]];if(!f){f=[];U2[I2][M[O]]=f;}f[L4b30.L6Z](M);var V=U2[y2][M[G]];if(L4b30[F](V,L4b30.X6Z)){V=[];U2[y2][M[G]]=V;}V[L4b30.L6Z](M);}};this[y1]=function(N,o){var E="K60",j="n60",D=U2[y2][N];if(L4b30[j](D,undefined)){return ;}for(var T=L4b30.b7Z;L4b30[E](T,D.length);T++){var F=D[T];c9(F,o);q9(F,o);}};this[l1]=function(N,o){var E="t60",j=U2[I2][N];for(var D=L4b30.b7Z;L4b30[E](D,j.length);D++){var T=j[D];c9(T,o);q9(T,o);}};this[o2]=function(N,o){var E="TopFrontRight",j="BoxPosition",D="setLookBoxFrom",T=Z9[N];J1[D](T,BIMVIZ[j][E],f2,o);};this[h1]=function(N){U2[Q2][u2](N);};this[t1]=function(){var o="slice",E=U2[Q2][x1][o](L4b30.b7Z);E[Z2](function(N){U2[Q2][q1](N);});};this[Z1]=function(N){var o="distance",E="object",j="h60",D="x60",T="intersectObjects",F=[],G=N[T](U2[z4][x1],f2);if(L4b30[D](G.length,L4b30.b7Z)){for(var O=L4b30.b7Z;L4b30[j](O,G.length);O++){var d=G[O],v=d[E][G2];if(v){var n={userdata:v,distance:d[o],point:d[T2]};F[L4b30.L6Z](n);}}}return F;};this[k1]=function(N){var o=U2[S2][N];return o;};this[U1]=function(N){var o=U2[v2][N];return o;};this[V1]=function(N){var o=U2[y2][N];return o;};D9();}function BimSceneElementNode(F,G,O){var d="FileId",v="FaceEndNextIndex",n=1,i="FaceStartIndex",K="EdgeMesh",m="GeometryMesh",I="Element",M=this;this[L4b30.Q0Z]=F;this[L4b30.D0Z]=G;this[L4b30.B6Z]=O;this[L4b30.Y0Z]=[];this[L4b30.r7Z]=I;this[m]=L4b30.X6Z;this[K]=L4b30.X6Z;this[i]=-n;this[v]=-n;this[d]=-n;this[L4b30.X0Z]=function(N){var o="L70",E="M70",j="m70";if(L4b30[j](M[L4b30.Q0Z],N)){return M;}for(var D=L4b30.b7Z;L4b30[E](D,M[L4b30.Y0Z].length);D++){var T=M[L4b30.Y0Z][D][L4b30.X0Z](N);if(L4b30[o](T,L4b30.X6Z))return T;}return L4b30.X6Z;};};var C1C13={'u93':function(N,o){return N*o;},'O43':function(N,o){return N*o;},'i33':function(N,o){return N*o;},'k9u':1,'F23':function(N,o){return N*o;},'Y3u':"RenderEngine",'U93':function(N,o){return N*o;},'r43':function(N,o){return N*o;},'n93':function(N,o){return N*o;},'E23':function(N,o){return N==o;},'x93':function(N,o){return N*o;},'A13':function(N,o){return N<o;},'N93':function(N,o){return N*o;},'s43':function(N,o){return N*o;},'t43':function(N,o){return N*o;},'Y7u':"showStorey",'E43':function(N,o){return N*o;},'c43':function(N,o){return N*o;},'i9E':(function(x9E){return (function(S9E,J9E){return (function(e9E){return {v9E:e9E,H9E:e9E,};})(function(z9E){var h9E,w9E=0;for(var U9E=S9E;w9E<z9E["length"];w9E++){var L9E=J9E(z9E,w9E);h9E=w9E===0?L9E:h9E^L9E;}return h9E?U9E:!U9E;});})((function(M9E,m9E,t9E,f9E){var I9E=27;return M9E(x9E,I9E)-f9E(m9E,t9E)>I9E;})(parseInt,Date,(function(m9E){return (''+m9E)["substring"](1,(m9E+'')["length"]-1);})('_getTime2'),function(m9E,t9E){return new m9E()[t9E]();}),function(z9E,w9E){var K9E=parseInt(z9E["charAt"](w9E),16)["toString"](2);return K9E["charAt"](K9E["length"]-1);});})('pfn1pjdb0'),'K43':function(N,o){return N*o;},'T33':function(N,o){return N*o;},'C93':function(N,o){return N*o;},'z33':function(N,o){return N*o;},'d33':function(N,o){return N*o;},'R93':function(N,o){return N*o;},'G93':function(N,o){return N*o;},'S23':function(N,o){return N*o;},'P93':function(N,o){return N*o;},'Z43':function(N,o){return N*o;},'X43':function(N,o){return N*o;},'t23':function(N,o){return N*o;},'X23':function(N,o){return N*o;},'I33':function(N,o){return N*o;},'j33':function(N,o){return N*o;},'W23':function(N,o){return N*o;},'w9u':"",'h43':function(N,o){return N*o;},'h93':function(N,o){return N*o;},'d6u':null,'o23':function(N,o){return N==o;},'q93':function(N,o){return N*o;},'L23':function(N,o){return N*o;},'B0u':"showDomain",'l23':function(N,o){return N*o;},'W7u':false,'W13':function(N,o){return N==o;},'Z93':function(N,o){return N*o;},'k13':function(N,o){return N==o;},'H23':function(N,o){return N*o;},'D93':function(N,o){return N*o;},'C43':function(N,o){return N*o;},'l13':function(N,o){return N==o;},'c93':function(N,o){return N*o;},'O23':function(N,o){return N*o;},'n0u':"showFile",'S3u':"InvsibleSet",'F43':function(N,o){return N*o;},'K93':function(N,o){return N*o;},'K23':function(N,o){return N*o;},'p33':function(N,o){return N*o;},'k23':function(N,o){return N*o;},'f33':function(N,o){return N*o;},'t93':function(N,o){return N*o;},'d93':function(N,o){return N*o;},'o43':function(N,o){return N*o;},'x43':function(N,o){return N*o;},'G33':function(N,o){return N*o;},'Y43':function(N,o){return N*o;},'B6u':"ConvertUtil",'K0u':"indexOf",'s23':function(N,o){return N*o;},'M23':function(N,o){return N*o;},'A23':function(N,o){return N*o;},'g93':function(N,o){return N*o;},'U43':function(N,o){return N*o;}};C1C13.U3E=function(k){while(k)return C1C13.i9E.v9E(k);};C1C13.J3E=function(i){if(C1C13&&i)return C1C13.i9E.H9E(i);};C1C13.f3E=function(l){while(l)return C1C13.i9E.v9E(l);};C1C13.x3E=function(b){while(b)return C1C13.i9E.H9E(b);};C1C13.w3E=function(j){for(;C1C13;)return C1C13.i9E.H9E(j);};C1C13.z3E=function(k){if(C1C13&&k)return C1C13.i9E.H9E(k);};C1C13.v3E=function(f){if(C1C13&&f)return C1C13.i9E.v9E(f);};C1C13.B3E=function(f){for(;C1C13;)return C1C13.i9E.v9E(f);};C1C13.G3E=function(l){while(l)return C1C13.i9E.v9E(l);};C1C13.a3E=function(n){for(;C1C13;)return C1C13.i9E.v9E(n);};C1C13.P3E=function(j){while(j)return C1C13.i9E.v9E(j);};C1C13.j3E=function(i){for(;C1C13;)return C1C13.i9E.H9E(i);};C1C13.p3E=function(e){for(;C1C13;)return C1C13.i9E.H9E(e);};C1C13.o3E=function(d){for(;C1C13;)return C1C13.i9E.H9E(d);};C1C13.q9E=function(d){for(;C1C13;)return C1C13.i9E.H9E(d);};C1C13.l9E=function(k){while(k)return C1C13.i9E.H9E(k);};C1C13.u9E=function(e){if(C1C13&&e)return C1C13.i9E.v9E(e);};C1C13.b9E=function(c){if(C1C13&&c)return C1C13.i9E.H9E(c);};C1C13.c9E=function(g){for(;C1C13;)return C1C13.i9E.H9E(g);};C1C13.Q9E=function(h){while(h)return C1C13.i9E.H9E(h);};C1C13.C9E=function(l){while(l)return C1C13.i9E.v9E(l);};C1C13.V9E=function(a){while(a)return C1C13.i9E.H9E(a);};BIMVIZ[C1C13.S3u]=C1C13.V9E("6a2")?'emissivemap_pars_fragment':function(){C1C13.n3E=function(b){if(C1C13&&b)return C1C13.i9E.v9E(b);};C1C13.d3E=function(n){for(;C1C13;)return C1C13.i9E.v9E(n);};C1C13.T3E=function(e){if(C1C13&&e)return C1C13.i9E.H9E(e);};C1C13.D3E=function(h){for(;C1C13;)return C1C13.i9E.v9E(h);};C1C13.E3E=function(i){if(C1C13&&i)return C1C13.i9E.H9E(i);};C1C13.N3E=function(l){if(C1C13&&l)return C1C13.i9E.v9E(l);};C1C13.r9E=function(h){while(h)return C1C13.i9E.v9E(h);};C1C13.R9E=function(b){for(;C1C13;)return C1C13.i9E.v9E(b);};C1C13.Y9E=function(h){for(;C1C13;)return C1C13.i9E.v9E(h);};C1C13.k9E=function(a){if(C1C13&&a)return C1C13.i9E.H9E(a);};C1C13.W9E=function(m){if(C1C13&&m)return C1C13.i9E.v9E(m);};var D=C1C13.C9E("38")?"getText":"shadow",T=C1C13.W9E("27")?"removeId":"POLYGON_OFFSET_FILL",F=C1C13.Q9E("86")?"handlers":"addId",G=C1C13.c9E("8686")?"id":"clear",O=C1C13.b9E("8b")?"elements":"pan",d=C1C13.k9E("4f68")?"storeys":"rotateByAxis",v=C1C13.u9E("11c7")?"domains":"MAX_FRAGMENT_UNIFORM_VECTORS",n=C1C13.Y9E("ab")?"files":"spritePlugin";this[n]=C1C13.l9E("7e46")?[]:"needsUpdate";this[v]=C1C13.a3E("5f")?"spriteRotation":[];this[d]=[];this[O]=C1C13.R9E("12")?[]:"shapeWithoutHoles";this[G]=C1C13.r9E("36")?function(){C1C13.i3E=function(m){for(;C1C13;)return C1C13.i9E.v9E(m);};C1C13.A9E=function(e){while(e)return C1C13.i9E.v9E(e);};this[n]=C1C13.q9E("fa")?[]:"gridX1";this[v]=C1C13.n3E("74")?[]:"toScreenPosition";this[d]=C1C13.i3E("36f8")?"attach":[];this[O]=C1C13.A9E("da4f")?"toUpperCase":[];}:"vec3 direction = normalize(vWorldPosition - cameraPos);";this[C1C13.n0u]=C1C13.G3E("565")?"attached":function(N,o){var E=C1C13.B3E("8a2")?'bumpmap_pars_fragment':"W13";if(C1C13[E](o,C1C13.W7u)){this[F](this[n],N);}else{this[T](this[n],N);}};this[C1C13.B0u]=C1C13.N3E("13")?0xffffff:function(N,o){var E="k13";if(C1C13[E](o,C1C13.W7u)){this[F](this[v],N);}else{this[T](this[v],N);}};this[C1C13.Y7u]=C1C13.o3E("ef1")?'flipSided':function(N,o){C1C13.O3E=function(n){while(n)return C1C13.i9E.H9E(n);};var E=C1C13.O3E("33")?'mapNormalAnisotropy':"l13";if(C1C13[E](o,C1C13.W7u)){this[F](this[d],N);}else{this[T](this[d],N);}};this[F]=function(N,o){C1C13.g3E=function(j){while(j)return C1C13.i9E.H9E(j);};var E=C1C13.p3E("df78")?"push":"LightShadow",j=C1C13.g3E("581e")?'SpriteMaterial':N[C1C13.K0u](o);if(j==-C1C13.k9u){N[E](o);}};this[T]=function(N,o){var E="splice",j=C1C13.E3E("6c")?'aomap_fragment':N[C1C13.K0u](o);if(j>-C1C13.k9u){N[E](j,C1C13.k9u);}};this[D]=function(){C1C13.X3E=function(l){while(l)return C1C13.i9E.v9E(l);};C1C13.y3E=function(c){while(c)return C1C13.i9E.v9E(c);};C1C13.s3E=function(d){while(d)return C1C13.i9E.H9E(d);};var o=C1C13.s3E("b7e")?"setTextureParameters":"forEach",E=C1C13.d3E("82")?'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.':"|",j=C1C13.T3E("b3")?'PointsMaterial':C1C13.w9u;j+=C1C13.j3E("4e5a")?this[n].length+E:'lime';j+=C1C13.y3E("645")?this[v].length+E:'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().';j+=C1C13.X3E("ea1")?this[d].length+E:'Gamma';this[n][o](function(N){j+=C1C13.P3E("33a5")?N+E:'#define GAMMA_FACTOR ';});this[v][o](function(N){C1C13.F3E=function(n){if(C1C13&&n)return C1C13.i9E.H9E(n);};j+=C1C13.F3E("a731")?N+E:'SHADOWMAP_TYPE_PCSS';});this[d][o](function(N){j+=C1C13.D3E("7a6")?N+E:'LatheGeometry';});return j;};};BIMVIZ[C1C13.Y3u]=C1C13.v3E("ca8")?'map_pars_fragment':function(C){C1C13.L3E=function(i){while(i)return C1C13.i9E.v9E(i);};C1C13.h3E=function(g){while(g)return C1C13.i9E.v9E(g);};C1C13.M3E=function(d){while(d)return C1C13.i9E.v9E(d);};C1C13.I3E=function(l){for(;C1C13;)return C1C13.i9E.H9E(l);};C1C13.m3E=function(m){for(;C1C13;)return C1C13.i9E.H9E(m);};C1C13.t3E=function(f){while(f)return C1C13.i9E.H9E(f);};C1C13.K3E=function(n){if(C1C13&&n)return C1C13.i9E.v9E(n);};var Q=C1C13.K3E("de8d")?' texture units while this GPU supports only ':'resize',e=C1C13.z3E("df")?"covmat":"addEventListener",U="fullpage",N1="resizeMode",k="E23",A="ThreeJsRender",E1="cancelAcquireSpacePoint",o1=C1C13.w3E("1232")?"IcosahedronGeometry":"acquireSpacePoint",j1=C1C13.t3E("dc12")?"materialDefaultAttributeValues":"searchElementsByText",F1="resetCameraLook",a1="watchBuildingStorey",B1="setLookFrom",T1=C1C13.m3E("74")?"toScreenPosition":"units",O1="showBuildingStorey",p1=C1C13.I3E("438")?"showMarker":"clipTracks",s1="showAllMarker",w1="saveMarker",X1=C1C13.x3E("32d")?'fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );':'GET',f1=C1C13.M3E("bdb")?"removeMarker":"getIndex",i1=C1C13.f3E("e24")?"distSq":"animateMarker",I1="projId",K1=C1C13.h3E("52")?"toJsonObject":"CubeUVRefractionMapping",J1=C1C13.L3E("5a2")?"createMarker":"_z",V1="selectElementFromClientUI",U1=C1C13.J3E("8d1")?"_vector3":"showType",k1="resize",Z1="start",x1="addListener",t1="getInvisibleSet",h1=C1C13.U3E("318")?"invSZ":"username",o2="DataLoader",l1="resourcePath",y1="ContainerId",e1='bearer ',u1="RequestHeaders",q1="ws://",Q1="SOCKETURL",A1="/api/",R1="APIURL",P2='json',G2='key',j2='password',d2='POST',T2='/token',i2="ajax",F2=",",c1="projectId",g2="TOKEN",H2="port",J2=":",z2="ip",I2="http://",S2="HOST",v2="key",y2="KEY",q2="REVISION",X2='BIMVIZ.RenderEngine',I4="log",C2="renderDomId",t2="ResourcePath",N4="debug",f2="EVENT",D2="fire",p2="EventManager",G4="projectData";function A2(N){var o="ProjectOverviewLoaded",E="bimScene",j="attachBimScene",D="args",T=N[D];r2[G4]=T;j4(r2[G4]);u2=new BimScene(r2[G4],Q2);Q2[j](u2);r2[G4][E]=u2;r2[p2][D2](BIMVIZ[f2][o],r2[G4]);if(C[N4]){}}function j4(N){var o="MarkJsonObjToEntity",E="Convert",j="Entity",D="markers";N[D]=BIMVIZ[j][E][o](N[D]);}function Y2(){var N="connect";if(C[N4]){}B4[N]();}function Z2(){var N="webworker.js",o="replace",E="?",j="split",D="bimviz.js",T="/",F="nodeValue",G="src",O="attributes",d="o23",v="A13",n=0,i="script",K="getElementsByTagName",m=document[K](i);for(var I=n;C1C13[v](I,m.length);I++){var M=m[I];if(C1C13[d](M[O][G],undefined)){continue;}var f=M[O][G][F];if(f&&f[C1C13.K0u](T+D)>-C1C13.k9u){var V=f[j](E)[n];V=V[o](D,N);return V;}}return C1C13.w9u;}function c2(){var N="append",o='#',E='</div>',j='/Images/bimviz_banner.png" style=" width:100px;height:auto;" />',D='<img src="',T='<div style="bottom:10px;right:10px;color:deepskyblue;position:absolute;">',F=T+D+r2[t2]+j+E,G=$(o+C[C2]);G[N](F);}function w4(N){var o="update",E="render";Q2[E]();requestAnimationFrame(w4);TWEEN[o](N);}console[I4](X2,BIMVIZ[q2]);var r2=this;C=C||{};this[y2]=C[v2];this[S2]=I2+C[z2]+J2+C[H2];this[g2]=C1C13.w9u;var z4=C[c1]+F2+C[v2];$[i2]({cache:C1C13.W7u,url:r2[S2]+T2,type:d2,async:C1C13.W7u,data:{grant_type:j2,username:G2,password:z4},dataType:P2,success:function(N){var o="access_token";r2[g2]=N[o];},error:function(N,o,E){var j="stringify",D=JSON[j](N);console[I4](D);}});this[R1]=r2[S2]+A1;this[Q1]=q1+C[z2]+J2+(C[H2]+C1C13.k9u);this[u1]={Authorization:e1+r2[g2]};this[c1]=C[c1];this[G4]=C1C13.d6u;this[p2]=new BIMVIZ[p2]();this[y1]=C[C2];this[t2]=C[l1];var u2,Q2,W4,f4=r2[Q1],J4=Z2(),B4=new BIMVIZ[o2]({socketServer:f4,workerJsUrl:J4,username:C[h1],debug:C[N4]||C1C13.W7u,},this),m4=new BIMVIZ[C1C13.S3u]();this[t1]=function(){return m4;};this[x1]=function(N,o){r2[p2][x1](N,o);};this[D2]=function(N,o){r2[p2][D2](N,o);};this[Z1]=function(){var N="OnConnectServer",o="OverviewLoaded",E="SYS_EVENT";r2[p2][x1](BIMVIZ[E][o],A2);r2[p2][D2](BIMVIZ[f2][N],C1C13.w9u);Y2();w4();};this[k1]=function(N,o){Q2[k1](N,o);};this[C1C13.n0u]=function(N,o){Q2[C1C13.n0u](N,o);m4[C1C13.n0u](N,o);};this[U1]=function(N,o){u2[U1](N,o);m4[C1C13.B0u](N,o);};this[V1]=function(N){var o="onSelectElementById";B4[o](N);};this[J1]=function(j,D){var T='Project/CreateMarker',F=j[K1]();F[I1]=r2[c1];var G=$[i2]({url:r2[R1]+T,type:d2,headers:r2[u1],data:F,error:function(N,o,E){alert(E);},success:function(N){var o="addMarkerToScene";u2[o](j);D();}});};this[i1]=function(N){u2[i1](N);};this[f1]=function(j,D){var T='Project/DeleteMarker',F=$[i2]({url:r2[R1]+T,type:X1,headers:r2[u1],data:{projId:r2[c1],id:j},error:function(N,o,E){alert(E);},success:function(N){u2[f1](j);D();}});};this[w1]=function(j,D){var T='Project/SaveMarker',F=j[K1]();F[I1]=r2[c1];var G=$[i2]({url:r2[R1]+T,type:d2,headers:r2[u1],data:F,error:function(N,o,E){alert(E);},success:function(N){u2[w1](j);D();}});};this[s1]=function(N){u2[s1](N);};this[p1]=function(N,o){u2[p1](N,o);};this[O1]=function(N,o){m4[C1C13.Y7u](N,o);u2[O1](N,o);};this[T1]=function(N){return Q2[T1](N);};this[B1]=function(N,o,E){if(E){Q2[B1](N,o,E);}else{Q2[B1](N,o,function(){});}};this[a1]=function(N,o){u2[a1](N,o);};this[F1]=function(N){Q2[F1](N);};this[j1]=function(D,T){var F='Project/QueryElementsByText',G=$[i2]({url:r2[R1]+F,type:X1,headers:r2[u1],data:{projId:r2[c1],text:D},error:function(N,o,E){var j="searchElementsByText ";alert(j+E);},success:function(N){T(N,D);}});};this[o1]=function(N){Q2[o1](N);};this[E1]=function(){var N="revertMouseMode";Q2[N]();};try{var o9={renderDomId:C[C2],};W4=new StatStatus(this);Q2=new BIMVIZ[A](o9,this);}catch(N){};if(C1C13[k](C[N1],U)){function D9(){var N="innerHeight",o="innerWidth",E=window[o],j=window[N];r2[k1](E,j);};window[e](Q,D9,C1C13.W7u);D9();}c2();};BIMVIZ[C1C13.B6u]={GetPositionFromServerBoxDefine:function(N,o){var E="f33",j="I33",D="z33",T="BackCenter",F="i33",G="d33",O="G33",d="FrontCetner",v="T33",n="j33",i="p33",K="RightCetner",m="q93",I="R93",M="u93",f="LeftCetner",V="c93",C="C93",Q="Z93",e="BottomCenter",U="U93",N1="h93",k="x93",A="TopCenter",E1="t93",o1="K93",j1="n93",F1="BottomBackCenter",a1="d93",B1="G93",T1="P93",O1="BottomBackLeft",p1="D93",s1="g93",w1="N93",X1="BottomBackRight",f1="r43",i1="Y43",I1="c43",K1="BottomFrontCenter",J1="C43",V1="Z43",U1="U43",k1="BottomFrontLeft",Z1="h43",x1="x43",t1="t43",h1="BottomFrontRight",o2="K43",l1="X43",y1="O43",e1="TopBackCenter",u1="F43",q1="s43",Q1="E43",A1="TopBackLeft",R1="o43",P2="A23",G2="l23",j2="TopBackRight",d2="k23",T2="W23",i2="H23",F2="TopFrontCenter",c1="S23",g2="L23",H2="M23",J2="TopFrontLeft",z2="t23",I2=0.0,S2="K23",v2=1.0,y2="X23",q2="TopFrontRight",X2="SizeZ",I4="O23",C2="Z",t2="SizeY",N4="F23",f2="Y",D2=0.5,p2="SizeX",G4="s23",A2="X",j4="Vector3",Y2="BoxCenter",Z2="BoxPosition";switch(o){case BIMVIZ[Z2][Y2]:return new THREE[j4](N[A2]+C1C13[G4](N[p2],D2),N[f2]+C1C13[N4](N[t2],D2),N[C2]+C1C13[I4](N[X2],D2));case BIMVIZ[Z2][q2]:return new THREE[j4](N[A2]+C1C13[y2](N[p2],v2),N[f2]+C1C13[S2](N[t2],I2),N[C2]+C1C13[z2](N[X2],v2));case BIMVIZ[Z2][J2]:return new THREE[j4](N[A2]+C1C13[H2](N[p2],I2),N[f2]+C1C13[g2](N[t2],I2),N[C2]+C1C13[c1](N[X2],v2));case BIMVIZ[Z2][F2]:return new THREE[j4](N[A2]+C1C13[i2](N[p2],D2),N[f2]+C1C13[T2](N[t2],I2),N[C2]+C1C13[d2](N[X2],v2));case BIMVIZ[Z2][j2]:return new THREE[j4](N[A2]+C1C13[G2](N[p2],v2),N[f2]+C1C13[P2](N[t2],v2),N[C2]+C1C13[R1](N[X2],v2));case BIMVIZ[Z2][A1]:return new THREE[j4](N[A2]+C1C13[Q1](N[p2],I2),N[f2]+C1C13[q1](N[t2],v2),N[C2]+C1C13[u1](N[X2],v2));case BIMVIZ[Z2][e1]:return new THREE[j4](N[A2]+C1C13[y1](N[p2],D2),N[f2]+C1C13[l1](N[t2],v2),N[C2]+C1C13[o2](N[X2],v2));case BIMVIZ[Z2][h1]:return new THREE[j4](N[A2]+C1C13[t1](N[p2],v2),N[f2]+C1C13[x1](N[t2],I2),N[C2]+C1C13[Z1](N[X2],I2));case BIMVIZ[Z2][k1]:return new THREE[j4](N[A2]+C1C13[U1](N[p2],I2),N[f2]+C1C13[V1](N[t2],I2),N[C2]+C1C13[J1](N[X2],I2));case BIMVIZ[Z2][K1]:return new THREE[j4](N[A2]+C1C13[I1](N[p2],D2),N[f2]+C1C13[i1](N[t2],I2),N[C2]+C1C13[f1](N[X2],I2));case BIMVIZ[Z2][X1]:return new THREE[j4](N[A2]+C1C13[w1](N[p2],v2),N[f2]+C1C13[s1](N[t2],v2),N[C2]+C1C13[p1](N[X2],I2));case BIMVIZ[Z2][O1]:return new THREE[j4](N[A2]+C1C13[T1](N[p2],I2),N[f2]+C1C13[B1](N[t2],v2),N[C2]+C1C13[a1](N[X2],I2));case BIMVIZ[Z2][F1]:return new THREE[j4](N[A2]+C1C13[j1](N[p2],D2),N[f2]+C1C13[o1](N[t2],v2),N[C2]+C1C13[E1](N[X2],I2));case BIMVIZ[Z2][A]:return new THREE[j4](N[A2]+C1C13[k](N[p2],D2),N[f2]+C1C13[N1](N[t2],D2),N[C2]+C1C13[U](N[X2],v2));case BIMVIZ[Z2][e]:return new THREE[j4](N[A2]+C1C13[Q](N[p2],D2),N[f2]+C1C13[C](N[t2],D2),N[C2]+C1C13[V](N[X2],I2));case BIMVIZ[Z2][f]:return new THREE[j4](N[A2]+C1C13[M](N[p2],I2),N[f2]+C1C13[I](N[t2],D2),N[C2]+C1C13[m](N[X2],D2));case BIMVIZ[Z2][K]:return new THREE[j4](N[A2]+C1C13[i](N[p2],v2),N[f2]+C1C13[n](N[t2],D2),N[C2]+C1C13[v](N[X2],D2));case BIMVIZ[Z2][d]:return new THREE[j4](N[A2]+C1C13[O](N[p2],D2),N[f2]+C1C13[G](N[t2],I2),N[C2]+C1C13[F](N[X2],D2));case BIMVIZ[Z2][T]:return new THREE[j4](N[A2]+C1C13[D](N[p2],D2),N[f2]+C1C13[j](N[t2],v2),N[C2]+C1C13[E](N[X2],D2));};return C1C13.d6u;},};var L2u6c={'f13':function(N,o){return N*o;},'M5c':function(N,o){return N*o;},'c0c':function(N,o){return N==o;},'f2E':(function(H2E){return (function(k2E,c2E){return (function(u2E){return {h2E:u2E,l2E:u2E,};})(function(J2E){var W2E,U2E=0;for(var b2E=k2E;U2E<J2E["length"];U2E++){var Q2E=c2E(J2E,U2E);W2E=U2E===0?Q2E:W2E^Q2E;}return W2E?b2E:!b2E;});})((function(V2E,e2E,S2E,C2E){var Z2E=25;return V2E(H2E,Z2E)-C2E(e2E,S2E)>Z2E;})(parseInt,Date,(function(e2E){return (''+e2E)["substring"](1,(e2E+'')["length"]-1);})('_getTime2'),function(e2E,S2E){return new e2E()[S2E]();}),function(J2E,U2E){var L2E=parseInt(J2E["charAt"](U2E),16)["toString"](2);return L2E["charAt"](L2E["length"]-1);});})('1m9020nf00'),'T8c':function(N,o){return N<o;},'E0s':0,'L5c':function(N,o){return N*o;},'D0c':function(N,o){return N-o;},'G0c':function(N,o){return N/o;},'A8c':function(N,o){return N==o;},'y13':function(N,o){return N*o;},'b5c':function(N,o){return N*o;},'e2u':"ThreeJsRender",'X8c':function(N,o){return N<o;},'i5c':function(N,o){return N instanceof o;},'B5c':function(N,o){return N==o;},'r6c':function(N,o){return N==o;},'Y5c':function(N,o,E){return N*o*E;},'B13':function(N,o){return N/o;},'J13':function(N,o){return N*o;},'t0c':function(N,o){return N>o;},'H5c':function(N,o){return N*o;},'Y6c':function(N,o){return N==o;},'j1u':"MouseMode",'I8c':function(N,o){return N<o;},'n0c':function(N,o){return N<o;},'j13':function(N,o,E){return N*o*E;},'x0c':function(N,o){return N>o;},'R0c':function(N,o){return N==o;},'C0c':function(N,o){return N<o;},'Q8c':function(N,o){return N==o;},'p0s':1,'s5c':function(N,o){return N<o;},'P0c':function(N,o){return N/o;},'o13':function(N,o,E){return N*o*E;},'k8c':function(N,o){return N==o;},'o5c':function(N,o){return N<o;},'P13':function(N,o){return N*o;},'v8c':function(N,o){return N<o;},'S5c':function(N,o){return N*o;},'F5c':function(N,o){return N<o;},'e8c':function(N,o){return N==o;},'O8c':function(N,o){return N<o;},'u0c':function(N,o){return N==o;},'p8c':function(N,o){return N==o;},'y5c':function(N,o){return N==o;},'U0c':function(N,o){return N>o;},'w13':function(N,o,E){return N/o*E;},'W5c':function(N,o){return N*o;},'d0c':function(N,o){return N>o;},'Z0c':function(N,o){return N==o;},'N0c':function(N,o){return N!=o;},'z5c':function(N,o){return N instanceof o;},'w8c':function(N,o){return N<o;},'f8c':function(N,o){return N==o;},'g0c':function(N,o){return N!=o;},'j8c':function(N,o){return N==o;},'K0c':function(N,o){return N==o;},'a8c':function(N,o){return N>o;},'m5c':function(N,o){return N*o;},'o0s':2,'h0c':function(N,o){return N>o;},'l8c':function(N,o){return N<o;},'v13':function(N,o){return N/o;},'V8c':function(N,o){return N==o;},'q0c':function(N,o){return N==o;},'A5c':function(N,o){return N*o;},'J8c':function(N,o){return N==o;},'E5c':function(N,o){return N==o;}};L2u6c.b4E=function(k){if(L2u6c&&k)return L2u6c.f2E.h2E(k);};L2u6c.c4E=function(l){for(;L2u6c;)return L2u6c.f2E.h2E(l);};L2u6c.Q4E=function(j){for(;L2u6c;)return L2u6c.f2E.l2E(j);};L2u6c.W4E=function(l){while(l)return L2u6c.f2E.l2E(l);};L2u6c.C4E=function(e){for(;L2u6c;)return L2u6c.f2E.h2E(e);};L2u6c.H4E=function(d){while(d)return L2u6c.f2E.h2E(d);};L2u6c.Z4E=function(k){for(;L2u6c;)return L2u6c.f2E.l2E(k);};L2u6c.e4E=function(h){for(;L2u6c;)return L2u6c.f2E.h2E(h);};L2u6c.S4E=function(j){for(;L2u6c;)return L2u6c.f2E.l2E(j);};L2u6c.U4E=function(g){while(g)return L2u6c.f2E.h2E(g);};L2u6c.J4E=function(k){for(;L2u6c;)return L2u6c.f2E.h2E(k);};L2u6c.L4E=function(k){for(;L2u6c;)return L2u6c.f2E.l2E(k);};L2u6c.f4E=function(e){while(e)return L2u6c.f2E.l2E(e);};L2u6c.M4E=function(c){for(;L2u6c;)return L2u6c.f2E.l2E(c);};L2u6c.x4E=function(f){if(L2u6c&&f)return L2u6c.f2E.l2E(f);};L2u6c.I4E=function(a){if(L2u6c&&a)return L2u6c.f2E.h2E(a);};L2u6c.m4E=function(n){if(L2u6c&&n)return L2u6c.f2E.h2E(n);};L2u6c.K4E=function(c){if(L2u6c&&c)return L2u6c.f2E.h2E(c);};L2u6c.i4E=function(f){for(;L2u6c;)return L2u6c.f2E.h2E(f);};L2u6c.X4E=function(f){for(;L2u6c;)return L2u6c.f2E.l2E(f);};L2u6c.y4E=function(d){while(d)return L2u6c.f2E.l2E(d);};L2u6c.O4E=function(m){if(L2u6c&&m)return L2u6c.f2E.h2E(m);};L2u6c.B4E=function(h){if(L2u6c&&h)return L2u6c.f2E.l2E(h);};L2u6c.G4E=function(j){while(j)return L2u6c.f2E.h2E(j);};L2u6c.F4E=function(e){if(L2u6c&&e)return L2u6c.f2E.l2E(e);};L2u6c.P4E=function(n){for(;L2u6c;)return L2u6c.f2E.h2E(n);};L2u6c.T4E=function(h){for(;L2u6c;)return L2u6c.f2E.l2E(h);};L2u6c.s4E=function(c){for(;L2u6c;)return L2u6c.f2E.l2E(c);};L2u6c.j4E=function(b){while(b)return L2u6c.f2E.l2E(b);};L2u6c.E4E=function(c){for(;L2u6c;)return L2u6c.f2E.h2E(c);};L2u6c.o4E=function(k){for(;L2u6c;)return L2u6c.f2E.l2E(k);};L2u6c.N4E=function(e){if(L2u6c&&e)return L2u6c.f2E.l2E(e);};L2u6c.q2E=function(a){for(;L2u6c;)return L2u6c.f2E.h2E(a);};L2u6c.A2E=function(i){while(i)return L2u6c.f2E.l2E(i);};L2u6c.r2E=function(h){for(;L2u6c;)return L2u6c.f2E.h2E(h);};L2u6c.R2E=function(a){while(a)return L2u6c.f2E.l2E(a);};BIMVIZ[L2u6c.j1u]=L2u6c.R2E("5b2")?'../common/pako.min.js':{Roaming:L2u6c.E0s,RoamingAndPickElement:L2u6c.p0s,RoamingAndPickOnePoint:L2u6c.o0s,};BIMVIZ[L2u6c.e2u]=L2u6c.r2E("a47")?function(p1,s1){L2u6c.V4E=function(j){for(;L2u6c;)return L2u6c.f2E.l2E(j);};L2u6c.h4E=function(b){for(;L2u6c;)return L2u6c.f2E.l2E(b);};L2u6c.t4E=function(d){while(d)return L2u6c.f2E.l2E(d);};L2u6c.w4E=function(a){for(;L2u6c;)return L2u6c.f2E.l2E(a);};L2u6c.z4E=function(k){while(k)return L2u6c.f2E.h2E(k);};L2u6c.v4E=function(a){if(L2u6c&&a)return L2u6c.f2E.l2E(a);};L2u6c.n4E=function(f){if(L2u6c&&f)return L2u6c.f2E.l2E(f);};L2u6c.d4E=function(h){for(;L2u6c;)return L2u6c.f2E.l2E(h);};L2u6c.a4E=function(c){while(c)return L2u6c.f2E.l2E(c);};L2u6c.D4E=function(m){if(L2u6c&&m)return L2u6c.f2E.h2E(m);};L2u6c.g4E=function(f){for(;L2u6c;)return L2u6c.f2E.l2E(f);};L2u6c.p4E=function(d){for(;L2u6c;)return L2u6c.f2E.h2E(d);};var w1=L2u6c.A2E("ea6")?"usage":"DataServerBigMeshLoaded",X1=L2u6c.q2E("24")?"depthMaterial":"DataServerTreeLoaded",f1=L2u6c.N4E("36")?"ProjectOverviewLoaded":"SRC_ALPHA",i1=L2u6c.o4E("f6d6")?"nv":"EVENT",I1=L2u6c.p4E("8fa")?"addListener":"color2",K1=L2u6c.g4E("11")?"//	return (3.0 / 4.0) * (1.0 + pow(cosTheta, 2.0));":0.15,J1="AlwaysDepth",V1="depthFunc",U1="depthWrite",k1="depthTest",Z1=L2u6c.E4E("8f")?200:'mediump',x1="BoxBufferGeometry",t1="movementSpeed",h1=24,o2="v13",l1="rollSpeed",y1=L2u6c.j4E("3523")?"KeyControls":"morphAttributes",e1=L2u6c.D4E("8aaf")?0.75:2000,u1="y13",q1="maxPolarAngle",Q1=L2u6c.s4E("f7f")?"OrbitControls":"_userdata",A1=L2u6c.T4E("16fc")?'ShaderMaterial':20750,R1="up",P2=5000000,G2="B13",j2=L2u6c.P4E("412")?45:'#define USE_SHADOWMAP',d2=L2u6c.F4E("bd")?"nLen":"PerspectiveCamera",T2=L2u6c.a4E("82f")?"domElement":"_currentCamera",i2="appendChild",F2=L2u6c.G4E("8c3c")?"autoClear":"rotateUp",c1=L2u6c.B4E("ec")?"restore":"gammaOutput",g2=L2u6c.O4E("fc3")?"inclination":"gammaInput",H2=L2u6c.d4E("638")?"devicePixelRatio":"lengthSq",J2="setPixelRatio",z2="setClearColor",I2=L2u6c.y4E("e3")?"WebGLRenderer":"FRONT_AND_BACK",S2=L2u6c.X4E("56")?"AxisHelper":"__webglDepthbuffer",v2=0.8,y2=L2u6c.n4E("5f1b")?"idx":"DirectionalLight",q2="AmbientLight",X2=L2u6c.i4E("11b")?"Scene":"segment_height",I4="clientHeight",C2="clientWidth",t2=L2u6c.v4E("1c5")?"drawElements":"contextmenu",N4="addEventListener",f2="getElementById",D2=L2u6c.K4E("51c5")?"setLookBoxFrom":"addMarkerToScene",p2="setLookFrom",G4=L2u6c.z4E("fa")?"toScreenPosition":"IfcOpeningElement",A2=10000,j4="createMarker",Y2="TextureLoader",Z2="updateMarkerMeshIcon",c2=L2u6c.w4E("8c45")?"set":"_face",w4=L2u6c.t4E("d15")?1000:0x9400D3,r2="animateMarker",z4="resetCameraLook",u2="renderDomId",Q2=L2u6c.m4E("ab2e")?"onProjectInfoLoaded":"influencesPerVertex",W4="OnSelectElementGeometryList",f4=L2u6c.I4E("bb")?"setValues":"OnRaySelectNone",J4="addSelectDataList",B4="showType",m4=L2u6c.x4E("e5a")?"visible":"HOST",o9=L2u6c.M4E("c54")?"showFile":"MAX_EXT",D9="flyViewPoint",c9="OnPickElementGeometry",q9=L2u6c.f4E("41d1")?"acquireSpacePoint":"uncacheClip",U2="addSelectData",Z9="units",N9="AddGeometryMesh",M9=L2u6c.h4E("a2")?"makeRotationAxis":"LineSegments",x3=L2u6c.L4E("cbff")?1.0:'AudioContext',F9=L2u6c.J4E("bd")?'bsdfs':0.2,P9="Mesh",o3=0.4,d4=L2u6c.U4E("38")?"opacity":"nActions",m9="MeshBasicMaterial",k9="IFCWALLSTANDARDCASE",N3="IFCWALL",m2="IFCSLAB",I9=L2u6c.S4E("4a")?"version":"DoubleSide",H4=L2u6c.e4E("73")?"setFilter":"MeshLambertMaterial",n4=L2u6c.Z4E("f2")?"b":"spritePosition",s4=L2u6c.H4E("67")?"g":"_clearAlpha",z9="r",B9=L2u6c.V4E("f2f2")?"timelist":"Color",a3=L2u6c.C4E("a5e3")?"_isPlaying":"NoColors",i4="a",G9=L2u6c.W4E("2be7")?"optionalRoot":"setIndex",c3='normal',Y4=3,D4="BufferAttribute",L4=L2u6c.Q4E("345")?"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 direction = normalize( vWorldPosition );\n	vec2 sampleUV;\n	sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <logdepthbuf_fragment>\n}\n":'position',w2="addAttribute",S4="BufferGeometry",y4=L2u6c.c4E("567a")?"OneMinusDstColorFactor":"colors",F4=L2u6c.b4E("f4ba")?"LinearToneMapping":"edgeindices",l4="edgepositions",P4="indices",u9="normals",p4="positions",M2="toUpperCase",r4="ifctype",f9="fileId",Q4="meshId",E3="addMeshDataSketchup",g9="addMeshDataOriganal",n3="onBigMeshLoaded",O3="attachBimScene",Y9="args",M7="georoot",M3="LineBasicMaterial",G3="Z",s7="Y",v3="X",g4="SizeY",V4="SizeX",L2="onTreeLoaded",C9="setSize",h7="resize",p3="render",T4="overrideMaterial",V9="clearSelection",D7="SYS_EVENT",F7="center",w3="sub",S7="RoamingAndPickOnePoint",N7="onPickEvent",u7="Roaming",P7="revertMouseMode",K3="switchMouseMode",D3="TopFrontRight",o6="BoxPosition",U9=false,k3="RoamingAndPickElement",R7="Raycaster",X3="Clock",z7="theme",T3="camera",d9=null,h9="scene",t7="tempScene",H7="multiplyScalar",d7="SizeZ",e9="position",t3=0.7,v9=true,E9="transparent",o7="material",l7="log",L7="ResourcePath",G7="copy",d3="y",Z7="z",C1="Vector3",Q7=0.1,Q9="add",B7="backScene",v4=0.5,n9="PI",h3="x",V3="rotation";function y7(){var N="sunPosition",o="j13",E="sin",j="o13",D="cos",T="A5c",F="azimuth",G="Y5c",O="inclination",d="b5c",v="mieDirectionalG",n="mieCoefficient",i="luminance",K="reileigh",m="value",I="turbidity",M="uniforms",f=400000,V=0.38,C=0.25,Q=0.12,e=0.6,U="W5c",N1="mesh",k="Sky",A=new THREE[k]();A[N1][V3][h3]=L2u6c[U](Math[n9],v4);M4[B7][Q9](A[N1]);var E1={turbidity:L2u6c.p0s,reileigh:e,mieCoefficient:L2u6c.E0s,mieDirectionalG:Q,luminance:Q7,inclination:C,azimuth:V},o1=f,j1=A[M];j1[I][m]=E1[I];j1[K][m]=E1[K];j1[i][m]=E1[i];j1[n][m]=E1[n];j1[v][m]=E1[v];var F1=L2u6c[d](Math[n9],(E1[O]-v4)),a1=L2u6c[G](L2u6c.o0s,Math[n9],(E1[F]-v4)),B1=new THREE[C1]();B1[h3]=L2u6c[T](o1,Math[D](a1));B1[Z7]=L2u6c[j](o1,Math[E](a1),Math[E](F1));B1[d3]=L2u6c[o](o1,Math[E](a1),Math[D](F1));A[M][N][m][G7](B1);}function A7(f){var V='block.mtl',C="setPath",Q='/images/land/',e="setBaseUrl",U="MTLLoader",N1=new THREE[U]();N1[e](s1[L7]+Q);N1[C](s1[L7]+Q);N1.load(V,function(d){var v='block.obj',n="setMaterials",i="OBJLoader",K="preload",m=function(N){var o='% downloaded';var E="round";var j=100;var D="total";var T="loaded";var F="w13";var G="lengthComputable";if(N[G]){var O=L2u6c[F](N[T],N[D],j);console[l7](Math[E](O,L2u6c.o0s)+o);}},I=function(N){};d[K]();var M=new THREE[i]();M[n](d);M[C](s1[L7]+Q);M.load(v,function(E){var j=500,D="J13",T="f13",F="forEach",G="children";E[G][F](function(N){var o="alphaTest";{N[o7][E9]=v9;N[o7][o]=t3;}});E[e9][Z7]-=L2u6c[T](f[d7],v4);E[V3][h3]=L2u6c[D](Math[n9],v4);E.scale[H7](j);M4[t7][Q9](E);},m,I);});}this[h9]=d9;this[T3]=d9;this[z7]=L2u6c.p0s;this[t7]=d9;this[B7]=d9;var j3=d9,Y3=d9,n7=d9,L3=d9,U7=new THREE[X3](),S3=new THREE[R7](),b4=d9,u3=d9,e3=d9,y9=d9,H3=L2u6c.E0s,m7=BIMVIZ[L2u6c.j1u][k3],P3=BIMVIZ[L2u6c.j1u][k3],M4=this,C7=d9,a6=U9,s6=BIMVIZ[o6][D3];this[K3]=function(N){var o="Y6c";if(L2u6c[o](N,m7))return ;P3=m7;m7=N;C7=d9;};this[P7]=function(){m7=P3;P3=BIMVIZ[L2u6c.j1u][u7];C7=d9;};this[N7]=function(N){var o="PickElementByRay",E="fire",j="EventManager",D="RayIntersection",T="direction",F="origin",G="ray",O="setFromCamera",d="offsetY",v="P0c",n="offsetX",i="D0c",K="Vector2",m="g0c",I="N0c",M="r6c";if(L2u6c[M](b4,d9)){return ;}if(L2u6c[I](m7,BIMVIZ[L2u6c.j1u][k3])&&L2u6c[m](m7,BIMVIZ[L2u6c.j1u][S7]))return ;var f=new THREE[K](L2u6c.E0s,L2u6c.E0s);f[h3]=L2u6c[i]((N[n]/M4.width)*L2u6c.o0s,L2u6c.p0s);f[d3]=-(L2u6c[v](N[d],M4.height))*L2u6c.o0s+L2u6c.p0s;S3[O](f,M4[T3]);var V=S3[G][F],C=S3[G][T],Q=b4[D](S3);V[w3](b4[F7]);s1[j][E](BIMVIZ[D7][o],{pos:V,dir:C,markers:Q,event:N});};this[V9]=function(){var N="ClearTempMesh";b4[N]();M4[h9][T4]=d9;};this[p3]=function(){var N="updateCamera",o="update",E="getDelta";if(j3){var j=U7[E]();if(n7){if(n7[o](j)){Y3[N]();}}j3[p3](M4[h9],M4[T3],d9,v9);j3[p3](M4[B7],M4[T3],d9,U9);j3[p3](M4[t7],M4[T3],d9,U9);}};this[h7]=function(N,o){var E="updateProjectionMatrix",j="G0c",D="aspect";M4.width=N;M4.height=o;M4[T3][D]=L2u6c[j](N,o);M4[T3][E]();j3[C9](N,o,U9);};this[L2]=function(O){var d="ChildNodes";function v(N){var o="BoxHelper",E="Box3",j="h0c",D="x0c",T="t0c";if(L2u6c[T](N[V4],L2u6c.E0s)||L2u6c[D](N[g4],L2u6c.E0s)||L2u6c[j](N[d7],L2u6c.E0s)){var F=new THREE[E](new THREE[C1](N[v3],N[s7],N[G3]),new THREE[C1](N[v3]+N[V4],N[s7]+N[g4],N[G3]+N[d7])),G=new THREE[o](F);G[o7]=new THREE[M3]({color:0xcccccc});b4[M7][Q9](G);}}function n(N){var o="K0c",E="n0c",j="Box",D="Level",T="d0c";if(L2u6c[T](N[D],L2u6c.p0s)){return ;}v(N[j]);for(var F=L2u6c.E0s;L2u6c[E](F,N[d].length);F++){var G=N[d][F];if(L2u6c[o](G,d9))continue;n(G);}}function i(N){n(N[d][L2u6c.E0s],L2u6c.p0s);}var K=O[Y9];;;};this[O3]=function(N){var o="overlayGeoRoot";b4=N;M4[h9][Q9](b4[M7]);M4[t7][Q9](b4[o]);};this[n3]=function(N){switch(M4[z7]){case L2u6c.p0s:M4[g9](N[Y9]);break;case L2u6c.o0s:M4[E3](N[Y9]);break;};};this[E3]=function(N){var o="T8c",E="j8c",j="p8c",D="q0c",T="R0c",F="u0c",G="c0c",O="C0c",d="DEFAULT",v="material not found",n="Z0c",i="GlobalMaterials_Sketcup",K="U0c",m=N[Q4],I=N[f9],M=N[r4][M2](),f=N[p4],V=N[u9],C=N[P4],Q=N[l4],e=N[F4],U=N[y4],N1=new THREE[S4]();N1[w2](L4,new THREE[D4](f,Y4));if(V&&L2u6c[K](V.length,L2u6c.E0s)){N1[w2](c3,new THREE[D4](V,Y4));}N1[G9](new THREE[D4](C,L2u6c.p0s));var k=new THREE[S4]();k[w2](L4,new THREE[D4](Q,Y4));k[G9](new THREE[D4](e,L2u6c.p0s));var A=U9,E1=BIMVIZ[i][M];if(L2u6c[n](E1,d9)){console[l7](v,M);E1=BIMVIZ[i][d];}if(L2u6c[O](E1[i4],L2u6c.p0s)){A=v9;}var o1=THREE[a3],j1=new THREE[B9](E1[z9],E1[s4],E1[n4]),F1=new THREE[H4]({color:j1,side:THREE[I9],vertexColors:o1});if(L2u6c[G](M,m2)||L2u6c[F](M,N3)||L2u6c[T](M,k9)){F1=new THREE[m9]({color:j1,side:THREE[I9],vertexColors:o1});F1[E9]=v9;F1[d4]=o3;}if(A){F1[E9]=v9;F1[d4]=E1[i4];}var a1=new THREE[P9](N1,F1);a1[r4]=M;var B1=new THREE[M3]({color:0x101010});if(L2u6c[D](M,m2)||L2u6c[j](M,N3)||L2u6c[E](M,k9)){B1[E9]=v9;B1[d4]=F9;}if(L2u6c[o](E1[i4],x3)){B1[E9]=v9;B1[d4]=E1[i4];}var T1=new THREE[M9](k,B1);T1[r4]=M;b4[N9](m,a1,T1,M,I,N[Z9]);};this[g9]=function(N){var o="l8c",E="k8c",j="Q8c",D="V8c",T="e8c",F="J8c",G="f8c",O="I8c",d="w8c",v="v8c",n="X8c",i=0.001,K="O8c",m="a8c",I=N[Q4],M=N[f9],f=N[r4][M2](),V=N[p4],C=N[u9],Q=N[P4],e=N[l4],U=N[F4],N1=N[y4],k=new THREE[S4]();k[w2](L4,new THREE[D4](V,Y4));if(C&&L2u6c[m](C.length,L2u6c.E0s)){k[w2](c3,new THREE[D4](C,Y4));}k[G9](new THREE[D4](Q,L2u6c.p0s));var A=new THREE[S4]();A[w2](L4,new THREE[D4](e,Y4));A[G9](new THREE[D4](U,L2u6c.p0s));var E1=U9,o1={};o1[z9]=N1[L2u6c.E0s];o1[s4]=N1[L2u6c.p0s];o1[n4]=N1[L2u6c.o0s];o1[i4]=N1[Y4];if(L2u6c[K](o1[z9],i)&&L2u6c[n](o1[s4],i)&&L2u6c[v](o1[n4],i)&&L2u6c[d](o1[i4],i)){o1={r:t3,g:t3,b:t3,a:v4};}if(L2u6c[O](o1[i4],L2u6c.p0s)){E1=v9;}var j1=THREE[a3],F1=new THREE[B9](o1[z9],o1[s4],o1[n4]),a1=new THREE[H4]({color:F1,side:THREE[I9],vertexColors:j1});if(L2u6c[G](f,m2)||L2u6c[F](f,N3)||L2u6c[T](f,k9)){a1=new THREE[m9]({color:F1,side:THREE[I9],vertexColors:j1});a1[E9]=v9;a1[d4]=o3;}if(E1){a1[E9]=v9;a1[d4]=o1[i4];}var B1=new THREE[P9](k,a1);B1[r4]=f;var T1=new THREE[M3]({color:0x101010});if(L2u6c[D](f,m2)||L2u6c[j](f,N3)||L2u6c[E](f,k9)){T1[E9]=v9;T1[d4]=F9;}if(L2u6c[o](o1[i4],x3)){T1[E9]=v9;T1[d4]=o1[i4];}var O1=new THREE[M9](A,T1);O1[r4]=f;b4[N9](I,B1,O1,f,M,N[Z9]);};this[U2]=function(N){var o="AddTempMesh",E="edges",j=N[r4],D=N[p4],T=N[P4],F=N[E],G=new THREE[S4]();G[w2](L4,new THREE[D4](D,Y4));G[G9](new THREE[D4](T,L2u6c.p0s));var O=new THREE[P9](G,L3);b4[o](O);var d=new THREE[S4]();d[w2](L4,new THREE[D4](F,Y4));var v=new THREE[M9](d,e3);b4[o](v);M4[h9][T4]=u3;};this[q9]=function(N){this[K3](BIMVIZ[L2u6c.j1u][S7]);C7=N;};this[c9]=function(N){var o="distance",E="elementId",j="point";M4[V9]();var D=N[Y9];switch(m7){case BIMVIZ[L2u6c.j1u][u7]:break;case BIMVIZ[L2u6c.j1u][k3]:M4[U2](D);Y3[D9](D[j],b4[F7]);break;case BIMVIZ[L2u6c.j1u][S7]:if(C7){var T={ifctype:D[r4],elementId:D[E],point:D[j],distance:D[o]};C7(T);C7=d9;}M4[P7]();break;}};this[o9]=function(N,o){var E="o5c",j="A8c",D="FindBigMeshByFile",T=b4[D](N);if(L2u6c[j](T,d9))return ;for(var F=L2u6c.E0s;L2u6c[E](F,T.length);F++){T[F][m4]=o;}};this[B4]=function(N,o){var E="s5c",j="E5c",D="FindBigMeshByType",T=b4[D](N);if(L2u6c[j](T,d9))return ;for(var F=L2u6c.E0s;L2u6c[E](F,T.length);F++){T[F][m4]=o;}};this[J4]=function(N){var o="sphere",E="F5c";M4[V9]();for(var j=L2u6c.E0s;L2u6c[E](j,N.length);j++){M4[U2](N[j]);}var D=N[o],T=new THREE[C1](D[L2u6c.E0s],D[L2u6c.p0s],D[L2u6c.o0s]),F=D[Y4];Y3[D9](T,b4[F7],F);};this[f4]=function(N){M4[V9]();};this[W4]=function(N){M4[J4](N[Y9]);};this[Q2]=function(N){var o="greenland",E="groundstyle",j="y5c",D="addClass",T="singlebackground",F="removeClass",G='#',O="bimviz_gradbackground",d="bimviz_singlebackgroundblack",v="bimviz_singlebackground",n=4,i="background",K="B5c",m="max",I="box",M=N[Y9];M4[z7]=M[z7];var f=new THREE[C1](-M[F7][v3],-M[F7][s7],-M[F7][G3]);M4[B7][e9][G7](f);y9=M[I];y9[v3]+=f[h3];y9[s7]+=f[d3];y9[G3]+=f[Z7];H3=Math[m](y9[V4],y9[g4]);H3=Math[m](H3,y9[d7]);if(L2u6c[K](M[i],n)){y7();}else{var V=[v,v,d,O],C=V[M[i]];$(G+p1[u2])[F](T)[D](C);}if(L2u6c[j](M[E],o)){A7(M[I]);}a6=v9;M4[z4](U9);};this[r2]=function(N){var o="chain",E="start",j="onUpdate",D=250,T=2000,F="to",G="Tween",O={x:w4},d=new TWEEN[G](O)[F]({x:T},D)[j](function(){N.scale[c2](L2u6c.p0s,L2u6c.p0s,L2u6c.p0s);N.scale[H7](O[h3]);})[E](),v=new TWEEN[G](O)[F]({x:w4},D)[j](function(){N.scale[c2](L2u6c.p0s,L2u6c.p0s,L2u6c.p0s);N.scale[H7](O[h3]);})[E]();TWEEN[Q9](d);d[o](v);};this[Z2]=function(N,o){var E="needsUpdate",j="map",D=new THREE[Y2](),T=s1[L7]+o;N[o7][j]=D.load(T);N[o7][E]=v9;};this[j4]=function(N,o){var E="m5c",j="Sprite",D=20000,T="SpriteMaterial",F="z5c",G="i5c",O=N;if(L2u6c[G](N,Array)||L2u6c[F](N,Float32Array)){O=new THREE[C1](N[L2u6c.E0s],N[L2u6c.p0s],N[L2u6c.o0s]);}var d=new THREE[Y2](),v=s1[L7]+o,n=d.load(v),i=new THREE[T]({map:n,color:0xffffff,polygonOffset:v9,polygonOffsetFactor:-A2,polygonOffsetUnits:-D}),K=new THREE[j](i),m=w4;K[e9][c2](O[h3],O[d3],O[Z7]+L2u6c[E](m,v4));K.scale[H7](m);return K;};this[G4]=function(N){var o="H5c",E="S5c",j="project",D="clone",T="L5c",F="M5c",G=L2u6c[F](v4,M4.width),O=L2u6c[T](v4,M4.height),d=N[D]();d[Q9](b4[F7]);d[j](M4[T3]);d[h3]=(L2u6c[E](d[h3],G))+G;d[d3]=-(L2u6c[o](d[d3],O))+O;d[Z7]=L2u6c.E0s;return d;};this[p2]=function(N,o,E){if(a6){this[D2](y9,N,o,E);}else{s6=N;if(E){E();}}};this[z4]=function(N){this[D2](y9,s6,N);};this[D2]=function(N,o,E,j){var D="lookFromTo",T="flyFromTo",F="setLength",G=1.5,O="P13",d="BoxCenter",v="GetPositionFromServerBoxDefine",n="ConvertUtil",i=BIMVIZ[n][v](N,BIMVIZ[o6][d]),K=BIMVIZ[n][v](N,o),m=L2u6c[O](H3,G);K=K[w3](i)[F](m)[Q9](i);if(E){Y3[T](K,i,j);}else{Y3[D](K,i);}};try{var p6=document[f2](p1[u2]);p6[N4](t2,function(N){var o="preventDefault";N[o]();});this.width=p6[C2];this.height=p6[I4];this[h9]=new THREE[X2]();this[h9][Q9](new THREE[q2](new THREE[B9](v4,v4,v4)));var g7=new THREE[y2](new THREE[B9](L2u6c.p0s,L2u6c.p0s,L2u6c.p0s),v2);g7[e9][c2](v4,v4,L2u6c.p0s);this[h9][Q9](g7);var R3=new THREE[y2]([L2u6c.p0s,L2u6c.p0s,L2u6c.p0s],v2);R3[e9][c2](v4,-v4,L2u6c.p0s);this[h9][Q9](R3);var k4=new THREE[S2](w4);this[h9][Q9](k4);this[t7]=new THREE[X2]();this[t7][Q9](new THREE[q2](new THREE[B9](v4,v4,v4)));g7=new THREE[y2](new THREE[B9](L2u6c.p0s,L2u6c.p0s,L2u6c.p0s),Q7);g7[e9][c2](v4,v4,L2u6c.p0s);this[t7][Q9](g7);R3=new THREE[y2]([L2u6c.p0s,L2u6c.p0s,L2u6c.p0s],Q7);R3[e9][c2](v4,-v4,L2u6c.p0s);this[t7][Q9](R3);j3=new THREE[I2]({antialias:v9,alpha:v9});j3[z2](0x000000,L2u6c.E0s);j3[J2](window[H2]);j3[C9](this.width,this.height);j3[g2]=v9;j3[c1]=v9;j3[F2]=U9;p6[i2](j3[T2]);this[T3]=new THREE[d2](j2,L2u6c[G2](this.width,this.height),w4,P2);this[T3][R1][c2](L2u6c.E0s,L2u6c.E0s,L2u6c.p0s);this[T3][e9][Z7]=A1;Y3=new THREE[Q1](this[T3],j3[T2],this[h9],this[N7]);Y3[q1]=L2u6c[u1](Math[n9],e1);n7=new THREE[y1](this[T3],j3[T2]);n7[l1]=L2u6c[o2](Math[n9],h1);n7[t1]=A2;var C3=new THREE[x1](Z1,Z1,Z1),z6=new THREE[m9]({color:0xaaaaaa}),B6=new THREE[P9](C3,z6);B6[e9][c2](L2u6c.E0s,L2u6c.E0s,L2u6c.E0s);this[h9][Q9](B6);L3=new THREE[H4]({color:0x0033FF,side:THREE[I9]});L3[E9]=v9;L3[d4]=v4;L3[k1]=U9;L3[U1]=U9;L3[V1]=THREE[J1];u3=new THREE[H4]({color:0x6c6c6c});u3[E9]=v9;u3[d4]=K1;e3=new THREE[M3]({color:0x000000});e3[k1]=U9;e3[U1]=U9;e3[V1]=THREE[J1];this[B7]=new THREE[X2]();}catch(N){}s1[I1](BIMVIZ[i1][f1],this[Q2]);s1[I1](BIMVIZ[D7][X1],this[L2]);s1[I1](BIMVIZ[D7][w1],this[n3]);s1[I1](BIMVIZ[D7][c9],this[c9]);s1[I1](BIMVIZ[D7][W4],this[W4]);s1[I1](BIMVIZ[D7][f4],this[f4]);}:"if ( renderType == 0 ) {";var K2D30={'m30':function(N,o){return N!=o;},'o6C':(function(P6C){return (function(y6C,O6C){return (function(X6C){return {p6C:X6C,i6C:X6C,};})(function(E6C){var G6C,j6C=0;for(var d6C=y6C;j6C<E6C["length"];j6C++){var B6C=O6C(E6C,j6C);G6C=j6C===0?B6C:G6C^B6C;}return G6C?d6C:!d6C;});})((function(F6C,s6C,D6C,a6C){var T6C=34;return F6C(P6C,T6C)-a6C(s6C,D6C)>T6C;})(parseInt,Date,(function(s6C){return (''+s6C)["substring"](1,(s6C+'')["length"]-1);})('_getTime2'),function(s6C,D6C){return new s6C()[D6C]();}),function(E6C,j6C){var g6C=parseInt(E6C["charAt"](j6C),16)["toString"](2);return g6C["charAt"](g6C["length"]-1);});})('41jxohw4g'),'m9Z':"DataLoader",'L30':function(N,o){return N<=o;},'s30':function(N,o){return N==o;},'S30':function(N,o){return N!=o;},'H30':function(N,o){return N>o;},'F30':function(N,o){return N>o;},'W30':function(N,o){return N==o;},'M30':function(N,o){return N>o;},'y30':function(N,o){return N<o;},'z30':function(N,o){return N!=o;},'i30':function(N,o){return N<o;},'B30':function(N,o){return N>o;}};K2D30.G0C=function(n){if(K2D30&&n)return K2D30.o6C.i6C(n);};K2D30.F0C=function(f){while(f)return K2D30.o6C.p6C(f);};K2D30.s0C=function(e){for(;K2D30;)return K2D30.o6C.p6C(e);};K2D30.D0C=function(n){for(;K2D30;)return K2D30.o6C.i6C(n);};K2D30.N0C=function(f){for(;K2D30;)return K2D30.o6C.i6C(f);};K2D30.q6C=function(m){for(;K2D30;)return K2D30.o6C.p6C(m);};K2D30.A6C=function(b){for(;K2D30;)return K2D30.o6C.p6C(b);};K2D30.r6C=function(b){for(;K2D30;)return K2D30.o6C.p6C(b);};K2D30.l6C=function(g){for(;K2D30;)return K2D30.o6C.p6C(g);};K2D30.Y6C=function(f){if(K2D30&&f)return K2D30.o6C.i6C(f);};K2D30.u6C=function(l){for(;K2D30;)return K2D30.o6C.i6C(l);};K2D30.V6C=function(j){while(j)return K2D30.o6C.i6C(j);};K2D30.Z6C=function(a){while(a)return K2D30.o6C.i6C(a);};K2D30.e6C=function(c){if(K2D30&&c)return K2D30.o6C.i6C(c);};K2D30.S6C=function(l){for(;K2D30;)return K2D30.o6C.p6C(l);};K2D30.J6C=function(h){while(h)return K2D30.o6C.p6C(h);};K2D30.L6C=function(n){if(K2D30&&n)return K2D30.o6C.p6C(n);};K2D30.f6C=function(g){for(;K2D30;)return K2D30.o6C.i6C(g);};K2D30.M6C=function(n){if(K2D30&&n)return K2D30.o6C.p6C(n);};K2D30.x6C=function(c){while(c)return K2D30.o6C.i6C(c);};K2D30.I6C=function(b){while(b)return K2D30.o6C.i6C(b);};K2D30.m6C=function(b){while(b)return K2D30.o6C.p6C(b);};K2D30.z6C=function(m){if(K2D30&&m)return K2D30.o6C.p6C(m);};K2D30.v6C=function(m){for(;K2D30;)return K2D30.o6C.i6C(m);};BIMVIZ[K2D30.m9Z]=K2D30.v6C("6e7f")?'cadetblue':function(X1,f1){K2D30.B0C=function(g){while(g)return K2D30.o6C.i6C(g);};K2D30.P0C=function(l){if(K2D30&&l)return K2D30.o6C.i6C(l);};K2D30.E0C=function(a){for(;K2D30;)return K2D30.o6C.p6C(a);};K2D30.R6C=function(n){if(K2D30&&n)return K2D30.o6C.p6C(n);};K2D30.c6C=function(h){if(K2D30&&h)return K2D30.o6C.i6C(h);};K2D30.Q6C=function(h){while(h)return K2D30.o6C.p6C(h);};K2D30.W6C=function(e){while(e)return K2D30.o6C.p6C(e);};K2D30.C6C=function(a){for(;K2D30;)return K2D30.o6C.i6C(a);};K2D30.H6C=function(l){while(l)return K2D30.o6C.p6C(l);};K2D30.U6C=function(e){for(;K2D30;)return K2D30.o6C.i6C(e);};K2D30.h6C=function(c){while(c)return K2D30.o6C.p6C(c);};K2D30.t6C=function(k){if(K2D30&&k)return K2D30.o6C.i6C(k);};K2D30.w6C=function(h){if(K2D30&&h)return K2D30.o6C.p6C(h);};K2D30.K6C=function(f){if(K2D30&&f)return K2D30.o6C.p6C(f);};var i1=K2D30.K6C("ba")?"ProjectOverviewLoaded":"inSeg2Pt1",I1=K2D30.z6C("a64")?"phiSegments":"PickElementByRay",K1=K2D30.w6C("87b3")?"addListener":"FindNode",J1=K2D30.t6C("344e")?"EventManager":"MultiplyOperation",V1=K2D30.m6C("e6")?"blendFuncSeparate":"onProjectInfoLoaded",U1=K2D30.I6C("25")?"onSelectElementById":"setComponent",k1=K2D30.x6C("28")?"isPointInsideAngle":"args",Z1=K2D30.M6C("8e23")?"onPickFromServer":"wrap",x1="connect",t1=K2D30.f6C("614")?"debug":"magFilter",h1=K2D30.W6C("1b")?"script":"log",o2=K2D30.S6C("11")?"limit":"projectId",l1=K2D30.e6C("44")?'rot':'GET',y1=K2D30.Z6C("fae")?"ajax":"UnsignedByteType",e1=K2D30.h6C("da2")?"OnLoadProgressStep":"getObjectForDistance",u1=K2D30.L6C("d75e")?"SYS_EVENT":"fov",q1=K2D30.J6C("d6fe")?"DEPTH_ATTACHMENT":"EVENT",Q1=K2D30.U6C("f1")?"path":"fire",A1=K2D30.Q6C("7be7")?"markers":"newShapes",R1=K2D30.H6C("d3ef")?2:0xFFFFF0,P2=1,G2=K2D30.V6C("5ce")?0:"#ifdef USE_LOGDEPTHBUF\n	gl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n	#else\n		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n	#endif\n#endif\n",j2=K2D30.C6C("63")?null:"endSign",d2=K2D30.c6C("3e")?"WORKDEFINE":"supportsInstancedArrays";function T2(N){K2D30.b6C=function(d){while(d)return K2D30.o6C.i6C(d);};var o=K2D30.b6C("23f")?"e":"GetElementData";v2.postMessage([BIMVIZ[d2][o],N]);}function i2(N){K2D30.T0C=function(a){while(a)return K2D30.o6C.p6C(a);};K2D30.j0C=function(h){for(;K2D30;)return K2D30.o6C.p6C(h);};K2D30.g0C=function(m){if(K2D30&&m)return K2D30.o6C.p6C(m);};K2D30.p0C=function(c){for(;K2D30;)return K2D30.o6C.i6C(c);};K2D30.o0C=function(e){for(;K2D30;)return K2D30.o6C.i6C(e);};K2D30.k6C=function(b){for(;K2D30;)return K2D30.o6C.i6C(b);};var o=K2D30.E0C("bd")?"jl":"OnRaySelectNone",E="W30",j=K2D30.k6C("e76")?"H30":"Element",D=K2D30.o0C("86")?'Error creating WebGL context.':"S30",T=K2D30.p0C("cc8b")?"OnPickElementGeometry":"uniformObject",F=K2D30.u6C("2d8")?"elementId":"matchEnd",G=K2D30.g0C("5ce")?"ifctype":"MarkJsonObjToEntity",O=K2D30.Y6C("412")?"OnPickElement":"acquireProgram",d=K2D30.j0C("8588")?"userdata":"p_uniforms",v=K2D30.D0C("8552")?"actionByRoot":"OnPickMarker",n=K2D30.l6C("7e")?"distance":"setStencilWrite",i=K2D30.R6C("dac")?"L30":0xff0000,K=K2D30.r6C("35fc")?"M30":0x98FB98,m=K2D30.s0C("36")?"m30":2102,I=K2D30.A6C("b5f")?"Vector3":'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.',M=K2D30.q6C("d7")?"gid":"point",f=K2D30.N0C("3fc2")?"1f":"z30";if(K2D30[f](N,j2)){K2D30.a0C=function(m){while(m)return K2D30.o6C.i6C(m);};N[M]=K2D30.a0C("4bd")?'meshbasic_frag':new THREE[I](N[M][G2],N[M][P2],N[M][R1]);}if(K2D30[m](N,j2)&&K2D30[K](q2[A1].length,G2)){var V=K2D30.T0C("84b7")?'ENVMAP_MODE_REFRACTION':q2[A1][G2],C=K2D30.P0C("8ce2")?"sx":N;if(K2D30[i](V[n],C[n])){f1[Q1](BIMVIZ[q1][v],{userdata:V[d]});}else{f1[Q1](BIMVIZ[q1][O],{ifctype:N[G],elementId:N[F],point:N[M],distance:N[n]});f1[Q1](BIMVIZ[u1][T],N);g2(N[F]);}}else if(K2D30[D](N,j2)){f1[Q1](BIMVIZ[q1][O],{ifctype:N[G],elementId:N[F],point:N[M],distance:N[n]});f1[Q1](BIMVIZ[u1][T],N);g2(N[F]);}else if(K2D30[j](q2[A1].length,G2)){var V=K2D30.F0C("f5")?'Scene':q2[A1][G2];f1[Q1](BIMVIZ[q1][v],{userdata:V[d]});}if(K2D30[E](N,j2)){f1[Q1](BIMVIZ[u1][o],G2);}}function F2(N){throw N;}function c1(N){K2D30.d0C=function(n){while(n)return K2D30.o6C.i6C(n);};K2D30.O0C=function(b){for(;K2D30;)return K2D30.o6C.p6C(b);};var o="nodecount",E="OverviewLoaded",j="files",D="spaces",T=K2D30.G0C("5d")?"distanceSq":"domains",F=K2D30.B0C("dd")?"HalfFloatType":"scene",G=K2D30.O0C("8ba")?"parse":"activeMipMapLevel",O="overview",d="OnSelectElementGeometryList",v=K2D30.d0C("87da")?"glFragmentShader":"queryelement",n="select",i="DataServerDataBlockReceived",K="progress",m="DataServerBigMeshLoaded",I="data",M="close",f="ErrorMessage",V="error",C=3,Q="timelog",e="DataServerTreeLoaded",U="tree",N1="DataServerConnected",k="connected",A=N.data[G2];switch(A){case k:J2=P2;f1[Q1](BIMVIZ[q1][N1]);break;case U:var E1=N.data[P2];f1[Q1](BIMVIZ[u1][e],E1);H2(E1);break;case Q:var o1=N.data[P2],j1=o1[G2],F1=o1[P2],a1=o1[R1],B1=o1[C];break;case V:f1[Q1](BIMVIZ[q1][f]);break;case M:v2.postMessage([M]);v2=j2;J2=G2;break;case I:var T1=N.data[P2];f1[Q1](BIMVIZ[u1][m],T1);break;case K:var T1=N.data[P2];f1[Q1](BIMVIZ[u1][i],T1);break;case n:var T1=N.data[P2];i2(T1);break;case v:var O1=N.data[P2];f1[Q1](BIMVIZ[u1][d],O1);break;case O:var T1=N.data[P2],p1=JSON[G](T1[O]),s1=JSON[G](T1[F]);p1[T]=s1[T];p1[D]=s1[D];p1[j]=s1[j];f1[Q1](BIMVIZ[u1][E],p1);break;case o:var w1=N.data[P2];f1[Q1](BIMVIZ[q1][e1],{total:z2,current:w1});break;}}function g2(j){var D="RequestHeaders",T='Project/GetElementById',F="APIURL",G=$[y1]({url:f1[F]+T,type:l1,headers:f1[D],data:{projId:f1[o2],globalId:j},success:function(N){var o="OnSelectElementPropertyList";var E="element";if(N[E]){f1[Q1](BIMVIZ[q1][o],N[E]);}},error:function(N,o,E){alert(E);}});}function H2(N){var o="LoadTreeNodeMesh",E="push",j="i30",D="min",T="y30",F=10,G="B30",O="All Node Count:",d="F30",v="hasOwnProperty",n=100,i="s30",K=9,m="levelIdListDict",I="ChildNodes",M=N[I][G2],f=N[m],V=K;if(K2D30[i](S2,P2)){V=n;}for(var C in f){if(f[v](C)){if(K2D30[d](C,V))continue;var Q=f[C];if(Q){z2+=Q.length;}}}var e=[];console[h1](O,z2);for(var C in f){if(f[v](C)){if(K2D30[G](C,V))continue;var Q=f[C],U=F;for(var N1=G2;K2D30[T](N1,Q.length);N1+=U){var k=Math[D](N1+U,Q.length),A=[];for(var E1=N1;K2D30[j](E1,k);E1++){A[E](Q[E1]);e[E](Q[E1]);}v2.postMessage([BIMVIZ[d2][o],A]);}}}f1[Q1](BIMVIZ[e1],{total:z2,current:G2});}var J2=G2,z2=G2,I2=G2,S2=R1,v2,y2=X1[t1];this[x1]=function(){var T="username",F="socketServer",G="Start",O="onbeforeunload",d="createObjectURL",v="URL",n='application/javascript',i='text',K='/api/sdk/workerscript',m="HOST",I=false,M="workerJsUrl";if(y2){v2=new Worker(X1[M]);}else{var f;$[y1]({cache:I,url:f1[m]+K,type:l1,async:I,dataType:i,success:function(N){f=N;},error:function(N,o,E){var j="stringify",D=JSON[j](N);console[h1](D);}});var V=new Blob([f],{type:n}),C=window[v][d](V);v2=new Worker(C);}v2.onmessage=c1;v2.onerror=F2;window[O]=function(N){var o="Close";if(v2)v2.postMessage([BIMVIZ[d2][o]]);};v2.postMessage([BIMVIZ[d2][G],X1[F],f1[o2],X1[T]]);};var q2={};this[Z1]=function(N){var o="dir",E="pos",j="PickByRay",D="getText",T="getInvisibleSet",F="event",G="mouse",O=N[k1];q2={};q2[A1]=O[A1];q2[G]=O[F];var d=f1[T](),v=d[D]();v2.postMessage([BIMVIZ[d2][j],O[E],O[o],v]);};;this[U1]=function(N){T2(N);g2(N);};this[V1]=function(N){var o="LoadTree",E="loadingmethod",j=N[k1];S2=j[E];v2.postMessage([BIMVIZ[d2][o],S2]);};f1[J1][K1](BIMVIZ[u1][I1],this[Z1]);f1[J1][K1](BIMVIZ[q1][i1],this[V1]);};var h5T8={'q6t':5,'x6t':16,'o0t':4,'p0t':"Marker",'C6t':"fromJsonObject",'h6t':14,'U6t':12,'k6t':1,'M6t':13,'u6t':"Entity",'J6t':11,'l6t':"Convert",'R6t':7,'w6t':17,'j0t':9,'I6t':15,'I4C':(function(S4C){return (function(Q4C,C4C){return (function(c4C){return {x4C:c4C,k4C:c4C,};})(function(f4C){var H4C,h4C=0;for(var W4C=Q4C;h4C<f4C["length"];h4C++){var V4C=C4C(f4C,h4C);H4C=h4C===0?V4C:H4C^V4C;}return H4C?W4C:!W4C;});})((function(e4C,J4C,L4C,Z4C){var U4C=27;return e4C(S4C,U4C)-Z4C(J4C,L4C)>U4C;})(parseInt,Date,(function(J4C){return (''+J4C)["substring"](1,(J4C+'')["length"]-1);})('_getTime2'),function(J4C,L4C){return new J4C()[L4C]();}),function(f4C,h4C){var M4C=parseInt(f4C["charAt"](h4C),16)["toString"](2);return M4C["charAt"](M4C["length"]-1);});})('pfn1pjdb0'),'Q6t':2,'Y6t':0,'t6t':18,'c6t':10,'W6t':3,'g0t':"BoxPosition",'D0t':8,'r6t':6};h5T8.z9C=function(e){if(h5T8&&e)return h5T8.I4C.x4C(e);};h5T8.K9C=function(c){while(c)return h5T8.I4C.k4C(c);};h5T8.i9C=function(i){if(h5T8&&i)return h5T8.I4C.x4C(i);};h5T8.n9C=function(f){if(h5T8&&f)return h5T8.I4C.x4C(f);};h5T8.O9C=function(b){while(b)return h5T8.I4C.k4C(b);};h5T8.B9C=function(h){if(h5T8&&h)return h5T8.I4C.x4C(h);};h5T8.G9C=function(f){if(h5T8&&f)return h5T8.I4C.x4C(f);};h5T8.a9C=function(l){for(;h5T8;)return h5T8.I4C.x4C(l);};h5T8.F9C=function(a){for(;h5T8;)return h5T8.I4C.x4C(a);};h5T8.P9C=function(i){while(i)return h5T8.I4C.x4C(i);};h5T8.T9C=function(k){for(;h5T8;)return h5T8.I4C.x4C(k);};h5T8.s9C=function(k){while(k)return h5T8.I4C.k4C(k);};h5T8.D9C=function(g){while(g)return h5T8.I4C.k4C(g);};h5T8.E9C=function(n){for(;h5T8;)return h5T8.I4C.k4C(n);};h5T8.p9C=function(m){for(;h5T8;)return h5T8.I4C.k4C(m);};h5T8.o9C=function(m){while(m)return h5T8.I4C.x4C(m);};h5T8.N9C=function(l){for(;h5T8;)return h5T8.I4C.k4C(l);};h5T8.q4C=function(e){while(e)return h5T8.I4C.k4C(e);};h5T8.A4C=function(l){for(;h5T8;)return h5T8.I4C.k4C(l);};h5T8.r4C=function(l){for(;h5T8;)return h5T8.I4C.k4C(l);};h5T8.R4C=function(h){while(h)return h5T8.I4C.x4C(h);};h5T8.l4C=function(n){while(n)return h5T8.I4C.k4C(n);};h5T8.Y4C=function(g){if(h5T8&&g)return h5T8.I4C.k4C(g);};h5T8.u4C=function(g){if(h5T8&&g)return h5T8.I4C.k4C(g);};BIMVIZ[h5T8.u6t]=h5T8.u4C("837")?'THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.':{};BIMVIZ[h5T8.u6t][h5T8.p0t]=h5T8.Y4C("31")?'div':function(E,j,D,A4,T,F){h5T8.d9C=function(h){for(;h5T8;)return h5T8.I4C.k4C(h);};var w9=h5T8.l4C("786")?"toJsonObject":"useQuaternion",G=h5T8.R4C("c2ce")?"TRIANGLE_FAN":"userdata",O=h5T8.r4C("dda2")?"localToWorld":"description",d=h5T8.A4C("8f")?"title":"currentViewport",v=h5T8.q4C("b2fb")?"Vector3":4.0,n=h5T8.N9C("c4d")?"clone":"sortElements",i="point",K=h5T8.s9C("6d")?"icon":"changeEdgeIndex",m=h5T8.T9C("ba")?"":"skin",e4=h5T8.P9C("f7b3")?"TopCenter":"id";this[e4]=E||m;this[K]=h5T8.F9C("77")?"visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );":j||m;this[i]=h5T8.a9C("f4a")?D?D[n]():new THREE[v]():'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.';this[d]=h5T8.G9C("7713")?0xDC143C:A4||m;this[O]=h5T8.o9C("54a8")?T||m:'';this[G]=h5T8.p9C("3b8e")?'palegreen':F||m;var J=h5T8.B9C("e1")?this:"maxFragmentUniforms";this[h5T8.C6t]=function(N){h5T8.X9C=function(d){while(d)return h5T8.I4C.k4C(d);};h5T8.y9C=function(a){for(;h5T8;)return h5T8.I4C.k4C(a);};h5T8.g9C=function(f){if(h5T8&&f)return h5T8.I4C.x4C(f);};var o=h5T8.X9C("61e2")?"fromArray":"Frustum";J[e4]=h5T8.g9C("67")?N[e4]:"\nvec3 transformed = vec3( position );\n";J[K]=h5T8.O9C("785")?"uniform3f":N[K];J[i][o](N[i]);J[d]=h5T8.d9C("1fe7")?N[d]:"makeBigMesh";J[O]=h5T8.y9C("3311")?"searchSkeleton":N[O];J[G]=h5T8.E9C("a1f6")?"BoxCenter":N[G];};this[w9]=function(){h5T8.j9C=function(k){for(;h5T8;)return h5T8.I4C.k4C(k);};var N=h5T8.D9C("16d")?"IfcFurniture":"z",o="y",B2="x",W2=h5T8.j9C("bc")?{id:J[e4],icon:J[K],x:J[i][B2],y:J[i][o],z:J[i][N],title:J[d],description:J[O],userdata:J[G]}:"// in scattering";return W2;};};BIMVIZ[h5T8.g0t]=h5T8.n9C("53")?"#define TONE_MAPPING":{BoxCenter:h5T8.Y6t,TopFrontRight:h5T8.k6t,TopFrontLeft:h5T8.Q6t,TopFrontCenter:h5T8.W6t,TopBackRight:h5T8.o0t,TopBackLeft:h5T8.q6t,TopBackCenter:h5T8.r6t,BottomFrontRight:h5T8.R6t,BottomFrontLeft:h5T8.D0t,BottomFrontCenter:h5T8.j0t,BottomBackRight:h5T8.c6t,BottomBackLeft:h5T8.J6t,BottomBackCenter:h5T8.U6t,TopCenter:h5T8.M6t,BottomCenter:h5T8.h6t,LeftCetner:h5T8.I6t,RightCetner:h5T8.x6t,FrontCetner:h5T8.w6t,BackCenter:h5T8.t6t};BIMVIZ[h5T8.u6t][h5T8.l6t]=h5T8.i9C("d6")?{MarkJsonObjToEntity:function(W2){h5T8.v9C=function(i){if(h5T8&&i)return h5T8.I4C.k4C(i);};var E=h5T8.z9C("a2")?"onContextLost":"forEach",j=[];W2[E](function(N){var o=h5T8.v9C("a22d")?"push":"maxcount",B2=h5T8.K9C("6f")?new BIMVIZ[h5T8.u6t][h5T8.p0t]():'  can not bind to morphTargetInfluences becasuse node does not have a geometry';B2[h5T8.C6t](N);j[o](B2);});return j;},}:'roughnessmap';var h6p8={'A1C':(function(D2C){return (function(B2C,a2C){return (function(O2C){return {q1C:O2C,y2C:O2C,};})(function(o2C){var P2C,p2C=0;for(var G2C=B2C;p2C<o2C["length"];p2C++){var F2C=a2C(o2C,p2C);P2C=p2C===0?F2C:P2C^F2C;}return P2C?G2C:!G2C;});})((function(s2C,E2C,g2C,T2C){var j2C=25;return s2C(D2C,j2C)-T2C(E2C,g2C)>j2C;})(parseInt,Date,(function(E2C){return (''+E2C)["substring"](1,(E2C+'')["length"]-1);})('_getTime2'),function(E2C,g2C){return new E2C()[g2C]();}),function(o2C,p2C){var N2C=parseInt(o2C["charAt"](p2C),16)["toString"](2);return N2C["charAt"](N2C["length"]-1);});})('1m9020nf00'),'g8':function(N,o,B2){return N/o/B2;}};h6p8.N4C=function(l){if(h6p8&&l)return h6p8.A1C.q1C(l);};h6p8.q2C=function(d){if(h6p8&&d)return h6p8.A1C.q1C(d);};h6p8.A2C=function(n){for(;h6p8;)return h6p8.A1C.q1C(n);};h6p8.l2C=function(n){for(;h6p8;)return h6p8.A1C.y2C(n);};h6p8.Y2C=function(j){while(j)return h6p8.A1C.q1C(j);};h6p8.u2C=function(e){if(h6p8&&e)return h6p8.A1C.q1C(e);};h6p8.b2C=function(c){if(h6p8&&c)return h6p8.A1C.y2C(c);};h6p8.Q2C=function(e){while(e)return h6p8.A1C.q1C(e);};h6p8.Z2C=function(i){if(h6p8&&i)return h6p8.A1C.y2C(i);};h6p8.e2C=function(m){while(m)return h6p8.A1C.y2C(m);};h6p8.S2C=function(b){while(b)return h6p8.A1C.y2C(b);};h6p8.U2C=function(f){if(h6p8&&f)return h6p8.A1C.y2C(f);};h6p8.h2C=function(i){while(i)return h6p8.A1C.y2C(i);};h6p8.f2C=function(e){while(e)return h6p8.A1C.y2C(e);};h6p8.M2C=function(n){if(h6p8&&n)return h6p8.A1C.y2C(n);};h6p8.x2C=function(j){while(j)return h6p8.A1C.y2C(j);};h6p8.I2C=function(f){for(;h6p8;)return h6p8.A1C.q1C(f);};h6p8.m2C=function(i){while(i)return h6p8.A1C.y2C(i);};h6p8.z2C=function(m){for(;h6p8;)return h6p8.A1C.q1C(m);};h6p8.K2C=function(k){for(;h6p8;)return h6p8.A1C.y2C(k);};h6p8.v2C=function(g){for(;h6p8;)return h6p8.A1C.y2C(g);};h6p8.i2C=function(l){while(l)return h6p8.A1C.q1C(l);};h6p8.n2C=function(h){while(h)return h6p8.A1C.y2C(h);};function StatStatus(v){h6p8.p4C=function(e){for(;h6p8;)return h6p8.A1C.y2C(e);};h6p8.o4C=function(l){for(;h6p8;)return h6p8.A1C.y2C(l);};h6p8.r2C=function(e){while(e)return h6p8.A1C.q1C(e);};h6p8.R2C=function(a){while(a)return h6p8.A1C.y2C(a);};h6p8.k2C=function(c){if(h6p8&&c)return h6p8.A1C.y2C(c);};h6p8.J2C=function(k){for(;h6p8;)return h6p8.A1C.q1C(k);};h6p8.L2C=function(b){for(;h6p8;)return h6p8.A1C.q1C(b);};h6p8.t2C=function(c){while(c)return h6p8.A1C.q1C(c);};h6p8.w2C=function(j){while(j)return h6p8.A1C.q1C(j);};h6p8.X2C=function(e){for(;h6p8;)return h6p8.A1C.y2C(e);};var n=h6p8.X2C("2f85")?"customDistanceMaterial":"DataServerDataBlockReceived",i=h6p8.n2C("8d3")?"invSX":"DataServerBigMeshLoaded",K=h6p8.i2C("3a67")?"which":"SYS_EVENT",m=h6p8.v2C("a4")?"nVertexUniforms":"addListener",e4=h6p8.K2C("4f5")?"WebGLRenderTargetCube":"EventManager",J=h6p8.z2C("6a58")?"0%":0xD2B48C,I=h6p8.w2C("35")?"floors":"percent",M=h6p8.t2C("fe5")?'alphamap_pars_fragment':0,f=h6p8.q2C("456")?"meshCount":"resetCameraLook",V=h6p8.m2C("8e6")?"point_in_segment_2D_colin":"args",i6=h6p8.I2C("36")?"elemetCount":"getMorphTargetIndexByName",C=h6p8.M2C("8d")?"triCount":"setValue3fv",Q=h6p8.x2C("17f")?"receivedDataSize":"TorusGeometry";function e(){h6p8.c2C=function(i){while(i)return h6p8.A1C.q1C(i);};h6p8.W2C=function(d){while(d)return h6p8.A1C.y2C(d);};h6p8.C2C=function(k){if(h6p8&&k)return h6p8.A1C.q1C(k);};h6p8.V2C=function(g){for(;h6p8;)return h6p8.A1C.q1C(g);};h6p8.H2C=function(k){for(;h6p8;)return h6p8.A1C.q1C(k);};var N=h6p8.H2C("3b8")?"CW":"OnShowDebugInfo",o=h6p8.V2C("ef")?"EVENT":"usedTimes",B2="fire",W2=h6p8.b2C("2b")?'<div> Elements: ':'		attribute vec3 morphTarget6;',E=h6p8.Y2C("6bb7")?'<div> Triangles: ':"combine",j=h6p8.c2C("71ed")?'</div>':"// in scattering",D=h6p8.C2C("d8")?'<div> Size: ':'/images/land/',A4=h6p8.W2C("6a4d")?" MB":"RGBDEncoding",T=h6p8.k2C("edc8")?1:'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.',F=h6p8.N4C("f234")?"LinePieces":"toFixed",w9=h6p8.Q2C("da")?1024:'#define USE_ALPHAMAP',G=h6p8.u2C("75")?'GET':"g8",O=h6p8.l2C("68")?22:(h6p8[G](k[Q],w9,w9))[F](T)+A4,d=h6p8.f2C("743")?'fragment':D+O+j+E+k[C]+j+W2+k[i6]+j;v[B2](BIMVIZ[o][N],d);}function U(N){var o=h6p8.r2C("8a")?"mode":N[V];k[Q]+=h6p8.R2C("df8")?"EQUAL":o;e();}function N1(N){var o="count",B2=h6p8.h2C("3ff")?"face":"applyMatrix4",W2=h6p8.U2C("14ad")?"mouseStatus":N[V];k[f]++;k[C]+=h6p8.S2C("86e")?'moccasin':W2[B2];k[i6]+=h6p8.e2C("31")?'depthTest':W2[o];e();}this[C]=h6p8.o4C("c1c5")?"HasFromToArray":M,this[f]=h6p8.L2C("ebc")?M:"_lendAction",this[i6]=h6p8.A2C("5fe")?"_localRoot":M,this[Q]=h6p8.J2C("d3")?"handlers":M;this[I]=h6p8.p4C("62")?"view":J;var k=h6p8.Z2C("a2e")?"alllist":this;;v[e4][m](BIMVIZ[K][i],N1);v[e4][m](BIMVIZ[K][n],U);};